(self.webpackChunkspear=self.webpackChunkspear||[]).push([[8013,5603,9880],{68013:(fe,V,S)=>{S.r(V);var M={};S.r(M),S.d(M,{getUserAgentPrefix:()=>cD,isVirtualHostableS3Bucket:()=>tZ,parseArn:()=>nZ,partition:()=>QB,setPartitionInfo:()=>lD,useDefaultPartitionInfo:()=>YB});var K={};S.r(K),S.d(K,{aws:()=>M,booleanEquals:()=>rZ,getAttr:()=>fD,isSet:()=>aZ,isValidHostLabel:()=>pD,not:()=>oZ,parseURL:()=>sZ,stringEquals:()=>uZ,substring:()=>lZ,uriEncode:()=>cZ});var B=S(15019),r=S(56718),y=S(48047),f=S(78069),g=S(32090),_=S(86170),P=S(94055),O=S(3267),j=S(33401),v=S(47405),b=S(35603),G=S(62902),z=S(24582),H=S(28694),ee=S(95106),U=S(76317),W=S(90833),Y=S(36646),ae=S(50253);function ve(o){for(var n in o){var t,e=null!==(t=o[n])&&void 0!==t?t:"";switch(n){case"display":o.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":o["-webkit-"+n]=e;break;case"flex-direction":o["-webkit-flex-direction"]=e,o["flex-direction"]=e;break;case"order":o.order=o["-webkit-"+n]=isNaN(+e)?"0":e}}return o}var _e="inline",he=["row","column","row-reverse","column-reverse"];function x(o){var n=R(o),t=(0,g.Z)(n,3);return function L(o){return{display:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"inline-flex":"flex","box-sizing":"border-box","flex-direction":o,"flex-wrap":(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||null}}(t[0],t[1],t[2])}function R(o){var n,t,e=(o=null!==(n=null===(t=o)||void 0===t?void 0:t.toLowerCase())&&void 0!==n?n:"").split(" "),a=(0,g.Z)(e,3),s=a[0],u=a[1],l=a[2];return he.find(function(c){return c===s})||(s=he[0]),u===_e&&(u=l!==_e?l:"",l=_e),[s,I(u),!!l]}function E(o){var n=R(o);return(0,g.Z)(n,1)[0].indexOf("row")>-1}function I(o){if(o)switch(o.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":o="wrap-reverse";break;case"no":case"none":case"nowrap":o="nowrap";break;default:o="wrap"}return o}function D(o){if(null==o)throw TypeError("Cannot convert undefined or null to object");for(var n=arguments.length,t=new Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];for(var a=0,s=t;a<s.length;a++){var u=s[a];if(null!=u)for(var l in u)u.hasOwnProperty(l)&&(o[l]=u[l])}return o}var Q=S(60116),te=S(19337),ne={provide:r.APP_BOOTSTRAP_LISTENER,useFactory:function Re(o,n){return function(){if((0,P.isPlatformBrowser)(n)){var t=Array.from(o.querySelectorAll("[class*=".concat(Fe,"]"))),e=/\bflex-layout-.+?\b/g;t.forEach(function(a){a.classList.contains("".concat(Fe,"ssr"))&&a.parentNode?a.parentNode.removeChild(a):a.className.replace(e,"")})}}},deps:[P.DOCUMENT,r.PLATFORM_ID],multi:!0},Fe="flex-layout-",rt=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({providers:[ne]}),o}(),Te=function(){function o(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;(0,f.Z)(this,o),this.matches=n,this.mediaQuery=t,this.mqAlias=e,this.suffix=a,this.priority=s,this.property=""}return(0,y.Z)(o,[{key:"clone",value:function(){return new o(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}]),o}(),tt=function(){var o=function(){function n(){(0,f.Z)(this,n),this.stylesheet=new Map}return(0,y.Z)(n,[{key:"addStyleToElement",value:function(e,a,s){var u=this.stylesheet.get(e);u?u.set(a,s):this.stylesheet.set(e,new Map([[a,s]]))}},{key:"clearStyles",value:function(){this.stylesheet.clear()}},{key:"getStyleForElement",value:function(e,a){var s=this.stylesheet.get(e),u="";if(s){var l=s.get(a);("number"==typeof l||"string"==typeof l)&&(u=l+"")}return u}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Qe={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},vt=new r.InjectionToken("Flex Layout token, config options for the library",{providedIn:"root",factory:function(){return Qe}}),et=new r.InjectionToken("FlexLayoutServerLoaded",{providedIn:"root",factory:function(){return!1}}),je=new r.InjectionToken("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:function(){return null}});function it(o,n){var t,e;return o=null!==(t=null===(e=o)||void 0===e?void 0:e.clone())&&void 0!==t?t:new Te,n&&(o.mqAlias=n.alias,o.mediaQuery=n.mediaQuery,o.suffix=n.suffix,o.priority=n.priority),o}var de=function(){function o(){(0,f.Z)(this,o),this.shouldCache=!0}return(0,y.Z)(o,[{key:"sideEffect",value:function(t,e,a){}}]),o}(),J=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this._serverStylesheet=t,this._serverModuleLoaded=e,this._platformId=a,this.layoutConfig=s}return(0,y.Z)(n,[{key:"applyStyleToElement",value:function(e,a){var u={};"string"==typeof a&&(u[a]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=u),u=this.layoutConfig.disableVendorPrefixes?a:ve(a),this._applyMultiValueStyleToElement(u,e)}},{key:"applyStyleToElements",value:function(e){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=this.layoutConfig.disableVendorPrefixes?e:ve(e);s.forEach(function(l){a._applyMultiValueStyleToElement(u,l)})}},{key:"getFlowDirection",value:function(e){var a="flex-direction",s=this.lookupStyle(e,a);return[s||"row",this.lookupInlineStyle(e,a)||(0,P.isPlatformServer)(this._platformId)&&this._serverModuleLoaded?s:""]}},{key:"hasWrap",value:function(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}},{key:"lookupAttributeValue",value:function(e,a){var s;return null!==(s=e.getAttribute(a))&&void 0!==s?s:""}},{key:"lookupInlineStyle",value:function(e,a){return(0,P.isPlatformBrowser)(this._platformId)?e.style.getPropertyValue(a):function oe(o,n){var t;return null!==(t=pe(o)[n])&&void 0!==t?t:""}(e,a)}},{key:"lookupStyle",value:function(e,a){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u="";return e&&((u=this.lookupInlineStyle(e,a))||((0,P.isPlatformBrowser)(this._platformId)?s||(u=getComputedStyle(e).getPropertyValue(a)):this._serverModuleLoaded&&(u=this._serverStylesheet.getStyleForElement(e,a)))),u?u.trim():""}},{key:"_applyMultiValueStyleToElement",value:function(e,a){var s=this;Object.keys(e).sort().forEach(function(u){var l=e[u],c=Array.isArray(l)?l:[l];c.sort();var C,h=(0,ee.Z)(c);try{for(h.s();!(C=h.n()).done;){var T=C.value;T=T?T+"":"",(0,P.isPlatformBrowser)(s._platformId)||!s._serverModuleLoaded?(0,P.isPlatformBrowser)(s._platformId)?a.style.setProperty(u,T):Ae(a,u,T):s._serverStylesheet.addStyleToElement(a,u,T)}}catch(N){h.e(N)}finally{h.f()}})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(tt),r.\u0275\u0275inject(et),r.\u0275\u0275inject(r.PLATFORM_ID),r.\u0275\u0275inject(vt))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}();function Ae(o,n,t){n=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var e=pe(o);e[n]=t??"",function Ne(o,n){var t="";for(var e in n)n[e]&&(t+="".concat(e,":").concat(n[e],";"));o.setAttribute("style",t)}(o,e)}function pe(o){var n={},t=o.getAttribute("style");if(t)for(var e=t.split(/;+/g),a=0;a<e.length;a++){var s=e[a].trim();if(s.length>0){var u=s.indexOf(":");if(-1===u)throw new Error("Invalid CSS style: ".concat(s));n[s.substr(0,u).trim()]=s.substr(u+1).trim()}}return n}function xe(o,n){return(n&&n.priority||0)-(o&&o.priority||0)}function ut(o,n){return(o.priority||0)-(n.priority||0)}var be=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this._zone=t,this._platformId=e,this._document=a,this.source=new U.X(new Te(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}return(0,y.Z)(n,[{key:"activations",get:function(){var e=[];return this.registry.forEach(function(a,s){a.matches&&e.push(s)}),e}},{key:"isActive",value:function(e){var a,s=this.registry.get(e);return null!==(a=s?.matches)&&void 0!==a?a:this.registerQuery(e).some(function(u){return u.matches})}},{key:"observe",value:function(e){var a=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&e.length){var u=this._observable$.pipe((0,Q.h)(function(c){return!s||e.indexOf(c.mediaQuery)>-1})),l=new W.y(function(c){var h=a.registerQuery(e);if(h.length){var C=h.pop();h.forEach(function(T){c.next(T)}),a.source.next(C)}c.complete()});return(0,Y.T)(l,u)}return this._observable$}},{key:"registerQuery",value:function(e){var a=this,s=Array.isArray(e)?e:[e],u=[];return function le(o,n){var t=o.filter(function(u){return!ce[u]});if(t.length>0){var e=t.join(", ");try{var a=n.createElement("style");if(a.setAttribute("type","text/css"),!a.styleSheet){var s="\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ".concat(e," {.fx-query-test{ }}\n");a.appendChild(n.createTextNode(s))}n.head.appendChild(a),t.forEach(function(u){return ce[u]=a})}catch(u){console.error(u)}}}(s,this._document),s.forEach(function(l){var c=function(T){a._zone.run(function(){return a.source.next(new Te(T.matches,l))})},h=a.registry.get(l);h||((h=a.buildMQL(l)).addListener(c),a.pendingRemoveListenerFns.push(function(){return h.removeListener(c)}),a.registry.set(l,h)),h.matches&&u.push(new Te(!0,l))}),u}},{key:"ngOnDestroy",value:function(){for(var e;e=this.pendingRemoveListenerFns.pop();)e()}},{key:"buildMQL",value:function(e){return function at(o,n){return n&&!!window.matchMedia("all").addListener?window.matchMedia(o):function Ie(o){var n=new EventTarget;return n.matches="all"===o||""===o,n.media=o,n.addListener=function(){},n.removeListener=function(){},n.addEventListener=function(){},n.dispatchEvent=function(){return!1},n.onchange=null,n}(o)}(e,(0,P.isPlatformBrowser)(this._platformId))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(r.NgZone),r.\u0275\u0275inject(r.PLATFORM_ID),r.\u0275\u0275inject(P.DOCUMENT))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),ce={},Tt=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],Vt="(orientation: portrait) and (max-width: 599.98px)",zt="(orientation: landscape) and (max-width: 959.98px)",un="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",Xt="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Kn="(orientation: portrait) and (min-width: 840px)",Un="(orientation: landscape) and (min-width: 1280px)",De={HANDSET:"".concat(Vt,", ").concat(zt),TABLET:"".concat(un," , ").concat(Xt),WEB:"".concat(Kn,", ").concat(Un," "),HANDSET_PORTRAIT:"".concat(Vt),TABLET_PORTRAIT:"".concat(un," "),WEB_PORTRAIT:"".concat(Kn),HANDSET_LANDSCAPE:"".concat(zt),TABLET_LANDSCAPE:"".concat(Xt),WEB_LANDSCAPE:"".concat(Un)},Br=[{alias:"handset",priority:2e3,mediaQuery:De.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:De.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:De.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:De.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:De.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:De.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:De.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:De.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:De.WEB_PORTRAIT,overlapping:!0}],ar=/(\.|-|_)/g;function Qt(o){var n=o.length>0?o.charAt(0):"",t=o.length>1?o.slice(1):"";return n.toUpperCase()+t}var Pt=new r.InjectionToken("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:function(){var n=(0,r.inject)(je),t=(0,r.inject)(vt),e=[].concat.apply([],(n||[]).map(function(s){return Array.isArray(s)?s:[s]}));return function _t(o){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t={};return o.forEach(function(e){t[e.alias]=e}),n.forEach(function(e){t[e.alias]?D(t[e.alias],e):t[e.alias]=e}),function ki(o){return o.forEach(function(n){n.suffix||(n.suffix=function ba(o){return o.replace(ar,"|").split("|").map(Qt).join("")}(n.alias),n.overlapping=!!n.overlapping)}),o}(Object.keys(t).map(function(e){return t[e]}))}((t.disableDefaultBps?[]:Tt).concat(t.addOrientationBps?Br:[]),e)}}),Pn=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.findByMap=new Map,this.items=(0,_.Z)(t).sort(ut)}return(0,y.Z)(n,[{key:"findByAlias",value:function(e){return e?this.findWithPredicate(e,function(a){return a.alias===e}):null}},{key:"findByQuery",value:function(e){return this.findWithPredicate(e,function(a){return a.mediaQuery===e})}},{key:"overlappings",get:function(){return this.items.filter(function(e){return e.overlapping})}},{key:"aliases",get:function(){return this.items.map(function(e){return e.alias})}},{key:"suffixes",get:function(){return this.items.map(function(e){var a;return null!==(a=e?.suffix)&&void 0!==a?a:""})}},{key:"findWithPredicate",value:function(e,a){var s,l,u=this.findByMap.get(e);return u||(u=null!==(l=this.items.find(a))&&void 0!==l?l:null,this.findByMap.set(e,u)),null!==(s=u)&&void 0!==s?s:null}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Pt))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),zn="print",Cn={alias:zn,mediaQuery:zn,priority:1e3},cn=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.breakpoints=t,this.layoutConfig=e,this._document=a,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new Fr,this.deactivations=[]}return(0,y.Z)(n,[{key:"withPrintQuery",value:function(e){return[].concat((0,_.Z)(e),[zn])}},{key:"isPrintEvent",value:function(e){return e.mediaQuery.startsWith(zn)}},{key:"printAlias",get:function(){var e;return(0,_.Z)(null!==(e=this.layoutConfig.printWithBreakpoints)&&void 0!==e?e:[])}},{key:"printBreakPoints",get:function(){var e=this;return this.printAlias.map(function(a){return e.breakpoints.findByAlias(a)}).filter(function(a){return null!==a})}},{key:"getEventBreakpoints",value:function(e){var s=this.breakpoints.findByQuery(e.mediaQuery);return(s?[].concat((0,_.Z)(this.printBreakPoints),[s]):this.printBreakPoints).sort(xe)}},{key:"updateEvent",value:function(e){var s,u,a=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(a=this.getEventBreakpoints(e)[0],e.mediaQuery=null!==(s=null===(u=a)||void 0===u?void 0:u.mediaQuery)&&void 0!==s?s:""),it(e,a)}},{key:"registerBeforeAfterPrintHooks",value:function(e){var a=this;if(this._document.defaultView&&!this.registeredBeforeAfterPrintHooks){this.registeredBeforeAfterPrintHooks=!0;var s=function(){a.isPrinting||(a.isPrintingBeforeAfterEvent=!0,a.startPrinting(e,a.getEventBreakpoints(new Te(!0,zn))),e.updateStyles())},u=function(){a.isPrintingBeforeAfterEvent=!1,a.isPrinting&&(a.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",s),this._document.defaultView.addEventListener("afterprint",u),this.beforePrintEventListeners.push(s),this.afterPrintEventListeners.push(u)}}},{key:"interceptEvents",value:function(e){var a=this;return function(s){a.isPrintEvent(s)?s.matches&&!a.isPrinting?(a.startPrinting(e,a.getEventBreakpoints(s)),e.updateStyles()):!s.matches&&a.isPrinting&&!a.isPrintingBeforeAfterEvent&&(a.stopPrinting(e),e.updateStyles()):a.collectActivations(e,s)}}},{key:"blockPropagation",value:function(){var e=this;return function(a){return!(e.isPrinting||e.isPrintEvent(a))}}},{key:"startPrinting",value:function(e,a){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(a)}},{key:"stopPrinting",value:function(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}},{key:"collectActivations",value:function(e,a){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!a.matches){var s=this.breakpoints.findByQuery(a.mediaQuery);if(s){var u=this.formerActivations&&this.formerActivations.includes(s),l=!this.formerActivations&&e.activatedBreakpoints.includes(s);(u||l)&&(this.deactivations.push(s),this.deactivations.sort(xe))}}}}},{key:"ngOnDestroy",value:function(){var e=this;this._document.defaultView&&(this.beforePrintEventListeners.forEach(function(a){return e._document.defaultView.removeEventListener("beforeprint",a)}),this.afterPrintEventListeners.forEach(function(a){return e._document.defaultView.removeEventListener("afterprint",a)}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Pn),r.\u0275\u0275inject(vt),r.\u0275\u0275inject(P.DOCUMENT))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Fr=function(){function o(){(0,f.Z)(this,o),this.printBreakpoints=[]}return(0,y.Z)(o,[{key:"addPrintBreakpoints",value:function(t){var e=this;return t.push(Cn),t.sort(xe),t.forEach(function(a){return e.addBreakpoint(a)}),this.printBreakpoints}},{key:"addBreakpoint",value:function(t){t&&void 0===this.printBreakpoints.find(function(a){return a.mediaQuery===t.mediaQuery})&&(this.printBreakpoints=function lr(o){var n;return null!==(n=o?.mediaQuery.startsWith(zn))&&void 0!==n&&n}(t)?[t].concat((0,_.Z)(this.printBreakpoints)):[].concat((0,_.Z)(this.printBreakpoints),[t]))}},{key:"clear",value:function(){this.printBreakpoints=[]}}]),o}(),wn=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.matchMedia=t,this.breakpoints=e,this.hook=a,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new ae.x,this.observeActivations()}return(0,y.Z)(n,[{key:"activatedAlias",get:function(){var e,a;return null!==(e=null===(a=this.activatedBreakpoints[0])||void 0===a?void 0:a.alias)&&void 0!==e?e:""}},{key:"activatedBreakpoints",get:function(){return(0,_.Z)(this._activatedBreakpoints)},set:function(e){this._activatedBreakpoints=(0,_.Z)(e)}},{key:"useFallbacks",set:function(e){this._useFallbacks=e}},{key:"onMediaChange",value:function(e){var a=this.findByQuery(e.mediaQuery);if(a){e=it(e,a);var s=this.activatedBreakpoints.indexOf(a);e.matches&&-1===s?(this._activatedBreakpoints.push(a),this._activatedBreakpoints.sort(xe),this.updateStyles()):!e.matches&&-1!==s&&(this._activatedBreakpoints.splice(s,1),this._activatedBreakpoints.sort(xe),this.updateStyles())}}},{key:"init",value:function(e,a,s,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];kr(this.updateMap,e,a,s),kr(this.clearMap,e,a,u),this.buildElementKeyMap(e,a),this.watchExtraTriggers(e,a,l)}},{key:"getValue",value:function(e,a,s){var u=this.elementMap.get(e);if(u){var l=void 0!==s?u.get(s):this.getActivatedValues(u,a);if(l)return l.get(a)}}},{key:"hasValue",value:function(e,a){var s=this.elementMap.get(e);if(s){var u=this.getActivatedValues(s,a);if(u)return void 0!==u.get(a)||!1}return!1}},{key:"setValue",value:function(e,a,s,u){var l=this.elementMap.get(e);if(l){var c,h=(null!==(c=l.get(u))&&void 0!==c?c:new Map).set(a,s);l.set(u,h),this.elementMap.set(e,l)}else l=(new Map).set(u,(new Map).set(a,s)),this.elementMap.set(e,l);var C=this.getValue(e,a);void 0!==C&&this.updateElement(e,a,C)}},{key:"trackValue",value:function(e,a){return this.subject.asObservable().pipe((0,Q.h)(function(s){return s.element===e&&s.key===a}))}},{key:"updateStyles",value:function(){var e=this;this.elementMap.forEach(function(a,s){var u=new Set(e.elementKeyMap.get(s)),l=e.getActivatedValues(a);l&&l.forEach(function(c,h){e.updateElement(s,h,c),u.delete(h)}),u.forEach(function(c){if(l=e.getActivatedValues(a,c)){var h=l.get(c);e.updateElement(s,c,h)}else e.clearElement(s,c)})})}},{key:"clearElement",value:function(e,a){var s=this.clearMap.get(e);if(s){var u=s.get(a);u&&(u(),this.subject.next({element:e,key:a,value:""}))}}},{key:"updateElement",value:function(e,a,s){var u=this.updateMap.get(e);if(u){var l=u.get(a);l&&(l(s),this.subject.next({element:e,key:a,value:s}))}}},{key:"releaseElement",value:function(e){var a=this.watcherMap.get(e);a&&(a.forEach(function(u){return u.unsubscribe()}),this.watcherMap.delete(e));var s=this.elementMap.get(e);s&&(s.forEach(function(u,l){return s.delete(l)}),this.elementMap.delete(e))}},{key:"triggerUpdate",value:function(e,a){var s=this,u=this.elementMap.get(e);if(u){var l=this.getActivatedValues(u,a);l&&(a?this.updateElement(e,a,l.get(a)):l.forEach(function(c,h){return s.updateElement(e,h,c)}))}}},{key:"buildElementKeyMap",value:function(e,a){var s=this.elementKeyMap.get(e);s||this.elementKeyMap.set(e,s=new Set),s.add(a)}},{key:"watchExtraTriggers",value:function(e,a,s){var u=this;if(s&&s.length){var l=this.watcherMap.get(e);if(l||this.watcherMap.set(e,l=new Map),!l.get(a)){var h=Y.T.apply(void 0,(0,_.Z)(s)).subscribe(function(){var C=u.getValue(e,a);u.updateElement(e,a,C)});l.set(a,h)}}}},{key:"findByQuery",value:function(e){return this.breakpoints.findByQuery(e)}},{key:"getActivatedValues",value:function(e,a){for(var s=0;s<this.activatedBreakpoints.length;s++){var l=e.get(this.activatedBreakpoints[s].alias);if(l&&(void 0===a||l.has(a)&&null!=l.get(a)))return l}if(this._useFallbacks){var c=e.get("");return void 0===a||c&&c.has(a)?c:void 0}}},{key:"observeActivations",value:function(){var e=this.breakpoints.items.map(function(a){return a.mediaQuery});this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,te.b)(this.hook.interceptEvents(this)),(0,Q.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(be),r.\u0275\u0275inject(Pn),r.\u0275\u0275inject(cn))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}();function kr(o,n,t,e){if(void 0!==e){var a,s=null!==(a=o.get(n))&&void 0!==a?a:new Map;s.set(t,e),o.set(n,s)}}var Qn=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.elementRef=t,this.styleBuilder=e,this.styler=a,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new ae.x,this.styleCache=new Map}return(0,y.Z)(n,[{key:"parentElement",get:function(){return this.elementRef.nativeElement.parentElement}},{key:"nativeElement",get:function(){return this.elementRef.nativeElement}},{key:"activatedValue",get:function(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)},set:function(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}},{key:"ngOnChanges",value:function(e){var a=this;Object.keys(e).forEach(function(s){if(-1!==a.inputs.indexOf(s)){var u=s.split(".").slice(1).join(".");a.setValue(e[s].currentValue,u)}})}},{key:"ngOnDestroy",value:function(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}},{key:"addStyles",value:function(e,a){var s=this.styleBuilder,u=s.shouldCache,l=this.styleCache.get(e);(!l||!u)&&(l=s.buildStyles(e,a),u&&this.styleCache.set(e,l)),this.mru=(0,b.Z)({},l),this.applyStyleToElement(l),s.sideEffect(e,l,a)}},{key:"clearStyles",value:function(){var e=this;Object.keys(this.mru).forEach(function(a){e.mru[a]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}},{key:"triggerUpdate",value:function(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}},{key:"getFlexFlowDirection",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var s=this.styler.getFlowDirection(e),u=(0,g.Z)(s,2),l=u[0];if(!u[1]&&a){var h=x(l);this.styler.applyStyleToElements(h,[e])}return l.trim()}return"row"}},{key:"hasWrap",value:function(e){return this.styler.hasWrap(e)}},{key:"applyStyleToElement",value:function(e,a){this.styler.applyStyleToElement(arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nativeElement,e,a)}},{key:"setValue",value:function(e,a){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,a)}},{key:"updateWithValue",value:function(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(de),r.\u0275\u0275directiveInject(J),r.\u0275\u0275directiveInject(wn))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,features:[r.\u0275\u0275NgOnChangesFeature]}),o}();function Ri(o){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1",e=[n,t,o],a=o.indexOf("calc");if(a>0){e[2]=Hi(o.substring(a).trim());var s=o.substr(0,a).trim().split(" ");2==s.length&&(e[0]=s[0],e[1]=s[1])}else if(0==a)e[2]=Hi(o.trim());else{var u=o.split(" ");e=3===u.length?u:[n,t,o]}return e}function Hi(o){return o.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}EventTarget;var Ti=S(60609),Qr=(S(35333),S(68951)),Sa=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s,u,l,c,h,C){var T;return(0,f.Z)(this,e),(T=t.call(this,a,null,s,u)).ngClassInstance=C,T.DIRECTIVE_KEY="ngClass",T.ngClassInstance||(T.ngClassInstance=new P.NgClass(l,c,a,h)),T.init(),T.setValue("",""),T}return(0,y.Z)(e,[{key:"klass",set:function(s){this.ngClassInstance.klass=s,this.setValue(s,"")}},{key:"updateWithValue",value:function(s){this.ngClassInstance.ngClass=s,this.ngClassInstance.ngDoCheck()}},{key:"ngDoCheck",value:function(){this.ngClassInstance.ngDoCheck()}}]),e}(Qn);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(J),r.\u0275\u0275directiveInject(wn),r.\u0275\u0275directiveInject(r.IterableDiffers),r.\u0275\u0275directiveInject(r.KeyValueDiffers),r.\u0275\u0275directiveInject(r.Renderer2),r.\u0275\u0275directiveInject(P.NgClass,10))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,inputs:{klass:["class","klass"]},features:[r.\u0275\u0275InheritDefinitionFeature]}),o}(),To=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"],Io=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(){var a;return(0,f.Z)(this,e),(a=t.apply(this,arguments)).inputs=To,a}return(0,y.Z)(e)}(Sa);return o.\u0275fac=function(){var n;return function(e){return(n||(n=r.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[r.\u0275\u0275InheritDefinitionFeature]}),o}(),k=(0,y.Z)(function o(n,t){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,f.Z)(this,o),this.key=n,this.value=t,this.key=e?n.replace(/['"]/g,"").trim():n.trim(),this.value=e?t.replace(/['"]/g,"").trim():t.trim(),this.value=this.value.replace(/;/,"")});function A(o){var n=typeof o;return"object"===n?o.constructor===Array?"array":o.constructor===Set?"set":"object":n}function me(o){var n=o.split(":"),t=(0,Ti.Z)(n),e=t[0],a=t.slice(1);return new k(e,a.join(":"))}function Pe(o,n){return n.key&&(o[n.key]=n.value),o}var Ve=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s,u,l,c,h,C,T,N){var F,$;(0,f.Z)(this,e),($=t.call(this,a,null,s,u)).sanitizer=l,$.ngStyleInstance=C,$.DIRECTIVE_KEY="ngStyle",$.ngStyleInstance||($.ngStyleInstance=new P.NgStyle(a,c,h)),$.init();var se=null!==(F=$.nativeElement.getAttribute("style"))&&void 0!==F?F:"";return $.fallbackStyles=$.buildStyleMap(se),$.isServer=T&&(0,P.isPlatformServer)(N),$}return(0,y.Z)(e,[{key:"updateWithValue",value:function(s){var u=this.buildStyleMap(s);this.ngStyleInstance.ngStyle=(0,b.Z)((0,b.Z)({},this.fallbackStyles),u),this.isServer&&this.applyStyleToElement(u),this.ngStyleInstance.ngDoCheck()}},{key:"clearStyles",value:function(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}},{key:"buildStyleMap",value:function(s){var u=this,l=function(h){var C;return null!==(C=u.sanitizer.sanitize(r.SecurityContext.STYLE,h))&&void 0!==C?C:""};if(s)switch(A(s)){case"string":return Ge(function Z(o){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:";";return String(o).trim().split(n).map(function(t){return t.trim()}).filter(function(t){return""!==t})}(s),l);case"array":return Ge(s,l);default:return function ie(o,n){var t=[];return"set"===A(o)?o.forEach(function(e){return t.push(e)}):Object.keys(o).forEach(function(e){t.push("".concat(e,":").concat(o[e]))}),function X(o,n){return o.map(me).filter(function(e){return!!e}).map(function(a){return n&&(a.value=n(a.value)),a}).reduce(Pe,{})}(t,n)}(s,l)}return{}}},{key:"ngDoCheck",value:function(){this.ngStyleInstance.ngDoCheck()}}]),e}(Qn);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(J),r.\u0275\u0275directiveInject(wn),r.\u0275\u0275directiveInject(B.DomSanitizer),r.\u0275\u0275directiveInject(r.KeyValueDiffers),r.\u0275\u0275directiveInject(r.Renderer2),r.\u0275\u0275directiveInject(P.NgStyle,10),r.\u0275\u0275directiveInject(et),r.\u0275\u0275directiveInject(r.PLATFORM_ID))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,features:[r.\u0275\u0275InheritDefinitionFeature]}),o}(),Me=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"],$e=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(){var a;return(0,f.Z)(this,e),(a=t.apply(this,arguments)).inputs=Me,a}return(0,y.Z)(e)}(Ve);return o.\u0275fac=function(){var n;return function(e){return(n||(n=r.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[r.\u0275\u0275InheritDefinitionFeature]}),o}();function Ge(o,n){return o.map(me).filter(function(e){return!!e}).map(function(a){return n&&(a.value=n(a.value)),a}).reduce(Pe,{})}var nt=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[rt]}),o}(),d=S(77797),gt=S(35488),Et=S(4089),Ee=S(20265),ze=S(43068),Ke=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(){return(0,f.Z)(this,e),t.apply(this,arguments)}return(0,y.Z)(e,[{key:"buildStyles",value:function(s,u){var l=u.display,c=x(s);return(0,b.Z)((0,b.Z)({},c),{},{display:"none"===l?l:c.display})}}]),e}(de);return o.\u0275fac=function(){var n;return function(e){return(n||(n=r.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Xe=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"],At=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s,u,l,c){var h;return(0,f.Z)(this,e),(h=t.call(this,a,u,s,l))._config=c,h.DIRECTIVE_KEY="layout",h.init(),h}return(0,y.Z)(e,[{key:"updateWithValue",value:function(s){var u,c=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(u=jt.get(c))&&void 0!==u?u:new Map,jt.set(c,this.styleCache),this.currentValue!==s&&(this.addStyles(s,{display:c}),this.currentValue=s)}}]),e}(Qn);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(J),r.\u0275\u0275directiveInject(Ke),r.\u0275\u0275directiveInject(wn),r.\u0275\u0275directiveInject(vt))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,features:[r.\u0275\u0275InheritDefinitionFeature]}),o}(),Wt=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(){var a;return(0,f.Z)(this,e),(a=t.apply(this,arguments)).inputs=Xe,a}return(0,y.Z)(e)}(At);return o.\u0275fac=function(){var n;return function(e){return(n||(n=r.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[r.\u0275\u0275InheritDefinitionFeature]}),o}(),jt=new Map,Jt=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a){var s;return(0,f.Z)(this,e),(s=t.call(this)).layoutConfig=a,s}return(0,y.Z)(e,[{key:"buildStyles",value:function(s,u){var l=s.split(" "),c=(0,Ti.Z)(l),h=c[0],C=c[1],N=c.slice(2).join(" "),F=u.direction.indexOf("column")>-1?"column":"row",$=E(F)?"max-width":"max-height",se=E(F)?"min-width":"min-height",ue=String(N).indexOf("calc")>-1,ge=ue||"auto"===N,Se=String(N).indexOf("%")>-1&&!ue,we=String(N).indexOf("px")>-1||String(N).indexOf("rem")>-1||String(N).indexOf("em")>-1||String(N).indexOf("vw")>-1||String(N).indexOf("vh")>-1,He=ue||we;C="0"==C?0:C;var ot=!(h="0"==h?0:h)&&!C,dt={},Ot={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(N||""){case"":N="row"===F?"0%":!1!==this.layoutConfig.useColumnBasisZero?"0.000000001px":"auto";break;case"initial":case"nogrow":h=0,N="auto";break;case"grow":N="100%";break;case"noshrink":C=0,N="auto";break;case"auto":break;case"none":h=0,C=0,N="auto";break;default:!He&&!Se&&!isNaN(N)&&(N+="%"),"0%"===N&&(He=!0),"0px"===N&&(N="0%"),dt=D(Ot,ue?{"flex-grow":h,"flex-shrink":C,"flex-basis":He?N:"100%"}:{flex:"".concat(h," ").concat(C," ").concat(He?N:"100%")})}return dt.flex||dt["flex-grow"]||(dt=D(Ot,ue?{"flex-grow":h,"flex-shrink":C,"flex-basis":N}:{flex:"".concat(h," ").concat(C," ").concat(N)})),"0%"!==N&&"0px"!==N&&"0.000000001px"!==N&&"auto"!==N&&(dt[se]=ot||He&&h?N:null,dt[$]=ot||!ge&&C?N:null),dt[se]||dt[$]?u.hasWrap&&(dt[ue?"flex-basis":"flex"]=dt[$]?ue?dt[$]:"".concat(h," ").concat(C," ").concat(dt[$]):ue?dt[se]:"".concat(h," ").concat(C," ").concat(dt[se])):dt=D(Ot,ue?{"flex-grow":h,"flex-shrink":C,"flex-basis":N}:{flex:"".concat(h," ").concat(C," ").concat(N)}),D(dt,{"box-sizing":"border-box"})}}]),e}(de);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(vt))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),vn=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"],Yn=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s,u,l,c){var h;return(0,f.Z)(this,e),(h=t.call(this,a,l,s,c)).layoutConfig=u,h.marshal=c,h.DIRECTIVE_KEY="flex",h.direction=void 0,h.wrap=void 0,h.flexGrow="1",h.flexShrink="1",h.init(),h}return(0,y.Z)(e,[{key:"shrink",get:function(){return this.flexShrink},set:function(s){this.flexShrink=s||"1",this.triggerReflow()}},{key:"grow",get:function(){return this.flexGrow},set:function(s){this.flexGrow=s||"1",this.triggerReflow()}},{key:"ngOnInit",value:function(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,Qr.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,Qr.R)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}},{key:"onLayoutChange",value:function(s){var l=s.value.split(" ");this.direction=l[0],this.wrap=void 0!==l[1]&&"wrap"===l[1],this.triggerUpdate()}},{key:"updateWithValue",value:function(s){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));var l=this.direction,c=l.startsWith("row"),h=this.wrap;c&&h?this.styleCache=Mr:c&&!h?this.styleCache=cr:!c&&h?this.styleCache=Jr:!c&&!h&&(this.styleCache=ai);var T=Ri(String(s).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(T.join(" "),{direction:l,hasWrap:h})}},{key:"triggerReflow",value:function(){var s=this.activatedValue;if(void 0!==s){var u=Ri(s+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,u.join(" "))}}}]),e}(Qn);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(J),r.\u0275\u0275directiveInject(vt),r.\u0275\u0275directiveInject(Jt),r.\u0275\u0275directiveInject(wn))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[r.\u0275\u0275InheritDefinitionFeature]}),o}(),In=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(){var a;return(0,f.Z)(this,e),(a=t.apply(this,arguments)).inputs=vn,a}return(0,y.Z)(e)}(Yn);return o.\u0275fac=function(){var n;return function(e){return(n||(n=r.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[r.\u0275\u0275InheritDefinitionFeature]}),o}(),cr=new Map,ai=new Map,Mr=new Map,Jr=new Map,A_={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"},k_=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(){return(0,f.Z)(this,e),t.apply(this,arguments)}return(0,y.Z)(e,[{key:"buildStyles",value:function(s){return A_}}]),e}(de);return o.\u0275fac=function(){var n;return function(e){return(n||(n=r.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Mo=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s,u,l){var c;return(0,f.Z)(this,e),(c=t.call(this,a,u,s,l)).styleCache=R_,c.addStyles(""),c}return(0,y.Z)(e)}(Qn);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(J),r.\u0275\u0275directiveInject(k_),r.\u0275\u0275directiveInject(wn))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[r.\u0275\u0275InheritDefinitionFeature]}),o}(),R_=new Map,Gs=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[rt,ze.BidiModule]}),o}(),qr=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[rt]}),o}(),oi=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),(0,P.isPlatformServer)(e)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}return(0,y.Z)(n,null,[{key:"withConfig",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{ngModule:n,providers:e.serverLoaded?[{provide:vt,useValue:(0,b.Z)((0,b.Z)({},Qe),e)},{provide:je,useValue:a,multi:!0},{provide:et,useValue:!0}]:[{provide:vt,useValue:(0,b.Z)((0,b.Z)({},Qe),e)},{provide:je,useValue:a,multi:!0}]}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(et),r.\u0275\u0275inject(r.PLATFORM_ID))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[Gs,nt,qr,Gs,nt,qr]}),o}();function qi(o,n){1&o&&r.\u0275\u0275element(0,"div",9)}function ms(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"span",10),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.description)}}function Ys(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"section",11),r.\u0275\u0275element(1,"ngx-json-viewer",12),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext().$implicit,e=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("json",t.value)("expanded",e.expanded)("depth",e.depth)("_currentDepth",e._currentDepth+1)}}var Ki=function(n){return["segment",n]},Ul=function(n,t){return{"segment-main":!0,expandable:n,expanded:t}};function n0(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"section",2)(1,"section",3),r.\u0275\u0275listener("click",function(){var l=r.\u0275\u0275restoreView(t).$implicit,c=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(c.toggle(l))}),r.\u0275\u0275template(2,qi,1,0,"div",4),r.\u0275\u0275elementStart(3,"span",5),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"span",6),r.\u0275\u0275text(6,": "),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(7,ms,2,1,"span",7),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(8,Ys,2,4,"section",8),r.\u0275\u0275elementEnd()}if(2&o){var e=n.$implicit,a=r.\u0275\u0275nextContext();r.\u0275\u0275property("ngClass",r.\u0275\u0275pureFunction1(6,Ki,"segment-type-"+e.type)),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",r.\u0275\u0275pureFunction2(8,Ul,a.isExpandable(e),e.expanded)),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",a.isExpandable(e)),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(e.key),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngIf",!e.expanded||!a.isExpandable(e)),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.expanded&&a.isExpandable(e))}}var r0=function(){var o=function(){function n(){(0,f.Z)(this,n),this.expanded=!0,this.depth=-1,this._currentDepth=0,this.segments=[]}return(0,y.Z)(n,[{key:"ngOnChanges",value:function(){var e=this;this.segments=[],this.json=this.decycle(this.json),"object"==typeof this.json?Object.keys(this.json).forEach(function(a){e.segments.push(e.parseKeyValue(a,e.json[a]))}):this.segments.push(this.parseKeyValue("(".concat(typeof this.json,")"),this.json))}},{key:"isExpandable",value:function(e){return"object"===e.type||"array"===e.type}},{key:"toggle",value:function(e){this.isExpandable(e)&&(e.expanded=!e.expanded)}},{key:"parseKeyValue",value:function(e,a){var s={key:e,value:a,type:void 0,description:""+a,expanded:this.isExpanded()};switch(typeof s.value){case"number":s.type="number";break;case"boolean":s.type="boolean";break;case"function":s.type="function";break;case"string":s.type="string",s.description='"'+s.value+'"';break;case"undefined":s.type="undefined",s.description="undefined";break;case"object":null===s.value?(s.type="null",s.description="null"):Array.isArray(s.value)?(s.type="array",s.description="Array["+s.value.length+"] "+JSON.stringify(s.value)):s.value instanceof Date?s.type="date":(s.type="object",s.description="Object "+JSON.stringify(s.value))}return s}},{key:"isExpanded",value:function(){return this.expanded&&!(this.depth>-1&&this._currentDepth>=this.depth)}},{key:"decycle",value:function(e){var a=new WeakMap;return function s(u,l){var c,h;return"object"!=typeof u||null===u||u instanceof Boolean||u instanceof Date||u instanceof Number||u instanceof RegExp||u instanceof String?u:void 0!==(c=a.get(u))?{$ref:c}:(a.set(u,l),Array.isArray(u)?(h=[],u.forEach(function(C,T){h[T]=s(C,l+"["+T+"]")})):(h={},Object.keys(u).forEach(function(C){h[C]=s(u[C],l+"["+JSON.stringify(C)+"]")})),h)}(e,"$")}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["ngx-json-viewer"]],inputs:{json:"json",expanded:"expanded",depth:"depth",_currentDepth:"_currentDepth"},features:[r.\u0275\u0275NgOnChangesFeature],decls:2,vars:1,consts:[[1,"ngx-json-viewer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngClass","click"],["class","toggler",4,"ngIf"],[1,"segment-key"],[1,"segment-separator"],["class","segment-value",4,"ngIf"],["class","children",4,"ngIf"],[1,"toggler"],[1,"segment-value"],[1,"children"],[3,"json","expanded","depth","_currentDepth"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"section",0),r.\u0275\u0275template(1,n0,9,11,"section",1),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.segments))},dependencies:[P.NgClass,P.NgForOf,P.NgIf,o],styles:['@charset "UTF-8";.ngx-json-viewer[_ngcontent-%COMP%]{font-family:var(--ngx-json-font-family, monospace);font-size:var(--ngx-json-font-size, 1em);width:100%;height:100%;overflow:hidden;position:relative}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]{padding:2px;margin:1px 1px 1px 12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]{word-wrap:break-word}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{position:absolute;margin-left:-14px;margin-top:3px;font-size:.8em;line-height:1.2em;vertical-align:middle;color:var(--ngx-json-toggler, #787878)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]:after{display:inline-block;content:"\\25ba";transition:transform .1s ease-in}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-key, #4E187C)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%]{color:var(--ngx-json-separator, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-value, #000)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-string, #FF6B6B)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-number, #009688)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-boolean, #B938A4)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-date, #05668D)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-array, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-object, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-function, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-null, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-undefined, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-null-bg, red)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%]{white-space:nowrap}.ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]:after{transform:rotate(90deg)}.ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]{cursor:pointer}']}),o}(),hs=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule]}),o}(),qe=S(81803);function a0(o,n,t,e,a,s,u){try{var l=o[s](u),c=l.value}catch(h){return void t(h)}l.done?n(c):Promise.resolve(c).then(e,a)}function Zt(o){return function(){var n=this,t=arguments;return new Promise(function(e,a){var s=o.apply(n,t);function u(c){a0(s,e,a,u,l,"next",c)}function l(c){a0(s,e,a,u,l,"throw",c)}u(void 0)})}}var Js,Bt=S(93896),Ce=S(50635),x2=new Uint8Array(16);function zl(){if(!Js&&!(Js=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Js(x2)}const o0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var gi=[],Gl=0;Gl<256;++Gl)gi.push((Gl+256).toString(16).substr(1));const C2=function b2(o){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(gi[o[n+0]]+gi[o[n+1]]+gi[o[n+2]]+gi[o[n+3]]+"-"+gi[o[n+4]]+gi[o[n+5]]+"-"+gi[o[n+6]]+gi[o[n+7]]+"-"+gi[o[n+8]]+gi[o[n+9]]+"-"+gi[o[n+10]]+gi[o[n+11]]+gi[o[n+12]]+gi[o[n+13]]+gi[o[n+14]]+gi[o[n+15]]).toLowerCase();if(!function s0(o){return"string"==typeof o&&o0.test(o)}(t))throw TypeError("Stringified UUID is invalid");return t},vr=function xo(o,n,t){var e=(o=o||{}).random||(o.rng||zl)();if(e[6]=15&e[6]|64,e[8]=63&e[8]|128,n){t=t||0;for(var a=0;a<16;++a)n[t+a]=e[a];return n}return C2(e)};var dr=S(39691),Rr=S(76234),Wi=S(87580),si=S(53158),Bi=S(89196),An=S(59295),Bo=S(49525),Pa=S(10538),Zi=S(63853),$a=S(25474),Le=S(10745),Li=S(54987),Hl=Array.isArray,ma=S(93945);function Uu(){for(var o=arguments.length,n=new Array(o),t=0;t<o;t++)n[t]=arguments[t];return n=function ql(o){return 1===o.length&&Hl(o[0])?o[0]:o}(n),1===n.length?(0,Li.Xf)(n[0]):new W.y(function Sp(o){return function(n){for(var t=[],e=function(u){t.push((0,Li.Xf)(o[u]).subscribe((0,ma.x)(n,function(l){if(t){for(var c=0;c<t.length;c++)c!==u&&t[c].unsubscribe();t=null}n.next(l)})))},a=0;t&&!n.closed&&a<o.length;a++)e(a)}}(n))}var eu=S(96936),fn=function(){return(fn=fn||{})[fn.EntitiesOnly=0]="EntitiesOnly",fn[fn.Both=1]="Both",fn[fn.None=2]="None",fn}();function Ir(o){return function(t,e){var a={ids:(0,_.Z)(e.ids),entities:(0,b.Z)({},e.entities)},s=o(t,a);return s===fn.Both?Object.assign({},e,a):s===fn.EntitiesOnly?(0,b.Z)((0,b.Z)({},e),{},{entities:a.entities}):e}}function Ua(o,n){var t=n(o);return(0,r.isDevMode)()&&void 0===t&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",o,"The `selectId` implementation:",n.toString()),t}function bo(o){function n(ue,ge){var Se=Ua(ue,o);return Se in ge.entities?fn.None:(ge.ids.push(Se),ge.entities[Se]=ue,fn.Both)}function t(ue,ge){var He,Se=!1,we=(0,ee.Z)(ue);try{for(we.s();!(He=we.n()).done;)Se=n(He.value,ge)!==fn.None||Se}catch(dt){we.e(dt)}finally{we.f()}return Se?fn.Both:fn.None}function a(ue,ge){var Se=Ua(ue,o);return Se in ge.entities?(ge.entities[Se]=ue,fn.EntitiesOnly):(ge.ids.push(Se),ge.entities[Se]=ue,fn.Both)}function l(ue,ge){var we=(ue instanceof Array?ue:ge.ids.filter(function(He){return ue(ge.entities[He])})).filter(function(He){return He in ge.entities}).map(function(He){return delete ge.entities[He]}).length>0;return we&&(ge.ids=ge.ids.filter(function(He){return He in ge.entities})),we?fn.Both:fn.None}function C(ue,ge){return T([ue],ge)}function T(ue,ge){var Se={};if((ue=ue.filter(function(ot){return ot.id in ge.entities})).length>0){var He=ue.filter(function(ot){return function h(ue,ge,Se){var He=Object.assign({},Se.entities[ge.id],ge.changes),ot=Ua(He,o),dt=ot!==ge.id;return dt&&(ue[ge.id]=ot,delete Se.entities[ge.id]),Se.entities[ot]=He,dt}(Se,ot,ge)}).length>0;return He?(ge.ids=ge.ids.map(function(ot){return Se[ot]||ot}),fn.Both):fn.EntitiesOnly}return fn.None}function se(ue,ge){var ot,Se=[],we=[],He=(0,ee.Z)(ue);try{for(He.s();!(ot=He.n()).done;){var dt=ot.value,Ot=Ua(dt,o);Ot in ge.entities?we.push({id:Ot,changes:dt}):Se.push(dt)}}catch($t){He.e($t)}finally{He.f()}var pt=T(we,ge),Lt=t(Se,ge);switch(!0){case Lt===fn.None&&pt===fn.None:return fn.None;case Lt===fn.Both||pt===fn.Both:return fn.Both;default:return fn.EntitiesOnly}}return{removeAll:function c(ue){return Object.assign({},ue,{ids:[],entities:{}})},addOne:Ir(n),addMany:Ir(t),setAll:Ir(function e(ue,ge){return ge.ids=[],ge.entities={},t(ue,ge),fn.Both}),setOne:Ir(a),setMany:Ir(function s(ue,ge){var Se=ue.map(function(we){return a(we,ge)});switch(!0){case Se.some(function(we){return we===fn.Both}):return fn.Both;case Se.some(function(we){return we===fn.EntitiesOnly}):return fn.EntitiesOnly;default:return fn.None}}),updateOne:Ir(C),updateMany:Ir(T),upsertOne:Ir(function $(ue,ge){return se([ue],ge)}),upsertMany:Ir(se),removeOne:Ir(function u(ue,ge){return l([ue],ge)}),removeMany:Ir(l),map:Ir(function N(ue,ge){return T(ge.ids.reduce(function(He,ot){var dt=ue(ge.entities[ot]);return dt!==ge.entities[ot]&&He.push({id:ot,changes:dt}),He},[]).filter(function(He){return He.id in ge.entities}),ge)}),mapOne:Ir(function F(ue,ge){var we=ue.id,He=ge.entities[we];return He?C({id:we,changes:(0,ue.map)(He)},ge):fn.None})}}function c0(){var o,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={selectId:null!==(o=t.selectId)&&void 0!==o?o:function(h){return h.id},sortComparer:null!==(n=t.sortComparer)&&void 0!==n&&n},a=e.selectId,s=e.sortComparer,u=function tu(){return{getInitialState:function o(){return Object.assign({ids:[],entities:{}},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}}}(),l=function Aa(){return{getSelectors:function o(n){var t=function(l){return l.ids},e=function(l){return l.entities},a=(0,Bt.P1)(t,e,function(u,l){return u.map(function(c){return l[c]})}),s=(0,Bt.P1)(t,function(u){return u.length});return n?{selectIds:(0,Bt.P1)(n,t),selectEntities:(0,Bt.P1)(n,e),selectAll:(0,Bt.P1)(n,a),selectTotal:(0,Bt.P1)(n,s)}:{selectIds:t,selectEntities:e,selectAll:a,selectTotal:s}}}}(),c=s?function Zo(o,n){var t=bo(o);function u(we,He){return l([we],He)}function l(we,He){var ot=we.filter(function(dt){return!(Ua(dt,o)in He.entities)});return 0===ot.length?fn.None:(Se(ot,He),fn.Both)}function h(we,He){var ot=Ua(we,o);return ot in He.entities?(He.ids=He.ids.filter(function(dt){return dt!==ot}),Se([we],He),fn.Both):u(we,He)}function T(we,He){return F([we],He)}function F(we,He){var ot=[],dt=we.filter(function(Lt){return function N(we,He,ot){if(!(He.id in ot.entities))return!1;var Ot=Object.assign({},ot.entities[He.id],He.changes),pt=Ua(Ot,o);return delete ot.entities[He.id],we.push(Ot),pt!==He.id}(ot,Lt,He)}).length>0;if(0===ot.length)return fn.None;var Ot=He.ids,pt=[];return He.ids=He.ids.filter(function(Lt,$t){return Lt in He.entities||(pt.push($t),!1)}),Se(ot,He),!dt&&pt.every(function(Lt){return He.ids[Lt]===Ot[Lt]})?fn.EntitiesOnly:fn.Both}function ge(we,He){var pt,ot=[],dt=[],Ot=(0,ee.Z)(we);try{for(Ot.s();!(pt=Ot.n()).done;){var Lt=pt.value,$t=Ua(Lt,o);$t in He.entities?dt.push({id:$t,changes:Lt}):ot.push(Lt)}}catch(Ut){Ot.e(Ut)}finally{Ot.f()}var tn=F(dt,He),Gt=l(ot,He);switch(!0){case Gt===fn.None&&tn===fn.None:return fn.None;case Gt===fn.Both||tn===fn.Both:return fn.Both;default:return fn.EntitiesOnly}}function Se(we,He){we.sort(n);for(var ot=[],dt=0,Ot=0;dt<we.length&&Ot<He.ids.length;){var pt=we[dt],Lt=Ua(pt,o),$t=He.ids[Ot];n(pt,He.entities[$t])<=0?(ot.push(Lt),dt++):(ot.push($t),Ot++)}He.ids=ot.concat(dt<we.length?we.slice(dt).map(o):He.ids.slice(Ot)),we.forEach(function(Gt,Ut){He.entities[o(Gt)]=Gt})}return{removeOne:t.removeOne,removeMany:t.removeMany,removeAll:t.removeAll,addOne:Ir(u),updateOne:Ir(T),upsertOne:Ir(function ue(we,He){return ge([we],He)}),setAll:Ir(function c(we,He){return He.entities={},He.ids=[],l(we,He),fn.Both}),setOne:Ir(h),setMany:Ir(function C(we,He){var ot=we.map(function(dt){return h(dt,He)});switch(!0){case ot.some(function(dt){return dt===fn.Both}):return fn.Both;case ot.some(function(dt){return dt===fn.EntitiesOnly}):return fn.EntitiesOnly;default:return fn.None}}),addMany:Ir(l),updateMany:Ir(F),upsertMany:Ir(ge),map:Ir(function $(we,He){return F(He.ids.reduce(function(dt,Ot){var pt=we(He.entities[Ot]);return pt!==He.entities[Ot]&&dt.push({id:Ot,changes:pt}),dt},[]),He)}),mapOne:Ir(function se(we,He){var dt=we.id,Ot=He.entities[dt];return Ot?T({id:dt,changes:(0,we.map)(Ot)},He):fn.None})}}(a,s):bo(a);return(0,b.Z)((0,b.Z)((0,b.Z)({selectId:a,sortComparer:s},u),l),c)}var d0=S(90023),zu=S(20591),p0=S(92971),Lo=function(){function o(n,t,e){(0,f.Z)(this,o),this.kind=n,this.value=t,this.error=e,this.hasValue="N"===n}return(0,y.Z)(o,[{key:"observe",value:function(t){return Pp(this,t)}},{key:"do",value:function(t,e,a){var s=this.kind,u=this.value,l=this.error;return"N"===s?t?.(u):"E"===s?e?.(l):a?.()}},{key:"accept",value:function(t,e,a){var s;return(0,p0.m)(null===(s=t)||void 0===s?void 0:s.next)?this.observe(t):this.do(t,e,a)}},{key:"toObservable",value:function(){var t=this.kind,a=this.error,s="N"===t?(0,Le.of)(this.value):"E"===t?(0,$a._)(function(){return a}):"C"===t?zu.E:0;if(!s)throw new TypeError("Unexpected notification kind ".concat(t));return s}}],[{key:"createNext",value:function(t){return new o("N",t)}},{key:"createError",value:function(t){return new o("E",void 0,t)}},{key:"createComplete",value:function(){return o.completeNotification}}]),o}();function Pp(o,n){var t,e,a,s=o.kind,u=o.value,l=o.error;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(t=n.next)||void 0===t||t.call(n,u):"E"===s?null===(e=n.error)||void 0===e||e.call(n,l):null===(a=n.complete)||void 0===a||a.call(n)}Lo.completeNotification=new Lo("C");var gs=S(41944);function Wl(o,n,t,e){return(0,gs.e)(function(a,s){var u;n&&"function"!=typeof n?(t=n.duration,u=n.element,e=n.connector):u=n;var l=new Map,c=function(se){l.forEach(se),se(s)},h=function(se){return c(function(ue){return ue.error(se)})},C=0,T=!1,N=new ma.Q(s,function($){try{var se=o($),ue=l.get(se);if(!ue){l.set(se,ue=e?e():new ae.x);var ge=function F($,se){var ue=new W.y(function(ge){C++;var Se=se.subscribe(ge);return function(){Se.unsubscribe(),0==--C&&T&&N.unsubscribe()}});return ue.key=$,ue}(se,ue);if(s.next(ge),t){var Se=(0,ma.x)(ue,function(){ue.complete(),Se?.unsubscribe()},void 0,void 0,function(){return l.delete(se)});N.add((0,Li.Xf)(t(ge)).subscribe(Se))}}ue.next(u?u($):$)}catch(we){h(we)}},function(){return c(function($){return $.complete()})},h,function(){return l.clear()},function(){return T=!0,0===C});a.subscribe(N)})}function Gu(o,n){return n?function(t){return t.pipe(Gu(function(e,a){return(0,Li.Xf)(o(e,a)).pipe((0,Ce.U)(function(s,u){return n(e,s,a,u)}))}))}:(0,gs.e)(function(t,e){var a=0,s=null,u=!1;t.subscribe((0,ma.x)(e,function(l){s||(s=(0,ma.x)(e,void 0,function(){s=null,u&&e.complete()}),(0,Li.Xf)(o(l,a++)).subscribe(s))},function(){u=!0,!s&&e.complete()}))})}var Xl={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},qu="__@ngrx/effects_create__";function vi(o){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.functional?o:o(),e=(0,b.Z)((0,b.Z)({},Xl),n);return Object.defineProperty(t,qu,{value:e}),t}function nu(o){return Object.getPrototypeOf(o)}function Co(o){return"function"==typeof o}function Wu(o){return o.filter(Co)}function m0(o,n,t){var e=nu(o).constructor.name,a=function za(o){return function Ap(o){return Object.getOwnPropertyNames(o).filter(function(e){return!(!o[e]||!o[e].hasOwnProperty(qu))&&o[e][qu].hasOwnProperty("dispatch")}).map(function(e){return(0,b.Z)({propertyName:e},o[e][qu])})}(o)}(o).map(function(s){var u=s.propertyName,l=s.dispatch,c=s.useEffectsErrorHandler,h="function"==typeof o[u]?o[u]():o[u],C=c?t(h,n):h;if(!1===l)return C.pipe((0,d0.l)());var T=C.pipe(function f0(){return(0,gs.e)(function(o,n){o.subscribe((0,ma.x)(n,function(t){n.next(Lo.createNext(t))},function(){n.next(Lo.createComplete()),n.complete()},function(t){n.next(Lo.createError(t)),n.complete()}))})}());return T.pipe((0,Ce.U)(function(N){return{effect:o[u],notification:N,propertyName:u,sourceName:e,sourceInstance:o}}))});return Y.T.apply(void 0,(0,_.Z)(a))}function zr(o,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return o.pipe((0,si.K)(function(e){return n&&n.handleError(e),t<=1?o:zr(o,n,t-1)}))}var to=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a){var s;return(0,f.Z)(this,e),s=t.call(this),a&&(s.source=a),s}return(0,y.Z)(e,[{key:"lift",value:function(s){var u=new e;return u.source=this,u.operator=s,u}}]),e}(W.y);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Bt.Y$))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}();function Ga(){for(var o=arguments.length,n=new Array(o),t=0;t<o;t++)n[t]=arguments[t];return(0,Q.h)(function(e){return n.some(function(a){return"string"==typeof a?a===e.type:a.type===e.type})})}var Xu=new r.InjectionToken("@ngrx/effects Internal Root Guard"),ji=new r.InjectionToken("@ngrx/effects User Provided Effects"),no=new r.InjectionToken("@ngrx/effects Internal Root Effects"),ui=new r.InjectionToken("@ngrx/effects Internal Root Effects Instances"),wi=new r.InjectionToken("@ngrx/effects Internal Feature Effects"),Si=new r.InjectionToken("@ngrx/effects Internal Feature Effects Instance Groups"),Yl=new r.InjectionToken("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:function(){return zr}}),Xi="@ngrx/effects/init";(0,Bt.PH)(Xi);function Op(o){return Qu(o,"ngrxOnInitEffects")}function Qu(o,n){return o&&n in o&&"function"==typeof o[n]}var Yu=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s){var u;return(0,f.Z)(this,e),(u=t.call(this)).errorHandler=a,u.effectsErrorHandler=s,u}return(0,y.Z)(e,[{key:"addEffects",value:function(s){this.next(s)}},{key:"toActions",value:function(){var s=this;return this.pipe(Wl(function(u){return function Ku(o){return"Object"!==o.constructor.name&&"Function"!==o.constructor.name}(u)?nu(u):u}),(0,Bo.z)(function(u){return u.pipe(Wl(tc))}),(0,Bo.z)(function(u){var l=u.pipe(Gu(function(h){return function g0(o,n){return function(t){var e=m0(t,o,n);return function Ip(o){return Qu(o,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(e):e}}(s.errorHandler,s.effectsErrorHandler)(h)}),(0,Ce.U)(function(h){return function Dp(o,n){if("N"===o.notification.kind){var t=o.notification.value,e=!function iu(o){return"function"!=typeof o&&o&&o.type&&"string"==typeof o.type}(t);e&&n.handleError(new Error("Effect ".concat(function au(o){var n=o.propertyName,a="function"==typeof o.sourceInstance[n];return'"'.concat(o.sourceName,".").concat(String(n)).concat(a?"()":"",'"')}(o)," dispatched an invalid action: ").concat(function vs(o){try{return JSON.stringify(o)}catch{return o}}(t))))}}(h,s.errorHandler),h.notification}),(0,Q.h)(function(h){return"N"===h.kind&&null!=h.value}),function Hu(){return(0,gs.e)(function(o,n){o.subscribe((0,ma.x)(n,function(t){return Pp(t,n)}))})}()),c=u.pipe((0,An.q)(1),(0,Q.h)(Op),(0,Ce.U)(function(h){return h.ngrxOnInitEffects()}));return(0,Y.T)(l,c)}))}}]),e}(ae.x);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(r.ErrorHandler),r.\u0275\u0275inject(Yl))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}();function tc(o){return function ec(o){return Qu(o,"ngrxOnIdentifyEffects")}(o)?o.ngrxOnIdentifyEffects():""}var nc=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.effectSources=t,this.store=e,this.effectsSubscription=null}return(0,y.Z)(n,[{key:"isStarted",get:function(){return!!this.effectsSubscription}},{key:"start",value:function(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}},{key:"ngOnDestroy",value:function(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Yu),r.\u0275\u0275inject(Bt.yh))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Fp=function(){var o=function(){function n(t,e,a,s,u,l,c){(0,f.Z)(this,n),this.sources=t,e.start();var C,h=(0,ee.Z)(s);try{for(h.s();!(C=h.n()).done;)t.addEffects(C.value)}catch(N){h.e(N)}finally{h.f()}a.dispatch({type:Xi})}return(0,y.Z)(n,[{key:"addEffects",value:function(e){this.sources.addEffects(e)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Yu),r.\u0275\u0275inject(nc),r.\u0275\u0275inject(Bt.yh),r.\u0275\u0275inject(ui),r.\u0275\u0275inject(Bt.cr,8),r.\u0275\u0275inject(Bt.CK,8),r.\u0275\u0275inject(Xu,8))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({}),o}(),Mp=function(){var o=(0,y.Z)(function n(t,e,a,s){(0,f.Z)(this,n);var c,u=e.flat(),l=(0,ee.Z)(u);try{for(l.s();!(c=l.n()).done;)t.addEffects(c.value)}catch(C){l.e(C)}finally{l.f()}});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Fp),r.\u0275\u0275inject(Si),r.\u0275\u0275inject(Bt.cr,8),r.\u0275\u0275inject(Bt.CK,8))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({}),o}(),ou=function(){var o=function(){function n(){(0,f.Z)(this,n)}return(0,y.Z)(n,null,[{key:"forFeature",value:function(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];var u=a.flat(),l=Wu(u);return{ngModule:Mp,providers:[l,{provide:wi,multi:!0,useValue:u},{provide:ji,multi:!0,useValue:[]},{provide:Si,multi:!0,useFactory:Ju,deps:[wi,ji]}]}}},{key:"forRoot",value:function(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];var u=a.flat(),l=Wu(u);return{ngModule:Fp,providers:[l,{provide:no,useValue:[u]},{provide:Xu,useFactory:v0},{provide:ji,multi:!0,useValue:[]},{provide:ui,useFactory:Ju,deps:[no,ji]}]}}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({}),o}();function Ju(o,n){var a,t=[],e=(0,ee.Z)(o);try{for(e.s();!(a=e.n()).done;)t.push.apply(t,(0,_.Z)(a.value))}catch(h){e.e(h)}finally{e.f()}var l,u=(0,ee.Z)(n);try{for(u.s();!(l=u.n()).done;)t.push.apply(t,(0,_.Z)(l.value))}catch(h){u.e(h)}finally{u.f()}return t.map(function(h){return function ru(o){return o instanceof r.InjectionToken||Co(o)}(h)?(0,r.inject)(h):h})}function v0(){var o=(0,r.inject)(nc,{optional:!0,skipSelf:!0}),n=(0,r.inject)(no,{self:!0});if((1!==n.length||0!==n[0].length)&&o)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var ys=function(){var o=function(){function n(){(0,f.Z)(this,n)}return(0,y.Z)(n,[{key:"create",value:function(e,a,s,u){var l="string"==typeof e?(0,b.Z)((0,b.Z)({},u||{}),{},{entityName:e,entityOp:a,data:s}):e;return this.createCore(l)}},{key:"createCore",value:function(e){var a=e.entityName,s=e.entityOp,u=e.tag;if(!a)throw new Error("Missing entity name for new action");if(null==s)throw new Error("Missing EntityOp for new action");return{type:this.formatActionType(s,u||a),payload:e}}},{key:"createFromAction",value:function(e,a){return this.create((0,b.Z)((0,b.Z)({},e.payload),a))}},{key:"formatActionType",value:function(e,a){return"[".concat(a,"] ").concat(e)}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),_0=function(){function o(n,t){(0,f.Z)(this,o),this.entityName=n,this.selectId=t}return(0,y.Z)(o,[{key:"mustBeEntity",value:function(t){var e=this.extractData(t);if(!e)return this.throwError(t,"should have a single entity.");var a=this.selectId(e);return this.isNotKeyType(a)&&this.throwError(t,"has a missing or invalid entity key (id)"),e}},{key:"mustBeEntities",value:function(t){var e=this,a=this.extractData(t);return Array.isArray(a)?(a.forEach(function(s,u){var l=e.selectId(s);if(e.isNotKeyType(l)){var c=", item ".concat(u+1,", does not have a valid entity key (id)");e.throwError(t,c)}}),a):this.throwError(t,"should be an array of entities")}},{key:"mustBeKey",value:function(t){var e=this.extractData(t);if(void 0===e)throw new Error("should be a single entity key");if(this.isNotKeyType(e))throw new Error("is not a valid key (id)");return e}},{key:"mustBeKeys",value:function(t){var e=this,a=this.extractData(t);return Array.isArray(a)?(a.forEach(function(s,u){if(e.isNotKeyType(s)){var l="".concat(e.entityName," ', item ").concat(u+1,", is not a valid entity key (id)");e.throwError(t,l)}}),a):this.throwError(t,"should be an array of entity keys (id)")}},{key:"mustBeUpdate",value:function(t){var e=this.extractData(t);if(!e)return this.throwError(t,"should be a single entity update");var a=e.id,u=this.selectId(e.changes);return(this.isNotKeyType(a)||this.isNotKeyType(u))&&this.throwError(t,"has a missing or invalid entity key (id)"),e}},{key:"mustBeUpdates",value:function(t){var e=this,a=this.extractData(t);return Array.isArray(a)?(a.forEach(function(s,u){var l=s.id,h=e.selectId(s.changes);(e.isNotKeyType(l)||e.isNotKeyType(h))&&e.throwError(t,", item ".concat(u+1,", has a missing or invalid entity key (id)"))}),a):this.throwError(t,"should be an array of entity updates")}},{key:"mustBeUpdateResponse",value:function(t){var e=this.extractData(t);if(!e)return this.throwError(t,"should be a single entity update");var a=e.id,u=this.selectId(e.changes);return(this.isNotKeyType(a)||this.isNotKeyType(u))&&this.throwError(t,"has a missing or invalid entity key (id)"),e}},{key:"mustBeUpdateResponses",value:function(t){var e=this,a=this.extractData(t);return Array.isArray(a)?(a.forEach(function(s,u){var l=s.id,h=e.selectId(s.changes);(e.isNotKeyType(l)||e.isNotKeyType(h))&&e.throwError(t,", item ".concat(u+1,", has a missing or invalid entity key (id)"))}),a):this.throwError(t,"should be an array of entity updates")}},{key:"extractData",value:function(t){return t.payload&&t.payload.data}},{key:"isNotKeyType",value:function(t){return"string"!=typeof t&&"number"!=typeof t}},{key:"throwError",value:function(t,e){throw new Error("".concat(this.entityName,' EntityAction guard for "').concat(t.type,'": payload ').concat(e))}}]),o}();function el(o){return o?.id}function ro(o){if(null==o)return[];if(Array.isArray(o[0])){var t=(0,Ti.Z)(o),e=t[0],a=t.slice(1);o=[].concat((0,_.Z)(e),(0,_.Z)(a))}return o}function wo(o){return o=o||el,function(t){var e=o(t);if(null==e)throw new Error("Primary key may not be null/undefined.");return t&&{id:e,changes:t}}}function io(){for(var o=arguments.length,n=new Array(o),t=0;t<o;t++)n[t]=arguments[t];var e=ro(n);switch(e.length){case 0:return(0,Q.h)(function(s){return s.payload&&null!=s.payload.entityOp});case 1:var a=e[0];return(0,Q.h)(function(s){return s.payload&&a===s.payload.entityOp});default:return(0,Q.h)(function(s){var u=s.payload&&s.payload.entityOp;return u&&e.some(function(l){return l===u})})}}function tl(){for(var o=arguments.length,n=new Array(o),t=0;t<o;t++)n[t]=arguments[t];var e=ro(n);switch(e.length){case 0:return(0,Q.h)(function(s){return s.payload&&null!=s.payload.entityName});case 1:var a=e[0];return(0,Q.h)(function(s){return s.payload&&a===s.payload.entityName});default:return(0,Q.h)(function(s){var u=s.payload&&s.payload.entityName;return!!u&&e.some(function(l){return l===u})})}}var ti=function(){return(ti=ti||{}).Add="Add",ti.Delete="Delete",ti.Update="Update",ti.Upsert="Upsert",ti}(),Vp=function(){function o(){(0,f.Z)(this,o)}return(0,y.Z)(o,[{key:"add",value:function(t,e){return e=Array.isArray(e)?e:e?[e]:[],{entityName:t,op:ti.Add,entities:e}}},{key:"delete",value:function(t,e){var a=Array.isArray(e)?e:e?[e]:[];return{entityName:t,op:ti.Delete,entities:a}}},{key:"update",value:function(t,e){return e=Array.isArray(e)?e:e?[e]:[],{entityName:t,op:ti.Update,entities:e}}},{key:"upsert",value:function(t,e){return e=Array.isArray(e)?e:e?[e]:[],{entityName:t,op:ti.Upsert,entities:e}}}]),o}();function nl(o){var n=(o=o&&o.changes?o:{changes:[]}).changes.filter(function(t){return null!=t&&t.entities&&t.entities.length>0});return(0,b.Z)((0,b.Z)({},o),{},{changes:n})}new Vp;var yr=function(){return(yr=yr||{})[yr.IgnoreChanges=0]="IgnoreChanges",yr[yr.PreserveChanges=1]="PreserveChanges",yr[yr.OverwriteChanges=2]="OverwriteChanges",yr}(),Jn=function(){return(Jn=Jn||{}).CLEAR_COLLECTIONS="@ngrx/data/entity-cache/clear-collections",Jn.LOAD_COLLECTIONS="@ngrx/data/entity-cache/load-collections",Jn.MERGE_QUERY_SET="@ngrx/data/entity-cache/merge-query-set",Jn.SET_ENTITY_CACHE="@ngrx/data/entity-cache/set-cache",Jn.SAVE_ENTITIES="@ngrx/data/entity-cache/save-entities",Jn.SAVE_ENTITIES_CANCEL="@ngrx/data/entity-cache/save-entities-cancel",Jn.SAVE_ENTITIES_CANCELED="@ngrx/data/entity-cache/save-entities-canceled",Jn.SAVE_ENTITIES_ERROR="@ngrx/data/entity-cache/save-entities-error",Jn.SAVE_ENTITIES_SUCCESS="@ngrx/data/entity-cache/save-entities-success",Jn}(),ao=(0,y.Z)(function o(n,t){(0,f.Z)(this,o),this.type=Jn.CLEAR_COLLECTIONS,this.payload={collections:n,tag:t}}),ha=(0,y.Z)(function o(n,t){(0,f.Z)(this,o),this.type=Jn.LOAD_COLLECTIONS,this.payload={collections:n,tag:t}}),x0=(0,y.Z)(function o(n,t,e){(0,f.Z)(this,o),this.type=Jn.MERGE_QUERY_SET,this.payload={querySet:n,mergeStrategy:null===t?yr.PreserveChanges:t,tag:e}}),b0=(0,y.Z)(function o(n,t){(0,f.Z)(this,o),this.cache=n,this.type=Jn.SET_ENTITY_CACHE,this.payload={cache:n,tag:t}}),C0=(0,y.Z)(function o(n,t,e){(0,f.Z)(this,o),this.type=Jn.SAVE_ENTITIES,e=e||{},n&&(n.tag=n.tag||e.tag),this.payload=(0,b.Z)((0,b.Z)({changeSet:n,url:t},e),{},{tag:n.tag})}),w0=(0,y.Z)(function o(n,t,e,a){(0,f.Z)(this,o),this.type=Jn.SAVE_ENTITIES_CANCEL,this.payload={correlationId:n,reason:t,entityNames:e,tag:a}}),Bp=(0,y.Z)(function o(n,t,e){(0,f.Z)(this,o),this.type=Jn.SAVE_ENTITIES_CANCELED,this.payload={correlationId:n,reason:t,tag:e}}),S0=(0,y.Z)(function o(n,t){(0,f.Z)(this,o),this.type=Jn.SAVE_ENTITIES_ERROR,this.payload={error:n,originalAction:t,correlationId:t.payload.correlationId}}),rl=(0,y.Z)(function o(n,t,e){(0,f.Z)(this,o),this.type=Jn.SAVE_ENTITIES_SUCCESS,e=e||{},n&&(n.tag=n.tag||e.tag),this.payload=(0,b.Z)((0,b.Z)({changeSet:n,url:t},e),{},{tag:n.tag})}),mt=function(){return(mt=mt||{}).CANCEL_PERSIST="@ngrx/data/cancel-persist",mt.CANCELED_PERSIST="@ngrx/data/canceled-persist",mt.QUERY_ALL="@ngrx/data/query-all",mt.QUERY_ALL_SUCCESS="@ngrx/data/query-all/success",mt.QUERY_ALL_ERROR="@ngrx/data/query-all/error",mt.QUERY_LOAD="@ngrx/data/query-load",mt.QUERY_LOAD_SUCCESS="@ngrx/data/query-load/success",mt.QUERY_LOAD_ERROR="@ngrx/data/query-load/error",mt.QUERY_MANY="@ngrx/data/query-many",mt.QUERY_MANY_SUCCESS="@ngrx/data/query-many/success",mt.QUERY_MANY_ERROR="@ngrx/data/query-many/error",mt.QUERY_BY_KEY="@ngrx/data/query-by-key",mt.QUERY_BY_KEY_SUCCESS="@ngrx/data/query-by-key/success",mt.QUERY_BY_KEY_ERROR="@ngrx/data/query-by-key/error",mt.SAVE_ADD_MANY="@ngrx/data/save/add-many",mt.SAVE_ADD_MANY_ERROR="@ngrx/data/save/add-many/error",mt.SAVE_ADD_MANY_SUCCESS="@ngrx/data/save/add-many/success",mt.SAVE_ADD_ONE="@ngrx/data/save/add-one",mt.SAVE_ADD_ONE_ERROR="@ngrx/data/save/add-one/error",mt.SAVE_ADD_ONE_SUCCESS="@ngrx/data/save/add-one/success",mt.SAVE_DELETE_MANY="@ngrx/data/save/delete-many",mt.SAVE_DELETE_MANY_SUCCESS="@ngrx/data/save/delete-many/success",mt.SAVE_DELETE_MANY_ERROR="@ngrx/data/save/delete-many/error",mt.SAVE_DELETE_ONE="@ngrx/data/save/delete-one",mt.SAVE_DELETE_ONE_SUCCESS="@ngrx/data/save/delete-one/success",mt.SAVE_DELETE_ONE_ERROR="@ngrx/data/save/delete-one/error",mt.SAVE_UPDATE_MANY="@ngrx/data/save/update-many",mt.SAVE_UPDATE_MANY_SUCCESS="@ngrx/data/save/update-many/success",mt.SAVE_UPDATE_MANY_ERROR="@ngrx/data/save/update-many/error",mt.SAVE_UPDATE_ONE="@ngrx/data/save/update-one",mt.SAVE_UPDATE_ONE_SUCCESS="@ngrx/data/save/update-one/success",mt.SAVE_UPDATE_ONE_ERROR="@ngrx/data/save/update-one/error",mt.SAVE_UPSERT_MANY="@ngrx/data/save/upsert-many",mt.SAVE_UPSERT_MANY_SUCCESS="@ngrx/data/save/upsert-many/success",mt.SAVE_UPSERT_MANY_ERROR="@ngrx/data/save/upsert-many/error",mt.SAVE_UPSERT_ONE="@ngrx/data/save/upsert-one",mt.SAVE_UPSERT_ONE_SUCCESS="@ngrx/data/save/upsert-one/success",mt.SAVE_UPSERT_ONE_ERROR="@ngrx/data/save/upsert-one/error",mt.ADD_ALL="@ngrx/data/add-all",mt.ADD_MANY="@ngrx/data/add-many",mt.ADD_ONE="@ngrx/data/add-one",mt.REMOVE_ALL="@ngrx/data/remove-all",mt.REMOVE_MANY="@ngrx/data/remove-many",mt.REMOVE_ONE="@ngrx/data/remove-one",mt.UPDATE_MANY="@ngrx/data/update-many",mt.UPDATE_ONE="@ngrx/data/update-one",mt.UPSERT_MANY="@ngrx/data/upsert-many",mt.UPSERT_ONE="@ngrx/data/upsert-one",mt.COMMIT_ALL="@ngrx/data/commit-all",mt.COMMIT_MANY="@ngrx/data/commit-many",mt.COMMIT_ONE="@ngrx/data/commit-one",mt.UNDO_ALL="@ngrx/data/undo-all",mt.UNDO_MANY="@ngrx/data/undo-many",mt.UNDO_ONE="@ngrx/data/undo-one",mt.SET_CHANGE_STATE="@ngrx/data/set-change-state",mt.SET_COLLECTION="@ngrx/data/set-collection",mt.SET_FILTER="@ngrx/data/set-filter",mt.SET_LOADED="@ngrx/data/set-loaded",mt.SET_LOADING="@ngrx/data/set-loading",mt}(),il="/success",rc="/error";function ic(o){return o+il}var _s=(0,y.Z)(function o(n,t){(0,f.Z)(this,o),this.error=n,this.requestData=t,this.message="string"==typeof n?n:function So(o){var n=o.error,t=o.body,e=o.message,a=null;return n?a="string"==typeof n?n:n.message:e?a=e:t&&(a="string"==typeof t?t:t.error),"string"==typeof a?a:a?JSON.stringify(a):null}(n)}),xs=(0,y.Z)(function o(){(0,f.Z)(this,o)}),su=(0,y.Z)(function o(){(0,f.Z)(this,o)}),Zp=new r.InjectionToken("@ngrx/data Plural Names"),uu=(0,y.Z)(function o(){(0,f.Z)(this,o)}),P0=(0,y.Z)(function o(){(0,f.Z)(this,o)}),A0=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.pluralizer=t,this.knownHttpResourceUrls={}}return(0,y.Z)(n,[{key:"getResourceUrls",value:function(e,a){var u=this.knownHttpResourceUrls[e];if(!u){var l=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?a:ac(a);u={entityResourceUrl:"".concat(l,"/").concat(e,"/").toLowerCase(),collectionResourceUrl:"".concat(l,"/").concat(this.pluralizer.pluralize(e),"/").toLowerCase()},this.registerHttpResourceUrls((0,d.Z)({},e,u))}return u}},{key:"entityResource",value:function(e,a,s){return this.getResourceUrls(e,a,s).entityResourceUrl}},{key:"collectionResource",value:function(e,a){return this.getResourceUrls(e,a).collectionResourceUrl}},{key:"registerHttpResourceUrls",value:function(e){this.knownHttpResourceUrls=(0,b.Z)((0,b.Z)({},this.knownHttpResourceUrls),e||{})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(uu))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}();function ac(o){return o.replace(/^[/\s]+|[/\s]+$/g,"")}var E2=function(){function o(n,t,e,a){(0,f.Z)(this,o),this.http=t,this.httpUrlGenerator=e,this.getDelay=0,this.saveDelay=0,this.timeout=0,this.trailingSlashEndpoints=!1,this._name="".concat(n," DefaultDataService"),this.entityName=n;var s=a||{},u=s.root,l=void 0===u?"api":u,c=s.delete404OK,C=s.getDelay,T=void 0===C?0:C,N=s.saveDelay,F=void 0===N?0:N,$=s.timeout,se=void 0===$?0:$,ue=s.trailingSlashEndpoints,ge=void 0!==ue&&ue;this.delete404OK=void 0===c||c,this.entityUrl=e.entityResource(n,l,ge),this.entitiesUrl=e.collectionResource(n,l),this.getDelay=T,this.saveDelay=F,this.timeout=se}return(0,y.Z)(o,[{key:"name",get:function(){return this._name}},{key:"add",value:function(t,e){var a=t||new Error('No "'.concat(this.entityName,'" entity to add'));return this.execute("POST",this.entityUrl,a,null,e)}},{key:"delete",value:function(t,e){var a;return null==t&&(a=new Error('No "'.concat(this.entityName,'" key to delete'))),this.execute("DELETE",this.entityUrl+t,a,null,e).pipe((0,Ce.U)(function(s){return t}))}},{key:"getAll",value:function(t){return this.execute("GET",this.entitiesUrl,null,t)}},{key:"getById",value:function(t,e){var a;return null==t&&(a=new Error('No "'.concat(this.entityName,'" key to get'))),this.execute("GET",this.entityUrl+t,a,null,e)}},{key:"getWithQuery",value:function(t,e){var s=new O.HttpParams("string"==typeof t?{fromString:t}:{fromObject:t});return this.execute("GET",this.entitiesUrl,void 0,{params:s},e)}},{key:"update",value:function(t,e){var a=t&&t.id,s=null==a?new Error('No "'.concat(this.entityName,'" update data or id')):t.changes;return this.execute("PUT",this.entityUrl+a,s,null,e)}},{key:"upsert",value:function(t,e){var a=t||new Error('No "'.concat(this.entityName,'" entity to upsert'));return this.execute("POST",this.entityUrl,a,null,e)}},{key:"execute",value:function(t,e,a,s,u){var l=void 0;u&&(l={headers:null!=u&&u.httpHeaders?new O.HttpHeaders(u?.httpHeaders):void 0,params:null!=u&&u.httpParams?new O.HttpParams(u?.httpParams):void 0});var h,C,T,N,c=void 0;(s||l)&&((0,r.isDevMode)()&&s&&l&&console.warn("@ngrx/data: options.httpParams will be merged with queryParams when both are are provided to getWithQuery(). In the event of a conflict HttpOptions.httpParams will override queryParams`. The queryParams parameter of getWithQuery() will be removed in next major release."),c=(0,b.Z)((0,b.Z)({},s),{},{headers:null!==(h=null===(C=l)||void 0===C?void 0:C.headers)&&void 0!==h?h:s?.headers,params:null!==(T=null===(N=l)||void 0===N?void 0:N.params)&&void 0!==T?T:s?.params}));var $,F={method:t,url:e,data:a,options:c};if(a instanceof Error)return this.handleError(F)(a);switch(t){case"DELETE":$=this.http.delete(e,c),this.saveDelay&&($=$.pipe((0,Rr.g)(this.saveDelay)));break;case"GET":$=this.http.get(e,c),this.getDelay&&($=$.pipe((0,Rr.g)(this.getDelay)));break;case"POST":$=this.http.post(e,a,c),this.saveDelay&&($=$.pipe((0,Rr.g)(this.saveDelay)));break;case"PUT":$=this.http.put(e,a,c),this.saveDelay&&($=$.pipe((0,Rr.g)(this.saveDelay)));break;default:var se=new Error("Unimplemented HTTP method, "+t);$=(0,$a._)(se)}return this.timeout&&($=$.pipe((0,Wi.V)(this.timeout+this.saveDelay))),$.pipe((0,si.K)(this.handleError(F)))}},{key:"handleError",value:function(t){var e=this;return function(a){var s=e.handleDelete404(a,t);if(s)return s;var u=new _s(a,t);return(0,$a._)(u)}}},{key:"handleDelete404",value:function(t,e){if(404===t.status&&"DELETE"===e.method&&this.delete404OK)return(0,Le.of)({})}}]),o}(),oc=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.http=t,this.httpUrlGenerator=e,this.config=a,e.registerHttpResourceUrls((a=a||{}).entityHttpResourceUrls)}return(0,y.Z)(n,[{key:"create",value:function(e){return new E2(e,this.http,this.httpUrlGenerator,this.config)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(O.HttpClient),r.\u0275\u0275inject(P0),r.\u0275\u0275inject(xs,8))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),jp=new r.InjectionToken("@ngrx/data Entity Metadata"),Qi=function(){var o=function(){function n(t){var e=this;(0,f.Z)(this,n),this.definitions={},t&&t.forEach(function(a){return e.registerMetadataMap(a)})}return(0,y.Z)(n,[{key:"getDefinition",value:function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=e.trim();var s=this.definitions[e];if(!s&&a)throw new Error('No EntityDefinition for entity type "'.concat(e,'".'));return s}},{key:"registerMetadata",value:function(e){if(e){var a=function P2(o){var n=o.entityName;if(!n)throw new Error("Missing required entityName");o.entityName=n=n.trim();var t=o.selectId||el,e=o.sortComparer=o.sortComparer||!1,a=c0({selectId:t,sortComparer:e}),s=o.entityDispatcherOptions||{},u=a.getInitialState((0,b.Z)({entityName:n,filter:"",loaded:!1,loading:!1,changeState:{}},o.additionalCollectionState||{}));return{entityName:n,entityAdapter:a,entityDispatcherOptions:s,initialState:u,metadata:o,noChangeTracking:!0===o.noChangeTracking,selectId:t,sortComparer:e}}(e);this.registerDefinition(a)}}},{key:"registerMetadataMap",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(a||{}).forEach(function(s){return e.registerMetadata((0,b.Z)({entityName:s},a[s]))})}},{key:"registerDefinition",value:function(e){this.definitions[e.entityName]=e}},{key:"registerDefinitions",value:function(e){Object.assign(this.definitions,e)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(jp,8))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),$p=ti.Update,Up=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.entityDefinitionService=t,this.http=e,this.idSelectors={},this.saveDelay=0,this.timeout=0;var s=a||{},u=s.saveDelay,c=s.timeout,h=void 0===c?0:c;this.saveDelay=void 0===u?0:u,this.timeout=h}return(0,y.Z)(n,[{key:"saveEntities",value:function(e,a){var s=this;e=this.filterChangeSet(e),e=this.flattenUpdates(e);var u=this.http.post(a,e).pipe((0,Ce.U)(function(l){return s.restoreUpdates(l)}),(0,si.K)(this.handleError({method:"POST",url:a,data:e})));return this.timeout&&(u=u.pipe((0,Wi.V)(this.timeout))),this.saveDelay&&(u=u.pipe((0,Rr.g)(this.saveDelay))),u}},{key:"handleError",value:function(e){return function(a){var s=new _s(a,e);return(0,$a._)(s)}}},{key:"filterChangeSet",value:function(e){return nl(e)}},{key:"flattenUpdates",value:function(e){var a=e.changes;if(0===a.length)return e;var s=!1;return a=a.map(function(u){return u.op===$p&&u.entities.length>0?(s=!0,(0,b.Z)((0,b.Z)({},u),{},{entities:u.entities.map(function(l){return l.changes})})):u}),s?(0,b.Z)((0,b.Z)({},e),{},{changes:a}):e}},{key:"restoreUpdates",value:function(e){var a=this;if(null==e)return e;var s=e.changes;if(0===s.length)return e;var u=!1;return s=s.map(function(l){if(l.op===$p){u=!0;var c=a.getIdSelector(l.entityName);return(0,b.Z)((0,b.Z)({},l),{},{entities:l.entities.map(function(h){return{id:c(h),changes:h}})})}return l}),u?(0,b.Z)((0,b.Z)({},e),{},{changes:s}):e}},{key:"getIdSelector",value:function(e){var a=this.idSelectors[e];return a||(a=this.entityDefinitionService.getDefinition(e).selectId,this.idSelectors[e]=a),a}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Qi),r.\u0275\u0275inject(O.HttpClient),r.\u0275\u0275inject(xs,8))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),al=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.defaultDataServiceFactory=t,this.services={}}return(0,y.Z)(n,[{key:"getService",value:function(e){e=e.trim();var a=this.services[e];return a||(a=this.defaultDataServiceFactory.create(e),this.services[e]=a),a}},{key:"registerService",value:function(e,a){this.services[e.trim()]=a}},{key:"registerServices",value:function(e){this.services=(0,b.Z)((0,b.Z)({},this.services),e)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(oc))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),zp=(0,y.Z)(function o(){(0,f.Z)(this,o)}),k0=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.logger=t,this.entityActionFactory=e}return(0,y.Z)(n,[{key:"handleSuccess",value:function(e){var a=this,s=ic(e.payload.entityOp);return function(u){return a.entityActionFactory.createFromAction(e,{entityOp:s,data:u})}}},{key:"handleError",value:function(e){var a=this,s=function E0(o){return o+rc}(e.payload.entityOp);return function(u){var c={error:u instanceof _s?u:new _s(u,null),originalAction:e};return a.logger.error(c),a.entityActionFactory.createFromAction(e,{entityOp:s,data:c})}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(su),r.\u0275\u0275inject(ys))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),Gp=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.message=n,this.message=n||"Canceled by user"}),sc=function(){var o=function(){function n(){(0,f.Z)(this,n),this.seed=0,this.prefix="CRID"}return(0,y.Z)(n,[{key:"next",value:function(){return this.seed+=1,this.prefix+this.seed}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),ol=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n),this.optimisticAdd=!1,this.optimisticDelete=!0,this.optimisticUpdate=!1,this.optimisticUpsert=!1,this.optimisticSaveEntities=!1});return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),Hp=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.correlationIdGenerator=t,this.defaultDispatcherOptions=e,this.store=s,this.reducedActions$=a.pipe((0,Bi.d)(1)),this.raSubscription=this.reducedActions$.subscribe()}return(0,y.Z)(n,[{key:"dispatch",value:function(e){return this.store.dispatch(e),e}},{key:"cancelSaveEntities",value:function(e,a,s,u){if(!e)throw new Error("Missing correlationId");var l=new w0(e,a,s,u);this.dispatch(l)}},{key:"clearCollections",value:function(e,a){this.dispatch(new ao(e,a))}},{key:"loadCollections",value:function(e,a){this.dispatch(new ha(e,a))}},{key:"mergeQuerySet",value:function(e,a,s){this.dispatch(new x0(e,a,s))}},{key:"setEntityCache",value:function(e,a){this.dispatch(new b0(e,a))}},{key:"saveEntities",value:function(e,a,s){var u=Array.isArray(e)?{changes:e}:e,l=null==(s=s||{}).correlationId?this.correlationIdGenerator.next():s.correlationId,c=null==s.isOptimistic?this.defaultDispatcherOptions.optimisticSaveEntities||!1:!0===s.isOptimistic,h=s.tag||"Save Entities";s=(0,b.Z)((0,b.Z)({},s),{},{correlationId:l,isOptimistic:c,tag:h});var C=new C0(u,a,s);return this.dispatch(C),this.getSaveEntitiesResponseData$(s.correlationId).pipe((0,Bi.d)(1))}},{key:"getSaveEntitiesResponseData$",value:function(e){return this.reducedActions$.pipe((0,Q.h)(function(a){return a.type===Jn.SAVE_ENTITIES_SUCCESS||a.type===Jn.SAVE_ENTITIES_ERROR||a.type===Jn.SAVE_ENTITIES_CANCEL}),(0,Q.h)(function(a){return e===a.payload.correlationId}),(0,An.q)(1),(0,Bo.z)(function(a){return a.type===Jn.SAVE_ENTITIES_CANCEL?(0,$a._)(new Gp(a.payload.reason)):a.type===Jn.SAVE_ENTITIES_SUCCESS?(0,Le.of)(a.payload.changeSet):(0,$a._)(a.payload)}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(sc),r.\u0275\u0275inject(ol),r.\u0275\u0275inject(Bt.Y$),r.\u0275\u0275inject(Bt.yh))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),R0=function(){function o(n,t,e){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:el,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0;(0,f.Z)(this,o),this.entityName=n,this.entityActionFactory=t,this.store=e,this.selectId=a,this.defaultDispatcherOptions=s,this.reducedActions$=u,this.correlationIdGenerator=c,this.guard=new _0(n,a),this.toUpdate=wo(a);var h=(0,Bt.P1)(l,function(C){return C[n]});this.entityCollection$=e.select(h)}return(0,y.Z)(o,[{key:"createEntityAction",value:function(t,e,a){return this.entityActionFactory.create((0,b.Z)({entityName:this.entityName,entityOp:t,data:e},a))}},{key:"createAndDispatch",value:function(t,e,a){var s=this.createEntityAction(t,e,a);return this.dispatch(s),s}},{key:"dispatch",value:function(t){return this.store.dispatch(t),t}},{key:"add",value:function(t,e){var a=this;e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticAdd);var s=this.createEntityAction(mt.SAVE_ADD_ONE,t,e);return e.isOptimistic&&this.guard.mustBeEntity(s),this.dispatch(s),this.getResponseData$(e.correlationId).pipe((0,Pa.M)(this.entityCollection$),(0,Ce.U)(function(u){var l=(0,g.Z)(u,2);return l[1].entities[a.selectId(l[0])]}),(0,Bi.d)(1))}},{key:"cancel",value:function(t,e,a){if(!t)throw new Error("Missing correlationId");this.createAndDispatch(mt.CANCEL_PERSIST,e,{correlationId:t})}},{key:"delete",value:function(t,e){e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticDelete);var a=this.getKey(t),s=this.createEntityAction(mt.SAVE_DELETE_ONE,a,e);return this.guard.mustBeKey(s),this.dispatch(s),this.getResponseData$(e.correlationId).pipe((0,Ce.U)(function(){return a}),(0,Bi.d)(1))}},{key:"getAll",value:function(t){var e=this;t=this.setQueryEntityActionOptions(t);var a=this.createEntityAction(mt.QUERY_ALL,null,t);return this.dispatch(a),this.getResponseData$(t.correlationId).pipe((0,Pa.M)(this.entityCollection$),(0,Ce.U)(function(s){var u=(0,g.Z)(s,2),c=u[1];return u[0].reduce(function(h,C){var T=c.entities[e.selectId(C)];return T&&h.push(T),h},[])}),(0,Bi.d)(1))}},{key:"getByKey",value:function(t,e){var a=this;e=this.setQueryEntityActionOptions(e);var s=this.createEntityAction(mt.QUERY_BY_KEY,t,e);return this.dispatch(s),this.getResponseData$(e.correlationId).pipe((0,Pa.M)(this.entityCollection$),(0,Ce.U)(function(u){var l=(0,g.Z)(u,2);return l[1].entities[a.selectId(l[0])]}),(0,Bi.d)(1))}},{key:"getWithQuery",value:function(t,e){var a=this;e=this.setQueryEntityActionOptions(e);var s=this.createEntityAction(mt.QUERY_MANY,t,e);return this.dispatch(s),this.getResponseData$(e.correlationId).pipe((0,Pa.M)(this.entityCollection$),(0,Ce.U)(function(u){var l=(0,g.Z)(u,2),h=l[1];return l[0].reduce(function(C,T){var N=h.entities[a.selectId(T)];return N&&C.push(N),C},[])}),(0,Bi.d)(1))}},{key:"load",value:function(t){t=this.setQueryEntityActionOptions(t);var e=this.createEntityAction(mt.QUERY_LOAD,null,t);return this.dispatch(e),this.getResponseData$(t.correlationId).pipe((0,Bi.d)(1))}},{key:"loadWithQuery",value:function(t,e){e=this.setQueryEntityActionOptions(e);var a=this.createEntityAction(mt.QUERY_MANY,t,e);return this.dispatch(a),this.getResponseData$(e.correlationId).pipe((0,Bi.d)(1))}},{key:"update",value:function(t,e){var a=this,s=this.toUpdate(t);e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticUpdate);var u=this.createEntityAction(mt.SAVE_UPDATE_ONE,s,e);return e.isOptimistic&&this.guard.mustBeUpdate(u),this.dispatch(u),this.getResponseData$(e.correlationId).pipe((0,Ce.U)(function(l){return l.changes}),(0,Pa.M)(this.entityCollection$),(0,Ce.U)(function(l){var c=(0,g.Z)(l,2);return c[1].entities[a.selectId(c[0])]}),(0,Bi.d)(1))}},{key:"upsert",value:function(t,e){var a=this;e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticUpsert);var s=this.createEntityAction(mt.SAVE_UPSERT_ONE,t,e);return e.isOptimistic&&this.guard.mustBeEntity(s),this.dispatch(s),this.getResponseData$(e.correlationId).pipe((0,Pa.M)(this.entityCollection$),(0,Ce.U)(function(u){var l=(0,g.Z)(u,2);return l[1].entities[a.selectId(l[0])]}),(0,Bi.d)(1))}},{key:"addAllToCache",value:function(t,e){this.createAndDispatch(mt.ADD_ALL,t,e)}},{key:"addOneToCache",value:function(t,e){this.createAndDispatch(mt.ADD_ONE,t,e)}},{key:"addManyToCache",value:function(t,e){this.createAndDispatch(mt.ADD_MANY,t,e)}},{key:"clearCache",value:function(t){this.createAndDispatch(mt.REMOVE_ALL,void 0,t)}},{key:"removeOneFromCache",value:function(t,e){this.createAndDispatch(mt.REMOVE_ONE,this.getKey(t),e)}},{key:"removeManyFromCache",value:function(t,e){var a=this;if(t&&0!==t.length){var s="object"==typeof t[0]?t.map(function(u){return a.getKey(u)}):t;this.createAndDispatch(mt.REMOVE_MANY,s,e)}}},{key:"updateOneInCache",value:function(t,e){var a=this.toUpdate(t);this.createAndDispatch(mt.UPDATE_ONE,a,e)}},{key:"updateManyInCache",value:function(t,e){var a=this;if(t&&0!==t.length){var s=t.map(function(u){return a.toUpdate(u)});this.createAndDispatch(mt.UPDATE_MANY,s,e)}}},{key:"upsertOneInCache",value:function(t,e){this.createAndDispatch(mt.UPSERT_ONE,t,e)}},{key:"upsertManyInCache",value:function(t,e){!t||0===t.length||this.createAndDispatch(mt.UPSERT_MANY,t,e)}},{key:"setFilter",value:function(t){this.createAndDispatch(mt.SET_FILTER,t)}},{key:"setLoaded",value:function(t){this.createAndDispatch(mt.SET_LOADED,!!t)}},{key:"setLoading",value:function(t){this.createAndDispatch(mt.SET_LOADING,!!t)}},{key:"getKey",value:function(t){return"object"==typeof t?this.selectId(t):t}},{key:"getResponseData$",value:function(t){var e=this;return this.reducedActions$.pipe((0,Q.h)(function(a){return!!a.payload}),(0,Q.h)(function(a){var s=a.payload,c=s.entityOp;return s.entityName===e.entityName&&s.correlationId===t&&(c.endsWith(il)||c.endsWith(rc)||c===mt.CANCEL_PERSIST)}),(0,An.q)(1),(0,Bo.z)(function(a){var s=a.payload.entityOp;return s===mt.CANCEL_PERSIST?(0,$a._)(new Gp(a.payload.data)):s.endsWith(il)?(0,Le.of)(a.payload.data):(0,$a._)(a.payload.data.error)}))}},{key:"setQueryEntityActionOptions",value:function(t){var e=null==(t=t||{}).correlationId?this.correlationIdGenerator.next():t.correlationId;return(0,b.Z)((0,b.Z)({},t),{},{correlationId:e})}},{key:"setSaveEntityActionOptions",value:function(t,e){var a=null==(t=t||{}).correlationId?this.correlationIdGenerator.next():t.correlationId,s=null==t.isOptimistic?e||!1:!0===t.isOptimistic;return(0,b.Z)((0,b.Z)({},t),{},{correlationId:a,isOptimistic:s})}}]),o}(),lu="entityCache",uc=new r.InjectionToken("@ngrx/data Entity Cache Name"),D0=new r.InjectionToken("@ngrx/data Entity Cache Meta Reducers"),qp=new r.InjectionToken("@ngrx/data Entity Collection Meta Reducers"),T0=new r.InjectionToken("@ngrx/data Initial Entity Cache State"),lc=new r.InjectionToken("@ngrx/data Entity Cache Selector"),cc={provide:lc,useFactory:Kp,deps:[[new r.Optional,uc]]};function Kp(o){return(0,Bt.ZF)(o=o||lu)}var li=function(){var o=function(){function n(t,e,a,s,u,l){(0,f.Z)(this,n),this.entityActionFactory=t,this.store=e,this.entityDispatcherDefaultOptions=a,this.entityCacheSelector=u,this.correlationIdGenerator=l,this.reducedActions$=s.pipe((0,Bi.d)(1)),this.raSubscription=this.reducedActions$.subscribe()}return(0,y.Z)(n,[{key:"create",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:el,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=(0,b.Z)((0,b.Z)({},this.entityDispatcherDefaultOptions),s);return new R0(e,this.entityActionFactory,this.store,a,u,this.reducedActions$,this.entityCacheSelector,this.correlationIdGenerator)}},{key:"ngOnDestroy",value:function(){this.raSubscription.unsubscribe()}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(ys),r.\u0275\u0275inject(Bt.yh),r.\u0275\u0275inject(ol),r.\u0275\u0275inject(Bt.Y$),r.\u0275\u0275inject(lc),r.\u0275\u0275inject(sc))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),dc=new r.InjectionToken("@ngrx/data Entity Effects Scheduler"),ka=function(){var o=function(){function n(t,e,a,s,u){var l=this;(0,f.Z)(this,n),this.actions=t,this.dataService=e,this.entityActionFactory=a,this.logger=s,this.scheduler=u,this.responseDelay=10,this.saveEntitiesCancel$=vi(function(){return l.actions.pipe(Ga(Jn.SAVE_ENTITIES_CANCEL),(0,Q.h)(function(c){return null!=c.payload.correlationId}))},{dispatch:!1}),this.saveEntities$=vi(function(){return l.actions.pipe(Ga(Jn.SAVE_ENTITIES),(0,Bo.z)(function(c){return l.saveEntities(c)}))})}return(0,y.Z)(n,[{key:"saveEntities",value:function(e){var a=this,s=e.payload.error;if(s)return this.handleSaveEntitiesError$(e)(s);try{var u=nl(e.payload.changeSet),l=e.payload,c=l.correlationId,T=l.url;return 0===u.changes.length?(0,Le.of)(new rl(u,T,{correlationId:c,mergeStrategy:l.mergeStrategy,tag:l.tag})):Uu(this.saveEntitiesCancel$.pipe((0,Q.h)(function(se){return c===se.payload.correlationId}),(0,Ce.U)(function(se){return new Bp(c,se.payload.reason,se.payload.tag)})),this.dataService.saveEntities(u,T).pipe((0,Zi.b)(function(se){return a.handleSaveEntitiesSuccess$(e,a.entityActionFactory)(se)}),(0,si.K)(this.handleSaveEntitiesError$(e))))}catch(se){return this.handleSaveEntitiesError$(e)(se)}}},{key:"handleSaveEntitiesError$",value:function(e){var a=this;return function(s){var u=s instanceof _s?s:new _s(s,null);return(0,Le.of)(new S0(u,e)).pipe((0,Rr.g)(a.responseDelay,a.scheduler||eu.z))}}},{key:"handleSaveEntitiesSuccess$",value:function(e,a){var s=e.payload,u=s.url,C={correlationId:s.correlationId,mergeStrategy:s.mergeStrategy,tag:s.tag};return function(T){if(T)return(0,Le.of)(new rl(T,u,C));if(T=e.payload.changeSet,!e.payload.isOptimistic)return(0,Le.of)(new rl(T,u,C));var N=T.changes.reduce(function(F,$){return-1===F.indexOf($.entityName)?F.concat($.entityName):F},[]);return(0,Y.T)(N.map(function(F){return a.create(F,mt.SET_LOADING,!1)}))}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(to),r.\u0275\u0275inject(Up),r.\u0275\u0275inject(ys),r.\u0275\u0275inject(su),r.\u0275\u0275inject(dc,8))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),oo=[mt.QUERY_ALL,mt.QUERY_LOAD,mt.QUERY_BY_KEY,mt.QUERY_MANY,mt.SAVE_ADD_ONE,mt.SAVE_DELETE_ONE,mt.SAVE_UPDATE_ONE,mt.SAVE_UPSERT_ONE],jo=function(){var o=function(){function n(t,e,a,s,u){var l=this;(0,f.Z)(this,n),this.actions=t,this.dataService=e,this.entityActionFactory=a,this.resultHandler=s,this.scheduler=u,this.responseDelay=10,this.cancel$=vi(function(){return l.actions.pipe(io(mt.CANCEL_PERSIST),(0,Ce.U)(function(c){return c.payload.correlationId}),(0,Q.h)(function(c){return null!=c}))},{dispatch:!1}),this.persist$=vi(function(){return l.actions.pipe(io(oo),(0,Bo.z)(function(c){return l.persist(c)}))})}return(0,y.Z)(n,[{key:"persist",value:function(e){var a=this;if(e.payload.skip)return this.handleSkipSuccess$(e);if(e.payload.error)return this.handleError$(e)(e.payload.error);try{return Uu(this.cancel$.pipe((0,Q.h)(function(l){return e.payload.correlationId===l}),(0,Ce.U)(function(l){return a.entityActionFactory.createFromAction(e,{entityOp:mt.CANCELED_PERSIST})})),this.callDataService(e).pipe((0,Ce.U)(this.resultHandler.handleSuccess(e)),(0,si.K)(this.handleError$(e))))}catch(l){return this.handleError$(e)(l)}}},{key:"callDataService",value:function(e){var a=e.payload,u=a.entityOp,l=a.data,c=a.httpOptions,h=this.dataService.getService(a.entityName);switch(u){case mt.QUERY_ALL:case mt.QUERY_LOAD:return h.getAll(c);case mt.QUERY_BY_KEY:return h.getById(l,c);case mt.QUERY_MANY:return h.getWithQuery(l,c);case mt.SAVE_ADD_ONE:return h.add(l,c);case mt.SAVE_DELETE_ONE:return h.delete(l,c);case mt.SAVE_UPDATE_ONE:var C=l.id,T=l.changes;return h.update(l,c).pipe((0,Ce.U)(function(N){return N&&Object.keys(N).length>0?{id:C,changes:(0,b.Z)((0,b.Z)({},T),N),changed:!0}:{id:C,changes:T,changed:!1}}));case mt.SAVE_UPSERT_ONE:return h.upsert(l,c).pipe((0,Ce.U)(function(N){return N&&Object.keys(N).length>0?N:l}));default:throw new Error('Persistence action "'.concat(u,'" is not implemented.'))}}},{key:"handleError$",value:function(e){var a=this;return function(s){return(0,Le.of)(a.resultHandler.handleError(e)(s)).pipe((0,Rr.g)(a.responseDelay,a.scheduler||eu.z))}}},{key:"handleSkipSuccess$",value:function(e){var a=ic(e.payload.entityOp),s=this.entityActionFactory.createFromAction(e,{entityOp:a});return(0,Le.of)(s).pipe((0,Rr.g)(this.responseDelay,this.scheduler||eu.z))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(to),r.\u0275\u0275inject(al),r.\u0275\u0275inject(ys),r.\u0275\u0275inject(zp),r.\u0275\u0275inject(dc,8))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),I0=function(){function o(n,t){(0,f.Z)(this,o),this.entityName=n,n=n.trim();var e=t.create(n),a=e.dispatcher,s=e.selectors,u=e.selectors$;this.entityName=n,this.dispatcher=a,this.guard=a.guard,this.selectId=a.selectId,this.toUpdate=a.toUpdate,this.selectors=s,this.selectors$=u,this.collection$=u.collection$,this.count$=u.count$,this.entities$=u.entities$,this.entityActions$=u.entityActions$,this.entityMap$=u.entityMap$,this.errors$=u.errors$,this.filter$=u.filter$,this.filteredEntities$=u.filteredEntities$,this.keys$=u.keys$,this.loaded$=u.loaded$,this.loading$=u.loading$,this.changeState$=u.changeState$}return(0,y.Z)(o,[{key:"createEntityAction",value:function(t,e,a){return this.dispatcher.createEntityAction(t,e,a)}},{key:"createAndDispatch",value:function(t,e,a){return this.dispatcher.createAndDispatch(t,e,a)}},{key:"dispatch",value:function(t){return this.dispatcher.dispatch(t)}},{key:"store",get:function(){return this.dispatcher.store}},{key:"add",value:function(t,e){return this.dispatcher.add(t,e)}},{key:"cancel",value:function(t,e,a){this.dispatcher.cancel(t,e,a)}},{key:"delete",value:function(t,e){return this.dispatcher.delete(t,e)}},{key:"getAll",value:function(t){return this.dispatcher.getAll(t)}},{key:"getByKey",value:function(t,e){return this.dispatcher.getByKey(t,e)}},{key:"getWithQuery",value:function(t,e){return this.dispatcher.getWithQuery(t,e)}},{key:"load",value:function(t){return this.dispatcher.load(t)}},{key:"loadWithQuery",value:function(t,e){return this.dispatcher.loadWithQuery(t,e)}},{key:"update",value:function(t,e){return this.dispatcher.update(t,e)}},{key:"upsert",value:function(t,e){return this.dispatcher.upsert(t,e)}},{key:"addAllToCache",value:function(t,e){this.dispatcher.addAllToCache(t,e)}},{key:"addOneToCache",value:function(t,e){this.dispatcher.addOneToCache(t,e)}},{key:"addManyToCache",value:function(t,e){this.dispatcher.addManyToCache(t,e)}},{key:"clearCache",value:function(){this.dispatcher.clearCache()}},{key:"removeOneFromCache",value:function(t,e){this.dispatcher.removeOneFromCache(t,e)}},{key:"removeManyFromCache",value:function(t,e){this.dispatcher.removeManyFromCache(t,e)}},{key:"updateOneInCache",value:function(t,e){this.dispatcher.updateOneInCache(t,e)}},{key:"updateManyInCache",value:function(t,e){this.dispatcher.updateManyInCache(t,e)}},{key:"upsertOneInCache",value:function(t,e){this.dispatcher.upsertOneInCache(t,e)}},{key:"upsertManyInCache",value:function(t,e){this.dispatcher.upsertManyInCache(t,e)}},{key:"setFilter",value:function(t){this.dispatcher.setFilter(t)}},{key:"setLoaded",value:function(t){this.dispatcher.setLoaded(!!t)}},{key:"setLoading",value:function(t){this.dispatcher.setLoading(!!t)}}]),o}(),bs=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.entityDefinitionService=t}return(0,y.Z)(n,[{key:"create",value:function(e){var a=this.entityDefinitionService&&this.entityDefinitionService.getDefinition(e,!1);return a&&a.initialState||function pc(o){return{entityName:o,ids:[],entities:{},filter:void 0,loaded:!1,loading:!1,changeState:{}}}(e)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Qi,8))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),fc=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.entityCollectionCreator=t||new bs,this.selectEntityCache=e||Kp(lu)}return(0,y.Z)(n,[{key:"createCollectionSelector",value:function(e){var a=this;return(0,Bt.P1)(this.selectEntityCache,function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})[e]||a.entityCollectionCreator.create(e)})}},{key:"createCollectionSelectors",value:function(e){var a="string"==typeof e?{entityName:e}:e,s=function(Se){return Se.ids},u=function(Se){return Se.entities},l=(0,Bt.P1)(s,u,function(ge,Se){return ge.map(function(we){return Se[we]})}),c=(0,Bt.P1)(s,function(ge){return ge.length}),h=function(Se){return Se.filter},C=a.filterFn,T=C?(0,Bt.P1)(l,h,function(ge,Se){return C(ge,Se)}):l,ue={};return Object.keys(a.additionalCollectionState||{}).forEach(function(ge){ue["select"+ge[0].toUpperCase()+ge.slice(1)]=function(Se){return Se[ge]}}),(0,b.Z)({selectCount:c,selectEntities:l,selectEntityMap:u,selectFilter:h,selectFilteredEntities:T,selectKeys:s,selectLoaded:function(Se){return Se.loaded},selectLoading:function(Se){return Se.loading},selectChangeState:function(Se){return Se.changeState}},ue)}},{key:"create",value:function(e){var a="string"==typeof e?{entityName:e}:e,s=a.entityName,u=this.createCollectionSelector(s),l=this.createCollectionSelectors(a),c={};return Object.keys(l).forEach(function(h){c[h]=(0,Bt.P1)(u,l[h])}),(0,b.Z)({entityName:s,selectCollection:u,selectEntityCache:this.selectEntityCache},c)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(bs,8),r.\u0275\u0275inject(lc,8))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),On=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.store=t,this.actions=e,this.selectEntityCache=a,this.entityCache$=this.store.select(this.selectEntityCache),this.entityActionErrors$=e.pipe((0,Q.h)(function(s){return s.payload&&s.payload.entityOp&&s.payload.entityOp.endsWith(rc)}),(0,Bi.d)(1))}return(0,y.Z)(n,[{key:"create",value:function(e,a){var s=this,u={entityName:e};return Object.keys(a).forEach(function(l){if(l.startsWith("select")){var c=l[6].toLowerCase()+l.substring(7)+"$";u[c]=s.store.select(a[l])}}),u.entityActions$=this.actions.pipe(tl(e)),u.errors$=this.entityActionErrors$.pipe(tl(e)),u}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Bt.yh),r.\u0275\u0275inject(to),r.\u0275\u0275inject(lc))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),Yi=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.entityDispatcherFactory=t,this.entityDefinitionService=e,this.entitySelectorsFactory=a,this.entitySelectors$Factory=s}return(0,y.Z)(n,[{key:"create",value:function(e){e=e.trim();var a=this.entityDefinitionService.getDefinition(e),s=this.entityDispatcherFactory.create(e,a.selectId,a.entityDispatcherOptions),u=this.entitySelectorsFactory.create(a.metadata);return{dispatcher:s,entityName:e,selectors:u,selectors$:this.entitySelectors$Factory.create(e,u)}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(li),r.\u0275\u0275inject(Qi),r.\u0275\u0275inject(fc),r.\u0275\u0275inject(On))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),Gn=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.entityCollectionServiceElementsFactory=t}return(0,y.Z)(n,[{key:"create",value:function(e){return new I0(e,this.entityCollectionServiceElementsFactory)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Yi))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),$i=function(){var o=(0,y.Z)(function n(t,e,a,s){(0,f.Z)(this,n),this.entityCollectionServiceFactory=t,this.store=s,this.entityActionErrors$=a.entityActionErrors$,this.entityCache$=a.entityCache$,this.reducedActions$=e.reducedActions$});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Gn),r.\u0275\u0275inject(li),r.\u0275\u0275inject(On),r.\u0275\u0275inject(Bt.yh))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),yi=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.entityServicesElements=t,this.EntityCollectionServices={}}return(0,y.Z)(n,[{key:"entityActionErrors$",get:function(){return this.entityServicesElements.entityActionErrors$}},{key:"entityCache$",get:function(){return this.entityServicesElements.entityCache$}},{key:"entityCollectionServiceFactory",get:function(){return this.entityServicesElements.entityCollectionServiceFactory}},{key:"reducedActions$",get:function(){return this.entityServicesElements.reducedActions$}},{key:"store",get:function(){return this.entityServicesElements.store}},{key:"dispatch",value:function(e){this.store.dispatch(e)}},{key:"createEntityCollectionService",value:function(e){return this.entityCollectionServiceFactory.create(e)}},{key:"getEntityCollectionService",value:function(e){var a=this.EntityCollectionServices[e];return a||(a=this.createEntityCollectionService(e),this.EntityCollectionServices[e]=a),a}},{key:"registerEntityCollectionService",value:function(e,a){this.EntityCollectionServices[a||e.entityName]=e}},{key:"registerEntityCollectionServices",value:function(e){var a=this;Array.isArray(e)?e.forEach(function(s){return a.registerEntityCollectionService(s)}):Object.keys(e||{}).forEach(function(s){a.registerEntityCollectionService(e[s],s)})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject($i))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),Dr=(0,y.Z)(function o(){(0,f.Z)(this,o)}),er=function(){return(er=er||{})[er.Unchanged=0]="Unchanged",er[er.Added=1]="Added",er[er.Deleted=2]="Deleted",er[er.Updated=3]="Updated",er}(),sl=function(){function o(n,t){(0,f.Z)(this,o),this.adapter=n,this.selectId=t,this.selectId=t||el}return(0,y.Z)(o,[{key:"commitAll",value:function(t){return 0===Object.keys(t.changeState).length?t:(0,b.Z)((0,b.Z)({},t),{},{changeState:{}})}},{key:"commitMany",value:function(t,e){var a=this;if(null==t||0===t.length)return e;var s=!1,u=t.reduce(function(l,c){var h="object"==typeof c?a.selectId(c):c;return l[h]&&(s||(l=(0,b.Z)({},l),s=!0),delete l[h]),l},e.changeState);return s?(0,b.Z)((0,b.Z)({},e),{},{changeState:u}):e}},{key:"commitOne",value:function(t,e){return null==t?e:this.commitMany([t],e)}},{key:"mergeQueryResults",value:function(t,e,a){return this.mergeServerUpserts(t,e,yr.PreserveChanges,a)}},{key:"mergeSaveAdds",value:function(t,e,a){return this.mergeServerUpserts(t,e,yr.OverwriteChanges,a)}},{key:"mergeSaveDeletes",value:function(t,e,a){var s=t;return e=(a=a??yr.OverwriteChanges)===yr.IgnoreChanges?e:this.commitMany(s,e),this.adapter.removeMany(s,e)}},{key:"mergeSaveUpdates",value:function(t,e,a){var s=this,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null==t||0===t.length)return e;var h,l=!1,c=e.changeState;switch(a=a??yr.OverwriteChanges){case yr.IgnoreChanges:return h=T(t),this.adapter.updateMany(h,e);case yr.OverwriteChanges:return c=t.reduce(function(N,F){var $=F.id;return N[$]&&(l||(N=(0,b.Z)({},N),l=!0),delete N[$]),N},e.changeState),e=l?(0,b.Z)((0,b.Z)({},e),{},{changeState:c}):e,h=T(t),this.adapter.updateMany(h,e);case yr.PreserveChanges:var C=[];return c=t.reduce(function(N,F){var $=F.id,se=N[$];if(se){l||(N=(0,b.Z)({},N),l=!0);var ue=s.selectId(F.changes),ge=se;ue!==$&&delete N[$];var Se=(0,b.Z)((0,b.Z)({},ge.originalValue),F.changes);N[ue]=(0,b.Z)((0,b.Z)({},ge),{},{originalValue:Se})}else C.push(F);return N},e.changeState),e=l?(0,b.Z)((0,b.Z)({},e),{},{changeState:c}):e,h=T(C),this.adapter.updateMany(h,e)}function T(N){return!0===u&&(N=N.filter(function(F){return!0===F.changed})),N.map(function(F){return{id:F.id,changes:F.changes}})}}},{key:"mergeSaveUpserts",value:function(t,e,a){return this.mergeServerUpserts(t,e,yr.OverwriteChanges,a)}},{key:"mergeServerUpserts",value:function(t,e,a,s){var u=this;if(null==t||0===t.length)return e;var l=!1,c=e.changeState;switch(s=s??a){case yr.IgnoreChanges:return this.adapter.upsertMany(t,e);case yr.OverwriteChanges:return e=this.adapter.upsertMany(t,e),c=t.reduce(function(C,T){var N=u.selectId(T);return C[N]&&(l||(C=(0,b.Z)({},C),l=!0),delete C[N]),C},e.changeState),l?(0,b.Z)((0,b.Z)({},e),{},{changeState:c}):e;case yr.PreserveChanges:var h=[];return c=t.reduce(function(C,T){var N=u.selectId(T);return C[N]?l||(C=(0,b.Z)((0,b.Z)({},C),{},(0,d.Z)({},N,(0,b.Z)((0,b.Z)({},C[N]),{},{originalValue:T}))),l=!0):h.push(T),C},e.changeState),e=this.adapter.upsertMany(h,e),l?(0,b.Z)((0,b.Z)({},e),{},{changeState:c}):e}}},{key:"trackAddMany",value:function(t,e,a){var s=this;if(a===yr.IgnoreChanges||null==t||0===t.length)return e;var u=!1,l=t.reduce(function(c,h){var C=s.selectId(h);if(null==C||""===C)throw new Error("".concat(e.entityName," entity add requires a key to be tracked"));return c[C]||(u||(u=!0,c=(0,b.Z)({},c)),c[C]={changeType:er.Added}),c},e.changeState);return u?(0,b.Z)((0,b.Z)({},e),{},{changeState:l}):e}},{key:"trackAddOne",value:function(t,e,a){return null==t?e:this.trackAddMany([t],e,a)}},{key:"trackDeleteMany",value:function(t,e,a){if(a===yr.IgnoreChanges||null==t||0===t.length)return e;var s=!1,u=e.entities,l=t.reduce(function(c,h){var C=u[h];if(C){var T=c[h];T?T.changeType===er.Added?(N(),delete c[h]):T.changeType===er.Updated&&(N(),c[h]=(0,b.Z)((0,b.Z)({},c[h]),{},{changeType:er.Deleted})):(N(),c[h]={changeType:er.Deleted,originalValue:C})}return c;function N(){s||(s=!0,c=(0,b.Z)({},c))}},e.changeState);return s?(0,b.Z)((0,b.Z)({},e),{},{changeState:l}):e}},{key:"trackDeleteOne",value:function(t,e,a){return null==t?e:this.trackDeleteMany([t],e,a)}},{key:"trackUpdateMany",value:function(t,e,a){if(a===yr.IgnoreChanges||null==t||0===t.length)return e;var s=!1,u=e.entities,l=t.reduce(function(c,h){var C=h.id;if(null==C||""===C)throw new Error("".concat(e.entityName," entity update requires a key to be tracked"));var N=u[C];return N&&(c[C]||(s||(s=!0,c=(0,b.Z)({},c)),c[C]={changeType:er.Updated,originalValue:N})),c},e.changeState);return s?(0,b.Z)((0,b.Z)({},e),{},{changeState:l}):e}},{key:"trackUpdateOne",value:function(t,e,a){return null==t?e:this.trackUpdateMany([t],e,a)}},{key:"trackUpsertMany",value:function(t,e,a){var s=this;if(a===yr.IgnoreChanges||null==t||0===t.length)return e;var u=!1,l=e.entities,c=t.reduce(function(h,C){var T=s.selectId(C);if(null==T||""===T)throw new Error("".concat(e.entityName," entity upsert requires a key to be tracked"));if(!h[T]){u||(u=!0,h=(0,b.Z)({},h));var F=l[T];h[T]=null==F?{changeType:er.Added}:{changeType:er.Updated,originalValue:F}}return h},e.changeState);return u?(0,b.Z)((0,b.Z)({},e),{},{changeState:c}):e}},{key:"trackUpsertOne",value:function(t,e,a){return null==t?e:this.trackUpsertMany([t],e,a)}},{key:"undoAll",value:function(t){var a=Object.keys(t.changeState).reduce(function(l,c){var h=l.chgState[c];switch(h.changeType){case er.Added:l.remove.push(c);break;case er.Deleted:var C=h.originalValue;C&&l.upsert.push(C);break;case er.Updated:l.upsert.push(h.originalValue)}return l},{remove:[],upsert:[],chgState:t.changeState}),u=a.upsert;return t=this.adapter.removeMany(a.remove,t),t=this.adapter.upsertMany(u,t),(0,b.Z)((0,b.Z)({},t),{},{changeState:{}})}},{key:"undoMany",value:function(t,e){var a=this;if(null==t||0===t.length)return e;var s=!1,u=t.reduce(function(C,T){var N=C.changeState,F="object"==typeof T?a.selectId(T):T,$=N[F];if($)switch(s||(N=(0,b.Z)({},N),s=!0),delete N[F],C.changeState=N,$.changeType){case er.Added:C.remove.push(F);break;case er.Deleted:var se=$.originalValue;se&&C.upsert.push(se);break;case er.Updated:C.upsert.push($.originalValue)}return C},{remove:[],upsert:[],changeState:e.changeState}),l=u.changeState,h=u.upsert;return e=this.adapter.removeMany(u.remove,e),e=this.adapter.upsertMany(h,e),s?(0,b.Z)((0,b.Z)({},e),{},{changeState:l}):e}},{key:"undoOne",value:function(t,e){return null==t?e:this.undoMany([t],e)}}]),o}(),mc=function(){function o(n,t,e){var a;(0,f.Z)(this,o),this.entityName=n,this.definition=t,this.methods=((0,d.Z)(a={},mt.CANCEL_PERSIST,this.cancelPersist.bind(this)),(0,d.Z)(a,mt.QUERY_ALL,this.queryAll.bind(this)),(0,d.Z)(a,mt.QUERY_ALL_ERROR,this.queryAllError.bind(this)),(0,d.Z)(a,mt.QUERY_ALL_SUCCESS,this.queryAllSuccess.bind(this)),(0,d.Z)(a,mt.QUERY_BY_KEY,this.queryByKey.bind(this)),(0,d.Z)(a,mt.QUERY_BY_KEY_ERROR,this.queryByKeyError.bind(this)),(0,d.Z)(a,mt.QUERY_BY_KEY_SUCCESS,this.queryByKeySuccess.bind(this)),(0,d.Z)(a,mt.QUERY_LOAD,this.queryLoad.bind(this)),(0,d.Z)(a,mt.QUERY_LOAD_ERROR,this.queryLoadError.bind(this)),(0,d.Z)(a,mt.QUERY_LOAD_SUCCESS,this.queryLoadSuccess.bind(this)),(0,d.Z)(a,mt.QUERY_MANY,this.queryMany.bind(this)),(0,d.Z)(a,mt.QUERY_MANY_ERROR,this.queryManyError.bind(this)),(0,d.Z)(a,mt.QUERY_MANY_SUCCESS,this.queryManySuccess.bind(this)),(0,d.Z)(a,mt.SAVE_ADD_MANY,this.saveAddMany.bind(this)),(0,d.Z)(a,mt.SAVE_ADD_MANY_ERROR,this.saveAddManyError.bind(this)),(0,d.Z)(a,mt.SAVE_ADD_MANY_SUCCESS,this.saveAddManySuccess.bind(this)),(0,d.Z)(a,mt.SAVE_ADD_ONE,this.saveAddOne.bind(this)),(0,d.Z)(a,mt.SAVE_ADD_ONE_ERROR,this.saveAddOneError.bind(this)),(0,d.Z)(a,mt.SAVE_ADD_ONE_SUCCESS,this.saveAddOneSuccess.bind(this)),(0,d.Z)(a,mt.SAVE_DELETE_MANY,this.saveDeleteMany.bind(this)),(0,d.Z)(a,mt.SAVE_DELETE_MANY_ERROR,this.saveDeleteManyError.bind(this)),(0,d.Z)(a,mt.SAVE_DELETE_MANY_SUCCESS,this.saveDeleteManySuccess.bind(this)),(0,d.Z)(a,mt.SAVE_DELETE_ONE,this.saveDeleteOne.bind(this)),(0,d.Z)(a,mt.SAVE_DELETE_ONE_ERROR,this.saveDeleteOneError.bind(this)),(0,d.Z)(a,mt.SAVE_DELETE_ONE_SUCCESS,this.saveDeleteOneSuccess.bind(this)),(0,d.Z)(a,mt.SAVE_UPDATE_MANY,this.saveUpdateMany.bind(this)),(0,d.Z)(a,mt.SAVE_UPDATE_MANY_ERROR,this.saveUpdateManyError.bind(this)),(0,d.Z)(a,mt.SAVE_UPDATE_MANY_SUCCESS,this.saveUpdateManySuccess.bind(this)),(0,d.Z)(a,mt.SAVE_UPDATE_ONE,this.saveUpdateOne.bind(this)),(0,d.Z)(a,mt.SAVE_UPDATE_ONE_ERROR,this.saveUpdateOneError.bind(this)),(0,d.Z)(a,mt.SAVE_UPDATE_ONE_SUCCESS,this.saveUpdateOneSuccess.bind(this)),(0,d.Z)(a,mt.SAVE_UPSERT_MANY,this.saveUpsertMany.bind(this)),(0,d.Z)(a,mt.SAVE_UPSERT_MANY_ERROR,this.saveUpsertManyError.bind(this)),(0,d.Z)(a,mt.SAVE_UPSERT_MANY_SUCCESS,this.saveUpsertManySuccess.bind(this)),(0,d.Z)(a,mt.SAVE_UPSERT_ONE,this.saveUpsertOne.bind(this)),(0,d.Z)(a,mt.SAVE_UPSERT_ONE_ERROR,this.saveUpsertOneError.bind(this)),(0,d.Z)(a,mt.SAVE_UPSERT_ONE_SUCCESS,this.saveUpsertOneSuccess.bind(this)),(0,d.Z)(a,mt.ADD_ALL,this.addAll.bind(this)),(0,d.Z)(a,mt.ADD_MANY,this.addMany.bind(this)),(0,d.Z)(a,mt.ADD_ONE,this.addOne.bind(this)),(0,d.Z)(a,mt.REMOVE_ALL,this.removeAll.bind(this)),(0,d.Z)(a,mt.REMOVE_MANY,this.removeMany.bind(this)),(0,d.Z)(a,mt.REMOVE_ONE,this.removeOne.bind(this)),(0,d.Z)(a,mt.UPDATE_MANY,this.updateMany.bind(this)),(0,d.Z)(a,mt.UPDATE_ONE,this.updateOne.bind(this)),(0,d.Z)(a,mt.UPSERT_MANY,this.upsertMany.bind(this)),(0,d.Z)(a,mt.UPSERT_ONE,this.upsertOne.bind(this)),(0,d.Z)(a,mt.COMMIT_ALL,this.commitAll.bind(this)),(0,d.Z)(a,mt.COMMIT_MANY,this.commitMany.bind(this)),(0,d.Z)(a,mt.COMMIT_ONE,this.commitOne.bind(this)),(0,d.Z)(a,mt.UNDO_ALL,this.undoAll.bind(this)),(0,d.Z)(a,mt.UNDO_MANY,this.undoMany.bind(this)),(0,d.Z)(a,mt.UNDO_ONE,this.undoOne.bind(this)),(0,d.Z)(a,mt.SET_CHANGE_STATE,this.setChangeState.bind(this)),(0,d.Z)(a,mt.SET_COLLECTION,this.setCollection.bind(this)),(0,d.Z)(a,mt.SET_FILTER,this.setFilter.bind(this)),(0,d.Z)(a,mt.SET_LOADED,this.setLoaded.bind(this)),(0,d.Z)(a,mt.SET_LOADING,this.setLoading.bind(this)),a),this.adapter=t.entityAdapter,this.isChangeTracking=!0!==t.noChangeTracking,this.selectId=t.selectId,this.guard=new _0(n,this.selectId),this.toUpdate=wo(this.selectId),this.entityChangeTracker=e||new sl(this.adapter,this.selectId)}return(0,y.Z)(o,[{key:"cancelPersist",value:function(t){return this.setLoadingFalse(t)}},{key:"queryAll",value:function(t){return this.setLoadingTrue(t)}},{key:"queryAllError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"queryAllSuccess",value:function(t,e){var a=this.extractData(e),s=this.extractMergeStrategy(e);return(0,b.Z)((0,b.Z)({},this.entityChangeTracker.mergeQueryResults(a,t,s)),{},{loaded:!0,loading:!1})}},{key:"queryByKey",value:function(t,e){return this.setLoadingTrue(t)}},{key:"queryByKeyError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"queryByKeySuccess",value:function(t,e){var a=this.extractData(e),s=this.extractMergeStrategy(e);return t=null==a?t:this.entityChangeTracker.mergeQueryResults([a],t,s),this.setLoadingFalse(t)}},{key:"queryLoad",value:function(t){return this.setLoadingTrue(t)}},{key:"queryLoadError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"queryLoadSuccess",value:function(t,e){var a=this.extractData(e);return(0,b.Z)((0,b.Z)({},this.adapter.setAll(a,t)),{},{loading:!1,loaded:!0,changeState:{}})}},{key:"queryMany",value:function(t,e){return this.setLoadingTrue(t)}},{key:"queryManyError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"queryManySuccess",value:function(t,e){var a=this.extractData(e),s=this.extractMergeStrategy(e);return(0,b.Z)((0,b.Z)({},this.entityChangeTracker.mergeQueryResults(a,t,s)),{},{loaded:!0,loading:!1})}},{key:"saveAddMany",value:function(t,e){if(this.isOptimistic(e)){var a=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);t=this.entityChangeTracker.trackAddMany(a,t,s),t=this.adapter.addMany(a,t)}return this.setLoadingTrue(t)}},{key:"saveAddManyError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"saveAddManySuccess",value:function(t,e){var a=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return t=this.isOptimistic(e)?this.entityChangeTracker.mergeSaveUpserts(a,t,s):this.entityChangeTracker.mergeSaveAdds(a,t,s),this.setLoadingFalse(t)}},{key:"saveAddOne",value:function(t,e){if(this.isOptimistic(e)){var a=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);t=this.entityChangeTracker.trackAddOne(a,t,s),t=this.adapter.addOne(a,t)}return this.setLoadingTrue(t)}},{key:"saveAddOneError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"saveAddOneSuccess",value:function(t,e){var a=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);if(this.isOptimistic(e)){var u=this.toUpdate(a);t=this.entityChangeTracker.mergeSaveUpdates([u],t,s,!1)}else t=this.entityChangeTracker.mergeSaveAdds([a],t,s);return this.setLoadingFalse(t)}},{key:"saveDeleteOne",value:function(t,e){var a=this.extractData(e),s="object"==typeof a?this.selectId(a):a,u=t.changeState[s];if(u&&(u.changeType===er.Added?(t=this.adapter.removeOne(s,t),t=this.entityChangeTracker.commitOne(s,t),e.payload.skip=!0):t=this.entityChangeTracker.trackDeleteOne(s,t)),this.isOptimistic(e)){var l=this.extractMergeStrategy(e);t=this.entityChangeTracker.trackDeleteOne(s,t,l),t=this.adapter.removeOne(s,t)}return this.setLoadingTrue(t)}},{key:"saveDeleteOneError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"saveDeleteOneSuccess",value:function(t,e){var a=this.extractData(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);t=this.entityChangeTracker.mergeSaveDeletes([a],t,s)}else t=this.adapter.removeOne(a,t),t=this.entityChangeTracker.commitOne(a,t);return this.setLoadingFalse(t)}},{key:"saveDeleteMany",value:function(t,e){var a=this,s=this.extractData(e).map(function(l){return"object"==typeof l?a.selectId(l):l});if(s.forEach(function(l){var c=t.changeState[l];c&&(c.changeType===er.Added?(t=a.adapter.removeOne(l,t),t=a.entityChangeTracker.commitOne(l,t),e.payload.skip=!0):t=a.entityChangeTracker.trackDeleteOne(l,t))}),this.isOptimistic(e)){var u=this.extractMergeStrategy(e);t=this.entityChangeTracker.trackDeleteMany(s,t,u),t=this.adapter.removeMany(s,t)}return this.setLoadingTrue(t)}},{key:"saveDeleteManyError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"saveDeleteManySuccess",value:function(t,e){var a=this.extractData(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);t=this.entityChangeTracker.mergeSaveDeletes(a,t,s)}else t=this.adapter.removeMany(a,t),t=this.entityChangeTracker.commitMany(a,t);return this.setLoadingFalse(t)}},{key:"saveUpdateOne",value:function(t,e){var a=this.guard.mustBeUpdate(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);t=this.entityChangeTracker.trackUpdateOne(a,t,s),t=this.adapter.updateOne(a,t)}return this.setLoadingTrue(t)}},{key:"saveUpdateOneError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"saveUpdateOneSuccess",value:function(t,e){var a=this.guard.mustBeUpdateResponse(e),s=this.isOptimistic(e),u=this.extractMergeStrategy(e);return t=this.entityChangeTracker.mergeSaveUpdates([a],t,u,s),this.setLoadingFalse(t)}},{key:"saveUpdateMany",value:function(t,e){var a=this.guard.mustBeUpdates(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);t=this.entityChangeTracker.trackUpdateMany(a,t,s),t=this.adapter.updateMany(a,t)}return this.setLoadingTrue(t)}},{key:"saveUpdateManyError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"saveUpdateManySuccess",value:function(t,e){var a=this.guard.mustBeUpdateResponses(e),u=(this.isOptimistic(e),this.extractMergeStrategy(e));return t=this.entityChangeTracker.mergeSaveUpdates(a,t,u,!1),this.setLoadingFalse(t)}},{key:"saveUpsertOne",value:function(t,e){if(this.isOptimistic(e)){var a=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);t=this.entityChangeTracker.trackUpsertOne(a,t,s),t=this.adapter.upsertOne(a,t)}return this.setLoadingTrue(t)}},{key:"saveUpsertOneError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"saveUpsertOneSuccess",value:function(t,e){var a=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.mergeSaveUpserts([a],t,s),this.setLoadingFalse(t)}},{key:"saveUpsertMany",value:function(t,e){if(this.isOptimistic(e)){var a=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);t=this.entityChangeTracker.trackUpsertMany(a,t,s),t=this.adapter.upsertMany(a,t)}return this.setLoadingTrue(t)}},{key:"saveUpsertManyError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"saveUpsertManySuccess",value:function(t,e){var a=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.mergeSaveUpserts(a,t,s),this.setLoadingFalse(t)}},{key:"addAll",value:function(t,e){var a=this.guard.mustBeEntities(e);return(0,b.Z)((0,b.Z)({},this.adapter.setAll(a,t)),{},{loading:!1,loaded:!0,changeState:{}})}},{key:"addMany",value:function(t,e){var a=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.trackAddMany(a,t,s),this.adapter.addMany(a,t)}},{key:"addOne",value:function(t,e){var a=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.trackAddOne(a,t,s),this.adapter.addOne(a,t)}},{key:"removeMany",value:function(t,e){var a=this.guard.mustBeKeys(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.trackDeleteMany(a,t,s),this.adapter.removeMany(a,t)}},{key:"removeOne",value:function(t,e){var a=this.guard.mustBeKey(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.trackDeleteOne(a,t,s),this.adapter.removeOne(a,t)}},{key:"removeAll",value:function(t,e){return(0,b.Z)((0,b.Z)({},this.adapter.removeAll(t)),{},{loaded:!1,loading:!1,changeState:{}})}},{key:"updateMany",value:function(t,e){var a=this.guard.mustBeUpdates(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.trackUpdateMany(a,t,s),this.adapter.updateMany(a,t)}},{key:"updateOne",value:function(t,e){var a=this.guard.mustBeUpdate(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.trackUpdateOne(a,t,s),this.adapter.updateOne(a,t)}},{key:"upsertMany",value:function(t,e){var a=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.trackUpsertMany(a,t,s),this.adapter.upsertMany(a,t)}},{key:"upsertOne",value:function(t,e){var a=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.trackUpsertOne(a,t,s),this.adapter.upsertOne(a,t)}},{key:"commitAll",value:function(t){return this.entityChangeTracker.commitAll(t)}},{key:"commitMany",value:function(t,e){return this.entityChangeTracker.commitMany(this.extractData(e),t)}},{key:"commitOne",value:function(t,e){return this.entityChangeTracker.commitOne(this.extractData(e),t)}},{key:"undoAll",value:function(t){return this.entityChangeTracker.undoAll(t)}},{key:"undoMany",value:function(t,e){return this.entityChangeTracker.undoMany(this.extractData(e),t)}},{key:"undoOne",value:function(t,e){return this.entityChangeTracker.undoOne(this.extractData(e),t)}},{key:"setChangeState",value:function(t,e){var a=this.extractData(e);return t.changeState===a?t:(0,b.Z)((0,b.Z)({},t),{},{changeState:a})}},{key:"setCollection",value:function(t,e){var a=this.extractData(e);return t===a?t:a}},{key:"setFilter",value:function(t,e){var a=this.extractData(e);return t.filter===a?t:(0,b.Z)((0,b.Z)({},t),{},{filter:a})}},{key:"setLoaded",value:function(t,e){var a=!0===this.extractData(e)||!1;return t.loaded===a?t:(0,b.Z)((0,b.Z)({},t),{},{loaded:a})}},{key:"setLoading",value:function(t,e){return this.setLoadingFlag(t,this.extractData(e))}},{key:"setLoadingFalse",value:function(t){return this.setLoadingFlag(t,!1)}},{key:"setLoadingTrue",value:function(t){return this.setLoadingFlag(t,!0)}},{key:"setLoadingFlag",value:function(t,e){return t.loading===(e=!0===e)?t:(0,b.Z)((0,b.Z)({},t),{},{loading:e})}},{key:"extractData",value:function(t){return t.payload&&t.payload.data}},{key:"extractMergeStrategy",value:function(t){return this.isChangeTracking?t.payload&&t.payload.mergeStrategy:yr.IgnoreChanges}},{key:"isOptimistic",value:function(t){return t.payload&&!0===t.payload.isOptimistic}}]),o}(),cu=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.entityDefinitionService=t}return(0,y.Z)(n,[{key:"create",value:function(e){var a=this.entityDefinitionService.getDefinition(e);return new mc(e,a).methods}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Qi))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),ul=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.methodsFactory=t}return(0,y.Z)(n,[{key:"create",value:function(e){var a=this.methodsFactory.create(e);return function(u,l){var c=a[l.payload.entityOp];return c?c(u,l):u}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(cu))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),hc=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.entityCollectionReducerFactory=t,this.entityCollectionReducers={},this.entityCollectionMetaReducer=Bt.qC.apply(null,e||[])}return(0,y.Z)(n,[{key:"getOrCreateReducer",value:function(e){var a=this.entityCollectionReducers[e];return a||(a=this.entityCollectionReducerFactory.create(e),a=this.registerReducer(e,a),this.entityCollectionReducers[e]=a),a}},{key:"registerReducer",value:function(e,a){return a=this.entityCollectionMetaReducer(a),this.entityCollectionReducers[e.trim()]=a}},{key:"registerReducers",value:function(e){var a=this;(e?Object.keys(e):[]).forEach(function(u){return a.registerReducer(u,e[u])})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(ul),r.\u0275\u0275inject(qp,8))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),Xp=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.entityCollectionCreator=t,this.entityCollectionReducerRegistry=e,this.logger=a}return(0,y.Z)(n,[{key:"create",value:function(){return function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;switch(s.type){case Jn.CLEAR_COLLECTIONS:return this.clearCollectionsReducer(a,s);case Jn.LOAD_COLLECTIONS:return this.loadCollectionsReducer(a,s);case Jn.MERGE_QUERY_SET:return this.mergeQuerySetReducer(a,s);case Jn.SAVE_ENTITIES:return this.saveEntitiesReducer(a,s);case Jn.SAVE_ENTITIES_CANCEL:return this.saveEntitiesCancelReducer(a,s);case Jn.SAVE_ENTITIES_ERROR:return this.saveEntitiesErrorReducer(a,s);case Jn.SAVE_ENTITIES_SUCCESS:return this.saveEntitiesSuccessReducer(a,s);case Jn.SET_ENTITY_CACHE:return s.payload.cache}var u=s.payload;return u&&u.entityName&&u.entityOp&&!u.error?this.applyCollectionReducer(a,s):a}.bind(this)}},{key:"clearCollectionsReducer",value:function(e,a){var s=this,l=a.payload.collections,h=mt.REMOVE_ALL;return l||(l=Object.keys(e)),l.reduce(function(C,T){var N={entityName:T,entityOp:h},F={type:"[".concat(T,"] ").concat(a.type),payload:N};return s.applyCollectionReducer(C,F)},e)}},{key:"loadCollectionsReducer",value:function(e,a){var s=this,l=a.payload.collections,h=mt.ADD_ALL;return Object.keys(l).reduce(function(T,N){var F={entityName:N,entityOp:h,data:l[N]},$={type:"[".concat(N,"] ").concat(a.type),payload:F};return s.applyCollectionReducer(T,$)},e)}},{key:"mergeQuerySetReducer",value:function(e,a){var s=this,u=a.payload,l=u.mergeStrategy,c=u.querySet;l=null===l?yr.PreserveChanges:l;var C=mt.QUERY_MANY_SUCCESS;return Object.keys(c).reduce(function(N,F){var $={entityName:F,entityOp:C,data:c[F],mergeStrategy:l},se={type:"[".concat(F,"] ").concat(a.type),payload:$};return s.applyCollectionReducer(N,se)},e)}},{key:"saveEntitiesReducer",value:function(e,a){var s=this,u=a.payload,l=u.changeSet,c=u.correlationId,h=u.isOptimistic,C=u.mergeStrategy,T=u.tag;try{l.changes.forEach(function(F){var $=F.entityName,se={entityName:$,entityOp:N(F),data:F.entities,correlationId:c,isOptimistic:h,mergeStrategy:C,tag:T},ue={type:"[".concat($,"] ").concat(a.type),payload:se};if(e=s.applyCollectionReducer(e,ue),ue.payload.error)throw ue.payload.error})}catch(F){a.payload.error=F}return e;function N(F){switch(F.op){case ti.Add:return mt.SAVE_ADD_MANY;case ti.Delete:return mt.SAVE_DELETE_MANY;case ti.Update:return mt.SAVE_UPDATE_MANY;case ti.Upsert:return mt.SAVE_UPSERT_MANY}}}},{key:"saveEntitiesCancelReducer",value:function(e,a){return this.clearLoadingFlags(e,a.payload.entityNames||[])}},{key:"saveEntitiesErrorReducer",value:function(e,a){var l=a.payload.originalAction.payload.changeSet.changes.map(function(c){return c.entityName});return this.clearLoadingFlags(e,l)}},{key:"saveEntitiesSuccessReducer",value:function(e,a){var s=this,u=a.payload,c=u.correlationId,h=u.isOptimistic,C=u.mergeStrategy,T=u.tag;return u.changeSet.changes.forEach(function(F){var $=F.entityName,se={entityName:$,entityOp:N(F),data:F.entities,correlationId:c,isOptimistic:h,mergeStrategy:C,tag:T},ue={type:"[".concat($,"] ").concat(a.type),payload:se};e=s.applyCollectionReducer(e,ue)}),e;function N(F){switch(F.op){case ti.Add:return mt.SAVE_ADD_MANY_SUCCESS;case ti.Delete:return mt.SAVE_DELETE_MANY_SUCCESS;case ti.Update:return mt.SAVE_UPDATE_MANY_SUCCESS;case ti.Upsert:return mt.SAVE_UPSERT_MANY_SUCCESS}}}},{key:"applyCollectionReducer",value:function(){var c,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,s=a.payload.entityName,u=e[s],l=this.entityCollectionReducerRegistry.getOrCreateReducer(s);try{c=l(u||this.entityCollectionCreator.create(s),a)}catch(h){this.logger.error(h),a.payload.error=h}return a.payload.error||u===c?e:(0,b.Z)((0,b.Z)({},e),{},(0,d.Z)({},s,c))}},{key:"clearLoadingFlags",value:function(e,a){var s=!1;return a.forEach(function(u){var l=e[u];l.loading&&(s||(e=(0,b.Z)({},e),s=!0),e[u]=(0,b.Z)((0,b.Z)({},l),{},{loading:!1}))}),e}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(bs),r.\u0275\u0275inject(hc),r.\u0275\u0275inject(su))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),xn=function(){var o=function(){function n(){(0,f.Z)(this,n)}return(0,y.Z)(n,[{key:"error",value:function(e,a){e&&(a?console.error(e,a):console.error(e))}},{key:"log",value:function(e,a){e&&(a?console.log(e,a):console.log(e))}},{key:"warn",value:function(e,a){e&&(a?console.warn(e,a):console.warn(e))}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),gc=["equipment","information","money","series"],vc=function(){var o=function(){function n(t){var e=this;(0,f.Z)(this,n),this.pluralNames={},t&&t.forEach(function(a){return e.registerPluralNames(a)})}return(0,y.Z)(n,[{key:"pluralize",value:function(e){return this.pluralNames[e]||(gc.indexOf(e.toLowerCase())>=0?e:/[aeiou]y$/.test(e)?e+"s":e.endsWith("y")?e.substring(0,e.length-1)+"ies":/[s|ss|sh|ch|x|z]$/.test(e)?e+"es":e+"s")}},{key:"registerPluralNames",value:function(e){this.pluralNames=(0,b.Z)((0,b.Z)({},this.pluralNames),e||{})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Zp,8))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),Uo=[sc,ol,ys,Hp,Xp,cc,bs,ul,cu,hc,Yi,Gn,Qi,li,fc,On,$i,{provide:uc,useValue:lu},{provide:Dr,useClass:yi},{provide:su,useClass:xn},{provide:r.ENVIRONMENT_INITIALIZER,multi:!0,useValue:function(){return function ll(){var o=(0,r.inject)(Bt.PB),n=(0,r.inject)(Xp),t=(0,r.inject)(uc,{optional:!0}),e=(0,r.inject)(T0,{optional:!0}),a=(0,r.inject)(D0,{optional:!0}),s=t||lu,u=(a||[]).map(function(h){return h instanceof r.InjectionToken?(0,r.inject)(h):h}),l="function"==typeof e?e():e,c={key:s,reducers:n.create(),reducerFactory:Bt.UY,initialState:l||{},metaReducers:u};o.addFeature(c)}()}}],xc=[oc,Up,al,ka,jo,{provide:P0,useClass:A0},{provide:zp,useClass:k0},{provide:uu,useClass:vc},{provide:r.ENVIRONMENT_INITIALIZER,multi:!0,useValue:function(){return function bc(){var o=(0,r.inject)(Yu),n=(0,r.inject)(ka),t=(0,r.inject)(jo);o.addEffects(n),o.addEffects(t)}()}}];function Ra(o){return[{provide:D0,useValue:o.entityCacheMetaReducers?o.entityCacheMetaReducers:[]},{provide:qp,useValue:o.entityCollectionMetaReducers?o.entityCollectionMetaReducers:[]},{provide:Zp,multi:!0,useValue:o.pluralNames?o.pluralNames:{}},{provide:jp,multi:!0,useValue:o.entityMetadata?o.entityMetadata:[]}]}var Cc=function(){var o=function(){function n(){(0,f.Z)(this,n)}return(0,y.Z)(n,null,[{key:"forRoot",value:function(e){return{ngModule:n,providers:[Ra(e)]}}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({providers:[Uo]}),o}(),ga=function(){var o=function(){function n(){(0,f.Z)(this,n)}return(0,y.Z)(n,null,[{key:"forRoot",value:function(e){return{ngModule:n,providers:[Ra(e)]}}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({providers:[xc],imports:[Cc]}),o}(),Ui=function(){return(Ui=Ui||{}).Login="[Auth] Login",Ui.Logout="[Auth] Logout",Ui.CompleteAuthentication="[Auth] CompleteAuthentication",Ui.SetUser="[Auth] SetUser",Ui}(),cl=(0,y.Z)(function o(){(0,f.Z)(this,o),this.type=Ui.Login}),Jp=(0,y.Z)(function o(){(0,f.Z)(this,o),this.type=Ui.Logout}),wc=(0,y.Z)(function o(){(0,f.Z)(this,o),this.type=Ui.CompleteAuthentication}),Sc=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.payload=n,this.type=Ui.SetUser}),pu=Object.freeze({__proto__:null,get AuthActionTypes(){return Ui},CompleteAuthentication:wc,Login:cl,Logout:Jp,SetUser:Sc,fromAuthActions:{Login:cl,Logout:Jp,CompleteAuthentication:wc,SetUser:Sc}}),ef={user:void 0,cookies:new Map};function dl(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ef,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Ui.SetUser:o=(0,b.Z)((0,b.Z)({},o),{},{user:n.payload});break;case Ui.Logout:o=(0,b.Z)((0,b.Z)({},o),{},{user:void 0})}return o}var A2=(0,Bt.ZF)("auth"),O0=(0,Bt.P1)(A2,function(o){return o.user}),pl={getUser:O0},_i=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.store=t,this.getUser$=this.store.pipe((0,Bt.Ys)(pl.getUser)),this.token$=this.store.pipe((0,Bt.Ys)(pl.getUser),(0,Ce.U)(function(e){return e?"".concat(e.token_type," ").concat(e.access_token):void 0})),this.idToken$=this.store.pipe((0,Bt.Ys)(pl.getUser),(0,Ce.U)(function(e){return e?"".concat(e.token_type," ").concat(e.id_token):void 0}))}return(0,y.Z)(n,[{key:"login",value:function(){this.store.dispatch(new cl)}},{key:"logout",value:function(){this.store.dispatch(new Jp)}},{key:"setUser",value:function(e){this.store.dispatch(new Sc(e))}},{key:"completeAuthentication",value:function(){this.store.dispatch(new wc)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Bt.yh))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),k2={PublicUserProfile:{entityName:"PublicUserProfile"}},R2=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.authFacade=t,this.router=e,this.route=a,this.platformId=s}return(0,y.Z)(n,[{key:"ngOnInit",value:(t=Zt((0,qe.Z)().mark(function a(){return(0,qe.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:this.authFacade.completeAuthentication(),this.router.navigate(["/pages/create-panel-page"],{queryParams:{cacheBuster:vr()}});case 2:case"end":return u.stop()}},a,this)})),function e(){return t.apply(this,arguments)})}]),n;var t}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(_i),r.\u0275\u0275directiveInject(dr.Router),r.\u0275\u0275directiveInject(dr.ActivatedRoute),r.\u0275\u0275directiveInject(r.PLATFORM_ID))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-auth-callback"]],decls:2,vars:0,template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"p"),r.\u0275\u0275text(1,"auth-callback works!"),r.\u0275\u0275elementEnd())}}),o}(),so=function(){var o=function(){function n(t){(0,f.Z)(this,n),t.registerMetadataMap(k2)}return(0,y.Z)(n,null,[{key:"forRoot",value:function(){return{ngModule:n,providers:[_i]}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Qi))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule,Bt.Aw.forFeature("auth",dl)]}),o}(),D2=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.authFacade=t,this.router=e}return(0,y.Z)(n,[{key:"intercept",value:function(e,a){return a.handle(e).pipe((0,te.b)({error:function(u){}}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(_i),r.\u0275\u0275inject(dr.Router))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),Pc=S(7478),M0=S(80464),Go=S(72578),tf=new r.InjectionToken("REQUEST"),st=(new r.InjectionToken("RESPONSE"),S(32673)),Da=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.authority=n.authority,this.client_id=n.client_id,this.redirect_uri=n.redirect_uri,this.silent_redirect_uri=n.silent_redirect_uri,this.response_type=n.response_type,this.scope=n.scope,this.filterProtocolClaims=n.filterProtocolClaims,this.loadUserInfo=n.loadUserInfo,this.automaticSilentRenew=n.automaticSilentRenew,this.metadata=(0,b.Z)({},n.metadata),this.userStore=n.userStore?n.userStore:void 0,this.stateStore=n.userStore?n.stateStore:void 0)}),fl=(0,B.makeStateKey)("auth"),nf=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.clientSettings=t,this.platformId=e,this.transferState=a,this.data={},this.isBrowser=(0,P.isPlatformBrowser)(this.platformId),this.cookieMap={oa:"access_token",oi:"id_token",or:"refresh_token",os:"scope",oe:"expires_at",op:"profile"},this.tokenKey="oidc.user:".concat(this.clientSettings.authority,":").concat(this.clientSettings.client_id)}return(0,y.Z)(n,[{key:"request",set:function(e){this.req=e}},{key:"init",value:function(){var e=this;if(this.isBrowser)if(sessionStorage.getItem(this.tokenKey))this.setItem(this.tokenKey,sessionStorage.getItem(this.tokenKey));else if(this.transferState.hasKey(fl)){var a=this.transferState.get(fl,void 0);a&&this.setItem(this.tokenKey,a)}else for(var s=0;s<sessionStorage.length;s++){var u=sessionStorage.key(s);this.setItem(u,sessionStorage.getItem(u))}else{var c,l={token_type:"Bearer"};Object.getOwnPropertyNames(this.cookieMap).forEach(function(h){var C=e.getCookie(h);C&&""!==C&&(C=e.translateFromCookieValue(h,C),"oe"===h?c=C:l[e.cookieMap[h]]=C)}),l.access_token&&(this.data[this.tokenKey]=JSON.stringify(l),this.transferState.set(fl,JSON.stringify((0,b.Z)((0,b.Z)({},l),{},{expires_at:c}))))}}},{key:"getItem",value:function(e){return this.data[e]}},{key:"setItem",value:function(e,a){var s=this;if(e===this.tokenKey){var u=JSON.parse(a);Object.getOwnPropertyNames(this.cookieMap).forEach(function(l){s.setCookie(l,s.translateCookieValue(l,u[s.cookieMap[l]]))})}this.isBrowser&&sessionStorage.setItem(e,a),this.data[e]=a}},{key:"removeItem",value:function(e){this.removeCookie(e),this.isBrowser&&sessionStorage.removeItem(e),delete this.data[e]}},{key:"length",get:function(){return Object.getOwnPropertyNames(this.data).length}},{key:"key",value:function(e){return console.log("index()"),Object.getOwnPropertyNames(this.data)[e]}},{key:"getCookie",value:function(e){return this.isBrowser?Pc.get(e):this.req?null!==(a=this.req.cookies[e])&&void 0!==a?a:"":void 0;var a}},{key:"setCookie",value:function(e,a){this.isBrowser&&Pc.set(e,a)}},{key:"removeCookie",value:function(e){this.isBrowser&&Pc.remove(e)}},{key:"translateCookieValue",value:function(e,a){switch(e){case"os":return a.split(" ").join("|");case"oe":return"".concat(a);case"op":return JSON.stringify(a);default:return a}}},{key:"translateFromCookieValue",value:function(e,a){switch(e){case"os":return a.split("|").join(" ");case"oe":return(0,M0.He)(a);case"op":return JSON.parse(a);default:return a}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Da),r.\u0275\u0275inject(Object),r.\u0275\u0275inject(B.TransferState))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),ws=function(n,t){return new Go.UserManager(new Da((0,b.Z)((0,b.Z)({},n),{},{stateStore:new Go.WebStorageStateStore({store:t}),userStore:new Go.WebStorageStateStore({store:t})})))},Ac=function(n,t,e){return function(){return new Promise(function(a){n.getUser().then(function(s){s?(t.setUser(s),setTimeout(function(){return a()})):a()})})}},Ho=function(n,t,e,a){var s=new nf(n,t,a);if((0,P.isPlatformServer)(t))try{s.request=e.get(tf)}catch{}return s.init(),s},rf=function(){var o=(0,y.Z)(function n(t,e,a){var s=this;(0,f.Z)(this,n),this.actions$=t,this.userManager=e,this.entityActionFactory=a,this.login$=vi(function(){return s.actions$.pipe(Ga(pu.AuthActionTypes.Login),(0,te.b)(function(){s.userManager.signinRedirect()}))},{dispatch:!1}),this.logout$=vi(function(){return s.actions$.pipe(Ga(pu.AuthActionTypes.Logout),(0,te.b)(function(){s.userManager.signoutRedirect()}))},{dispatch:!1}),this.completeAuthentication$=vi(function(){return s.actions$.pipe(Ga(pu.AuthActionTypes.CompleteAuthentication),(0,st.w)(function(){return new W.y(function(u){s.userManager.signinRedirectCallback().then(function(l){u.next(new pu.SetUser(l)),u.complete()})})}))}),this.loadCookies$=vi(function(){return s.actions$.pipe(tl("Cookie"),io([mt.QUERY_ALL_SUCCESS]),(0,te.b)(function(u){return console.log(u.payload.data)}),(0,te.b)(function(u){}))},{dispatch:!1})});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(to),r.\u0275\u0275inject(Go.UserManager),r.\u0275\u0275inject(ys))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),af={Cookie:{entityName:"Cookie"}},sf=new r.InjectionToken("ClientSettings"),N0=function(){var o=function(){function n(t){(0,f.Z)(this,n),t.registerMetadataMap(af)}return(0,y.Z)(n,null,[{key:"forRoot",value:function(){return{ngModule:n,providers:[{provide:nf,useFactory:Ho,deps:[sf,r.PLATFORM_ID,r.Injector,B.TransferState]},{provide:Go.UserManager,useFactory:ws,deps:[sf,nf]},{provide:r.APP_INITIALIZER,useFactory:Ac,multi:!0,deps:[Go.UserManager,_i,r.PLATFORM_ID]}]}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Qi))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[so,ou.forFeature([rf])]}),o}(),Ss=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.authFacade=t}return(0,y.Z)(n,[{key:"intercept",value:function(e,a){return this.authFacade.idToken$.pipe((0,An.q)(1),(0,Zi.b)(function(s){var u=e.headers;if(e.url.indexOf("/awproxy"),s&&-1===e.url.indexOf("github")&&-1===e.url.indexOf("cloudfront")&&-1===e.url.indexOf("cloudinary")&&-1===e.url.indexOf("carquery")&&-1===e.url.indexOf("gateway.marvel.com")&&-1===e.url.indexOf("hereapi.com")&&-1===e.url.indexOf(".es.")&&-1===e.url.indexOf(".s3.")&&-1===e.url.indexOf("/awproxy")){u=u.set("Authorization",s);var l=e.clone({headers:u});return a.handle(l)}var c=e.clone({headers:u});return a.handle(c)}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(_i))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),pn=S(31348),$n=S(91640),kc=S(14423),uf=S(5463);function Rc(o,n){var t="object"==typeof n;return new Promise(function(e,a){var s=new uf.Hp({next:function(l){e(l),s.unsubscribe()},error:a,complete:function(){t?e(n.defaultValue):a(new kc.K)}});o.subscribe(s)})}var lf=function(){var o=(0,y.Z)(function n(t,e){var a=this;(0,f.Z)(this,n),this.actions$=t,this.entityActionFactory=e,this.setUser=vi(function(){return a.actions$.pipe(Ga(pu.AuthActionTypes.SetUser),(0,Ce.U)(function(){return a.entityActionFactory.create("Cookie",mt.QUERY_ALL)}))}),this.loadCookies$=vi(function(){return a.actions$.pipe(tl("Cookie"),io([mt.QUERY_ALL_SUCCESS]),(0,te.b)(function(s){return console.log(s.payload.data)}),(0,te.b)(function(s){s.payload.data.forEach(function(u){return Pc.set(u.name,u.value,{expires:new Date((new Date).getTime()+36e5)})})}))},{dispatch:!1})});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(to),r.\u0275\u0275inject(ys))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),cf=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[ou.forFeature([lf])]}),o}(),ml=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.identityPoolId=n.identityPoolId,this.region=n.region,this.userPoolId=n.userPoolId)}),Dc=new r.InjectionToken("CognitoSettings");function uo(o){var n,t,e,a=2;for(typeof Symbol<"u"&&(t=Symbol.asyncIterator,e=Symbol.iterator);a--;){if(t&&null!=(n=o[t]))return n.call(o);if(e&&null!=(n=o[e]))return new Tc(n.call(o));t="@@asyncIterator",e="@@iterator"}throw new TypeError("Object is not async iterable")}function Tc(o){function n(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then(function(a){return{value:a,done:e}})}return(Tc=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(e){var a=this.s.return;return void 0===a?Promise.resolve({value:e,done:!0}):n(a.apply(this.s,arguments))},throw:function(e){var a=this.s.return;return void 0===a?Promise.reject(e):n(a.apply(this.s,arguments))}},new Tc(o)}var V0=function(){function o(){(0,f.Z)(this,o),this.onabort=null,this._aborted=!1,Object.defineProperty(this,"_aborted",{value:!1,writable:!0})}return(0,y.Z)(o,[{key:"aborted",get:function(){return this._aborted}},{key:"abort",value:function(){this._aborted=!0,this.onabort&&(this.onabort(this),this.onabort=null)}}]),o}(),I2=function(){function o(){(0,f.Z)(this,o),this.signal=new V0}return(0,y.Z)(o,[{key:"abort",value:function(){this.signal.abort()}}]),o}(),p=function(){var o=Zt((0,qe.Z)().mark(function n(t){var e;return(0,qe.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=t?.Bucket||"","string"==typeof t.Bucket&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),!Ue(e)){s.next=7;break}if(!0!==t.ForcePathStyle){s.next=5;break}throw new Error("Path-style addressing cannot be used with ARN buckets");case 5:s.next=8;break;case 7:(!ke(e)||-1!==e.indexOf(".")&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);case 8:return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),s.abrupt("return",t);case 10:case"end":return s.stop()}},n)}));return function(t){return o.apply(this,arguments)}}(),m=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,w=/(\d+\.){3}\d+/,q=/\.\./,ke=function(n){return m.test(n)&&!w.test(n)&&!q.test(n)},Ue=function(n){var t=n.split(":"),e=(0,g.Z)(t,6),a=e[0],s=e[1],u=e[2],c=e[4],h=e[5],C="arn"===a&&n.split(":").length>=6,T=5===[a,s,u,c,h].filter(Boolean).length;if(C&&!T)throw new Error("Invalid ARN: ".concat(n," was an invalid ARN."));return!!("arn"===a&&s&&u&&c&&h)},xt=function(n,t,e){var a=function(){var s=Zt((0,qe.Z)().mark(function u(){var l,c;return(0,qe.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if("function"!=typeof(c=null!==(l=e[n])&&void 0!==l?l:e[t])){C.next=3;break}return C.abrupt("return",c());case 3:return C.abrupt("return",c);case 4:case"end":return C.stop()}},u)}));return function(){return s.apply(this,arguments)}}();return"endpoint"===n||"endpoint"===t?Zt((0,qe.Z)().mark(function s(){var u,c,h,C;return(0,qe.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,a();case 2:if(!(u=N.sent)||"object"!=typeof u){N.next=9;break}if(!("url"in u)){N.next=6;break}return N.abrupt("return",u.url.href);case 6:if(!("hostname"in u)){N.next=9;break}return c=u.hostname,h=u.port,C=u.path,N.abrupt("return","".concat(u.protocol,"//").concat(c).concat(h?":"+h:"").concat(C));case 9:return N.abrupt("return",u);case 10:case"end":return N.stop()}},s)})):a},Mt=function(){var o=Zt((0,qe.Z)().mark(function n(t,e,a,s){var u,l;return(0,qe.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Ht(t,e,a);case 2:if(u=h.sent,"function"==typeof a.endpointProvider){h.next=5;break}throw new Error("config.endpointProvider is not set.");case 5:return l=a.endpointProvider(u,s),h.abrupt("return",l);case 7:case"end":return h.stop()}},n)}));return function(t,e,a,s){return o.apply(this,arguments)}}(),Ht=function(){var o=Zt((0,qe.Z)().mark(function n(t,e,a){var s,u,l,c,h,C,T,N;return(0,qe.Z)().wrap(function($){for(;;)switch($.prev=$.next){case 0:u={},l=(null==e||null===(s=e.getEndpointParameterInstructions)||void 0===s?void 0:s.call(e))||{},c=0,h=Object.entries(l);case 3:if(!(c<h.length)){$.next=20;break}C=(0,g.Z)(h[c],2),T=C[0],$.t0=(N=C[1]).type,$.next="staticContextParams"===$.t0?8:"contextParams"===$.t0?10:"clientContextParams"===$.t0||"builtInParams"===$.t0?12:16;break;case 8:return u[T]=N.value,$.abrupt("break",17);case 10:return u[T]=t[N.name],$.abrupt("break",17);case 12:return $.next=14,xt(N.name,T,a)();case 14:return u[T]=$.sent,$.abrupt("break",17);case 16:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(N));case 17:c++,$.next=3;break;case 20:if(0===Object.keys(l).length&&Object.assign(u,a),"s3"!==String(a.serviceId).toLowerCase()){$.next=24;break}return $.next=24,p(u);case 24:return $.abrupt("return",u);case 25:case"end":return $.stop()}},n)}));return function(t,e,a){return o.apply(this,arguments)}}(),bn=function o(n){if("string"==typeof n)return o(new URL(n));var l,t=n.hostname,e=n.pathname,a=n.port,s=n.protocol,u=n.search;return u&&(l=function yn(o){var n={};if(o=o.replace(/^\?/,"")){var e,t=(0,ee.Z)(o.split("&"));try{for(t.s();!(e=t.n()).done;){var s=e.value.split("="),u=(0,g.Z)(s,2),l=u[0],c=u[1],h=void 0===c?null:c;l=decodeURIComponent(l),h&&(h=decodeURIComponent(h)),l in n?Array.isArray(n[l])?n[l].push(h):n[l]=[n[l],h]:n[l]=h}}catch(C){t.e(C)}finally{t.f()}}return n}(u)),{hostname:t,port:a?parseInt(a):void 0,protocol:s,path:e,query:l}},sr=function(n){return"object"==typeof n?"url"in n?bn(n.url):n:bn(n)},St={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},ht={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function It(o,n,t){return{applyToStack:function(a){a.add(function(n,t){return function(e,a){return function(){var s=Zt((0,qe.Z)().mark(function u(l){var h;return(0,qe.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,e(l);case 2:return h=F.sent.response,F.prev=4,F.next=7,t(h,n);case 7:return F.abrupt("return",{response:h,output:F.sent});case 11:throw F.prev=11,F.t0=F.catch(4),Object.defineProperty(F.t0,"$response",{value:h}),"$metadata"in F.t0||(F.t0.message+="\n  Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object."),F.t0;case 16:case"end":return F.stop()}},u,null,[[4,11]])}));return function(u){return s.apply(this,arguments)}}()}}(o,t),St),a.add(function(n,t){return function(e,a){return function(){var s=Zt((0,qe.Z)().mark(function u(l){var c,h,C;return(0,qe.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(h=null!==(c=a.endpointV2)&&void 0!==c&&c.url&&n.urlParser?Zt((0,qe.Z)().mark(function F(){return(0,qe.Z)().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.abrupt("return",n.urlParser(a.endpointV2.url));case 1:case"end":return se.stop()}},F)})):n.endpoint){N.next=3;break}throw new Error("No valid endpoint provider available.");case 3:return N.next=5,t(l.input,(0,b.Z)((0,b.Z)({},n),{},{endpoint:h}));case 5:return C=N.sent,N.abrupt("return",e((0,b.Z)((0,b.Z)({},l),{},{request:C})));case 7:case"end":return N.stop()}},u)}));return function(u){return s.apply(this,arguments)}}()}}(o,n),ht)}}}var rn={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:ht.name},dn=function(n,t){return{applyToStack:function(a){a.addRelativeTo(function(n){var t=n.config,e=n.instructions;return function(a,s){return function(){var u=Zt((0,qe.Z)().mark(function l(c){var h,C,T,N;return(0,qe.Z)().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,Mt(c.input,{getEndpointParameterInstructions:function(){return e}},(0,b.Z)({},t),s);case 2:return s.endpointV2=T=$.sent,s.authSchemes=null===(h=T.properties)||void 0===h?void 0:h.authSchemes,(N=null===(C=s.authSchemes)||void 0===C?void 0:C[0])&&(s.signing_region=N.signingRegion,s.signing_service=N.signingName),$.abrupt("return",a((0,b.Z)({},c)));case 8:case"end":return $.stop()}},l)}));return function(l){return u.apply(this,arguments)}}()}}({config:n,instructions:t}),rn)}}},_n=function(n){if("function"==typeof n)return n;var t=Promise.resolve(n);return function(){return t}},nr=function(n){var t,e,a,s=null===(t=n.tls)||void 0===t||t,u=n.endpoint,l=null!=u?Zt((0,qe.Z)().mark(function h(){return(0,qe.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.t0=sr,T.next=3,_n(u)();case 3:return T.t1=T.sent,T.abrupt("return",(0,T.t0)(T.t1));case 5:case"end":return T.stop()}},h)})):void 0,c=!!u;return(0,b.Z)((0,b.Z)({},n),{},{endpoint:l,tls:s,isCustomEndpoint:c,useDualstackEndpoint:_n(null!==(e=n.useDualstackEndpoint)&&void 0!==e&&e),useFipsEndpoint:_n(null!==(a=n.useFipsEndpoint)&&void 0!==a&&a)})},rr=function(){function o(n){(0,f.Z)(this,o),this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?":"!==n.protocol.slice(-1)?"".concat(n.protocol,":"):n.protocol:"https:",this.path=n.path?"/"!==n.path.charAt(0)?"/".concat(n.path):n.path:"/",this.username=n.username,this.password=n.password,this.fragment=n.fragment}return(0,y.Z)(o,[{key:"clone",value:function(){var t=new o((0,b.Z)((0,b.Z)({},this),{},{headers:(0,b.Z)({},this.headers)}));return t.query&&(t.query=function Wn(o){return Object.keys(o).reduce(function(n,t){var e=o[t];return(0,b.Z)((0,b.Z)({},n),{},(0,d.Z)({},t,Array.isArray(e)?(0,_.Z)(e):e))},{})}(t.query)),t}}],[{key:"isInstance",value:function(t){return!!t&&("method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers)}}]),o}(),_r=function(){return(_r=_r||{}).MD5="MD5",_r.CRC32="CRC32",_r.CRC32C="CRC32C",_r.SHA1="SHA1",_r.SHA256="SHA256",_r}(),O2=[_r.CRC32,_r.CRC32C,_r.SHA1,_r.SHA256],pF=[_r.CRC32,_r.CRC32C,_r.SHA1,_r.SHA256],fF=function(n,t){var a=t.requestAlgorithmMember;if(!a||!n[a])return t.requestChecksumRequired?_r.MD5:void 0;var s=n[a];if(!O2.includes(s))throw new Error('The checksum algorithm "'.concat(s,'" is not supported by the client.')+" Select one of ".concat(O2,"."));return s},wk=function(n){return n===_r.MD5?"content-md5":"x-amz-checksum-".concat(n.toLowerCase())},mF=function(n,t){for(var e=n.toLowerCase(),a=0,s=Object.keys(t);a<s.length;a++)if(e===s[a].toLowerCase())return!0;return!1},Sk=function(n){return"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(n)},Ek=function(n){return void 0!==n&&"string"!=typeof n&&!ArrayBuffer.isView(n)&&!Sk(n)},hF=S(42562),gF=S(25423),Pk=function(n,t){var e;return(e={},(0,d.Z)(e,_r.MD5,t.md5),(0,d.Z)(e,_r.CRC32,hF.AwsCrc32),(0,d.Z)(e,_r.CRC32C,gF.AwsCrc32c),(0,d.Z)(e,_r.SHA1,t.sha1),(0,d.Z)(e,_r.SHA256,t.sha256),e)[n]},df=function(n){return(new TextEncoder).encode(n)},Ic=function(n){return"string"==typeof n?df(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n)},Ak=function(n,t){var e=new n;return e.update(Ic(t||"")),e.digest()},vF=function(){var o=Zt(function(n,t){var e=t.streamHasher,a=t.checksumAlgorithmFn,s=t.base64Encoder;return(0,qe.Z)().mark(function u(){var l;return(0,qe.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return l=Ek(n)?e(a,n):Ak(a,n),h.t0=s,h.next=4,l;case 4:return h.t1=h.sent,h.abrupt("return",(0,h.t0)(h.t1));case 6:case"end":return h.stop()}},u)})()});return function(t,e){return o.apply(this,arguments)}}(),yF=function(){var a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],e=(0,ee.Z)(pF);try{for(e.s();!(a=e.n()).done;){var s=a.value;!n.includes(s)||!O2.includes(s)||t.push(s)}}catch(u){e.e(u)}finally{e.f()}return t},_F=function(){var o=Zt(function(n,t){var e=t.config,a=t.responseAlgorithms;return(0,qe.Z)().mark(function s(){var u,l,c,h,C,T,N,F,$,se,ue,ge;return(0,qe.Z)().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:u=yF(a),l=n.body,c=n.headers,h=(0,ee.Z)(u),we.prev=3,h.s();case 5:if((C=h.n()).done){we.next=20;break}if(N=wk(T=C.value),!(F=c[N])){we.next=18;break}return $=Pk(T,e),se=e.streamHasher,ue=e.base64Encoder,we.next=14,vF(l,{streamHasher:se,checksumAlgorithmFn:$,base64Encoder:ue});case 14:if((ge=we.sent)!==F){we.next=17;break}return we.abrupt("break",20);case 17:throw new Error('Checksum mismatch: expected "'.concat(ge,'" but received "').concat(F,'"')+' in response header "'.concat(N,'".'));case 18:we.next=5;break;case 20:we.next=25;break;case 22:we.prev=22,we.t0=we.catch(3),h.e(we.t0);case 25:return we.prev=25,h.f(),we.finish(25);case 28:case"end":return we.stop()}},s,null,[[3,22,25,28]])})()});return function(t,e){return o.apply(this,arguments)}}(),bF={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},F2=function(n,t){return{applyToStack:function(a){a.add(function(n,t){return function(e){return function(){var a=Zt((0,qe.Z)().mark(function s(u){var l,c,h,C,T,N,se,ue,ge,Se,we,dt,Ot,pt,Lt;return(0,qe.Z)().wrap(function(tn){for(;;)switch(tn.prev=tn.next){case 0:if(rr.isInstance(u.request)){tn.next=2;break}return tn.abrupt("return",e(u));case 2:if(c=(l=u.request).body,h=l.headers,C=n.base64Encoder,T=n.streamHasher,se=fF(N=t.input,{requestChecksumRequired:t.requestChecksumRequired,requestAlgorithmMember:t.requestAlgorithmMember}),ue=c,ge=h,!se){tn.next=24;break}if(Se=wk(se),we=Pk(se,n),!Ek(c)){tn.next=19;break}ue=(0,n.getAwsChunkedEncodingStream)(c,{base64Encoder:C,bodyLengthChecker:n.bodyLengthChecker,checksumLocationName:Se,checksumAlgorithmFn:we,streamHasher:T}),delete(ge=(0,b.Z)((0,b.Z)({},h),{},{"content-encoding":h["content-encoding"]?"".concat(h["content-encoding"],",aws-chunked"):"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":h["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":Se}))["content-length"],tn.next=24;break;case 19:if(mF(Se,h)){tn.next=24;break}return tn.next=22,Ak(we,c);case 22:dt=tn.sent,ge=(0,b.Z)((0,b.Z)({},h),{},(0,d.Z)({},Se,C(dt)));case 24:return tn.next=26,e((0,b.Z)((0,b.Z)({},u),{},{request:(0,b.Z)((0,b.Z)({},l),{},{headers:ge,body:ue})}));case 26:return Ot=tn.sent,Lt=t.responseAlgorithms,(pt=t.requestValidationModeMember)&&"ENABLED"===N[pt]&&_F(Ot.response,{config:n,responseAlgorithms:Lt}),tn.abrupt("return",Ot);case 30:case"end":return tn.stop()}},s)}));return function(s){return a.apply(this,arguments)}}()}}(n,t),bF)}}},SF={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},pf=function(){function o(n){(0,f.Z)(this,o),this.statusCode=n.statusCode,this.reason=n.reason,this.headers=n.headers||{},this.body=n.body}return(0,y.Z)(o,null,[{key:"isInstance",value:function(t){return!!t&&("number"==typeof t.statusCode&&"object"==typeof t.headers)}}]),o}(),kk=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,t=arguments.length>1?arguments[1]:void 0;return n instanceof Uint8Array?Promise.resolve(n):t.streamCollector(n)||Promise.resolve(new Uint8Array)},kF=function(n,t){return kk(n,t).then(function(e){return t.utf8Encoder(e)})},RF={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},TF=function(n){return"string"==typeof n&&0===n.indexOf("arn:")&&n.split(":").length>=6},OF={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},NF={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},B0=function(n){return{applyToStack:function(e){e.add(function MF(o){return function(n){return function(){var t=Zt((0,qe.Z)().mark(function e(a){var s,l,c,h,C,T,N,F,$;return(0,qe.Z)().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:s=(0,b.Z)({},a.input),l=0,c=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];case 3:if(!(l<c.length)){ue.next=30;break}if(!(C=s[(h=c[l]).target])){ue.next=27;break}return N=ArrayBuffer.isView(C)?new Uint8Array(C.buffer,C.byteOffset,C.byteLength):"string"==typeof C?o.utf8Decoder(C):new Uint8Array(C),F=o.base64Encoder(N),($=new o.md5).update(N),ue.t0=b.Z,ue.t1=(0,b.Z)({},s),ue.t2={},(0,d.Z)(T={},h.target,F),ue.t3=d.Z,ue.t4=T,ue.t5=h.hash,ue.t6=o,ue.next=22,$.digest();case 22:ue.t7=ue.sent,ue.t8=ue.t6.base64Encoder.call(ue.t6,ue.t7),(0,ue.t3)(ue.t4,ue.t5,ue.t8),ue.t9=T,s=(0,ue.t0)(ue.t1,ue.t2,ue.t9);case 27:l++,ue.next=3;break;case 30:return ue.abrupt("return",n((0,b.Z)((0,b.Z)({},a),{},{input:s})));case 31:case"end":return ue.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()}}(n),NF)}}},Rk=function(){function o(){(0,f.Z)(this,o)}return(0,y.Z)(o,[{key:"trace",value:function(){}},{key:"debug",value:function(){}},{key:"info",value:function(){}},{key:"warn",value:function(){}},{key:"error",value:function(){}}]),o}(),Dk=function o(){var n=[],t=[],e=new Set,l=function(N){return n.forEach(function(F){N.add(F.middleware,(0,b.Z)({},F))}),t.forEach(function(F){N.addRelativeTo(F.middleware,(0,b.Z)({},F))}),N},c=function T(N){var F=[];return N.before.forEach(function($){0===$.before.length&&0===$.after.length?F.push($):F.push.apply(F,(0,_.Z)(T($)))}),F.push(N),N.after.reverse().forEach(function($){0===$.before.length&&0===$.after.length?F.push($):F.push.apply(F,(0,_.Z)(T($)))}),F},h=function(){var N=arguments.length>0&&void 0!==arguments[0]&&arguments[0],F=[],$=[],se={};n.forEach(function(ge){var Se=(0,b.Z)((0,b.Z)({},ge),{},{before:[],after:[]});Se.name&&(se[Se.name]=Se),F.push(Se)}),t.forEach(function(ge){var Se=(0,b.Z)((0,b.Z)({},ge),{},{before:[],after:[]});Se.name&&(se[Se.name]=Se),$.push(Se)}),$.forEach(function(ge){if(ge.toMiddleware){var Se=se[ge.toMiddleware];if(void 0===Se){if(N)return;throw new Error("".concat(ge.toMiddleware," is not found when adding ").concat(ge.name||"anonymous"," middleware ").concat(ge.relation," ").concat(ge.toMiddleware))}"after"===ge.relation&&Se.after.push(ge),"before"===ge.relation&&Se.before.push(ge)}});var ue=function(N){return N.sort(function(F,$){return Tk[$.step]-Tk[F.step]||Ik[$.priority||"normal"]-Ik[F.priority||"normal"]})}(F).map(c).reduce(function(ge,Se){return ge.push.apply(ge,(0,_.Z)(Se)),ge},[]);return ue},C={add:function(N){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},$=F.name,se=F.override,ue=(0,b.Z)({step:"initialize",priority:"normal",middleware:N},F);if($){if(e.has($)){if(!se)throw new Error("Duplicate middleware name '".concat($,"'"));var ge=n.findIndex(function(we){return we.name===$}),Se=n[ge];if(Se.step!==ue.step||Se.priority!==ue.priority)throw new Error('"'.concat($,'" middleware with ').concat(Se.priority," priority in ").concat(Se.step," step cannot be ")+"overridden by same-name middleware with ".concat(ue.priority," priority in ").concat(ue.step," step."));n.splice(ge,1)}e.add($)}n.push(ue)},addRelativeTo:function(N,F){var $=F.name,se=F.override,ue=(0,b.Z)({middleware:N},F);if($){if(e.has($)){if(!se)throw new Error("Duplicate middleware name '".concat($,"'"));var ge=t.findIndex(function(we){return we.name===$}),Se=t[ge];if(Se.toMiddleware!==ue.toMiddleware||Se.relation!==ue.relation)throw new Error('"'.concat($,'" middleware ').concat(Se.relation,' "').concat(Se.toMiddleware,'" middleware cannot be overridden ')+"by same-name middleware ".concat(ue.relation,' "').concat(ue.toMiddleware,'" middleware.'));t.splice(ge,1)}e.add($)}t.push(ue)},clone:function(){return l(o())},use:function(N){N.applyToStack(C)},remove:function(N){return"string"==typeof N?function(N){var F=!1,$=function(ue){return!ue.name||ue.name!==N||(F=!0,e.delete(N),!1)};return n=n.filter($),t=t.filter($),F}(N):function(N){var F=!1,$=function(ue){return ue.middleware!==N||(F=!0,ue.name&&e.delete(ue.name),!1)};return n=n.filter($),t=t.filter($),F}(N)},removeByTag:function(N){var F=!1,$=function(ue){var ge=ue.tags,Se=ue.name;return!ge||!ge.includes(N)||(Se&&e.delete(Se),F=!0,!1)};return n=n.filter($),t=t.filter($),F},concat:function(N){var F=l(o());return F.use(N),F},applyToStack:l,identify:function(){return h(!0).map(function(N){return N.name+": "+(N.tags||[]).join(",")})},resolve:function(N,F){var se,$=(0,ee.Z)(h().map(function(ge){return ge.middleware}).reverse());try{for($.s();!(se=$.n()).done;)N=(0,se.value)(N,F)}catch(ge){$.e(ge)}finally{$.f()}return N}};return C},Tk={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Ik={high:3,normal:2,low:1},Ok=function(){function o(n){(0,f.Z)(this,o),this.middlewareStack=Dk(),this.config=n}return(0,y.Z)(o,[{key:"send",value:function(t,e,a){var u="function"==typeof e?e:a,l=t.resolveMiddleware(this.middlewareStack,this.config,"function"!=typeof e?e:void 0);if(!u)return l(t).then(function(c){return c.output});l(t).then(function(c){return u(null,c.output)},function(c){return u(c)}).catch(function(){})}},{key:"destroy",value:function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}]),o}(),hl=(0,y.Z)(function o(){(0,f.Z)(this,o),this.middlewareStack=Dk()}),Ia="***SensitiveInformation***",Z0=function(n){switch(n){case"true":return!0;case"false":return!1;default:throw new Error('Unable to parse boolean value "'.concat(n,'"'))}},ff=function(n){if(null!=n){if("string"==typeof n){var t=parseFloat(n);if(!Number.isNaN(t))return String(t)!==String(n)&&j0.warn(L0("Expected number but observed string: ".concat(n))),t}if("number"==typeof n)return n;throw new TypeError("Expected number, got ".concat(typeof n,": ").concat(n))}},VF=Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),V2=function(n,t){var e=function(n){if(null!=n){if(Number.isInteger(n)&&!Number.isNaN(n))return n;throw new TypeError("Expected integer, got ".concat(typeof n,": ").concat(n))}}(n);if(void 0!==e&&BF(e,t)!==e)throw new TypeError("Expected ".concat(t,"-bit integer, got ").concat(n));return e},BF=function(n,t){switch(t){case 32:return Int32Array.of(n)[0];case 16:return Int16Array.of(n)[0];case 8:return Int8Array.of(n)[0]}},gl=function(n,t){if(null==n)throw t?new TypeError("Expected a non-null value for ".concat(t)):new TypeError("Expected a non-null value");return n},B2=function(n){if(null!=n){if("object"==typeof n&&!Array.isArray(n))return n;var t=Array.isArray(n)?"array":typeof n;throw new TypeError("Expected object, got ".concat(t,": ").concat(n))}},va=function(n){if(null!=n){if("string"==typeof n)return n;if(["boolean","number","bigint"].includes(typeof n))return j0.warn(L0("Expected string, got ".concat(typeof n,": ").concat(n))),String(n);throw new TypeError("Expected string, got ".concat(typeof n,": ").concat(n))}},jF=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Oc=function(n){var t=n.match(jF);if(null===t||t[0].length!==n.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(n)},Z2=function(n){return function(n){return V2(n,16)}("string"==typeof n?Oc(n):n)},L0=function(n){return String(new TypeError(n).stack||n).split("\n").slice(0,5).filter(function(t){return!t.includes("stackTraceWarning")}).join("\n")},j0={warn:console.warn},UF=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],L2=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Bk(o){var n=o.getUTCFullYear(),t=o.getUTCMonth(),e=o.getUTCDay(),a=o.getUTCDate(),s=o.getUTCHours(),u=o.getUTCMinutes(),l=o.getUTCSeconds(),c=a<10?"0".concat(a):"".concat(a),h=s<10?"0".concat(s):"".concat(s),C=u<10?"0".concat(u):"".concat(u),T=l<10?"0".concat(l):"".concat(l);return"".concat(UF[e],", ").concat(c," ").concat(L2[t]," ").concat(n," ").concat(h,":").concat(C,":").concat(T," GMT")}var HF=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),qF=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),KF=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),WF=function(n){if(null!=n){if("string"!=typeof n)throw new TypeError("RFC-7231 date-times must be expressed as strings");var t=HF.exec(n);if(t){var a=(0,g.Z)(t,8),u=a[1],l=a[2],h=a[4],C=a[5],T=a[6],N=a[7];return mf(Z2(Fc(a[3])),j2(l),qo(u,"day",1,31),{hours:h,minutes:C,seconds:T,fractionalMilliseconds:N})}if(t=qF.exec(n)){var $=(0,g.Z)(t,8),ue=$[1],ge=$[2],we=$[4],He=$[5],ot=$[6],dt=$[7];return JF(mf(QF($[3]),j2(ge),qo(ue,"day",1,31),{hours:we,minutes:He,seconds:ot,fractionalMilliseconds:dt}))}if(t=KF.exec(n)){var pt=(0,g.Z)(t,8),$t=pt[1],tn=pt[2],Gt=pt[3],Ut=pt[4],qt=pt[5],qn=pt[6];return mf(Z2(Fc(pt[7])),j2($t),qo(tn.trimLeft(),"day",1,31),{hours:Gt,minutes:Ut,seconds:qt,fractionalMilliseconds:qn})}throw new TypeError("Invalid RFC-7231 date-time value")}},mf=function(n,t,e,a){var s=t-1;return tM(n,s,e),new Date(Date.UTC(n,s,e,qo(a.hours,"hour",0,23),qo(a.minutes,"minute",0,59),qo(a.seconds,"seconds",0,60),rM(a.fractionalMilliseconds)))},QF=function(n){var t=(new Date).getUTCFullYear(),e=100*Math.floor(t/100)+Z2(Fc(n));return e<t?e+100:e},JF=function(n){return n.getTime()-(new Date).getTime()>15768e8?new Date(Date.UTC(n.getUTCFullYear()-100,n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds())):n},j2=function(n){var t=L2.indexOf(n);if(t<0)throw new TypeError("Invalid month: ".concat(n));return t+1},eM=[31,28,31,30,31,30,31,31,30,31,30,31],tM=function(n,t,e){var a=eM[t];if(1===t&&nM(n)&&(a=29),e>a)throw new TypeError("Invalid day for ".concat(L2[t]," in ").concat(n,": ").concat(e))},nM=function(n){return n%4==0&&(n%100!=0||n%400==0)},qo=function(n,t,e,a){var s=function(n){return function(n){return V2(n,8)}("string"==typeof n?Oc(n):n)}(Fc(n));if(s<e||s>a)throw new TypeError("".concat(t," must be between ").concat(e," and ").concat(a,", inclusive"));return s},rM=function(n){return null==n?0:1e3*function(n){return function(n){var t=ff(n);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>VF)throw new TypeError("Expected 32-bit float, got ".concat(n));return t}("string"==typeof n?Oc(n):n)}("0."+n)},Fc=function(n){for(var t=0;t<n.length-1&&"0"===n.charAt(t);)t++;return 0===t?n:n.slice(t)},Zk=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),a=n.call(this,e.message),Object.setPrototypeOf((0,gt.Z)(a),t.prototype),a.name=e.name,a.$fault=e.$fault,a.$metadata=e.$metadata,a}return(0,y.Z)(t)}((0,G.Z)(Error)),Ko=function(n){return Object.entries(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).filter(function(a){return void 0!==(0,g.Z)(a,2)[1]}).forEach(function(a){var s=(0,g.Z)(a,2),u=s[0];(null==n[u]||""===n[u])&&(n[u]=s[1])}),n.message=n.message||n.Message||"UnknownError",delete n.Message,n},Lk=function(n){return function(t){!function(n){var e=n.parsedBody,a=n.exceptionCtor,s=n.errorCode,u=oM(n.output),l=u.httpStatusCode?u.httpStatusCode+"":void 0,c=new a({name:e?.code||e?.Code||s||l||"UnknownError",$fault:"client",$metadata:u});throw Ko(c,e)}({output:t.output,parsedBody:t.parsedBody,exceptionCtor:n,errorCode:t.errorCode})}},oM=function(n){var t,e;return{httpStatusCode:n.statusCode,requestId:null!==(t=null!==(e=n.headers["x-amzn-requestid"])&&void 0!==e?e:n.headers["x-amzn-request-id"])&&void 0!==t?t:n.headers["x-amz-request-id"],extendedRequestId:n.headers["x-amz-id-2"],cfId:n.headers["x-amz-cf-id"]}},jk=function(n){switch(n){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};function $0(o){return encodeURIComponent(o).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})}var sM=function o(n){var t="#text";for(var e in n)n.hasOwnProperty(e)&&void 0!==n[e][t]?n[e]=n[e][t]:"object"==typeof n[e]&&null!==n[e]&&(n[e]=o(n[e]));return n},$2=function(){var n=Object.getPrototypeOf(this).constructor,e=new(Function.bind.apply(String,[null].concat(Array.prototype.slice.call(arguments))));return Object.setPrototypeOf(e,n.prototype),e};function Ji(o,n,t){var e,s;if(typeof n>"u"&&typeof t>"u")e={},s=o;else{if(e=o,"function"==typeof n)return uM(e,n,s=t);s=n}for(var u=0,l=Object.keys(s);u<l.length;u++){var c=l[u];Array.isArray(s[c])?Uk(e,null,s,c):e[c]=s[c]}return e}$2.prototype=Object.create(String.prototype,{constructor:{value:$2,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf($2,String);var $k=function(n,t){var e={};for(var a in t)Uk(e,n,t,a);return e},uM=function(n,t,e){return Ji(n,Object.entries(e).reduce(function(a,s){var u=(0,g.Z)(s,2),c=u[1];return a[u[0]]=Array.isArray(c)?c:"function"==typeof c?[t,c()]:[t,c],a},{}))},Uk=function(n,t,e,a){if(null===t){var $=(0,g.Z)(e[a],2),se=$[0],ue=$[1];if("function"==typeof ue){var ge,Se=void 0===se&&null!=(ge=ue()),we="function"==typeof se&&!!se(void 0)||"function"!=typeof se&&!!se;Se?n[a]=ge:we&&(n[a]=ue())}else{var He=void 0===se&&null!=ue,ot="function"==typeof se&&!!se(ue)||"function"!=typeof se&&!!se;(He||ot)&&(n[a]=ue)}}else{var s=e[a];"function"==typeof s&&(s=[,s]);var l=(0,g.Z)(s,3),c=l[0],h=void 0===c?lM:c,C=l[1],T=void 0===C?cM:C,N=l[2],F=void 0===N?a:N;("function"==typeof h&&h(t[F])||"function"!=typeof h&&h)&&(n[a]=T(t[F]))}},lM=function(n){return null!=n},cM=function(n){return n},Wo=function(n,t,e,a,s,u){if(null==t||void 0===t[e])throw new Error("No value provided for input HTTP label: "+e+".");var l=a();if(l.length<=0)throw new Error("Empty value provided for input HTTP label: "+e+".");return n.replace(s,u?l.split("/").map(function(c){return $0(c)}).join("/"):$0(l))},lo=function o(n){if(null==n)return{};if(Array.isArray(n))return n.filter(function(u){return null!=u});if("object"==typeof n){for(var t={},e=0,a=Object.keys(n);e<a.length;e++){var s=a[e];null!=n[s]&&(t[s]=o(n[s]))}return t}return n},dM=function(n){return(0,b.Z)((0,b.Z)({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:Ia})},pM=function(n){return(0,b.Z)((0,b.Z)({},n),n.SSECustomerKey&&{SSECustomerKey:Ia})},fM=function(n){return(0,b.Z)((0,b.Z)((0,b.Z)({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:Ia}),n.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ia})},mM=function(n){return(0,b.Z)((0,b.Z)((0,b.Z)((0,b.Z)({},n),n.SSECustomerKey&&{SSECustomerKey:Ia}),n.SSEKMSKeyId&&{SSEKMSKeyId:Ia}),n.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ia})},bM=function(n){return(0,b.Z)((0,b.Z)((0,b.Z)({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:Ia}),n.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ia})},CM=function(n){return(0,b.Z)((0,b.Z)((0,b.Z)((0,b.Z)({},n),n.SSECustomerKey&&{SSECustomerKey:Ia}),n.SSEKMSKeyId&&{SSEKMSKeyId:Ia}),n.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ia})};function wM(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var EM=function(){function o(n){(0,f.Z)(this,o),this.value=n}return(0,y.Z)(o,[{key:"toString",value:function(){return function SM(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}(""+this.value)}}]),o}(),Ha=function(){function o(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,f.Z)(this,o),this.name=n,this.children=t,this.attributes={}}return(0,y.Z)(o,[{key:"withName",value:function(t){return this.name=t,this}},{key:"addAttribute",value:function(t,e){return this.attributes[t]=e,this}},{key:"addChildNode",value:function(t){return this.children.push(t),this}},{key:"removeAttribute",value:function(t){return delete this.attributes[t],this}},{key:"toString",value:function(){for(var t=!!this.children.length,e="<".concat(this.name),a=this.attributes,s=0,u=Object.keys(a);s<u.length;s++){var l=u[s],c=a[l];typeof c<"u"&&null!==c&&(e+=" ".concat(l,'="').concat(wM(""+c),'"'))}return e+(t?">".concat(this.children.map(function(h){return h.toString()}).join(""),"</").concat(this.name,">"):"/>")}}],[{key:"of",value:function(t,e,a){var s=new o(t);return void 0!==e&&s.addChildNode(new EM(e)),void 0!==a&&s.withName(a),s}}]),o}(),Mc=function(){function o(n){(0,f.Z)(this,o),this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?":"!==n.protocol.slice(-1)?"".concat(n.protocol,":"):n.protocol:"https:",this.path=n.path?"/"!==n.path.charAt(0)?"/".concat(n.path):n.path:"/"}return(0,y.Z)(o,[{key:"clone",value:function(){var t=new o((0,b.Z)((0,b.Z)({},this),{},{headers:(0,b.Z)({},this.headers)}));return t.query&&(t.query=function PM(o){return Object.keys(o).reduce(function(n,t){var e=o[t];return(0,b.Z)((0,b.Z)({},n),{},(0,d.Z)({},t,Array.isArray(e)?(0,_.Z)(e):e))},{})}(t.query)),t}}],[{key:"isInstance",value:function(t){return!!t&&("method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers)}}]),o}(),AM=S(53226),kM=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),a=n.call(this,e),Object.setPrototypeOf((0,gt.Z)(a),t.prototype),a}return(0,y.Z)(t)}(Zk),RM=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s,u,l,c,h,C,T,N,F,$;return(0,qe.Z)().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,e.endpoint();case 2:return s=(a=ue.sent).hostname,l=void 0===(u=a.protocol)?"https":u,c=a.port,h=a.path,C=Ji({},qa,{"content-type":"application/xml","x-amz-checksum-crc32":t.ChecksumCRC32,"x-amz-checksum-crc32c":t.ChecksumCRC32C,"x-amz-checksum-sha1":t.ChecksumSHA1,"x-amz-checksum-sha256":t.ChecksumSHA256,"x-amz-request-payer":t.RequestPayer,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5}),T="".concat(null!=h&&h.endsWith("/")?h.slice(0,-1):h||"")+"/{Key+}",T=Wo(T,t,"Bucket",function(){return t.Bucket},"{Bucket}",!1),T=Wo(T,t,"Key",function(){return t.Key},"{Key+}",!0),N=Ji({"x-id":[,"CompleteMultipartUpload"],uploadId:[,gl(t.UploadId,"UploadId")]}),void 0!==t.MultipartUpload&&(F=Gk(t.MultipartUpload,e)),void 0!==t.MultipartUpload&&($=($=Gk(t.MultipartUpload,e)).withName("CompleteMultipartUpload"),F='<?xml version="1.0" encoding="UTF-8"?>',$.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),F+=$.toString()),ue.abrupt("return",new Mc({protocol:l,hostname:s,port:c,method:"POST",headers:C,path:T,query:N,body:F}));case 16:case"end":return ue.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),DM=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s,u,l,c,h,C,T,N;return(0,qe.Z)().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,e.endpoint();case 2:return s=(a=se.sent).hostname,l=void 0===(u=a.protocol)?"https":u,c=a.port,h=a.path,C=Ji({},qa,(0,b.Z)({"x-amz-acl":t.ACL,"cache-control":t.CacheControl,"content-disposition":t.ContentDisposition,"content-encoding":t.ContentEncoding,"content-language":t.ContentLanguage,"content-type":t.ContentType,expires:[function(){return qa(t.Expires)},function(){return Bk(t.Expires).toString()}],"x-amz-grant-full-control":t.GrantFullControl,"x-amz-grant-read":t.GrantRead,"x-amz-grant-read-acp":t.GrantReadACP,"x-amz-grant-write-acp":t.GrantWriteACP,"x-amz-server-side-encryption":t.ServerSideEncryption,"x-amz-storage-class":t.StorageClass,"x-amz-website-redirect-location":t.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":t.SSEKMSKeyId,"x-amz-server-side-encryption-context":t.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[function(){return qa(t.BucketKeyEnabled)},function(){return t.BucketKeyEnabled.toString()}],"x-amz-request-payer":t.RequestPayer,"x-amz-tagging":t.Tagging,"x-amz-object-lock-mode":t.ObjectLockMode,"x-amz-object-lock-retain-until-date":[function(){return qa(t.ObjectLockRetainUntilDate)},function(){return(t.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}],"x-amz-object-lock-legal-hold":t.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner,"x-amz-checksum-algorithm":t.ChecksumAlgorithm},void 0!==t.Metadata&&Object.keys(t.Metadata).reduce(function(ue,ge){return ue["x-amz-meta-".concat(ge.toLowerCase())]=t.Metadata[ge],ue},{}))),T="".concat(null!=h&&h.endsWith("/")?h.slice(0,-1):h||"")+"/{Key+}",T=Wo(T,t,"Bucket",function(){return t.Bucket},"{Bucket}",!1),T=Wo(T,t,"Key",function(){return t.Key},"{Key+}",!0),N=Ji({uploads:[,""],"x-id":[,"CreateMultipartUpload"]}),se.abrupt("return",new Mc({protocol:l,hostname:s,port:c,method:"POST",headers:C,path:T,query:N,body:void 0}));case 14:case"end":return se.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),TM=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s,u,l,c,h,C,T,N,F;return(0,qe.Z)().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,e.endpoint();case 2:return s=(a=ue.sent).hostname,l=void 0===(u=a.protocol)?"https":u,c=a.port,h=a.path,C=Ji({},qa,(0,b.Z)({"content-type":t.ContentType||"application/octet-stream","x-amz-acl":t.ACL,"cache-control":t.CacheControl,"content-disposition":t.ContentDisposition,"content-encoding":t.ContentEncoding,"content-language":t.ContentLanguage,"content-length":[function(){return qa(t.ContentLength)},function(){return t.ContentLength.toString()}],"content-md5":t.ContentMD5,"x-amz-sdk-checksum-algorithm":t.ChecksumAlgorithm,"x-amz-checksum-crc32":t.ChecksumCRC32,"x-amz-checksum-crc32c":t.ChecksumCRC32C,"x-amz-checksum-sha1":t.ChecksumSHA1,"x-amz-checksum-sha256":t.ChecksumSHA256,expires:[function(){return qa(t.Expires)},function(){return Bk(t.Expires).toString()}],"x-amz-grant-full-control":t.GrantFullControl,"x-amz-grant-read":t.GrantRead,"x-amz-grant-read-acp":t.GrantReadACP,"x-amz-grant-write-acp":t.GrantWriteACP,"x-amz-server-side-encryption":t.ServerSideEncryption,"x-amz-storage-class":t.StorageClass,"x-amz-website-redirect-location":t.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":t.SSEKMSKeyId,"x-amz-server-side-encryption-context":t.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[function(){return qa(t.BucketKeyEnabled)},function(){return t.BucketKeyEnabled.toString()}],"x-amz-request-payer":t.RequestPayer,"x-amz-tagging":t.Tagging,"x-amz-object-lock-mode":t.ObjectLockMode,"x-amz-object-lock-retain-until-date":[function(){return qa(t.ObjectLockRetainUntilDate)},function(){return(t.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}],"x-amz-object-lock-legal-hold":t.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner},void 0!==t.Metadata&&Object.keys(t.Metadata).reduce(function(ge,Se){return ge["x-amz-meta-".concat(Se.toLowerCase())]=t.Metadata[Se],ge},{}))),T="".concat(null!=h&&h.endsWith("/")?h.slice(0,-1):h||"")+"/{Key+}",T=Wo(T,t,"Bucket",function(){return t.Bucket},"{Bucket}",!1),T=Wo(T,t,"Key",function(){return t.Key},"{Key+}",!0),N=Ji({"x-id":[,"PutObject"]}),void 0!==t.Body&&(F=t.Body),void 0!==t.Body&&(F=t.Body),ue.abrupt("return",new Mc({protocol:l,hostname:s,port:c,method:"PUT",headers:C,path:T,query:N,body:F}));case 16:case"end":return ue.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),IM=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s,u,l,c,h,C,T,N,F,$;return(0,qe.Z)().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,e.endpoint();case 2:return s=(a=ue.sent).hostname,l=void 0===(u=a.protocol)?"https":u,c=a.port,h=a.path,C=Ji({},qa,{"content-type":"application/xml","content-md5":t.ContentMD5,"x-amz-sdk-checksum-algorithm":t.ChecksumAlgorithm,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner,"x-amz-request-payer":t.RequestPayer}),T="".concat(null!=h&&h.endsWith("/")?h.slice(0,-1):h||"")+"/{Key+}",T=Wo(T,t,"Bucket",function(){return t.Bucket},"{Bucket}",!1),T=Wo(T,t,"Key",function(){return t.Key},"{Key+}",!0),N=Ji({tagging:[,""],versionId:[,t.VersionId]}),void 0!==t.Tagging&&(F=H2(t.Tagging,e)),void 0!==t.Tagging&&($=H2(t.Tagging,e),F='<?xml version="1.0" encoding="UTF-8"?>',$.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),F+=$.toString()),ue.abrupt("return",new Mc({protocol:l,hostname:s,port:c,method:"PUT",headers:C,path:T,query:N,body:F}));case 16:case"end":return ue.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),OM=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s,u,l,c,h,C,T,N,F;return(0,qe.Z)().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,e.endpoint();case 2:return s=(a=ue.sent).hostname,l=void 0===(u=a.protocol)?"https":u,c=a.port,h=a.path,C=Ji({},qa,{"content-type":"application/octet-stream","content-length":[function(){return qa(t.ContentLength)},function(){return t.ContentLength.toString()}],"content-md5":t.ContentMD5,"x-amz-sdk-checksum-algorithm":t.ChecksumAlgorithm,"x-amz-checksum-crc32":t.ChecksumCRC32,"x-amz-checksum-crc32c":t.ChecksumCRC32C,"x-amz-checksum-sha1":t.ChecksumSHA1,"x-amz-checksum-sha256":t.ChecksumSHA256,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5,"x-amz-request-payer":t.RequestPayer,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner}),T="".concat(null!=h&&h.endsWith("/")?h.slice(0,-1):h||"")+"/{Key+}",T=Wo(T,t,"Bucket",function(){return t.Bucket},"{Bucket}",!1),T=Wo(T,t,"Key",function(){return t.Key},"{Key+}",!0),N=Ji({"x-id":[,"UploadPart"],partNumber:[null!=gl(t.PartNumber,"PartNumber"),function(){return t.PartNumber.toString()}],uploadId:[,gl(t.UploadId,"UploadId")]}),void 0!==t.Body&&(F=t.Body),void 0!==t.Body&&(F=t.Body),ue.abrupt("return",new Mc({protocol:l,hostname:s,port:c,method:"PUT",headers:C,path:T,query:N,body:F}));case 16:case"end":return ue.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),FM=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s;return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){l.next=2;break}return l.abrupt("return",MM(t,e));case 2:return a=Ji({$metadata:vf(t),Expiration:[,t.headers["x-amz-expiration"]],ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],VersionId:[,t.headers["x-amz-version-id"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[function(){return void 0!==t.headers["x-amz-server-side-encryption-bucket-key-enabled"]},function(){return Z0(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])}],RequestCharged:[,t.headers["x-amz-request-charged"]]}),l.t0=gl,l.t1=B2,l.next=7,W2(t.body,e);case 7:return l.t2=l.sent,l.t3=(0,l.t1)(l.t2),void 0!==(s=(0,l.t0)(l.t3,"body")).Bucket&&(a.Bucket=va(s.Bucket)),void 0!==s.ChecksumCRC32&&(a.ChecksumCRC32=va(s.ChecksumCRC32)),void 0!==s.ChecksumCRC32C&&(a.ChecksumCRC32C=va(s.ChecksumCRC32C)),void 0!==s.ChecksumSHA1&&(a.ChecksumSHA1=va(s.ChecksumSHA1)),void 0!==s.ChecksumSHA256&&(a.ChecksumSHA256=va(s.ChecksumSHA256)),void 0!==s.ETag&&(a.ETag=va(s.ETag)),void 0!==s.Key&&(a.Key=va(s.Key)),void 0!==s.Location&&(a.Location=va(s.Location)),l.abrupt("return",a);case 19:case"end":return l.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),MM=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=b.Z,c.t1=(0,b.Z)({},t),c.t2={},c.next=5,yf(t.body,e);case 5:return c.t3=c.sent,c.t4={body:c.t3},a=(0,c.t0)(c.t1,c.t2,c.t4),s=_f(t,a.body),c.abrupt("return",hf({output:t,parsedBody:a.body,errorCode:s}));case 11:case"end":return c.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),NM=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s;return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){l.next=2;break}return l.abrupt("return",VM(t,e));case 2:return a=Ji({$metadata:vf(t),AbortDate:[function(){return void 0!==t.headers["x-amz-abort-date"]},function(){return gl(WF(t.headers["x-amz-abort-date"]))}],AbortRuleId:[,t.headers["x-amz-abort-rule-id"]],ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,t.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,t.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,t.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[function(){return void 0!==t.headers["x-amz-server-side-encryption-bucket-key-enabled"]},function(){return Z0(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])}],RequestCharged:[,t.headers["x-amz-request-charged"]],ChecksumAlgorithm:[,t.headers["x-amz-checksum-algorithm"]]}),l.t0=gl,l.t1=B2,l.next=7,W2(t.body,e);case 7:return l.t2=l.sent,l.t3=(0,l.t1)(l.t2),void 0!==(s=(0,l.t0)(l.t3,"body")).Bucket&&(a.Bucket=va(s.Bucket)),void 0!==s.Key&&(a.Key=va(s.Key)),void 0!==s.UploadId&&(a.UploadId=va(s.UploadId)),l.abrupt("return",a);case 14:case"end":return l.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),VM=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=b.Z,c.t1=(0,b.Z)({},t),c.t2={},c.next=5,yf(t.body,e);case 5:return c.t3=c.sent,c.t4={body:c.t3},a=(0,c.t0)(c.t1,c.t2,c.t4),s=_f(t,a.body),c.abrupt("return",hf({output:t,parsedBody:a.body,errorCode:s}));case 11:case"end":return c.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),BM=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a;return(0,qe.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){u.next=2;break}return u.abrupt("return",ZM(t,e));case 2:return a=Ji({$metadata:vf(t),Expiration:[,t.headers["x-amz-expiration"]],ETag:[,t.headers.etag],ChecksumCRC32:[,t.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,t.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,t.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,t.headers["x-amz-checksum-sha256"]],ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],VersionId:[,t.headers["x-amz-version-id"]],SSECustomerAlgorithm:[,t.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,t.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,t.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[function(){return void 0!==t.headers["x-amz-server-side-encryption-bucket-key-enabled"]},function(){return Z0(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])}],RequestCharged:[,t.headers["x-amz-request-charged"]]}),u.next=5,z0(t.body,e);case 5:return u.abrupt("return",a);case 6:case"end":return u.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),ZM=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=b.Z,c.t1=(0,b.Z)({},t),c.t2={},c.next=5,yf(t.body,e);case 5:return c.t3=c.sent,c.t4={body:c.t3},a=(0,c.t0)(c.t1,c.t2,c.t4),s=_f(t,a.body),c.abrupt("return",hf({output:t,parsedBody:a.body,errorCode:s}));case 11:case"end":return c.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),LM=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a;return(0,qe.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){u.next=2;break}return u.abrupt("return",jM(t,e));case 2:return a=Ji({$metadata:vf(t),VersionId:[,t.headers["x-amz-version-id"]]}),u.next=5,z0(t.body,e);case 5:return u.abrupt("return",a);case 6:case"end":return u.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),jM=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=b.Z,c.t1=(0,b.Z)({},t),c.t2={},c.next=5,yf(t.body,e);case 5:return c.t3=c.sent,c.t4={body:c.t3},a=(0,c.t0)(c.t1,c.t2,c.t4),s=_f(t,a.body),c.abrupt("return",hf({output:t,parsedBody:a.body,errorCode:s}));case 11:case"end":return c.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),$M=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a;return(0,qe.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){u.next=2;break}return u.abrupt("return",UM(t,e));case 2:return a=Ji({$metadata:vf(t),ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],ETag:[,t.headers.etag],ChecksumCRC32:[,t.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,t.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,t.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,t.headers["x-amz-checksum-sha256"]],SSECustomerAlgorithm:[,t.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,t.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[function(){return void 0!==t.headers["x-amz-server-side-encryption-bucket-key-enabled"]},function(){return Z0(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])}],RequestCharged:[,t.headers["x-amz-request-charged"]]}),u.next=5,z0(t.body,e);case 5:return u.abrupt("return",a);case 6:case"end":return u.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),UM=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=b.Z,c.t1=(0,b.Z)({},t),c.t2={},c.next=5,yf(t.body,e);case 5:return c.t3=c.sent,c.t4={body:c.t3},a=(0,c.t0)(c.t1,c.t2,c.t4),s=_f(t,a.body),c.abrupt("return",hf({output:t,parsedBody:a.body,errorCode:s}));case 11:case"end":return c.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),hf=Lk(kM),Gk=function(n,t){var e=new Ha("CompletedMultipartUpload");return null!=n.Parts&&aN(n.Parts,t).map(function(s){s=s.withName("Part"),e.addChildNode(s)}),e},aN=function(n,t){return n.filter(function(e){return null!=e}).map(function(e){var a=function(n,t){var e=new Ha("CompletedPart");if(null!=n.ETag){var a=Ha.of("ETag",n.ETag).withName("ETag");e.addChildNode(a)}if(null!=n.ChecksumCRC32){var s=Ha.of("ChecksumCRC32",n.ChecksumCRC32).withName("ChecksumCRC32");e.addChildNode(s)}if(null!=n.ChecksumCRC32C){var u=Ha.of("ChecksumCRC32C",n.ChecksumCRC32C).withName("ChecksumCRC32C");e.addChildNode(u)}if(null!=n.ChecksumSHA1){var l=Ha.of("ChecksumSHA1",n.ChecksumSHA1).withName("ChecksumSHA1");e.addChildNode(l)}if(null!=n.ChecksumSHA256){var c=Ha.of("ChecksumSHA256",n.ChecksumSHA256).withName("ChecksumSHA256");e.addChildNode(c)}if(null!=n.PartNumber){var h=Ha.of("PartNumber",String(n.PartNumber)).withName("PartNumber");e.addChildNode(h)}return e}(e);return a.withName("member")})},H2=function(n,t){var e=new Ha("Tagging");if(null!=n.TagSet){var a=Vc(n.TagSet,t),s=new Ha("TagSet");a.map(function(u){s.addChildNode(u)}),e.addChildNode(s)}return e},Vc=function(n,t){return n.filter(function(e){return null!=e}).map(function(e){return function(n,t){var e=new Ha("Tag");if(null!=n.Key){var a=Ha.of("ObjectKey",n.Key).withName("Key");e.addChildNode(a)}if(null!=n.Value){var s=Ha.of("Value",n.Value).withName("Value");e.addChildNode(s)}return e}(e).withName("Tag")})},vf=function(n){var t,e;return{httpStatusCode:n.statusCode,requestId:null!==(t=null!==(e=n.headers["x-amzn-requestid"])&&void 0!==e?e:n.headers["x-amzn-request-id"])&&void 0!==t?t:n.headers["x-amz-request-id"],extendedRequestId:n.headers["x-amz-id-2"],cfId:n.headers["x-amz-cf-id"]}},z0=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,t=arguments.length>1?arguments[1]:void 0;return n instanceof Uint8Array?Promise.resolve(n):t.streamCollector(n)||Promise.resolve(new Uint8Array)},qa=function(n){return!(null==n||""===n||Object.getOwnPropertyNames(n).includes("length")&&0==n.length||Object.getOwnPropertyNames(n).includes("size")&&0==n.size)},W2=function(n,t){return function(n,t){return z0(n,t).then(function(e){return t.utf8Encoder(e)})}(n,t).then(function(e){if(e.length){var a=new AM.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:function(C,T){return""===T.trim()&&T.includes("\n")?"":void 0}});a.addEntity("#xD","\r"),a.addEntity("#10","\n");var s=a.parse(e),u="#text",l=Object.keys(s)[0],c=s[l];return c[u]&&(c[l]=c[u],delete c[u]),sM(c)}return{}})},yf=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s;return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,W2(t,e);case 2:return(a=l.sent).Error&&(a.Error.message=null!==(s=a.Error.message)&&void 0!==s?s:a.Error.Message),l.abrupt("return",a);case 5:case"end":return l.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),_f=function(n,t){return void 0!==t?.Code?t.Code:404==n.statusCode?"NotFound":void 0},Yk=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this)).input=e,a}return(0,y.Z)(t,[{key:"resolveMiddleware",value:function(a,s,u){this.middlewareStack.use(It(s,this.serialize,this.deserialize)),this.middlewareStack.use(dn(s,t.getEndpointParameterInstructions())),this.middlewareStack.use({applyToStack:function(e){e.add(function wF(){return function(o,n){return function(){var t=Zt((0,qe.Z)().mark(function e(a){var s,u,l;return(0,qe.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return rr.isInstance(s=a.request)&&(s.headers["content-length"]||(l="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.","function"==typeof(null==n||null===(u=n.logger)||void 0===u?void 0:u.warn)?n.logger.warn(l):console.warn(l))),h.abrupt("return",o((0,b.Z)({},a)));case 3:case"end":return h.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()}}(),SF)}}),this.middlewareStack.use(B0(s)),this.middlewareStack.use(F2(s,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));var l=a.concat(this.middlewareStack),N=s.requestHandler;return l.resolve(function(F){return N.handle(F.request,u||{})},{logger:s.logger,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:CM,outputFilterSensitiveLog:bM})}},{key:"serialize",value:function(a,s){return TM(a,s)}},{key:"deserialize",value:function(a,s){return BM(a,s)}}],[{key:"getEndpointParameterInstructions",value:function(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),t}(hl),yV=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this)).input=e,a}return(0,y.Z)(t,[{key:"resolveMiddleware",value:function(a,s,u){this.middlewareStack.use(It(s,this.serialize,this.deserialize)),this.middlewareStack.use(dn(s,t.getEndpointParameterInstructions())),this.middlewareStack.use(B0(s));var l=a.concat(this.middlewareStack),N=s.requestHandler;return l.resolve(function(F){return N.handle(F.request,u||{})},{logger:s.logger,clientName:"S3Client",commandName:"CreateMultipartUploadCommand",inputFilterSensitiveLog:mM,outputFilterSensitiveLog:fM})}},{key:"serialize",value:function(a,s){return DM(a,s)}},{key:"deserialize",value:function(a,s){return NM(a,s)}}],[{key:"getEndpointParameterInstructions",value:function(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),t}(hl),wV=function(n){return(0,b.Z)((0,b.Z)({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:Ia})},SV=function(n){return(0,b.Z)((0,b.Z)({},n),n.SSECustomerKey&&{SSECustomerKey:Ia})},EV=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this)).input=e,a}return(0,y.Z)(t,[{key:"resolveMiddleware",value:function(a,s,u){this.middlewareStack.use(It(s,this.serialize,this.deserialize)),this.middlewareStack.use(dn(s,t.getEndpointParameterInstructions())),this.middlewareStack.use(B0(s)),this.middlewareStack.use(F2(s,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));var l=a.concat(this.middlewareStack),N=s.requestHandler;return l.resolve(function(F){return N.handle(F.request,u||{})},{logger:s.logger,clientName:"S3Client",commandName:"UploadPartCommand",inputFilterSensitiveLog:SV,outputFilterSensitiveLog:wV})}},{key:"serialize",value:function(a,s){return OM(a,s)}},{key:"deserialize",value:function(a,s){return $M(a,s)}}],[{key:"getEndpointParameterInstructions",value:function(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),t}(hl),PV=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this)).input=e,a}return(0,y.Z)(t,[{key:"resolveMiddleware",value:function(a,s,u){this.middlewareStack.use(It(s,this.serialize,this.deserialize)),this.middlewareStack.use(dn(s,t.getEndpointParameterInstructions())),this.middlewareStack.use(function(n){return{applyToStack:function(e){e.addRelativeTo(function(n){return function(t){return function(){var e=Zt((0,qe.Z)().mark(function a(s){var u,l,c,h,C,T,N;return(0,qe.Z)().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,t(s);case 2:if(pf.isInstance(l=(u=$.sent).response)){$.next=6;break}return $.abrupt("return",u);case 6:if(h=l.body,!((c=l.statusCode)<200||c>=300)){$.next=9;break}return $.abrupt("return",u);case 9:return $.next=11,kk(h,n);case 11:return C=$.sent,$.next=14,kF(C,n);case 14:if(T=$.sent,0!==C.length){$.next=19;break}throw(N=new Error("S3 aborted request")).name="InternalError",N;case 19:return T&&T.match("<Error>")&&(l.statusCode=400),l.body=C,$.abrupt("return",u);case 22:case"end":return $.stop()}},a)}));return function(a){return e.apply(this,arguments)}}()}}(n),RF)}}}(s)),this.middlewareStack.use(B0(s));var l=a.concat(this.middlewareStack),N=s.requestHandler;return l.resolve(function(F){return N.handle(F.request,u||{})},{logger:s.logger,clientName:"S3Client",commandName:"CompleteMultipartUploadCommand",inputFilterSensitiveLog:pM,outputFilterSensitiveLog:dM})}},{key:"serialize",value:function(a,s){return RM(a,s)}},{key:"deserialize",value:function(a,s){return FM(a,s)}}],[{key:"getEndpointParameterInstructions",value:function(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),t}(hl),AV=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this)).input=e,a}return(0,y.Z)(t,[{key:"resolveMiddleware",value:function(a,s,u){this.middlewareStack.use(It(s,this.serialize,this.deserialize)),this.middlewareStack.use(dn(s,t.getEndpointParameterInstructions())),this.middlewareStack.use(F2(s,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));var l=a.concat(this.middlewareStack),N=s.requestHandler;return l.resolve(function(F){return N.handle(F.request,u||{})},{logger:s.logger,clientName:"S3Client",commandName:"PutObjectTaggingCommand",inputFilterSensitiveLog:function($){return $},outputFilterSensitiveLog:function($){return $}})}},{key:"serialize",value:function(a,s){return IM(a,s)}},{key:"deserialize",value:function(a,s){return LM(a,s)}}],[{key:"getEndpointParameterInstructions",value:function(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),t}(hl),X2=S(83358),RV=(0,b.Z)((0,b.Z)({},{lstatSync:function(){}}),{},{runtime:"browser"}),Q2=function(n){if(null==n)return 0;if("string"==typeof n&&(n=Buffer.from(n)),"number"==typeof n.byteLength)return n.byteLength;if("number"==typeof n.length)return n.length;if("number"==typeof n.size)return n.size;if("string"==typeof n.path)try{return RV.lstatSync(n.path).size}catch{return}},Zc=S(13195),DV=S(70574);function Jk(o,n){this.v=o,this.k=n}function xf(o){var n,t;function e(s,u){try{var l=o[s](u),c=l.value,h=c instanceof Jk;Promise.resolve(h?c.v:c).then(function(C){if(h){var T="return"===s?"return":"next";if(!c.k||C.done)return e(T,C);C=o[T](C).value}a(l.done?"return":"normal",C)},function(C){e("throw",C)})}catch(C){a("throw",C)}}function a(s,u){switch(s){case"return":n.resolve({value:u,done:!0});break;case"throw":n.reject(u);break;default:n.resolve({value:u,done:!1})}(n=n.next)?e(n.key,n.arg):t=null}this._invoke=function(s,u){return new Promise(function(l,c){var h={key:s,arg:u,resolve:l,reject:c,next:null};t?t=t.next=h:(n=t=h,e(s,u))})},"function"!=typeof o.return&&(this.return=void 0)}function Xo(o){return function(){return new xf(o.apply(this,arguments))}}function eR(o,n){return Y2.apply(this,arguments)}function Y2(){return(Y2=Xo((0,qe.Z)().mark(function o(n,t){var e,a,s;return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:e=1,a=0,s=t;case 3:if(!(s<n.byteLength)){l.next=11;break}return l.next=6,{partNumber:e,data:n.slice(a,s)};case 6:e+=1,s=(a=s)+t,l.next=3;break;case 11:return l.next=13,{partNumber:e,data:n.slice(a),lastPart:!0};case 13:case"end":return l.stop()}},o)}))).apply(this,arguments)}function ea(o){return new Jk(o,0)}function J2(o,n,t){return eP.apply(this,arguments)}function eP(){return(eP=Xo((0,qe.Z)().mark(function o(n,t,e){var a,s,u,l,c,h,C,T,N;return(0,qe.Z)().wrap(function($){for(;;)switch($.prev=$.next){case 0:a=1,s={chunks:[],length:0},u=!1,l=!1,$.prev=4,h=uo(e(n));case 6:return $.next=8,ea(h.next());case 8:if(!(u=!(C=$.sent).done)){$.next=24;break}s.chunks.push(T=C.value),s.length+=T.length;case 12:if(!(s.length>=t)){$.next=21;break}return N=s.chunks.length>1?Zc.Buffer.concat(s.chunks):s.chunks[0],$.next=16,{partNumber:a,data:N.slice(0,t)};case 16:s.chunks=[N.slice(t)],s.length=s.chunks[0].length,a+=1,$.next=12;break;case 21:u=!1,$.next=6;break;case 24:$.next=30;break;case 26:$.prev=26,$.t0=$.catch(4),l=!0,c=$.t0;case 30:if($.prev=30,$.prev=31,!u||null==h.return){$.next=35;break}return $.next=35,ea(h.return());case 35:if($.prev=35,!l){$.next=38;break}throw c;case 38:return $.finish(35);case 39:return $.finish(30);case 40:return $.next=42,{partNumber:a,data:Zc.Buffer.concat(s.chunks),lastPart:!0};case 42:case"end":return $.stop()}},o,null,[[4,26,30,40],[31,,35,39]])}))).apply(this,arguments)}function TV(o){return tP.apply(this,arguments)}function tP(){return(tP=Xo((0,qe.Z)().mark(function o(n){var t,e,a,s,u,l;return(0,qe.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:t=!1,e=!1,h.prev=2,s=uo(n);case 4:return h.next=6,ea(s.next());case 6:if(!(t=!(u=h.sent).done)){h.next=13;break}return l=u.value,h.next=10,Zc.Buffer.from(l);case 10:t=!1,h.next=4;break;case 13:h.next=19;break;case 15:h.prev=15,h.t0=h.catch(2),e=!0,a=h.t0;case 19:if(h.prev=19,h.prev=20,!t||null==s.return){h.next=24;break}return h.next=24,ea(s.return());case 24:if(h.prev=24,!e){h.next=27;break}throw a;case 27:return h.finish(24);case 28:return h.finish(19);case 29:case"end":return h.stop()}},o,null,[[2,15,19,29],[20,,24,28]])}))).apply(this,arguments)}function tR(o){return nP.apply(this,arguments)}function nP(){return(nP=Xo((0,qe.Z)().mark(function o(n){var t,e,s;return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:t=n.getReader(),l.prev=1;case 2:return l.next=5,ea(t.read());case 5:if(s=(e=l.sent).value,!e.done){l.next=10;break}return l.abrupt("return");case 10:return l.next=12,Zc.Buffer.from(s);case 12:l.next=2;break;case 14:l.next=19;break;case 16:throw l.prev=16,l.t0=l.catch(1),l.t0;case 19:return l.prev=19,t.releaseLock(),l.finish(19);case 22:case"end":return l.stop()}},o,null,[[1,16,19,22]])}))).apply(this,arguments)}xf.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},xf.prototype.next=function(o){return this._invoke("next",o)},xf.prototype.throw=function(o){return this._invoke("throw",o)},xf.prototype.return=function(o){return this._invoke("return",o)};var IV=function(n,t){if(n instanceof Zc.Buffer)return eR(n,t);if(n instanceof DV.Readable)return J2(n,t,TV);if(n instanceof String||"string"==typeof n||n instanceof Uint8Array)return eR(Zc.Buffer.from(n),t);if("function"==typeof n.stream)return J2(n.stream(),t,tR);if(n instanceof ReadableStream)return J2(n,t,tR);throw new Error("Body Data is unsupported format, expected data to be one of: string | Uint8Array | Buffer | Readable | ReadableStream | Blob;.")},rP=5242880,OV=function(o){(0,z.Z)(t,o);var e,n=(0,H.Z)(t);function t(e){var a,s;return(0,f.Z)(this,t),(s=n.call(this)).MAX_PARTS=1e4,s.queueSize=4,s.partSize=rP,s.leavePartsOnError=!1,s.tags=[],s.concurrentUploaders=[],s.uploadedParts=[],s.isMultiPart=!0,s.queueSize=e.queueSize||s.queueSize,s.partSize=e.partSize||s.partSize,s.leavePartsOnError=e.leavePartsOnError||s.leavePartsOnError,s.tags=e.tags||s.tags,s.client=e.client,s.params=e.params,s.__validateInput(),s.totalBytes=Q2(s.params.Body),s.bytesUploadedSoFar=0,s.abortController=null!==(a=e.abortController)&&void 0!==a?a:new I2,s}return(0,y.Z)(t,[{key:"abort",value:(e=Zt((0,qe.Z)().mark(function s(){return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:this.abortController.abort();case 1:case"end":return l.stop()}},s,this)})),function a(){return e.apply(this,arguments)})},{key:"done",value:function(){var e=Zt((0,qe.Z)().mark(function s(){return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Promise.race([this.__doMultipartUpload(),this.__abortTimeout(this.abortController.signal)]);case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},s,this)}));return function a(){return e.apply(this,arguments)}}()},{key:"on",value:function(a,s){return this.uploadEvent=a,(0,Et.Z)((0,Ee.Z)(t.prototype),"on",this).call(this,a,s)}},{key:"__uploadUsingPut",value:function(){var e=Zt((0,qe.Z)().mark(function s(u){var c,h,C,T,N,F,$,se,ue,ge,Se,we,He,l=this;return(0,qe.Z)().wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:return this.isMultiPart=!1,h=(0,b.Z)((0,b.Z)({},this.params),{},{Body:u.data}),F=function(pt){l.bytesUploadedSoFar=pt.loaded,l.totalBytes=pt.total,l.__notifyProgress({loaded:l.bytesUploadedSoFar,total:l.totalBytes,part:u.partNumber,Key:l.params.Key,Bucket:l.params.Bucket})},null!==(N=(T=(C=this.client.config).requestHandler)instanceof X2.EventEmitter?T:null)&&N.on("xhr.upload.progress",F),dt.next=9,Promise.all([this.client.send(new Yk(h)),null==C||null===(c=C.endpoint)||void 0===c?void 0:c.call(C)]);case 9:if(se=($=dt.sent)[0],ue=$[1]){dt.next=18;break}return dt.t0=sr,dt.next=16,Mt(h,Yk,(0,b.Z)({},C));case 16:dt.t1=dt.sent,ue=(0,dt.t0)(dt.t1);case 18:if(ue){dt.next=20;break}throw new Error('Could not resolve endpoint from S3 "client.config.endpoint()" nor EndpointsV2.');case 20:null!==N&&N.off("xhr.upload.progress",F),ge=this.params.Key.split("/").map(function(Ot){return $0(Ot)}).join("/"),Se=$0(this.params.Bucket),void 0,Ot=ue.hostname.startsWith("".concat(Se,".")),we=l.client.config.forcePathStyle?"".concat(ue.protocol,"//").concat(ue.hostname,"/").concat(Se,"/").concat(ge):Ot?"".concat(ue.protocol,"//").concat(ue.hostname,"/").concat(ge):"".concat(ue.protocol,"//").concat(Se,".").concat(ue.hostname,"/").concat(ge),this.singleUploadResult=(0,b.Z)((0,b.Z)({},se),{},{Bucket:this.params.Bucket,Key:this.params.Key,Location:we}),He=Q2(u.data),this.__notifyProgress({loaded:He,total:He,part:1,Key:this.params.Key,Bucket:this.params.Bucket});case 27:case"end":return dt.stop()}var Ot},s,this)}));return function a(s){return e.apply(this,arguments)}}()},{key:"__createMultipartUpload",value:function(){var e=Zt((0,qe.Z)().mark(function s(){var u;return(0,qe.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this.createMultiPartPromise||(u=(0,b.Z)((0,b.Z)({},this.params),{},{Body:void 0}),this.createMultiPartPromise=this.client.send(new yV(u))),h.next=3,this.createMultiPartPromise;case 3:this.uploadId=h.sent.UploadId;case 5:case"end":return h.stop()}},s,this)}));return function a(){return e.apply(this,arguments)}}()},{key:"__doConcurrentUpload",value:function(){var e=Zt((0,qe.Z)().mark(function s(u){var c,h,C,T,N,F,$,l=this;return(0,qe.Z)().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:c=!1,h=!1,ue.prev=2,T=(0,qe.Z)().mark(function ge(){var Se,we,He,ot,dt,Ot,pt;return(0,qe.Z)().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:if(Se=F.value,!(l.uploadedParts.length>l.MAX_PARTS)){$t.next=3;break}throw new Error("Exceeded ".concat(l.MAX_PARTS," as part of the upload to ").concat(l.params.Key," and ").concat(l.params.Bucket,"."));case 3:if($t.prev=3,!l.abortController.signal.aborted){$t.next=6;break}return $t.abrupt("return",{v:void 0});case 6:if(1!==Se.partNumber||!Se.lastPart){$t.next=11;break}return $t.next=9,l.__uploadUsingPut(Se);case 9:return $t.t0=$t.sent,$t.abrupt("return",{v:$t.t0});case 11:if(l.uploadId){$t.next=16;break}return $t.next=14,l.__createMultipartUpload();case 14:if(!l.abortController.signal.aborted){$t.next=16;break}return $t.abrupt("return",{v:void 0});case 16:return we=Q2(Se.data)||0,dt=0,Ot=function(Gt,Ut){(Number(Ut.query.partNumber)||-1)===Se.partNumber&&(Gt.total&&we&&(l.bytesUploadedSoFar+=Gt.loaded-dt,dt=Gt.loaded),l.__notifyProgress({loaded:l.bytesUploadedSoFar,total:l.totalBytes,part:Se.partNumber,Key:l.params.Key,Bucket:l.params.Bucket}))},null!==(ot=(He=l.client.config.requestHandler)instanceof X2.EventEmitter?He:null)&&ot.on("xhr.upload.progress",Ot),$t.next=24,l.client.send(new EV((0,b.Z)((0,b.Z)({},l.params),{},{UploadId:l.uploadId,Body:Se.data,PartNumber:Se.partNumber})));case 24:if(pt=$t.sent,null!==ot&&ot.off("xhr.upload.progress",Ot),!l.abortController.signal.aborted){$t.next=28;break}return $t.abrupt("return",{v:void 0});case 28:if(pt.ETag){$t.next=30;break}throw new Error("Part ".concat(Se.partNumber," is missing ETag in UploadPart response. Missing Bucket CORS configuration for ETag header?"));case 30:l.uploadedParts.push((0,b.Z)((0,b.Z)((0,b.Z)((0,b.Z)({PartNumber:Se.partNumber,ETag:pt.ETag},pt.ChecksumCRC32&&{ChecksumCRC32:pt.ChecksumCRC32}),pt.ChecksumCRC32C&&{ChecksumCRC32C:pt.ChecksumCRC32C}),pt.ChecksumSHA1&&{ChecksumSHA1:pt.ChecksumSHA1}),pt.ChecksumSHA256&&{ChecksumSHA256:pt.ChecksumSHA256})),null===ot&&(l.bytesUploadedSoFar+=we),l.__notifyProgress({loaded:l.bytesUploadedSoFar,total:l.totalBytes,part:Se.partNumber,Key:l.params.Key,Bucket:l.params.Bucket}),$t.next=41;break;case 35:if($t.prev=35,$t.t1=$t.catch(3),l.uploadId){$t.next=39;break}throw $t.t1;case 39:if(!l.leavePartsOnError){$t.next=41;break}throw $t.t1;case 41:case"end":return $t.stop()}},ge,null,[[3,35]])}),N=uo(u);case 5:return ue.next=7,N.next();case 7:if(!(c=!(F=ue.sent).done)){ue.next=15;break}return ue.delegateYield(T(),"t0",9);case 9:if("object"!=typeof($=ue.t0)){ue.next=12;break}return ue.abrupt("return",$.v);case 12:c=!1,ue.next=5;break;case 15:ue.next=21;break;case 17:ue.prev=17,ue.t1=ue.catch(2),h=!0,C=ue.t1;case 21:if(ue.prev=21,ue.prev=22,!c||null==N.return){ue.next=26;break}return ue.next=26,N.return();case 26:if(ue.prev=26,!h){ue.next=29;break}throw C;case 29:return ue.finish(26);case 30:return ue.finish(21);case 31:case"end":return ue.stop()}},s,null,[[2,17,21,31],[22,,26,30]])}));return function a(s){return e.apply(this,arguments)}}()},{key:"__doMultipartUpload",value:function(){var e=Zt((0,qe.Z)().mark(function s(){var u,l,c,h,C;return(0,qe.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:for(u=IV(this.params.Body,this.partSize),l=0;l<this.queueSize;l++)c=this.__doConcurrentUpload(u),this.concurrentUploaders.push(c);return N.next=4,Promise.all(this.concurrentUploaders);case 4:if(!this.abortController.signal.aborted){N.next=6;break}throw Object.assign(new Error("Upload aborted."),{name:"AbortError"});case 6:if(!this.isMultiPart){N.next=14;break}return this.uploadedParts.sort(function(F,$){return F.PartNumber-$.PartNumber}),C=(0,b.Z)((0,b.Z)({},this.params),{},{Body:void 0,UploadId:this.uploadId,MultipartUpload:{Parts:this.uploadedParts}}),N.next=11,this.client.send(new PV(C));case 11:h=N.sent,N.next=15;break;case 14:h=this.singleUploadResult;case 15:if(!this.tags.length){N.next=18;break}return N.next=18,this.client.send(new AV((0,b.Z)((0,b.Z)({},this.params),{},{Tagging:{TagSet:this.tags}})));case 18:return N.abrupt("return",h);case 19:case"end":return N.stop()}},s,this)}));return function a(){return e.apply(this,arguments)}}()},{key:"__notifyProgress",value:function(a){this.uploadEvent&&this.emit(this.uploadEvent,a)}},{key:"__abortTimeout",value:function(){var e=Zt((0,qe.Z)().mark(function s(u){return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(h,C){u.onabort=function(){var T=new Error("Upload aborted.");T.name="AbortError",C(T)}}));case 1:case"end":return c.stop()}},s)}));return function a(s){return e.apply(this,arguments)}}()},{key:"__validateInput",value:function(){if(!this.params)throw new Error("InputError: Upload requires params to be passed to upload.");if(!this.client)throw new Error("InputError: Upload requires a AWS client to do uploads with.");if(this.partSize<rP)throw new Error("EntityTooSmall: Your proposed upload partsize [".concat(this.partSize,"] is smaller than the minimum allowed size [").concat(rP,"] (5MB)"));if(this.queueSize<1)throw new Error("Queue size: Must have at least one uploading queue.")}}]),t}(X2.EventEmitter),Qo=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),a=n.call(this,e),Object.setPrototypeOf((0,gt.Z)(a),t.prototype),a}return(0,y.Z)(t)}(Zk),FV=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this,(0,b.Z)({name:"InternalErrorException",$fault:"server"},e))).name="InternalErrorException",a.$fault="server",Object.setPrototypeOf((0,gt.Z)(a),t.prototype),a}return(0,y.Z)(t)}(Qo),MV=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this,(0,b.Z)({name:"InvalidParameterException",$fault:"client"},e))).name="InvalidParameterException",a.$fault="client",Object.setPrototypeOf((0,gt.Z)(a),t.prototype),a}return(0,y.Z)(t)}(Qo),NV=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this,(0,b.Z)({name:"LimitExceededException",$fault:"client"},e))).name="LimitExceededException",a.$fault="client",Object.setPrototypeOf((0,gt.Z)(a),t.prototype),a}return(0,y.Z)(t)}(Qo),VV=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this,(0,b.Z)({name:"NotAuthorizedException",$fault:"client"},e))).name="NotAuthorizedException",a.$fault="client",Object.setPrototypeOf((0,gt.Z)(a),t.prototype),a}return(0,y.Z)(t)}(Qo),BV=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this,(0,b.Z)({name:"ResourceConflictException",$fault:"client"},e))).name="ResourceConflictException",a.$fault="client",Object.setPrototypeOf((0,gt.Z)(a),t.prototype),a}return(0,y.Z)(t)}(Qo),ZV=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this,(0,b.Z)({name:"TooManyRequestsException",$fault:"client"},e))).name="TooManyRequestsException",a.$fault="client",Object.setPrototypeOf((0,gt.Z)(a),t.prototype),a}return(0,y.Z)(t)}(Qo),LV=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this,(0,b.Z)({name:"ResourceNotFoundException",$fault:"client"},e))).name="ResourceNotFoundException",a.$fault="client",Object.setPrototypeOf((0,gt.Z)(a),t.prototype),a}return(0,y.Z)(t)}(Qo),jV=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this,(0,b.Z)({name:"ExternalServiceException",$fault:"client"},e))).name="ExternalServiceException",a.$fault="client",Object.setPrototypeOf((0,gt.Z)(a),t.prototype),a}return(0,y.Z)(t)}(Qo),$V=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this,(0,b.Z)({name:"InvalidIdentityPoolConfigurationException",$fault:"client"},e))).name="InvalidIdentityPoolConfigurationException",a.$fault="client",Object.setPrototypeOf((0,gt.Z)(a),t.prototype),a}return(0,y.Z)(t)}(Qo),UV=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s;return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return a=dR("GetCredentialsForIdentity"),s=JSON.stringify(lo(t)),l.abrupt("return",cR(e,a,"/",void 0,s));case 3:case"end":return l.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),zV=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s;return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return a=dR("GetId"),s=JSON.stringify(lo(t)),l.abrupt("return",cR(e,a,"/",void 0,s));case 3:case"end":return l.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),GV=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var s,u;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(t.statusCode>=300)){c.next=2;break}return c.abrupt("return",HV(t,e));case 2:return c.next=4,iP(t.body,e);case 4:return s=YV(c.sent,e),u=(0,b.Z)({$metadata:Eo(t)},s),c.abrupt("return",u);case 9:case"end":return c.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),HV=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=b.Z,c.t1=(0,b.Z)({},t),c.t2={},c.next=5,pR(t.body,e);case 5:c.t3=c.sent,c.t4={body:c.t3},a=(0,c.t0)(c.t1,c.t2,c.t4),s=fR(t,a.body),c.t5=s,c.next="ExternalServiceException"===c.t5||"com.amazonaws.cognitoidentity#ExternalServiceException"===c.t5?12:"InternalErrorException"===c.t5||"com.amazonaws.cognitoidentity#InternalErrorException"===c.t5?15:"InvalidIdentityPoolConfigurationException"===c.t5||"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException"===c.t5?18:"InvalidParameterException"===c.t5||"com.amazonaws.cognitoidentity#InvalidParameterException"===c.t5?21:"NotAuthorizedException"===c.t5||"com.amazonaws.cognitoidentity#NotAuthorizedException"===c.t5?24:"ResourceConflictException"===c.t5||"com.amazonaws.cognitoidentity#ResourceConflictException"===c.t5?27:"ResourceNotFoundException"===c.t5||"com.amazonaws.cognitoidentity#ResourceNotFoundException"===c.t5?30:"TooManyRequestsException"===c.t5||"com.amazonaws.cognitoidentity#TooManyRequestsException"===c.t5?33:36;break;case 12:return c.next=14,nR(a,e);case 14:case 17:case 20:case 23:case 26:case 29:case 32:case 35:throw c.sent;case 15:return c.next=17,rR(a,e);case 18:return c.next=20,WV(a,e);case 21:return c.next=23,iR(a,e);case 24:return c.next=26,aR(a,e);case 27:return c.next=29,oR(a,e);case 30:return c.next=32,sR(a,e);case 33:return c.next=35,uR(a,e);case 36:return c.abrupt("return",lR({output:t,parsedBody:a.body,errorCode:s}));case 38:case"end":return c.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),qV=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var s,u;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(t.statusCode>=300)){c.next=2;break}return c.abrupt("return",KV(t,e));case 2:return c.next=4,iP(t.body,e);case 4:return s=lo(c.sent),u=(0,b.Z)({$metadata:Eo(t)},s),c.abrupt("return",u);case 9:case"end":return c.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),KV=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=b.Z,c.t1=(0,b.Z)({},t),c.t2={},c.next=5,pR(t.body,e);case 5:c.t3=c.sent,c.t4={body:c.t3},a=(0,c.t0)(c.t1,c.t2,c.t4),s=fR(t,a.body),c.t5=s,c.next="ExternalServiceException"===c.t5||"com.amazonaws.cognitoidentity#ExternalServiceException"===c.t5?12:"InternalErrorException"===c.t5||"com.amazonaws.cognitoidentity#InternalErrorException"===c.t5?15:"InvalidParameterException"===c.t5||"com.amazonaws.cognitoidentity#InvalidParameterException"===c.t5?18:"LimitExceededException"===c.t5||"com.amazonaws.cognitoidentity#LimitExceededException"===c.t5?21:"NotAuthorizedException"===c.t5||"com.amazonaws.cognitoidentity#NotAuthorizedException"===c.t5?24:"ResourceConflictException"===c.t5||"com.amazonaws.cognitoidentity#ResourceConflictException"===c.t5?27:"ResourceNotFoundException"===c.t5||"com.amazonaws.cognitoidentity#ResourceNotFoundException"===c.t5?30:"TooManyRequestsException"===c.t5||"com.amazonaws.cognitoidentity#TooManyRequestsException"===c.t5?33:36;break;case 12:return c.next=14,nR(a,e);case 14:case 17:case 20:case 23:case 26:case 29:case 32:case 35:throw c.sent;case 15:return c.next=17,rR(a,e);case 18:return c.next=20,iR(a,e);case 21:return c.next=23,XV(a,e);case 24:return c.next=26,aR(a,e);case 27:return c.next=29,oR(a,e);case 30:return c.next=32,sR(a,e);case 33:return c.next=35,uR(a,e);case 36:return c.abrupt("return",lR({output:t,parsedBody:a.body,errorCode:s}));case 38:case"end":return c.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),nR=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s,u;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=lo(a=t.body),u=new jV((0,b.Z)({$metadata:Eo(t)},s)),c.abrupt("return",Ko(u,a));case 4:case"end":return c.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),rR=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s,u;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=lo(a=t.body),u=new FV((0,b.Z)({$metadata:Eo(t)},s)),c.abrupt("return",Ko(u,a));case 4:case"end":return c.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),WV=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s,u;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=lo(a=t.body),u=new $V((0,b.Z)({$metadata:Eo(t)},s)),c.abrupt("return",Ko(u,a));case 4:case"end":return c.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),iR=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s,u;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=lo(a=t.body),u=new MV((0,b.Z)({$metadata:Eo(t)},s)),c.abrupt("return",Ko(u,a));case 4:case"end":return c.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),XV=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s,u;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=lo(a=t.body),u=new NV((0,b.Z)({$metadata:Eo(t)},s)),c.abrupt("return",Ko(u,a));case 4:case"end":return c.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),aR=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s,u;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=lo(a=t.body),u=new VV((0,b.Z)({$metadata:Eo(t)},s)),c.abrupt("return",Ko(u,a));case 4:case"end":return c.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),oR=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s,u;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=lo(a=t.body),u=new BV((0,b.Z)({$metadata:Eo(t)},s)),c.abrupt("return",Ko(u,a));case 4:case"end":return c.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),sR=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s,u;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=lo(a=t.body),u=new LV((0,b.Z)({$metadata:Eo(t)},s)),c.abrupt("return",Ko(u,a));case 4:case"end":return c.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),uR=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s,u;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=lo(a=t.body),u=new ZV((0,b.Z)({$metadata:Eo(t)},s)),c.abrupt("return",Ko(u,a));case 4:case"end":return c.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),YV=function(n,t){return $k(n,{Credentials:function(a){return function(n,t){return $k(n,{AccessKeyId:va,Expiration:function(a){return gl(function(n){if(null!=n){var t;if("number"==typeof n)t=n;else{if("string"!=typeof n)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");t=function(n){return ff("string"==typeof n?Oc(n):n)}(n)}if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))}}(ff(a)))},SecretKey:va,SessionToken:va})}(a)},IdentityId:va})},Eo=function(n){var t,e;return{httpStatusCode:n.statusCode,requestId:null!==(t=null!==(e=n.headers["x-amzn-requestid"])&&void 0!==e?e:n.headers["x-amzn-request-id"])&&void 0!==t?t:n.headers["x-amz-request-id"],extendedRequestId:n.headers["x-amz-id-2"],cfId:n.headers["x-amz-cf-id"]}},lR=Lk(Qo),cR=function(){var o=Zt((0,qe.Z)().mark(function n(t,e,a,s,u){var l,h,N,F;return(0,qe.Z)().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,t.endpoint();case 2:return F={protocol:void 0===(h=(l=se.sent).protocol)?"https":h,hostname:l.hostname,port:l.port,method:"POST",path:(N=l.path).endsWith("/")?N.slice(0,-1)+a:N+a,headers:e},void 0!==s&&(F.hostname=s),void 0!==u&&(F.body=u),se.abrupt("return",new Mc(F));case 12:case"end":return se.stop()}},n)}));return function(t,e,a,s,u){return o.apply(this,arguments)}}();function dR(o){return{"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.".concat(o)}}var iP=function(n,t){return function(n,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,t=arguments.length>1?arguments[1]:void 0;return n instanceof Uint8Array?Promise.resolve(n):t.streamCollector(n)||Promise.resolve(new Uint8Array)}(n,t).then(function(e){return t.utf8Encoder(e)})}(n,t).then(function(e){return e.length?JSON.parse(e):{}})},pR=function(){var o=Zt((0,qe.Z)().mark(function n(t,e){var a,s;return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,iP(t,e);case 2:return(s=l.sent).message=null!==(a=s.message)&&void 0!==a?a:s.Message,l.abrupt("return",s);case 5:case"end":return l.stop()}},n)}));return function(t,e){return o.apply(this,arguments)}}(),fR=function(n,t){var a=function(l){var c=l;return"number"==typeof c&&(c=c.toString()),c.indexOf(",")>=0&&(c=c.split(",")[0]),c.indexOf(":")>=0&&(c=c.split(":")[0]),c.indexOf("#")>=0&&(c=c.split("#")[1]),c},s=("x-amzn-errortype",Object.keys(n.headers).find(function(h){return h.toLowerCase()==="x-amzn-errortype".toLowerCase()}));return void 0!==s?a(n.headers[s]):void 0!==t.code?a(t.code):void 0!==t.__type?a(t.__type):void 0},r6=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this)).input=e,a}return(0,y.Z)(t,[{key:"resolveMiddleware",value:function(a,s,u){this.middlewareStack.use(It(s,this.serialize,this.deserialize)),this.middlewareStack.use(dn(s,t.getEndpointParameterInstructions()));var l=a.concat(this.middlewareStack),N=s.requestHandler;return l.resolve(function(F){return N.handle(F.request,u||{})},{logger:s.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:function($){return $},outputFilterSensitiveLog:function($){return $}})}},{key:"serialize",value:function(a,s){return zV(a,s)}},{key:"deserialize",value:function(a,s){return qV(a,s)}}],[{key:"getEndpointParameterInstructions",value:function(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),t}(hl),a6=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,f.Z)(this,t),(a=n.call(this,e)).tryNextLink=s,a.name="ProviderError",Object.setPrototypeOf((0,gt.Z)(a),t.prototype),a}return(0,y.Z)(t,null,[{key:"from",value:function(a){return Object.assign(new this(a.message,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),a)}}]),t}((0,G.Z)(Error)),G0=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,f.Z)(this,t),(a=n.call(this,e,s)).tryNextLink=s,a.name="CredentialsProviderError",Object.setPrototypeOf((0,gt.Z)(a),t.prototype),a}return(0,y.Z)(t)}(a6),mR=function(n,t,e){var a,s,u,l=!1,c=function(){var h=Zt((0,qe.Z)().mark(function C(){return(0,qe.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return s||(s=n()),N.prev=1,N.next=4,s;case 4:a=N.sent,u=!0,l=!1;case 7:return N.prev=7,s=void 0,N.finish(7);case 10:return N.abrupt("return",a);case 11:case"end":return N.stop()}},C,null,[[1,,7,10]])}));return function(){return h.apply(this,arguments)}}();return void 0===t?function(){var h=Zt((0,qe.Z)().mark(function C(T){return(0,qe.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(u&&(null==T||!T.forceRefresh)){F.next=4;break}return F.next=3,c();case 3:a=F.sent;case 4:return F.abrupt("return",a);case 5:case"end":return F.stop()}},C)}));return function(C){return h.apply(this,arguments)}}():function(){var h=Zt((0,qe.Z)().mark(function C(T){return(0,qe.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(u&&(null==T||!T.forceRefresh)){F.next=4;break}return F.next=3,c();case 3:a=F.sent;case 4:if(!l){F.next=6;break}return F.abrupt("return",a);case 6:if(!e||e(a)){F.next=9;break}return l=!0,F.abrupt("return",a);case 9:if(!t(a)){F.next=13;break}return F.next=12,c();case 12:case 13:return F.abrupt("return",a);case 14:case"end":return F.stop()}},C)}));return function(C){return h.apply(this,arguments)}}()},o6=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this)).input=e,a}return(0,y.Z)(t,[{key:"resolveMiddleware",value:function(a,s,u){this.middlewareStack.use(It(s,this.serialize,this.deserialize)),this.middlewareStack.use(dn(s,t.getEndpointParameterInstructions()));var l=a.concat(this.middlewareStack),N=s.requestHandler;return l.resolve(function(F){return N.handle(F.request,u||{})},{logger:s.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:function($){return $},outputFilterSensitiveLog:function($){return $}})}},{key:"serialize",value:function(a,s){return UV(a,s)}},{key:"deserialize",value:function(a,s){return GV(a,s)}}],[{key:"getEndpointParameterInstructions",value:function(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),t}(hl);function hR(o){return Promise.all(Object.keys(o).reduce(function(n,t){var e=o[t];return n.push("string"==typeof e?[t,e]:e().then(function(a){return[t,a]})),n},[])).then(function(n){return n.reduce(function(t,e){var a=(0,g.Z)(e,2);return t[a[0]]=a[1],t},{})})}function s6(o){return Zt((0,qe.Z)().mark(function n(){var e,a,s,u,l,c,h;return(0,qe.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(N.t0=o.client,N.t1=o6,N.t2=o.customRoleArn,N.t3=o.identityId,!o.logins){N.next=10;break}return N.next=7,hR(o.logins);case 7:N.t4=N.sent,N.next=11;break;case 10:N.t4=void 0;case 11:return N.t5=N.t4,N.t6={CustomRoleArn:N.t2,IdentityId:N.t3,Logins:N.t5},N.t7=new N.t1(N.t6),N.next=16,N.t0.send.call(N.t0,N.t7);case 16:return a=void 0===(e=N.sent.Credentials)?l6():e,u=void 0===(s=a.AccessKeyId)?u6():s,l=a.Expiration,h=void 0===(c=a.SecretKey)?c6():c,N.abrupt("return",{identityId:o.identityId,accessKeyId:u,secretAccessKey:h,sessionToken:a.SessionToken,expiration:l});case 26:case"end":return N.stop()}},n)}))}function u6(){throw new G0("Response from Amazon Cognito contained no access key ID")}function l6(){throw new G0("Response from Amazon Cognito contained no credentials")}function c6(){throw new G0("Response from Amazon Cognito contained no secret key")}var aP="IdentityIds",d6=function(){function o(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"aws:cognito-identity-ids";(0,f.Z)(this,o),this.dbName=n}return(0,y.Z)(o,[{key:"getItem",value:function(t){return this.withObjectStore("readonly",function(e){var a=e.get(t);return new Promise(function(s){a.onerror=function(){return s(null)},a.onsuccess=function(){return s(a.result?a.result.value:null)}})}).catch(function(){return null})}},{key:"removeItem",value:function(t){return this.withObjectStore("readwrite",function(e){var a=e.delete(t);return new Promise(function(s,u){a.onerror=function(){return u(a.error)},a.onsuccess=function(){return s()}})})}},{key:"setItem",value:function(t,e){return this.withObjectStore("readwrite",function(a){var s=a.put({id:t,value:e});return new Promise(function(u,l){s.onerror=function(){return l(s.error)},s.onsuccess=function(){return u()}})})}},{key:"getDb",value:function(){var t=self.indexedDB.open(this.dbName,1);return new Promise(function(e,a){t.onsuccess=function(){e(t.result)},t.onerror=function(){a(t.error)},t.onblocked=function(){a(new Error("Unable to access DB"))},t.onupgradeneeded=function(){var s=t.result;s.onerror=function(){a(new Error("Failed to create object store"))},s.createObjectStore(aP,{keyPath:"id"})}})}},{key:"withObjectStore",value:function(t,e){return this.getDb().then(function(a){var s=a.transaction(aP,t);return s.oncomplete=function(){return a.close()},new Promise(function(u,l){s.onerror=function(){return l(s.error)},u(e(s.objectStore(aP)))}).catch(function(u){throw a.close(),u})})}}]),o}(),p6=function(){function o(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,f.Z)(this,o),this.store=n}return(0,y.Z)(o,[{key:"getItem",value:function(t){return t in this.store?this.store[t]:null}},{key:"removeItem",value:function(t){delete this.store[t]}},{key:"setItem",value:function(t,e){this.store[t]=e}}]),o}(),f6=new p6;function oP(o){var n=o.accountId,t=o.cache,e=void 0===t?function m6(){return"object"==typeof self&&self.indexedDB?new d6:"object"==typeof window&&window.localStorage?window.localStorage:f6}():t,a=o.client,s=o.customRoleArn,u=o.identityPoolId,l=o.logins,c=o.userIdentifier,h=void 0===c?l&&0!==Object.keys(l).length?void 0:"ANONYMOUS":c,C=h?"aws:cognito-identity-credentials:".concat(u,":").concat(h):void 0,T=function(){var N=Zt((0,qe.Z)().mark(function F(){var $,ue,ge;return(0,qe.Z)().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if(we.t0=C,!we.t0){we.next=5;break}return we.next=4,e.getItem(C);case 4:we.t0=we.sent;case 5:if($=we.t0){we.next=28;break}if(we.t1=a,we.t2=r6,we.t3=n,we.t4=u,!l){we.next=17;break}return we.next=14,hR(l);case 14:we.t5=we.sent,we.next=18;break;case 17:we.t5=void 0;case 18:return we.t6=we.t5,we.t7={AccountId:we.t3,IdentityPoolId:we.t4,Logins:we.t6},we.t8=new we.t2(we.t7),we.next=23,we.t1.send.call(we.t1,we.t8);case 23:ge=void 0===(ue=we.sent.IdentityId)?h6():ue,$=ge,C&&Promise.resolve(e.setItem(C,$)).catch(function(){});case 28:return T=s6({client:a,customRoleArn:s,logins:l,identityId:$}),we.abrupt("return",T());case 30:case"end":return we.stop()}},F)}));return function(){return N.apply(this,arguments)}}();return function(){return T().catch(function(){var N=Zt((0,qe.Z)().mark(function F($){return(0,qe.Z)().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:throw C&&Promise.resolve(e.removeItem(C)).catch(function(){}),$;case 2:case"end":return ue.stop()}},F)}));return function(F){return N.apply(this,arguments)}}())}}function h6(){throw new G0("Response from Amazon Cognito contained no identity ID")}var yR=function(n){return"string"==typeof n&&(n.startsWith("fips-")||n.endsWith("-fips"))},_R=function(n){return yR(n)?["fips-aws-global","aws-fips"].includes(n)?"us-east-1":n.replace(/fips-(dkr-|prod-)?|-fips/,""):n},xR=function(n){var a,t=n.region,e=n.useFipsEndpoint;if(!t)throw new Error("Region is missing");return(0,b.Z)((0,b.Z)({},n),{},{region:(a=Zt((0,qe.Z)().mark(function u(){return(0,qe.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if("string"!=typeof t){h.next=2;break}return h.abrupt("return",_R(t));case 2:return h.next=4,t();case 4:return h.abrupt("return",_R(h.sent));case 6:case"end":return h.stop()}},u)})),function s(){return a.apply(this,arguments)}),useFipsEndpoint:function(){var a=Zt((0,qe.Z)().mark(function u(){return(0,qe.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if("string"!=typeof t){h.next=4;break}h.t0=t,h.next=7;break;case 4:return h.next=6,t();case 6:h.t0=h.sent;case 7:if(!yR(h.t0)){h.next=10;break}return h.abrupt("return",!0);case 10:return h.abrupt("return","function"!=typeof e?Promise.resolve(!!e):e());case 11:case"end":return h.stop()}},u)}));return function s(){return a.apply(this,arguments)}}()})},bR="content-length",w6={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},CR=function(n){return{applyToStack:function(e){e.add(function C6(o){return function(n){return function(){var t=Zt((0,qe.Z)().mark(function e(a){var s,u,l,c;return(0,qe.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(rr.isInstance(s=a.request)&&(l=s.headers,(u=s.body)&&-1===Object.keys(l).map(function(T){return T.toLowerCase()}).indexOf(bR)))try{c=o(u),s.headers=(0,b.Z)((0,b.Z)({},s.headers),{},(0,d.Z)({},bR,String(c)))}catch{}return C.abrupt("return",n((0,b.Z)((0,b.Z)({},a),{},{request:s})));case 3:case"end":return C.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()}}(n.bodyLengthChecker),w6)}}},E6={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},wR=function(n){return{applyToStack:function(e){e.add(function(n){return function(t){return function(){var e=Zt((0,qe.Z)().mark(function a(s){var u,c,C;return(0,qe.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(rr.isInstance(s.request)){N.next=2;break}return N.abrupt("return",t(s));case 2:return u=s.request,(void 0===(c=(n.requestHandler.metadata||{}).handlerProtocol)?"":c).indexOf("h2")>=0&&!u.headers[":authority"]?(delete u.headers.host,u.headers[":authority"]=""):u.headers.host||(C=u.hostname,null!=u.port&&(C+=":".concat(u.port)),u.headers.host=C),N.abrupt("return",t(s));case 6:case"end":return N.stop()}},a)}));return function(a){return e.apply(this,arguments)}}()}}(n),E6)}}};function sP(o,n){if(null==o)return{};var e,a,t=function P6(o,n){if(null==o)return{};var a,s,t={},e=Object.keys(o);for(s=0;s<e.length;s++)!(n.indexOf(a=e[s])>=0)&&(t[a]=o[a]);return t}(o,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(o);for(a=0;a<s.length;a++)!(n.indexOf(e=s[a])>=0)&&Object.prototype.propertyIsEnumerable.call(o,e)&&(t[e]=o[e])}return t}for(var A6=["$metadata"],R6={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},SR=function(n){return{applyToStack:function(e){e.add(function(n,t){return function(){var e=Zt((0,qe.Z)().mark(function a(s){var u,l,c,h,C,T,N,se,ue,ge,Se,we,He,ot,dt,Ot,pt,tn;return(0,qe.Z)().wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:return Ut.prev=0,Ut.next=3,n(s);case 3:return c=t.clientName,h=t.commandName,C=t.logger,se=(N=void 0===(T=t.dynamoDbDocumentClientOptions)?{}:T).overrideInputFilterSensitiveLog??t.inputFilterSensitiveLog,ue=N.overrideOutputFilterSensitiveLog??t.outputFilterSensitiveLog,Se=(ge=(l=Ut.sent).output).$metadata,we=sP(ge,A6),null==C||null===(u=C.info)||void 0===u||u.call(C,{clientName:c,commandName:h,input:se(s.input),output:ue(we),metadata:Se}),Ut.abrupt("return",l);case 13:throw Ut.prev=13,Ut.t0=Ut.catch(0),ot=t.clientName,dt=t.commandName,tn=(void 0===(pt=t.dynamoDbDocumentClientOptions)?{}:pt).overrideInputFilterSensitiveLog??t.inputFilterSensitiveLog,null==(Ot=t.logger)||null===(He=Ot.error)||void 0===He||He.call(Ot,{clientName:ot,commandName:dt,input:tn(s.input),error:Ut.t0,metadata:Ut.t0.$metadata}),Ut.t0;case 20:case"end":return Ut.stop()}},a,null,[[0,13]])}));return function(a){return e.apply(this,arguments)}}()},R6)}}},ER="X-Amzn-Trace-Id",O6={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},PR=function(n){return{applyToStack:function(e){e.add(function(n){return function(t){return function(){var e=Zt((0,qe.Z)().mark(function a(s){var u,l,c,h;return(0,qe.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(rr.isInstance(u=s.request)&&"node"===n.runtime&&!u.headers.hasOwnProperty(ER)){T.next=3;break}return T.abrupt("return",t(s));case 3:return l=process.env.AWS_LAMBDA_FUNCTION_NAME,c=process.env._X_AMZN_TRACE_ID,(h=function(F){return"string"==typeof F&&F.length>0})(l)&&h(c)&&(u.headers[ER]=c),T.abrupt("return",t((0,b.Z)((0,b.Z)({},s),{},{request:u})));case 8:case"end":return T.stop()}},a)}));return function(a){return e.apply(this,arguments)}}()}}(n),O6)}}},Ps=function(){return(Ps=Ps||{}).STANDARD="standard",Ps.ADAPTIVE="adaptive",Ps}(),uP=Ps.STANDARD,F6=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],M6=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],N6=[500,502,503,504],V6=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],AR=function(n){var t,e;return 429===(null===(t=n.$metadata)||void 0===t?void 0:t.httpStatusCode)||F6.includes(n.name)||1==(null===(e=n.$retryable)||void 0===e?void 0:e.throttling)},kR=function(n){var t;return M6.includes(n.name)||V6.includes(n?.code||"")||N6.includes((null===(t=n.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)},Z6=function(){function o(n){var t,e,a,s,u;(0,f.Z)(this,o),this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=null!==(t=n?.beta)&&void 0!==t?t:.7,this.minCapacity=null!==(e=n?.minCapacity)&&void 0!==e?e:1,this.minFillRate=null!==(a=n?.minFillRate)&&void 0!==a?a:.5,this.scaleConstant=null!==(s=n?.scaleConstant)&&void 0!==s?s:.4,this.smooth=null!==(u=n?.smooth)&&void 0!==u?u:.8;var l=this.getCurrentTimeInSeconds();this.lastThrottleTime=l,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return(0,y.Z)(o,[{key:"getCurrentTimeInSeconds",value:function(){return Date.now()/1e3}},{key:"getSendToken",value:(n=Zt((0,qe.Z)().mark(function e(){return(0,qe.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.acquireTokenBucket(1));case 1:case"end":return s.stop()}},e,this)})),function t(){return n.apply(this,arguments)})},{key:"acquireTokenBucket",value:function(){var n=Zt((0,qe.Z)().mark(function e(a){var s;return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.enabled){l.next=2;break}return l.abrupt("return");case 2:if(this.refillTokenBucket(),!(a>this.currentCapacity)){l.next=7;break}return s=(a-this.currentCapacity)/this.fillRate*1e3,l.next=7,new Promise(function(c){return setTimeout(c,s)});case 7:this.currentCapacity=this.currentCapacity-a;case 8:case"end":return l.stop()}},e,this)}));return function t(e){return n.apply(this,arguments)}}()},{key:"refillTokenBucket",value:function(){var t=this.getCurrentTimeInSeconds();this.lastTimestamp?(this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+(t-this.lastTimestamp)*this.fillRate),this.lastTimestamp=t):this.lastTimestamp=t}},{key:"updateClientSendingRate",value:function(t){var e;if(this.updateMeasuredRate(),AR(t)){var a=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=a,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),e=this.cubicThrottle(a),this.enableTokenBucket()}else this.calculateTimeWindow(),e=this.cubicSuccess(this.getCurrentTimeInSeconds());var s=Math.min(e,2*this.measuredTxRate);this.updateTokenBucketRate(s)}},{key:"calculateTimeWindow",value:function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}},{key:"cubicThrottle",value:function(t){return this.getPrecise(t*this.beta)}},{key:"cubicSuccess",value:function(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}},{key:"enableTokenBucket",value:function(){this.enabled=!0}},{key:"updateTokenBucketRate",value:function(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}},{key:"updateMeasuredRate",value:function(){var t=this.getCurrentTimeInSeconds(),e=Math.floor(2*t)/2;this.requestCount++,e>this.lastTxRateBucket&&(this.measuredTxRate=this.getPrecise(this.requestCount/(e-this.lastTxRateBucket)*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=e)}},{key:"getPrecise",value:function(t){return parseFloat(t.toFixed(8))}}]),o;var n}(),TR=function(n){var t=n.retryDelay,e=n.retryCount,a=n.retryCost;return{getRetryCount:function(){return e},getRetryDelay:function(){return Math.min(2e4,t)},getRetryCost:function(){return a}}},IR=function(){function o(n){(0,f.Z)(this,o),this.maxAttempts=n,this.mode=Ps.STANDARD,this.capacity=500,this.retryBackoffStrategy=function(){var n=100;return{computeNextBackoffDelay:function(s){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,s)*n))},setDelayBase:function(s){n=s}}}(),this.maxAttemptsProvider="function"==typeof n?n:Zt((0,qe.Z)().mark(function t(){return(0,qe.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",n);case 1:case"end":return a.stop()}},t)}))}return(0,y.Z)(o,[{key:"acquireInitialRetryToken",value:(n=Zt((0,qe.Z)().mark(function e(a){return(0,qe.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",TR({retryDelay:100,retryCount:0}));case 1:case"end":return u.stop()}},e)})),function t(e){return n.apply(this,arguments)})},{key:"refreshRetryTokenForRetry",value:function(){var n=Zt((0,qe.Z)().mark(function e(a,s){var l,c,h,C;return(0,qe.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,this.getMaxAttempts();case 2:if(!this.shouldRetry(a,s,N.sent)){N.next=11;break}return this.retryBackoffStrategy.setDelayBase("THROTTLING"===(l=s.errorType)?500:100),c=this.retryBackoffStrategy.computeNextBackoffDelay(a.getRetryCount()),h=s.retryAfterHint?Math.max(s.retryAfterHint.getTime()-Date.now()||0,c):c,C=this.getCapacityCost(l),this.capacity-=C,N.abrupt("return",TR({retryDelay:h,retryCount:a.getRetryCount()+1,retryCost:C}));case 11:throw new Error("No retry token available");case 12:case"end":return N.stop()}},e,this)}));return function t(e,a){return n.apply(this,arguments)}}()},{key:"recordSuccess",value:function(t){var e;this.capacity=Math.max(500,this.capacity+(null!==(e=t.getRetryCost())&&void 0!==e?e:1))}},{key:"getCapacity",value:function(){return this.capacity}},{key:"getMaxAttempts",value:function(){var n=Zt((0,qe.Z)().mark(function e(){return(0,qe.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,this.maxAttemptsProvider();case 3:return s.abrupt("return",s.sent);case 6:return s.prev=6,s.t0=s.catch(0),console.warn("Max attempts provider could not resolve. Using default of ".concat(3)),s.abrupt("return",3);case 10:case"end":return s.stop()}},e,this,[[0,6]])}));return function t(){return n.apply(this,arguments)}}()},{key:"shouldRetry",value:function(t,e,a){return t.getRetryCount()<a&&this.capacity>=this.getCapacityCost(e.errorType)&&this.isRetryableError(e.errorType)}},{key:"getCapacityCost",value:function(t){return"TRANSIENT"===t?10:5}},{key:"isRetryableError",value:function(t){return"THROTTLING"===t||"TRANSIENT"===t}}]),o;var n}(),q6=function(){function o(n,t){(0,f.Z)(this,o),this.maxAttemptsProvider=n,this.mode=Ps.ADAPTIVE,this.rateLimiter=(t??{}).rateLimiter??new Z6,this.standardRetryStrategy=new IR(n)}return(0,y.Z)(o,[{key:"acquireInitialRetryToken",value:(n=Zt((0,qe.Z)().mark(function e(a){return(0,qe.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.rateLimiter.getSendToken();case 2:return u.abrupt("return",this.standardRetryStrategy.acquireInitialRetryToken(a));case 3:case"end":return u.stop()}},e,this)})),function t(e){return n.apply(this,arguments)})},{key:"refreshRetryTokenForRetry",value:function(){var n=Zt((0,qe.Z)().mark(function e(a,s){return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return this.rateLimiter.updateClientSendingRate(s),l.abrupt("return",this.standardRetryStrategy.refreshRetryTokenForRetry(a,s));case 2:case"end":return l.stop()}},e,this)}));return function t(e,a){return n.apply(this,arguments)}}()},{key:"recordSuccess",value:function(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}]),o;var n}(),MR=function(n){var t,s,e=n.retryStrategy,a=_n(null!==(t=n.maxAttempts)&&void 0!==t?t:3);return(0,b.Z)((0,b.Z)({},n),{},{maxAttempts:a,retryStrategy:(s=Zt((0,qe.Z)().mark(function l(){return(0,qe.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!e){C.next=2;break}return C.abrupt("return",e);case 2:return C.next=4,_n(n.retryMode)();case 4:if(C.sent!==Ps.ADAPTIVE){C.next=7;break}return C.abrupt("return",new q6(a));case 7:return C.abrupt("return",new IR(a));case 8:case"end":return C.stop()}},l)})),function u(){return s.apply(this,arguments)})})},Y6=function(n){return n instanceof Error?n:n instanceof Object?Object.assign(new Error,n):"string"==typeof n?new Error(n):new Error("AWS SDK error wrapper for ".concat(n))},eB=function(n){return typeof n.acquireInitialRetryToken<"u"&&typeof n.refreshRetryTokenForRetry<"u"&&typeof n.recordSuccess<"u"},tB=function(n){var t={errorType:nB(n)},e=iB(n.$response);return e&&(t.retryAfterHint=e),t},nB=function(n){return AR(n)?"THROTTLING":kR(n)?"TRANSIENT":function(n){var t;if(void 0!==(null===(t=n.$metadata)||void 0===t?void 0:t.httpStatusCode)){var e=n.$metadata.httpStatusCode;return 500<=e&&e<=599&&!kR(n)}return!1}(n)?"SERVER_ERROR":"CLIENT_ERROR"},rB={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},NR=function(n){return{applyToStack:function(e){e.add(function(n){return function(t,e){return function(){var a=Zt((0,qe.Z)().mark(function s(u){var l,c,h,C,T,N,F,$,se,ue;return(0,qe.Z)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,n.retryStrategy();case 2:return l=Se.sent,Se.next=5,n.maxAttempts();case 5:if(c=Se.sent,!eB(l)){Se.next=26;break}return Se.next=10,l.acquireInitialRetryToken(e.partition_id);case 10:h=Se.sent,C=new Error,T=0,N=0,rr.isInstance(F=u.request)&&(F.headers["amz-sdk-invocation-id"]=vr()),$=(0,qe.Z)().mark(function we(){var He,ot,dt,Ot,pt;return(0,qe.Z)().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:return $t.prev=0,rr.isInstance(F)&&(F.headers["amz-sdk-request"]="attempt=".concat(T+1,"; max=").concat(c)),$t.next=4,t(u);case 4:return ot=(He=$t.sent).response,dt=He.output,l.recordSuccess(h),dt.$metadata.attempts=T+1,dt.$metadata.totalRetryDelay=N,$t.abrupt("return",{v:{response:ot,output:dt}});case 13:return $t.prev=13,$t.t0=$t.catch(0),Ot=tB($t.t0),C=Y6($t.t0),$t.prev=17,$t.next=20,l.refreshRetryTokenForRetry(h,Ot);case 20:h=$t.sent,$t.next=29;break;case 23:throw $t.prev=23,$t.t1=$t.catch(17),C.$metadata||(C.$metadata={}),C.$metadata.attempts=T+1,C.$metadata.totalRetryDelay=N,C;case 29:return T=h.getRetryCount(),pt=h.getRetryDelay(),N+=pt,$t.next=34,new Promise(function(tn){return setTimeout(tn,pt)});case 34:case"end":return $t.stop()}},we,null,[[0,13],[17,23]])});case 17:return Se.delegateYield($(),"t0",19);case 19:if("object"!=typeof(se=Se.t0)){Se.next=22;break}return Se.abrupt("return",se.v);case 22:Se.next=17;break;case 24:Se.next=29;break;case 26:return null!==(ue=l)&&void 0!==ue&&ue.mode&&(e.userAgent=[].concat((0,_.Z)(e.userAgent||[]),[["cfg/retry-mode",l.mode]])),Se.abrupt("return",l.retry(t,u));case 29:case"end":return Se.stop()}},s)}));return function(s){return a.apply(this,arguments)}}()}}(n),rB)}}},iB=function(n){if(pf.isInstance(n)){var t=Object.keys(n.headers).find(function(u){return"retry-after"===u.toLowerCase()});if(t){var e=n.headers[t],a=Number(e);return Number.isNaN(a)?new Date(e):new Date(1e3*a)}}},VR=S(98407),BR={},cP={},bf=0;bf<256;bf++){var Cf=bf.toString(16).toLowerCase();1===Cf.length&&(Cf="0".concat(Cf)),BR[bf]=Cf,cP[Cf]=bf}function Ka(o){for(var n="",t=0;t<o.byteLength;t++)n+=BR[o[t]];return n}var dP=function(){function o(n){if((0,f.Z)(this,o),this.bytes=n,8!==n.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return(0,y.Z)(o,[{key:"valueOf",value:function(){var t=this.bytes.slice(0),e=128&t[0];return e&&ZR(t),parseInt(Ka(t),16)*(e?-1:1)}},{key:"toString",value:function(){return String(this.valueOf())}}],[{key:"fromNumber",value:function(t){if(t>0x8000000000000000||t<-0x8000000000000000)throw new Error("".concat(t," is too large (or, if negative, too small) to represent as an Int64"));for(var e=new Uint8Array(8),a=7,s=Math.abs(Math.round(t));a>-1&&s>0;a--,s/=256)e[a]=s;return t<0&&ZR(e),new o(e)}}]),o}();function ZR(o){for(var n=0;n<8;n++)o[n]^=255;for(var t=7;t>-1&&(o[t]++,0===o[t]);t--);}var LR=function(){function o(n,t){(0,f.Z)(this,o),this.toUtf8=n,this.fromUtf8=t}return(0,y.Z)(o,[{key:"format",value:function(t){for(var e=[],a=0,s=Object.keys(t);a<s.length;a++){var u=s[a],l=this.fromUtf8(u);e.push(Uint8Array.from([l.byteLength]),l,this.formatHeaderValue(t[u]))}for(var c=new Uint8Array(e.reduce(function(F,$){return F+$.byteLength},0)),h=0,C=0,T=e;C<T.length;C++){var N=T[C];c.set(N,h),h+=N.byteLength}return c}},{key:"formatHeaderValue",value:function(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":var e=new DataView(new ArrayBuffer(3));return e.setUint8(0,3),e.setInt16(1,t.value,!1),new Uint8Array(e.buffer);case"integer":var a=new DataView(new ArrayBuffer(5));return a.setUint8(0,4),a.setInt32(1,t.value,!1),new Uint8Array(a.buffer);case"long":var s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":var u=new DataView(new ArrayBuffer(3+t.value.byteLength));u.setUint8(0,6),u.setUint16(1,t.value.byteLength,!1);var l=new Uint8Array(u.buffer);return l.set(t.value,3),l;case"string":var c=this.fromUtf8(t.value),h=new DataView(new ArrayBuffer(3+c.byteLength));h.setUint8(0,7),h.setUint16(1,c.byteLength,!1);var C=new Uint8Array(h.buffer);return C.set(c,3),C;case"timestamp":var T=new Uint8Array(9);return T[0]=8,T.set(dP.fromNumber(t.value.valueOf()).bytes,1),T;case"uuid":if(!mB.test(t.value))throw new Error("Invalid UUID received: ".concat(t.value));var N=new Uint8Array(17);return N[0]=9,N.set(function aB(o){if(o.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var n=new Uint8Array(o.length/2),t=0;t<o.length;t+=2){var e=o.slice(t,t+2).toLowerCase();if(!(e in cP))throw new Error("Cannot decode unrecognized sequence ".concat(e," as hexadecimal"));n[t/2]=cP[e]}return n}(t.value.replace(/\-/g,"")),1),N}}},{key:"parse",value:function(t){for(var e={},a=0;a<t.byteLength;){var s=t.getUint8(a++),u=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+a,s));switch(a+=s,t.getUint8(a++)){case 0:e[u]={type:jR,value:!0};break;case 1:e[u]={type:jR,value:!1};break;case 2:e[u]={type:oB,value:t.getInt8(a++)};break;case 3:e[u]={type:sB,value:t.getInt16(a,!1)},a+=2;break;case 4:e[u]={type:uB,value:t.getInt32(a,!1)},a+=4;break;case 5:e[u]={type:lB,value:new dP(new Uint8Array(t.buffer,t.byteOffset+a,8))},a+=8;break;case 6:var l=t.getUint16(a,!1);a+=2,e[u]={type:cB,value:new Uint8Array(t.buffer,t.byteOffset+a,l)},a+=l;break;case 7:var c=t.getUint16(a,!1);a+=2,e[u]={type:dB,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+a,c))},a+=c;break;case 8:e[u]={type:pB,value:new Date(new dP(new Uint8Array(t.buffer,t.byteOffset+a,8)).valueOf())},a+=8;break;case 9:var h=new Uint8Array(t.buffer,t.byteOffset+a,16);a+=16,e[u]={type:fB,value:"".concat(Ka(h.subarray(0,4)),"-").concat(Ka(h.subarray(4,6)),"-").concat(Ka(h.subarray(6,8)),"-").concat(Ka(h.subarray(8,10)),"-").concat(Ka(h.subarray(10)))};break;default:throw new Error("Unrecognized header type tag")}}return e}}]),o}(),jR="boolean",oB="byte",sB="short",uB="integer",lB="long",cB="binary",dB="string",pB="timestamp",fB="uuid",mB=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,vB=function(){function o(n,t){(0,f.Z)(this,o),this.headerMarshaller=new LR(n,t),this.messageBuffer=[],this.isEndOfStream=!1}return(0,y.Z)(o,[{key:"feed",value:function(t){this.messageBuffer.push(this.decode(t))}},{key:"endOfStream",value:function(){this.isEndOfStream=!0}},{key:"getMessage",value:function(){var t=this.messageBuffer.pop(),e=this.isEndOfStream;return{getMessage:function(){return t},isEndOfStream:function(){return e}}}},{key:"getAvailableMessages",value:function(){var t=this.messageBuffer;this.messageBuffer=[];var e=this.isEndOfStream;return{getMessages:function(){return t},isEndOfStream:function(){return e}}}},{key:"encode",value:function(t){var a=t.body,s=this.headerMarshaller.format(t.headers),u=s.byteLength+a.byteLength+16,l=new Uint8Array(u),c=new DataView(l.buffer,l.byteOffset,l.byteLength),h=new VR.Crc32;return c.setUint32(0,u,!1),c.setUint32(4,s.byteLength,!1),c.setUint32(8,h.update(l.subarray(0,8)).digest(),!1),l.set(s,12),l.set(a,s.byteLength+12),c.setUint32(u-4,h.update(l.subarray(8,u-4)).digest(),!1),l}},{key:"decode",value:function(t){var e=function gB(o){var n=o.byteLength,t=o.byteOffset,e=o.buffer;if(n<16)throw new Error("Provided message too short to accommodate event stream message overhead");var a=new DataView(e,t,n),s=a.getUint32(0,!1);if(n!==s)throw new Error("Reported message length does not match received message length");var u=a.getUint32(4,!1),l=a.getUint32(8,!1),c=a.getUint32(n-4,!1),h=(new VR.Crc32).update(new Uint8Array(e,t,8));if(l!==h.digest())throw new Error("The prelude checksum specified in the message (".concat(l,") does not match the calculated CRC32 checksum (").concat(h.digest(),")"));if(h.update(new Uint8Array(e,t+8,n-12)),c!==h.digest())throw new Error("The message checksum (".concat(h.digest(),") did not match the expected value of ").concat(c));return{headers:new DataView(e,t+8+4,u),body:new Uint8Array(e,t+8+4+u,s-u-16)}}(t),s=e.body;return{headers:this.headerMarshaller.parse(e.headers),body:s}}},{key:"formatHeaders",value:function(t){return this.headerMarshaller.format(t)}}]),o}(),yB=function(o){function n(t){(0,f.Z)(this,n),this.options=t}return(0,y.Z)(n,[{key:o,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var e=this;return Xo((0,qe.Z)().mark(function a(){var s,u,l,c,h,T;return(0,qe.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:s=!1,u=!1,F.prev=2,c=uo(e.options.inputStream);case 4:return F.next=6,ea(c.next());case 6:if(!(s=!(h=F.sent).done)){F.next=14;break}return T=e.options.decoder.decode(h.value),F.next=11,T;case 11:s=!1,F.next=4;break;case 14:F.next=20;break;case 16:F.prev=16,F.t0=F.catch(2),u=!0,l=F.t0;case 20:if(F.prev=20,F.prev=21,!s||null==c.return){F.next=25;break}return F.next=25,ea(c.return());case 25:if(F.prev=25,!u){F.next=28;break}throw l;case 28:return F.finish(25);case 29:return F.finish(20);case 30:case"end":return F.stop()}},a,null,[[2,16,20,30],[21,,25,29]])}))()}}]),n}(Symbol.asyncIterator),_B=function(o){function n(t){(0,f.Z)(this,n),this.options=t}return(0,y.Z)(n,[{key:o,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var e=this;return Xo((0,qe.Z)().mark(function a(){var s,u,l,c,h,T;return(0,qe.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:s=!1,u=!1,F.prev=2,c=uo(e.options.messageStream);case 4:return F.next=6,ea(c.next());case 6:if(!(s=!(h=F.sent).done)){F.next=14;break}return T=e.options.encoder.encode(h.value),F.next=11,T;case 11:s=!1,F.next=4;break;case 14:F.next=20;break;case 16:F.prev=16,F.t0=F.catch(2),u=!0,l=F.t0;case 20:if(F.prev=20,F.prev=21,!s||null==c.return){F.next=25;break}return F.next=25,ea(c.return());case 25:if(F.prev=25,!u){F.next=28;break}throw l;case 28:return F.finish(25);case 29:return F.finish(20);case 30:if(!e.options.includeEndFrame){F.next=33;break}return F.next=33,new Uint8Array(0);case 33:case"end":return F.stop()}},a,null,[[2,16,20,30],[21,,25,29]])}))()}}]),n}(Symbol.asyncIterator),xB=function(o){function n(t){(0,f.Z)(this,n),this.options=t}return(0,y.Z)(n,[{key:o,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var e=this;return Xo((0,qe.Z)().mark(function a(){var s,u,l,c,h,C,T;return(0,qe.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:s=!1,u=!1,F.prev=2,c=uo(e.options.messageStream);case 4:return F.next=6,ea(c.next());case 6:if(!(s=!(h=F.sent).done)){F.next=18;break}return C=h.value,F.next=10,ea(e.options.deserializer(C));case 10:if(void 0!==(T=F.sent)){F.next=13;break}return F.abrupt("continue",15);case 13:return F.next=15,T;case 15:s=!1,F.next=4;break;case 18:F.next=24;break;case 20:F.prev=20,F.t0=F.catch(2),u=!0,l=F.t0;case 24:if(F.prev=24,F.prev=25,!s||null==c.return){F.next=29;break}return F.next=29,ea(c.return());case 29:if(F.prev=29,!u){F.next=32;break}throw l;case 32:return F.finish(29);case 33:return F.finish(24);case 34:case"end":return F.stop()}},a,null,[[2,20,24,34],[25,,29,33]])}))()}}]),n}(Symbol.asyncIterator),bB=function(o){function n(t){(0,f.Z)(this,n),this.options=t}return(0,y.Z)(n,[{key:o,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var e=this;return Xo((0,qe.Z)().mark(function a(){var s,u,l,c,h,T;return(0,qe.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:s=!1,u=!1,F.prev=2,c=uo(e.options.inputStream);case 4:return F.next=6,ea(c.next());case 6:if(!(s=!(h=F.sent).done)){F.next=14;break}return T=e.options.serializer(h.value),F.next=11,T;case 11:s=!1,F.next=4;break;case 14:F.next=20;break;case 16:F.prev=16,F.t0=F.catch(2),u=!0,l=F.t0;case 20:if(F.prev=20,F.prev=21,!s||null==c.return){F.next=25;break}return F.next=25,ea(c.return());case 25:if(F.prev=25,!u){F.next=28;break}throw l;case 28:return F.finish(25);case 29:return F.finish(20);case 30:case"end":return F.stop()}},a,null,[[2,16,20,30],[21,,25,29]])}))()}}]),n}(Symbol.asyncIterator),q0=function(n){return new TextDecoder("utf-8").decode(n)},UR="X-Amz-Date",zR="X-Amz-Signature",GR="X-Amz-Security-Token",HR="authorization",qR=UR.toLowerCase(),AB=[HR,qR,"date"],kB=zR.toLowerCase(),pP="x-amz-content-sha256",RB=GR.toLowerCase(),DB={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},TB=/^proxy-/,IB=/^sec-/,fP="AWS4-HMAC-SHA256",OB="AWS4-HMAC-SHA256-PAYLOAD",KR="aws4_request",jc={},K0=[],mP=function(n,t,e){return"".concat(n,"/").concat(t,"/").concat(e,"/").concat(KR)},VB=function(){var o=Zt((0,qe.Z)().mark(function n(t,e,a,s,u){var l,c,h,C,T,N;return(0,qe.Z)().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,WR(t,e.secretAccessKey,e.accessKeyId);case 2:if(l=$.sent,!((c="".concat(a,":").concat(s,":").concat(u,":").concat(Ka(l),":").concat(e.sessionToken))in jc)){$.next=6;break}return $.abrupt("return",jc[c]);case 6:for(K0.push(c);K0.length>50;)delete jc[K0.shift()];h="AWS4".concat(e.secretAccessKey),C=0,T=[a,s,u,KR];case 10:if(!(C<T.length)){$.next=18;break}return N=T[C],$.next=14,WR(t,h,N);case 14:h=$.sent;case 15:C++,$.next=10;break;case 18:return $.abrupt("return",jc[c]=h);case 19:case"end":return $.stop()}},n)}));return function(t,e,a,s,u){return o.apply(this,arguments)}}(),WR=function(n,t,e){var a=new n(t);return a.update(Ic(e)),a.digest()},XR=function(n,t,e){var l,a=n.headers,s={},u=(0,ee.Z)(Object.keys(a).sort());try{for(u.s();!(l=u.n()).done;){var c=l.value;if(null!=a[c]){var h=c.toLowerCase();(h in DB||null!=t&&t.has(h)||TB.test(h)||IB.test(h))&&(!e||e&&!e.has(h))||(s[h]=a[c].trim().replace(/\s+/g," "))}}}catch(C){u.e(C)}finally{u.f()}return s},yl=function(n){return encodeURIComponent(n).replace(/[!'()*]/g,BB)},BB=function(n){return"%".concat(n.charCodeAt(0).toString(16).toUpperCase())},hP=function(){var o=Zt(function(n,t){var e=n.headers,a=n.body;return(0,qe.Z)().mark(function s(){var u,l,c,h;return(0,qe.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:u=0,l=Object.keys(e);case 1:if(!(u<l.length)){T.next=8;break}if((c=l[u]).toLowerCase()!==pP){T.next=5;break}return T.abrupt("return",e[c]);case 5:u++,T.next=1;break;case 8:if(null!=a){T.next=12;break}return T.abrupt("return","e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855");case 12:if("string"!=typeof a&&!ArrayBuffer.isView(a)&&!Sk(a)){T.next=20;break}return(h=new t).update(Ic(a)),T.t0=Ka,T.next=18,h.digest();case 18:return T.t1=T.sent,T.abrupt("return",(0,T.t0)(T.t1));case 20:return T.abrupt("return","UNSIGNED-PAYLOAD");case 21:case"end":return T.stop()}},s)})()});return function(t,e){return o.apply(this,arguments)}}(),LB=function(n,t){n=n.toLowerCase();for(var e=0,a=Object.keys(t);e<a.length;e++)if(n===a[e].toLowerCase())return!0;return!1},jB=["headers","query"],QR=function(n){var t=n.headers,e=n.query,a=sP(n,jB);return(0,b.Z)((0,b.Z)({},a),{},{headers:(0,b.Z)({},t),query:e?$B(e):void 0})},$B=function(n){return Object.keys(n).reduce(function(t,e){var a=n[e];return(0,b.Z)((0,b.Z)({},t),{},(0,d.Z)({},e,Array.isArray(a)?(0,_.Z)(a):a))},{})},UB=function(n){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e="function"==typeof n.clone?n.clone():QR(n),a=e.headers,s=e.query,u=void 0===s?{}:s,l=0,c=Object.keys(a);l<c.length;l++){var h,C=c[l],T=C.toLowerCase();"x-amz-"===T.slice(0,6)&&(null===(h=t.unhoistableHeaders)||void 0===h||!h.has(T))&&(u[C]=a[C],delete a[C])}return(0,b.Z)((0,b.Z)({},n),{},{headers:a,query:u})},YR=function(n){n="function"==typeof n.clone?n.clone():QR(n);for(var t=0,e=Object.keys(n.headers);t<e.length;t++){var a=e[t];AB.indexOf(a.toLowerCase())>-1&&delete n.headers[a]}return n},wf=function(){function o(n){var t=n.applyChecksum,e=n.credentials,a=n.region,s=n.service,u=n.sha256,l=n.uriEscapePath,c=void 0===l||l;(0,f.Z)(this,o),this.headerMarshaller=new LR(q0,df),this.service=s,this.sha256=u,this.uriEscapePath=c,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=_n(a),this.credentialProvider=_n(e)}return(0,y.Z)(o,[{key:"presign",value:(n=Zt(function(e){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,qe.Z)().mark(function u(){var l,c,h,C,T,N,F,$,se,ue,ge,Se,we,He,ot,dt,Ot;return(0,qe.Z)().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return c=void 0===(l=s.signingDate)?new Date:l,C=void 0===(h=s.expiresIn)?3600:h,T=s.unsignableHeaders,N=s.unhoistableHeaders,F=s.signableHeaders,$=s.signingRegion,se=s.signingService,Lt.next=3,a.credentialProvider();case 3:if(a.validateResolvedCredentials(ue=Lt.sent),null==$){Lt.next=9;break}Lt.t0=$,Lt.next=12;break;case 9:return Lt.next=11,a.regionProvider();case 11:Lt.t0=Lt.sent;case 12:if(ge=Lt.t0,Se=W0(c),we=Se.longDate,He=Se.shortDate,!(C>604800)){Lt.next=16;break}return Lt.abrupt("return",Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future"));case 16:return ot=mP(He,ge,se??a.service),dt=UB(YR(e),{unhoistableHeaders:N}),ue.sessionToken&&(dt.query[GR]=ue.sessionToken),dt.query["X-Amz-Algorithm"]=fP,dt.query["X-Amz-Credential"]="".concat(ue.accessKeyId,"/").concat(ot),dt.query[UR]=we,dt.query["X-Amz-Expires"]=C.toString(10),Ot=XR(dt,T,F),dt.query["X-Amz-SignedHeaders"]=JR(Ot),Lt.t1=a,Lt.t2=we,Lt.t3=ot,Lt.t4=a.getSigningKey(ue,ge,He,se),Lt.t5=a,Lt.t6=dt,Lt.t7=Ot,Lt.next=34,hP(e,a.sha256);case 34:return Lt.t8=Lt.sent,Lt.t9=Lt.t5.createCanonicalRequest.call(Lt.t5,Lt.t6,Lt.t7,Lt.t8),Lt.next=38,Lt.t1.getSignature.call(Lt.t1,Lt.t2,Lt.t3,Lt.t4,Lt.t9);case 38:return dt.query[zR]=Lt.sent,Lt.abrupt("return",dt);case 40:case"end":return Lt.stop()}},u)})()}),function t(e){return n.apply(this,arguments)})},{key:"sign",value:function(){var n=Zt((0,qe.Z)().mark(function e(a,s){return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if("string"!=typeof a){l.next=4;break}return l.abrupt("return",this.signString(a,s));case 4:if(!a.headers||!a.payload){l.next=8;break}return l.abrupt("return",this.signEvent(a,s));case 8:if(!a.message){l.next=12;break}return l.abrupt("return",this.signMessage(a,s));case 12:return l.abrupt("return",this.signRequest(a,s));case 13:case"end":return l.stop()}},e,this)}));return function t(e,a){return n.apply(this,arguments)}}()},{key:"signEvent",value:function(){var n=Zt(function(e,a){var s=this,u=e.headers,l=e.payload,c=a.signingDate,h=void 0===c?new Date:c,C=a.priorSignature,T=a.signingRegion,N=a.signingService;return(0,qe.Z)().mark(function F(){var $,se,ge,Se,we,He,ot,dt;return(0,qe.Z)().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(null==T){pt.next=4;break}pt.t0=T,pt.next=7;break;case 4:return pt.next=6,s.regionProvider();case 6:pt.t0=pt.sent;case 7:return $=pt.t0,se=W0(h),ge=se.longDate,Se=mP(se.shortDate,$,N??s.service),pt.next=12,hP({headers:{},body:l},s.sha256);case 12:return we=pt.sent,(He=new s.sha256).update(u),pt.t1=Ka,pt.next=18,He.digest();case 18:return pt.t2=pt.sent,ot=(0,pt.t1)(pt.t2),dt=[OB,ge,Se,C,ot,we].join("\n"),pt.abrupt("return",s.signString(dt,{signingDate:h,signingRegion:$,signingService:N}));case 22:case"end":return pt.stop()}},F)})()});return function t(e,a){return n.apply(this,arguments)}}()},{key:"signMessage",value:function(){var n=Zt(function(e,a){var s=this,u=a.signingDate,l=void 0===u?new Date:u,c=a.signingRegion,h=a.signingService;return(0,qe.Z)().mark(function C(){var T;return(0,qe.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return T=s.signEvent({headers:s.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:l,signingRegion:c,signingService:h,priorSignature:e.priorSignature}),F.abrupt("return",T.then(function($){return{message:e.message,signature:$}}));case 2:case"end":return F.stop()}},C)})()});return function t(e,a){return n.apply(this,arguments)}}()},{key:"signString",value:function(){var n=Zt(function(e){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s.signingDate,l=void 0===u?new Date:u,c=s.signingRegion,h=s.signingService;return(0,qe.Z)().mark(function C(){var T,N,F,$,se;return(0,qe.Z)().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.next=2,a.credentialProvider();case 2:if(a.validateResolvedCredentials(T=ge.sent),null==c){ge.next=8;break}ge.t0=c,ge.next=11;break;case 8:return ge.next=10,a.regionProvider();case 10:ge.t0=ge.sent;case 11:return N=ge.t0,F=W0(l),$=F.shortDate,ge.t1=a.sha256,ge.next=16,a.getSigningKey(T,N,$,h);case 16:return ge.t2=ge.sent,(se=new ge.t1(ge.t2)).update(Ic(e)),ge.t3=Ka,ge.next=22,se.digest();case 22:return ge.t4=ge.sent,ge.abrupt("return",(0,ge.t3)(ge.t4));case 24:case"end":return ge.stop()}},C)})()});return function t(e){return n.apply(this,arguments)}}()},{key:"signRequest",value:function(){var n=Zt(function(e){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s.signingDate,l=void 0===u?new Date:u,c=s.signableHeaders,h=s.unsignableHeaders,C=s.signingRegion,T=s.signingService;return(0,qe.Z)().mark(function N(){var F,$,se,ue,ge,Se,we,He,ot,dt;return(0,qe.Z)().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return pt.next=2,a.credentialProvider();case 2:if(a.validateResolvedCredentials(F=pt.sent),null==C){pt.next=8;break}pt.t0=C,pt.next=11;break;case 8:return pt.next=10,a.regionProvider();case 10:pt.t0=pt.sent;case 11:return $=pt.t0,se=YR(e),ue=W0(l),ge=ue.longDate,we=mP(Se=ue.shortDate,$,T??a.service),se.headers[qR]=ge,F.sessionToken&&(se.headers[RB]=F.sessionToken),pt.next=19,hP(se,a.sha256);case 19:return He=pt.sent,!LB(pP,se.headers)&&a.applyChecksum&&(se.headers[pP]=He),ot=XR(se,h,c),pt.next=24,a.getSignature(ge,we,a.getSigningKey(F,$,Se,T),a.createCanonicalRequest(se,ot,He));case 24:return dt=pt.sent,se.headers[HR]="".concat(fP," ")+"Credential=".concat(F.accessKeyId,"/").concat(we,", ")+"SignedHeaders=".concat(JR(ot),", ")+"Signature=".concat(dt),pt.abrupt("return",se);case 27:case"end":return pt.stop()}},N)})()});return function t(e){return n.apply(this,arguments)}}()},{key:"createCanonicalRequest",value:function(t,e,a){var s=Object.keys(e).sort();return"".concat(t.method,"\n").concat(this.getCanonicalPath(t),"\n").concat(function(n){var l,t=n.query,e=void 0===t?{}:t,a=[],s={},u=(0,ee.Z)(Object.keys(e).sort());try{var c=function(){var T=l.value;if(T.toLowerCase()===kB)return"continue";a.push(T);var N=e[T];"string"==typeof N?s[T]="".concat(yl(T),"=").concat(yl(N)):Array.isArray(N)&&(s[T]=N.slice(0).sort().reduce(function(F,$){return F.concat(["".concat(yl(T),"=").concat(yl($))])},[]).join("&"))};for(u.s();!(l=u.n()).done;)c()}catch(C){u.e(C)}finally{u.f()}return a.map(function(C){return s[C]}).filter(function(C){return C}).join("&")}(t),"\n").concat(s.map(function(u){return"".concat(u,":").concat(e[u])}).join("\n"),"\n\n").concat(s.join(";"),"\n").concat(a)}},{key:"createStringToSign",value:function(){var n=Zt((0,qe.Z)().mark(function e(a,s,u){var l,c;return(0,qe.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return(l=new this.sha256).update(Ic(u)),C.next=4,l.digest();case 4:return c=C.sent,C.abrupt("return","".concat(fP,"\n").concat(a,"\n").concat(s,"\n").concat(Ka(c)));case 6:case"end":return C.stop()}},e,this)}));return function t(e,a,s){return n.apply(this,arguments)}}()},{key:"getCanonicalPath",value:function(t){var e=t.path;if(this.uriEscapePath){var u,a=[],s=(0,ee.Z)(e.split("/"));try{for(s.s();!(u=s.n()).done;){var l=u.value;0!==l?.length&&"."!==l&&(".."===l?a.pop():a.push(l))}}catch(C){s.e(C)}finally{s.f()}var c="".concat(null!=e&&e.startsWith("/")?"/":"").concat(a.join("/")).concat(a.length>0&&null!=e&&e.endsWith("/")?"/":"");return encodeURIComponent(c).replace(/%2F/g,"/")}return e}},{key:"getSignature",value:function(){var n=Zt((0,qe.Z)().mark(function e(a,s,u,l){var c,h;return(0,qe.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,this.createStringToSign(a,s,l);case 2:return c=T.sent,T.t0=this.sha256,T.next=6,u;case 6:return T.t1=T.sent,(h=new T.t0(T.t1)).update(Ic(c)),T.t2=Ka,T.next=12,h.digest();case 12:return T.t3=T.sent,T.abrupt("return",(0,T.t2)(T.t3));case 14:case"end":return T.stop()}},e,this)}));return function t(e,a,s,u){return n.apply(this,arguments)}}()},{key:"getSigningKey",value:function(t,e,a,s){return VB(this.sha256,t,a,e,s||this.service)}},{key:"validateResolvedCredentials",value:function(t){if("object"!=typeof t||"string"!=typeof t.accessKeyId||"string"!=typeof t.secretAccessKey)throw new Error("Resolved credential object is not valid")}}]),o;var n}(),W0=function(n){var t=function(n){return function(n){return"number"==typeof n?new Date(1e3*n):"string"==typeof n?Number(n)?new Date(1e3*Number(n)):new Date(n):n}(n).toISOString().replace(/\.\d{3}Z$/,"Z")}(n).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},JR=function(n){return Object.keys(n).sort().join(";")},eD=function(n){var c,t=n.credentials?tD(n.credentials):n.credentialDefaultProvider(n),e=n.signingEscapePath,a=void 0===e||e,s=n.systemClockOffset,u=void 0===s?n.systemClockOffset||0:s,l=n.sha256;return c=n.signer?_n(n.signer):n.regionInfoProvider?function(){return _n(n.region)().then(function(){var C=Zt((0,qe.Z)().mark(function T(N){return(0,qe.Z)().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.t1=n,$.t2=N,$.next=4,n.useFipsEndpoint();case 4:return $.t3=$.sent,$.next=7,n.useDualstackEndpoint();case 7:return $.t4=$.sent,$.t5={useFipsEndpoint:$.t3,useDualstackEndpoint:$.t4},$.next=11,$.t1.regionInfoProvider.call($.t1,$.t2,$.t5);case 11:if($.t0=$.sent,$.t0){$.next=14;break}$.t0={};case 14:return $.t6=$.t0,$.t7=N,$.abrupt("return",[$.t6,$.t7]);case 17:case"end":return $.stop()}},T)}));return function(T){return C.apply(this,arguments)}}()).then(function(C){var T=(0,g.Z)(C,2),N=T[0],se=N.signingService;n.signingRegion=n.signingRegion||N.signingRegion||T[1],n.signingName=n.signingName||se||n.serviceId;var ue=(0,b.Z)((0,b.Z)({},n),{},{credentials:t,region:n.signingRegion,service:n.signingName,sha256:l,uriEscapePath:a});return new(n.signerConstructor||wf)(ue)})}:function(){var h=Zt((0,qe.Z)().mark(function C(T){var N,F,$;return(0,qe.Z)().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.t0=Object,ge.t1={},ge.t2=n.signingName||n.defaultSigningName,ge.next=5,_n(n.region)();case 5:return ge.t3=ge.sent,ge.t4={},ge.t5={name:"sigv4",signingName:ge.t2,signingRegion:ge.t3,properties:ge.t4},ge.t6=T,T=ge.t0.assign.call(ge.t0,ge.t1,ge.t5,ge.t6),N=T.signingRegion,F=T.signingName,n.signingRegion=n.signingRegion||N,n.signingName=n.signingName||F||n.serviceId,$=(0,b.Z)((0,b.Z)({},n),{},{credentials:t,region:n.signingRegion,service:n.signingName,sha256:l,uriEscapePath:a}),ge.abrupt("return",new(n.signerConstructor||wf)($));case 17:case"end":return ge.stop()}},C)}));return function(T){return h.apply(this,arguments)}}(),(0,b.Z)((0,b.Z)({},n),{},{systemClockOffset:u,signingEscapePath:a,credentials:t,signer:c})},tD=function(n){return"function"==typeof n?mR(n,function(t){return void 0!==t.expiration&&t.expiration.getTime()-Date.now()<3e5},function(t){return void 0!==t.expiration}):_n(n)},nD=function(n){return new Date(Date.now()+n)},rD=function(n,t){var e=Date.parse(n);return function(n,t){return Math.abs(nD(t).getTime()-n)>=3e5}(e,t)?e-Date.now():t},iD=function(n){var t,e,a;return pf.isInstance(n)?null!==(t=null===(e=n.headers)||void 0===e?void 0:e.date)&&void 0!==t?t:null===(a=n.headers)||void 0===a?void 0:a.Date:void 0},WB={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0};function aD(o){return(0,b.Z)((0,b.Z)({},o),{},{customUserAgent:"string"==typeof o.customUserAgent?[[o.customUserAgent]]:o.customUserAgent})}const oD=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}');var sD=oD,uD="",QB=function(n){var s,e=sD.partitions,a=(0,ee.Z)(e);try{for(a.s();!(s=a.n()).done;)for(var u=s.value,c=u.outputs,h=0,C=Object.entries(u.regions);h<C.length;h++){var T=(0,g.Z)(C[h],2),F=T[1];if(T[0]===n)return(0,b.Z)((0,b.Z)({},c),F)}}catch(He){a.e(He)}finally{a.f()}var se,$=(0,ee.Z)(e);try{for($.s();!(se=$.n()).done;){var ue=se.value,Se=ue.outputs;if(new RegExp(ue.regionRegex).test(n))return(0,b.Z)({},Se)}}catch(He){$.e(He)}finally{$.f()}var we=e.find(function(He){return"aws"===He.id});if(!we)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return(0,b.Z)({},we.outputs)},lD=function(n){sD=n,uD=arguments.length>1&&void 0!==arguments[1]?arguments[1]:""},YB=function(){lD(oD,"")},cD=function(){return uD},Sf="endpoints";function hu(o){return"object"!=typeof o||null==o?o:"ref"in o?"$".concat(hu(o.ref)):"fn"in o?"".concat(o.fn,"(").concat((o.argv||[]).map(hu).join(", "),")"):JSON.stringify(o,null,2)}var X0,Wa=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this,e)).name="EndpointError",a}return(0,y.Z)(t)}((0,G.Z)(Error)),JB=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),dD=function(n){return JB.test(n)||n.startsWith("[")&&n.endsWith("]")},eZ=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),pD=function o(n){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return eZ.test(n);var s,e=n.split("."),a=(0,ee.Z)(e);try{for(a.s();!(s=a.n()).done;)if(!o(s.value))return!1}catch(l){a.e(l)}finally{a.f()}return!0},tZ=function o(n){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var a,e=(0,ee.Z)(n.split("."));try{for(e.s();!(a=e.n()).done;)if(!o(a.value))return!1}catch(u){e.e(u)}finally{e.f()}return!0}return!(!pD(n)||n.length<3||n.length>63||n!==n.toLowerCase()||dD(n))},nZ=function(n){var t=n.split(":");if(t.length<6)return null;var e=(0,Ti.Z)(t),a=e[0],s=e[1],u=e[2],l=e[3],c=e[4],h=e.slice(5);return"arn"!==a||""===s||""===u||""===h[0]?null:{partition:s,service:u,region:l,accountId:c,resourceId:h[0].includes("/")?h[0].split("/"):h}},rZ=function(n,t){return n===t},fD=function(n,t){return function(n){var s,t=n.split("."),e=[],a=(0,ee.Z)(t);try{for(a.s();!(s=a.n()).done;){var u=s.value,l=u.indexOf("[");if(-1!==l){if(u.indexOf("]")!==u.length-1)throw new Wa("Path: '".concat(n,"' does not end with ']'"));var c=u.slice(l+1,-1);if(Number.isNaN(parseInt(c)))throw new Wa("Invalid array index: '".concat(c,"' in path: '").concat(n,"'"));0!==l&&e.push(u.slice(0,l)),e.push(c)}else e.push(u)}}catch(h){a.e(h)}finally{a.f()}return e}(t).reduce(function(e,a){if("object"!=typeof e)throw new Wa("Index '".concat(a,"' in '").concat(t,"' not found in '").concat(JSON.stringify(n),"'"));return Array.isArray(e)?e[parseInt(a)]:e[a]},n)},aZ=function(n){return null!=n},oZ=function(n){return!n},gu=function(){return(gu=gu||{}).HTTP="http",gu.HTTPS="https",gu}(),gP=((0,d.Z)(X0={},gu.HTTP,80),(0,d.Z)(X0,gu.HTTPS,443),X0),sZ=function(n){var t=function(){try{if(n instanceof URL)return n;if("object"==typeof n&&"hostname"in n){var F=n.hostname,$=n.port,se=n.protocol,ge=n.path,Se=void 0===ge?"":ge,we=n.query,He=void 0===we?{}:we,ot=new URL("".concat(void 0===se?"":se,"//").concat(F).concat($?":".concat($):"").concat(Se));return ot.search=Object.entries(He).map(function(dt){var Ot=(0,g.Z)(dt,2),Lt=Ot[1];return"".concat(Ot[0],"=").concat(Lt)}).join("&"),ot}return new URL(n)}catch{return null}}();if(!t)return console.error("Unable to parse ".concat(JSON.stringify(n)," as a whatwg URL.")),null;var e=t.href,a=t.host,s=t.hostname,u=t.pathname;if(t.search)return null;var h=t.protocol.slice(0,-1);if(!Object.values(gu).includes(h))return null;var C=dD(s),T=e.includes("".concat(a,":").concat(gP[h]))||"string"==typeof n&&n.includes("".concat(a,":").concat(gP[h]));return{scheme:h,authority:"".concat(a).concat(T?":".concat(gP[h]):""),path:u,normalizedPath:u.endsWith("/")?u:"".concat(u,"/"),isIp:C}},uZ=function(n,t){return n===t},lZ=function(n,t,e,a){return t>=e||n.length<e?null:a?n.substring(n.length-e,n.length-t):n.substring(t,e)},cZ=function(n){return encodeURIComponent(n).replace(/[!*'()]/g,function(t){return"%".concat(t.charCodeAt(0).toString(16).toUpperCase())})},mD=function(n,t){for(var e=[],a=(0,b.Z)((0,b.Z)({},t.endpointParams),t.referenceRecord),s=0;s<n.length;){var u=n.indexOf("{",s);if(-1===u){e.push(n.slice(s));break}e.push(n.slice(s,u));var l=n.indexOf("}",u);if(-1===l){e.push(n.slice(u));break}"{"===n[u+1]&&"}"===n[l+1]&&(e.push(n.slice(u+1,l)),s=l+2);var c=n.substring(u+1,l);if(c.includes("#")){var h=c.split("#"),C=(0,g.Z)(h,2);e.push(fD(a[C[0]],C[1]))}else e.push(a[c]);s=l+1}return e.join("")},Q0=function(n,t,e){if("string"==typeof n)return mD(n,e);if(n.fn)return hD(n,e);if(n.ref)return function(n,t){var e=n.ref;return(0,b.Z)((0,b.Z)({},t.endpointParams),t.referenceRecord)[e]}(n,e);throw new Wa("'".concat(t,"': ").concat(String(n)," is not a string, function or reference."))},hD=function(n,t){var e=n.fn,s=n.argv.map(function(u){return["boolean","number"].includes(typeof u)?u:Q0(u,"arg",t)});return e.split(".").reduce(function(u,l){return u[l]},K).apply(void 0,(0,_.Z)(s))},pZ=["assign"],fZ=function(n,t){var e,a,s=n.assign,u=sP(n,pZ);if(s&&s in t.referenceRecord)throw new Wa("'".concat(s,"' is already defined in Reference Record."));var l=hD(u,t);return null===(e=t.logger)||void 0===e||null===(a=e.debug)||void 0===a||a.call(e,Sf,"evaluateCondition: ".concat(hu(u)," = ").concat(hu(l))),(0,b.Z)({result:""===l||!!l},null!=s&&{toAssign:{name:s,value:l}})},vP=function(){var s,t=arguments.length>1?arguments[1]:void 0,e={},a=(0,ee.Z)(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]);try{for(a.s();!(s=a.n()).done;){var C,T,N,l=fZ(s.value,(0,b.Z)((0,b.Z)({},t),{},{referenceRecord:(0,b.Z)((0,b.Z)({},t.referenceRecord),e)})),c=l.result,h=l.toAssign;if(!c)return{result:c};h&&(e[h.name]=h.value,null===(C=t.logger)||void 0===C||null===(T=(N=C).debug)||void 0===T||T.call(N,Sf,"assign: ".concat(h.name," := ").concat(hu(h.value))))}}catch(F){a.e(F)}finally{a.f()}return{result:!0,referenceRecord:e}},mZ=function(n,t){return Object.entries(n).reduce(function(e,a){var s=(0,g.Z)(a,2),u=s[0],l=s[1];return(0,b.Z)((0,b.Z)({},e),{},(0,d.Z)({},u,l.map(function(c){var h=Q0(c,"Header value entry",t);if("string"!=typeof h)throw new Wa("Header '".concat(u,"' value '").concat(h,"' is not a string"));return h})))},{})},hZ=function o(n,t){if(Array.isArray(n))return n.map(function(e){return o(e,t)});switch(typeof n){case"string":return mD(n,t);case"object":if(null===n)throw new Wa("Unexpected endpoint property: ".concat(n));return gD(n,t);case"boolean":return n;default:throw new Wa("Unexpected endpoint property type: ".concat(typeof n))}},gD=function(n,t){return Object.entries(n).reduce(function(e,a){var s=(0,g.Z)(a,2),u=s[0],l=s[1];return(0,b.Z)((0,b.Z)({},e),{},(0,d.Z)({},u,hZ(l,t)))},{})},gZ=function(n,t){var e=Q0(n,"Endpoint URL",t);if("string"==typeof e)try{return new URL(e)}catch(a){throw console.error("Failed to construct URL with ".concat(e),a),a}throw new Wa("Endpoint URL must be a string, got ".concat(typeof e))},vZ=function(n,t){var e,a,u=n.endpoint,l=vP(n.conditions,t),h=l.referenceRecord;if(l.result){var C=(0,b.Z)((0,b.Z)({},t),{},{referenceRecord:(0,b.Z)((0,b.Z)({},t.referenceRecord),h)}),T=u.url,N=u.properties,F=u.headers;return null===(e=t.logger)||void 0===e||null===(a=e.debug)||void 0===a||a.call(e,Sf,"Resolving endpoint from template: ".concat(hu(u))),(0,b.Z)((0,b.Z)((0,b.Z)({},null!=F&&{headers:mZ(F,C)}),null!=N&&{properties:gD(N,C)}),{},{url:gZ(T,C)})}},yZ=function(n,t){var a=n.error,s=vP(n.conditions,t),l=s.referenceRecord;if(s.result)throw new Wa(Q0(a,"Error",(0,b.Z)((0,b.Z)({},t),{},{referenceRecord:(0,b.Z)((0,b.Z)({},t.referenceRecord),l)})))},_Z=function(n,t){var a=n.rules,s=vP(n.conditions,t),l=s.referenceRecord;if(s.result)return vD(a,(0,b.Z)((0,b.Z)({},t),{},{referenceRecord:(0,b.Z)((0,b.Z)({},t.referenceRecord),l)}))},vD=function(n,t){var a,e=(0,ee.Z)(n);try{for(e.s();!(a=e.n()).done;){var s=a.value;if("endpoint"===s.type){var u=vZ(s,t);if(u)return u}else if("error"===s.type)yZ(s,t);else{if("tree"!==s.type)throw new Wa("Unknown endpoint rule: ".concat(s));var l=_Z(s,t);if(l)return l}}}catch(c){e.e(c)}finally{e.f()}throw new Wa("Rules evaluation failed")},yD=function(n,t){var e,a,s,u,l,c=t.endpointParams,h=t.logger,C=n.parameters,T=n.rules;null===(e=t.logger)||void 0===e||null===(a=e.debug)||void 0===a||a.call(e,"".concat(Sf," Initial EndpointParams: ").concat(hu(c)));var N=Object.entries(C).filter(function(tn){return null!=(0,g.Z)(tn,2)[1].default}).map(function(tn){var Gt=(0,g.Z)(tn,2);return[Gt[0],Gt[1].default]});if(N.length>0){var $,F=(0,ee.Z)(N);try{for(F.s();!($=F.n()).done;){var se,ue=(0,g.Z)($.value,2),ge=ue[0];c[ge]=null!==(se=c[ge])&&void 0!==se?se:ue[1]}}catch(tn){F.e(tn)}finally{F.f()}}var ot,we=Object.entries(C).filter(function(tn){return(0,g.Z)(tn,2)[1].required}).map(function(tn){return(0,g.Z)(tn,1)[0]}),He=(0,ee.Z)(we);try{for(He.s();!(ot=He.n()).done;){var dt=ot.value;if(null==c[dt])throw new Wa("Missing required parameter: '".concat(dt,"'"))}}catch(tn){He.e(tn)}finally{He.f()}var Ot=vD(T,{endpointParams:c,logger:h,referenceRecord:{}});if(null!==(s=t.endpointParams)&&void 0!==s&&s.Endpoint)try{var pt=new URL(t.endpointParams.Endpoint),$t=pt.port;Ot.url.protocol=pt.protocol,Ot.url.port=$t}catch{}return null===(u=t.logger)||void 0===u||null===(l=u.debug)||void 0===l||l.call(u,"".concat(Sf," Resolved endpoint: ").concat(hu(Ot))),Ot},_D="user-agent",yP="x-amz-user-agent",xZ=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,bZ=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,xP=function(n){var t,e=n[0].split("/").map(function(c){return c.replace(xZ,"-")}).join("/"),a=null===(t=n[1])||void 0===t?void 0:t.replace(bZ,"-"),s=e.indexOf("/"),u=e.substring(0,s),l=e.substring(s+1);return"api"===u&&(l=l.toLowerCase()),[u,l,a].filter(function(c){return c&&c.length>0}).reduce(function(c,h,C){switch(C){case 0:return h;case 1:return"".concat(c,"/").concat(h);default:return"".concat(c,"#").concat(h)}},"")},wZ={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},CD=function(n){return{applyToStack:function(e){e.add(function(n){return function(t,e){return function(){var a=Zt((0,qe.Z)().mark(function s(u){var l,c,h,C,T,N,F,$,se,ue;return(0,qe.Z)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(rr.isInstance(h=u.request)){Se.next=3;break}return Se.abrupt("return",t(u));case 3:return C=h.headers,T=(null==e||null===(l=e.userAgent)||void 0===l?void 0:l.map(xP))||[],Se.next=7,n.defaultUserAgentProvider();case 7:return N=Se.sent.map(xP),F=(null==n||null===(c=n.customUserAgent)||void 0===c?void 0:c.map(xP))||[],$=cD(),se=($?[$]:[]).concat([].concat((0,_.Z)(N),(0,_.Z)(T),(0,_.Z)(F))).join(" "),ue=[].concat((0,_.Z)(N.filter(function(we){return we.startsWith("aws-sdk-")})),(0,_.Z)(F)).join(" "),"browser"!==n.runtime?(ue&&(C[yP]=C[yP]?"".concat(C[_D]," ").concat(ue):ue),C[_D]=se):C[yP]=se,Se.abrupt("return",t((0,b.Z)((0,b.Z)({},u),{},{request:h})));case 14:case"end":return Se.stop()}},s)}));return function(s){return a.apply(this,arguments)}}()}}(n),wZ)}}};var PZ=S(46513);function AZ(o){var e,n=[],t=(0,ee.Z)(Object.keys(o).sort());try{for(t.s();!(e=t.n()).done;){var a=e.value,s=o[a];if(a=yl(a),Array.isArray(s))for(var u=0,l=s.length;u<l;u++)n.push("".concat(a,"=").concat(yl(s[u])));else{var c=a;(s||"string"==typeof s)&&(c+="=".concat(yl(s))),n.push(c)}}}catch(h){t.e(h)}finally{t.f()}return n.join("&")}function kZ(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(n,t){o&&setTimeout(function(){var e=new Error("Request did not complete within ".concat(o," ms"));e.name="TimeoutError",t(e)},o)})}for(var wD=function(){function o(n){(0,f.Z)(this,o),"function"==typeof n?this.configProvider=n().then(function(t){return t||{}}):(this.config=n??{},this.configProvider=Promise.resolve(this.config))}return(0,y.Z)(o,[{key:"destroy",value:function(){}},{key:"handle",value:(n=Zt(function(e){var a=this,u=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).abortSignal;return(0,qe.Z)().mark(function l(){var c,h,C,T,N,F,$,se,ue,ge,Se,we,ot,dt,Ot;return(0,qe.Z)().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:if(a.config){Lt.next=4;break}return Lt.next=3,a.configProvider;case 3:a.config=Lt.sent;case 4:if(c=a.config.requestTimeout,null==u||!u.aborted){Lt.next=9;break}return(h=new Error("Request aborted")).name="AbortError",Lt.abrupt("return",Promise.reject(h));case 9:return C=e.path,(T=AZ(e.query||{}))&&(C+="?".concat(T)),e.fragment&&(C+="#".concat(e.fragment)),N="",(null!=e.username||null!=e.password)&&(se=null!==(F=e.username)&&void 0!==F?F:"",ue=null!==($=e.password)&&void 0!==$?$:"",N="".concat(se,":").concat(ue,"@")),ge=e.port,Se=e.method,we="".concat(e.protocol,"//").concat(N).concat(e.hostname).concat(ge?":".concat(ge):"").concat(C),ot={body:"GET"===Se||"HEAD"===Se?void 0:e.body,headers:new Headers(e.headers),method:Se},typeof AbortController<"u"&&(ot.signal=u),dt=new Request(we,ot),Ot=[fetch(dt).then(function($t){var qt,Gt={},Ut=(0,ee.Z)($t.headers.entries());try{for(Ut.s();!(qt=Ut.n()).done;){var qn=qt.value;Gt[qn[0]]=qn[1]}}catch(ca){Ut.e(ca)}finally{Ut.f()}return null!=$t.body?{response:new pf({headers:Gt,reason:$t.statusText,statusCode:$t.status,body:$t.body})}:$t.blob().then(function(ca){return{response:new pf({headers:Gt,reason:$t.statusText,statusCode:$t.status,body:ca})}})}),kZ(c)],u&&Ot.push(new Promise(function($t,tn){u.onabort=function(){var Gt=new Error("Request aborted");Gt.name="AbortError",tn(Gt)}})),Lt.abrupt("return",Promise.race(Ot));case 24:case"end":return Lt.stop()}},l)})()}),function t(e){return n.apply(this,arguments)})}]),o;var n}(),vu={},$c=new Array(64),Ef=0,SD="A".charCodeAt(0),RZ="Z".charCodeAt(0);Ef+SD<=RZ;Ef++){var ED=String.fromCharCode(Ef+SD);vu[ED]=Ef,$c[Ef]=ED}for(var Y0=0,PD="a".charCodeAt(0),DZ="z".charCodeAt(0);Y0+PD<=DZ;Y0++){var AD=String.fromCharCode(Y0+PD),kD=Y0+26;vu[AD]=kD,$c[kD]=AD}for(var Uc=0;Uc<10;Uc++){vu[Uc.toString(10)]=Uc+52;var RD=Uc.toString(10),DD=Uc+52;vu[RD]=DD,$c[DD]=RD}vu["+"]=62,$c[62]="+",vu["/"]=63,$c[63]="/";var bP=function(n){var t=n.length/4*3;"=="===n.slice(-2)?t-=2:"="===n.slice(-1)&&t--;for(var e=new ArrayBuffer(t),a=new DataView(e),s=0;s<n.length;s+=4){for(var u=0,l=0,c=s,h=s+3;c<=h;c++)if("="!==n[c]){if(!(n[c]in vu))throw new TypeError("Invalid character ".concat(n[c]," in base64 string."));u|=vu[n[c]]<<6*(h-c),l+=6}else u>>=6;var C=s/4*3;u>>=l%8;for(var T=Math.floor(l/8),N=0;N<T;N++){var F=8*(T-N-1);a.setUint8(C+N,(u&255<<F)>>F)}}return new Uint8Array(e)};function CP(o){for(var n="",t=0;t<o.length;t+=3){for(var e=0,a=0,s=t,u=Math.min(t+3,o.length);s<u;s++)e|=o[s]<<8*(u-s-1),a+=8;var l=Math.ceil(a/6);e<<=6*l-a;for(var c=1;c<=l;c++){var h=6*(l-c);n+=$c[(e&63<<h)>>h]}n+="==".slice(0,4-l)}return n}var wP=function(n){return"function"==typeof Blob&&n instanceof Blob?function IZ(o){return SP.apply(this,arguments)}(n):function OZ(o){return EP.apply(this,arguments)}(n)};function SP(){return(SP=Zt((0,qe.Z)().mark(function o(n){var e;return(0,qe.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,FZ(n);case 2:return e=bP(s.sent),s.abrupt("return",new Uint8Array(e));case 5:case"end":return s.stop()}},o)}))).apply(this,arguments)}function EP(){return(EP=Zt((0,qe.Z)().mark(function o(n){var t,e,a,s,u,l,c;return(0,qe.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:t=new Uint8Array(0),e=n.getReader(),a=!1;case 3:if(a){C.next=13;break}return C.next=6,e.read();case 6:u=(s=C.sent).done,(l=s.value)&&(c=t,(t=new Uint8Array(c.length+l.length)).set(c),t.set(l,c.length)),a=u,C.next=3;break;case 13:return C.abrupt("return",t);case 14:case"end":return C.stop()}},o)}))).apply(this,arguments)}function FZ(o){return new Promise(function(n,t){var e=new FileReader;e.onloadend=function(){var a;if(2!==e.readyState)return t(new Error("Reader aborted too early"));var s=null!==(a=e.result)&&void 0!==a?a:"",u=s.indexOf(",");n(s.substring(u>-1?u+1:s.length))},e.onabort=function(){return t(new Error("Read aborted"))},e.onerror=function(){return t(e.error)},e.readAsDataURL(o)})}var J0,Af,ex,tx,nx,rx,ix,ax,kf,ox,Rf,TD=function(n){return function(){return Promise.reject(n)}},ID=function(n){if("string"==typeof n){for(var t=n.length,e=t-1;e>=0;e--){var a=n.charCodeAt(e);a>127&&a<=2047?t++:a>2047&&a<=65535&&(t+=2),a>=56320&&a<=57343&&e--}return t}if("number"==typeof n.byteLength)return n.byteLength;if("number"==typeof n.size)return n.size;throw new Error("Body Length computation failed for ".concat(n))},MZ=S(93962),OD=S.n(MZ),FD=function(n){var t=n.serviceId,e=n.clientVersion;return Zt((0,qe.Z)().mark(function a(){var s,u,l,c,h,C,T,N,F,$;return(0,qe.Z)().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return F=typeof window<"u"&&null!==(s=window)&&void 0!==s&&null!==(u=s.navigator)&&void 0!==u&&u.userAgent?OD().parse(window.navigator.userAgent):void 0,$=[["aws-sdk-js",e],["ua","2.0"],["os/".concat((null==F||null===(l=F.os)||void 0===l?void 0:l.name)||"other"),null==F||null===(c=F.os)||void 0===c?void 0:c.version],["lang/js"],["md/browser","".concat(null!==(h=null==F||null===(C=F.browser)||void 0===C?void 0:C.name)&&void 0!==h?h:"unknown","_").concat(null!==(T=null==F||null===(N=F.browser)||void 0===N?void 0:N.version)&&void 0!==T?T:"unknown")]],t&&$.push(["api/".concat(t),e]),ue.abrupt("return",$);case 4:case"end":return ue.stop()}},a)}))},MD="required",As="fn",ks="argv",Gc="ref",PP="PartitionResult",Yo="tree",Df="error",Tf="endpoint",ND=((0,d.Z)(J0={},MD,!1),(0,d.Z)(J0,"type","String"),J0),VD=((0,d.Z)(Af={},MD,!0),(0,d.Z)(Af,"default",!1),(0,d.Z)(Af,"type","Boolean"),Af),BD=(0,d.Z)({},Gc,"Endpoint"),ZD=((0,d.Z)(ex={},As,"booleanEquals"),(0,d.Z)(ex,ks,[(0,d.Z)({},Gc,"UseFIPS"),!0]),ex),LD=((0,d.Z)(tx={},As,"booleanEquals"),(0,d.Z)(tx,ks,[(0,d.Z)({},Gc,"UseDualStack"),!0]),tx),Jo={},jD=((0,d.Z)(rx={},As,"booleanEquals"),(0,d.Z)(rx,ks,[!0,(nx={},(0,d.Z)(nx,As,"getAttr"),(0,d.Z)(nx,ks,[(0,d.Z)({},Gc,PP),"supportsFIPS"]),nx)]),rx),$D=((0,d.Z)(ax={},As,"booleanEquals"),(0,d.Z)(ax,ks,[!0,(ix={},(0,d.Z)(ix,As,"getAttr"),(0,d.Z)(ix,ks,[(0,d.Z)({},Gc,PP),"supportsDualStack"]),ix)]),ax),UD=[BD],zD=[ZD],GD=[LD],VZ={version:"1.0",parameters:{Region:ND,UseDualStack:VD,UseFIPS:VD,Endpoint:ND},rules:[{conditions:[(kf={},(0,d.Z)(kf,As,"aws.partition"),(0,d.Z)(kf,ks,[(0,d.Z)({},Gc,"Region")]),(0,d.Z)(kf,"assign",PP),kf)],type:Yo,rules:[{conditions:[(ox={},(0,d.Z)(ox,As,"isSet"),(0,d.Z)(ox,ks,UD),ox),(Rf={},(0,d.Z)(Rf,As,"parseURL"),(0,d.Z)(Rf,ks,UD),(0,d.Z)(Rf,"assign","url"),Rf)],type:Yo,rules:[{conditions:zD,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Df},{type:Yo,rules:[{conditions:GD,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Df},{endpoint:{url:BD,properties:Jo,headers:Jo},type:Tf}]}]},{conditions:[ZD,LD],type:Yo,rules:[{conditions:[jD,$D],type:Yo,rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Jo,headers:Jo},type:Tf}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Df}]},{conditions:zD,type:Yo,rules:[{conditions:[jD],type:Yo,rules:[{type:Yo,rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Jo,headers:Jo},type:Tf}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Df}]},{conditions:GD,type:Yo,rules:[{conditions:[$D],type:Yo,rules:[{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Jo,headers:Jo},type:Tf}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Df}]},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:Jo,headers:Jo},type:Tf}]}]},BZ=function(n){return yD(VZ,{endpointParams:n,logger:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).logger})},LZ=["in-region","cross-region","mobile","standard","legacy"],HD=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).defaultsMode;return mR(Zt((0,qe.Z)().mark(function e(){var a;return(0,qe.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if("function"!=typeof t){u.next=6;break}return u.next=3,t();case 3:u.t0=u.sent,u.next=7;break;case 6:u.t0=t;case 7:a=u.t0,u.t1=a?.toLowerCase(),u.next="auto"===u.t1?11:"mobile"===u.t1||"in-region"===u.t1||"cross-region"===u.t1||"standard"===u.t1||"legacy"===u.t1?12:void 0===u.t1?13:14;break;case 11:return u.abrupt("return",Promise.resolve(jZ()?"mobile":"standard"));case 12:return u.abrupt("return",Promise.resolve(a?.toLocaleLowerCase()));case 13:return u.abrupt("return",Promise.resolve("legacy"));case 14:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(LZ.join(", "),", got ").concat(a));case 15:case"end":return u.stop()}},e)})))},jZ=function(){var n,t,e,a=typeof window<"u"&&null!==(n=window)&&void 0!==n&&null!==(t=n.navigator)&&void 0!==t&&t.userAgent?OD().parse(window.navigator.userAgent):void 0,s=null==a||null===(e=a.platform)||void 0===e?void 0:e.type;return"tablet"===s||"mobile"===s},AP=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;(0,f.Z)(this,t);var u=function(n){var t,e;return(0,b.Z)((0,b.Z)({},n),{},{useDualstackEndpoint:null!==(t=n.useDualstackEndpoint)&&void 0!==t&&t,useFipsEndpoint:null!==(e=n.useFipsEndpoint)&&void 0!==e&&e,defaultSigningName:"cognito-identity"})}(function(n){var t,e,a,s,u,l,c,h,C,T,N,F=HD(n),$=function(){return F().then(jk)},se=function(n){var t,e,a,s,u,l,c,h,C;return{apiVersion:"2014-06-30",base64Decoder:null!==(t=n?.base64Decoder)&&void 0!==t?t:bP,base64Encoder:null!==(e=n?.base64Encoder)&&void 0!==e?e:CP,disableHostPrefix:null!==(a=n?.disableHostPrefix)&&void 0!==a&&a,endpointProvider:null!==(s=n?.endpointProvider)&&void 0!==s?s:BZ,logger:null!==(u=n?.logger)&&void 0!==u?u:new Rk,serviceId:null!==(l=n?.serviceId)&&void 0!==l?l:"Cognito Identity",urlParser:null!==(c=n?.urlParser)&&void 0!==c?c:bn,utf8Decoder:null!==(h=n?.utf8Decoder)&&void 0!==h?h:df,utf8Encoder:null!==(C=n?.utf8Encoder)&&void 0!==C?C:q0}}(n);return(0,b.Z)((0,b.Z)((0,b.Z)({},se),n),{},{runtime:"browser",defaultsMode:F,bodyLengthChecker:null!==(t=n?.bodyLengthChecker)&&void 0!==t?t:ID,credentialDefaultProvider:null!==(e=n?.credentialDefaultProvider)&&void 0!==e?e:function(ue){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(a=n?.defaultUserAgentProvider)&&void 0!==a?a:FD({serviceId:se.serviceId,clientVersion:"3.350.0"}),maxAttempts:null!==(s=n?.maxAttempts)&&void 0!==s?s:3,region:null!==(u=n?.region)&&void 0!==u?u:TD("Region is missing"),requestHandler:null!==(l=n?.requestHandler)&&void 0!==l?l:new wD($),retryMode:null!==(c=n?.retryMode)&&void 0!==c?c:Zt((0,qe.Z)().mark(function ue(){return(0,qe.Z)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,$();case 2:if(Se.t0=Se.sent.retryMode,Se.t0){Se.next=5;break}Se.t0=uP;case 5:return Se.abrupt("return",Se.t0);case 6:case"end":return Se.stop()}},ue)})),sha256:null!==(h=n?.sha256)&&void 0!==h?h:PZ.Sha256,streamCollector:null!==(C=n?.streamCollector)&&void 0!==C?C:wP,useDualstackEndpoint:null!==(T=n?.useDualstackEndpoint)&&void 0!==T?T:function(){return Promise.resolve(!1)},useFipsEndpoint:null!==(N=n?.useFipsEndpoint)&&void 0!==N?N:function(){return Promise.resolve(!1)}})}(e)),l=xR(u),c=nr(l),h=MR(c),N=aD(eD(h));return(a=n.call(this,N)).config=N,a.middlewareStack.use(NR(a.config)),a.middlewareStack.use(CR(a.config)),a.middlewareStack.use(wR(a.config)),a.middlewareStack.use(SR()),a.middlewareStack.use(PR(a.config)),a.middlewareStack.use(CD(a.config)),a}return(0,y.Z)(t,[{key:"destroy",value:function(){(0,Et.Z)((0,Ee.Z)(t.prototype),"destroy",this).call(this)}}]),t}(Ok),GZ={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0};var WZ=S(6982),XZ=S(44907);function qD(o,n){return function(){var t=Zt((0,qe.Z)().mark(function e(a){var s,u,l,c,h,C,T,N;return(0,qe.Z)().wrap(function($){for(;;)switch($.prev=$.next){case 0:if("error"!==(s=a.headers[":message-type"].value)){$.next=7;break}throw(u=new Error(a.headers[":error-message"].value||"UnknownError")).name=a.headers[":error-code"].value,u;case 7:if("exception"!==s){$.next=20;break}return c=(0,d.Z)({},l=a.headers[":exception-type"].value,a),$.next=12,o(c);case 12:if(!(h=$.sent).$unknown){$.next=17;break}throw(C=new Error(n(a.body))).name=l,C;case 17:throw h[l];case 20:if("event"!==s){$.next=30;break}return T=(0,d.Z)({},a.headers[":event-type"].value,a),$.next=24,o(T);case 24:if(!(N=$.sent).$unknown){$.next=27;break}return $.abrupt("return");case 27:return $.abrupt("return",N);case 30:throw Error("Unrecognizable event type: ".concat(a.headers[":event-type"].value));case 31:case"end":return $.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()}var YZ=function(){function o(n){var t=n.utf8Encoder,e=n.utf8Decoder;(0,f.Z)(this,o),this.eventStreamCodec=new vB(t,e),this.utfEncoder=t}return(0,y.Z)(o,[{key:"deserialize",value:function(t,e){var a=function QZ(o){var n=0,t=0,e=null,a=null,s=function(c){if("number"!=typeof c)throw new Error("Attempted to allocate an event message where size was not a number: "+c);n=c,t=4,e=new Uint8Array(c),new DataView(e.buffer).setUint32(0,c,!1)},u=function(){var l=Xo((0,qe.Z)().mark(function c(){var h,C,T,F,$,se,ue,ge;return(0,qe.Z)().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:h=o[Symbol.asyncIterator]();case 1:return we.next=4,ea(h.next());case 4:if(T=(C=we.sent).value,!C.done){we.next=19;break}if(n){we.next=12;break}return we.abrupt("return");case 12:if(n!==t){we.next=17;break}return we.next=15,e;case 15:we.next=18;break;case 17:throw new Error("Truncated event message received.");case 18:return we.abrupt("return");case 19:F=T.length,$=0;case 21:if(!($<F)){we.next=45;break}if(e){we.next=33;break}if(se=F-$,a||(a=new Uint8Array(4)),ue=Math.min(4-t,se),a.set(T.slice($,$+ue),t),$+=ue,!((t+=ue)<4)){we.next=31;break}return we.abrupt("break",45);case 31:s(new DataView(a.buffer).getUint32(0,!1)),a=null;case 33:if(ge=Math.min(n-t,F-$),e.set(T.slice($,$+ge),t),t+=ge,$+=ge,!n||n!==t){we.next=43;break}return we.next=40,e;case 40:e=null,n=0,t=0;case 43:we.next=21;break;case 45:we.next=1;break;case 47:case"end":return we.stop()}},c)}));return function(){return l.apply(this,arguments)}}();return(0,d.Z)({},Symbol.asyncIterator,u)}(t);return new xB({messageStream:new yB({inputStream:a,decoder:this.eventStreamCodec}),deserializer:qD(e,this.utfEncoder)})}},{key:"serialize",value:function(t,e){return new _B({messageStream:new bB({inputStream:t,serializer:e}),encoder:this.eventStreamCodec,includeEndFrame:!0})}}]),o}(),t8=function(){function o(n){var t=n.utf8Encoder,e=n.utf8Decoder;(0,f.Z)(this,o),this.universalMarshaller=new YZ({utf8Decoder:e,utf8Encoder:t})}return(0,y.Z)(o,[{key:"deserialize",value:function(t,e){var n,a=n8(t)?(n=t,(0,d.Z)({},Symbol.asyncIterator,Xo((0,qe.Z)().mark(function t(){var e,a,u;return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:e=n.getReader(),c.prev=1;case 2:return c.next=5,ea(e.read());case 5:if(u=(a=c.sent).value,!a.done){c.next=10;break}return c.abrupt("return");case 10:return c.next=12,u;case 12:c.next=2;break;case 14:return c.prev=14,e.releaseLock(),c.finish(14);case 17:case"end":return c.stop()}},t,null,[[1,,14,17]])})))):t;return this.universalMarshaller.deserialize(a,e)}},{key:"serialize",value:function(t,e){var a=this.universalMarshaller.serialize(t,e);return"function"==typeof ReadableStream?function(n){var t=n[Symbol.asyncIterator]();return new ReadableStream({pull:function(a){return Zt((0,qe.Z)().mark(function s(){var u,c;return(0,qe.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,t.next();case 2:if(c=(u=C.sent).value,!u.done){C.next=7;break}return C.abrupt("return",a.close());case 7:a.enqueue(c);case 8:case"end":return C.stop()}},s)}))()}})}(a):a}}]),o}(),n8=function(n){return"function"==typeof ReadableStream&&n instanceof ReadableStream},r8=function(n){return new t8(n)};function i8(o,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1048576;return new Promise(function(e,a){var s=new FileReader;s.addEventListener("error",a),s.addEventListener("abort",a);var u=o.size,l=0;function c(){l>=u?e():s.readAsArrayBuffer(o.slice(l,Math.min(u,l+t)))}s.addEventListener("load",function(h){var C=h.target.result;n(new Uint8Array(C)),l+=C.byteLength,c()}),c()})}var a8=function(){var o=Zt((0,qe.Z)().mark(function t(e,a){var s;return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=new e,l.next=3,i8(a,function(c){s.update(c)});case 3:return l.abrupt("return",s.digest());case 4:case"end":return l.stop()}},t)}));return function n(t,e){return o.apply(this,arguments)}}(),s8=[1732584193,4023233417,2562383102,271733878],u8=function(){function o(){(0,f.Z)(this,o),this.reset()}return(0,y.Z)(o,[{key:"update",value:function(t){if(!function l8(o){return"string"==typeof o?0===o.length:0===o.byteLength}(t)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var e=function c8(o){return"string"==typeof o?df(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}(t),a=0,s=e.byteLength;for(this.bytesHashed+=s;s>0;)this.buffer.setUint8(this.bufferLength++,e[a++]),s--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)}}},{key:"digest",value:(n=Zt((0,qe.Z)().mark(function e(){var a,s,l,c,h,C,T;return(0,qe.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!this.finished){if(s=this.bufferLength,l=8*this.bytesHashed,(a=this.buffer).setUint8(this.bufferLength++,128),s%64>=56){for(c=this.bufferLength;c<64;c++)a.setUint8(c,0);this.hashBuffer(),this.bufferLength=0}for(h=this.bufferLength;h<56;h++)a.setUint8(h,0);a.setUint32(56,l>>>0,!0),a.setUint32(60,Math.floor(l/4294967296),!0),this.hashBuffer(),this.finished=!0}for(C=new DataView(new ArrayBuffer(16)),T=0;T<4;T++)C.setUint32(4*T,this.state[T],!0);return F.abrupt("return",new Uint8Array(C.buffer,C.byteOffset,C.byteLength));case 4:case"end":return F.stop()}},e,this)})),function t(){return n.apply(this,arguments)})},{key:"hashBuffer",value:function(){var t=this.buffer,e=this.state,a=e[0],s=e[1],u=e[2],l=e[3];a=ta(a,s,u,l,t.getUint32(0,!0),7,3614090360),l=ta(l,a,s,u,t.getUint32(4,!0),12,3905402710),u=ta(u,l,a,s,t.getUint32(8,!0),17,606105819),s=ta(s,u,l,a,t.getUint32(12,!0),22,3250441966),a=ta(a,s,u,l,t.getUint32(16,!0),7,4118548399),l=ta(l,a,s,u,t.getUint32(20,!0),12,1200080426),u=ta(u,l,a,s,t.getUint32(24,!0),17,2821735955),s=ta(s,u,l,a,t.getUint32(28,!0),22,4249261313),a=ta(a,s,u,l,t.getUint32(32,!0),7,1770035416),l=ta(l,a,s,u,t.getUint32(36,!0),12,2336552879),u=ta(u,l,a,s,t.getUint32(40,!0),17,4294925233),s=ta(s,u,l,a,t.getUint32(44,!0),22,2304563134),a=ta(a,s,u,l,t.getUint32(48,!0),7,1804603682),l=ta(l,a,s,u,t.getUint32(52,!0),12,4254626195),u=ta(u,l,a,s,t.getUint32(56,!0),17,2792965006),a=na(a,s=ta(s,u,l,a,t.getUint32(60,!0),22,1236535329),u,l,t.getUint32(4,!0),5,4129170786),l=na(l,a,s,u,t.getUint32(24,!0),9,3225465664),u=na(u,l,a,s,t.getUint32(44,!0),14,643717713),s=na(s,u,l,a,t.getUint32(0,!0),20,3921069994),a=na(a,s,u,l,t.getUint32(20,!0),5,3593408605),l=na(l,a,s,u,t.getUint32(40,!0),9,38016083),u=na(u,l,a,s,t.getUint32(60,!0),14,3634488961),s=na(s,u,l,a,t.getUint32(16,!0),20,3889429448),a=na(a,s,u,l,t.getUint32(36,!0),5,568446438),l=na(l,a,s,u,t.getUint32(56,!0),9,3275163606),u=na(u,l,a,s,t.getUint32(12,!0),14,4107603335),s=na(s,u,l,a,t.getUint32(32,!0),20,1163531501),a=na(a,s,u,l,t.getUint32(52,!0),5,2850285829),l=na(l,a,s,u,t.getUint32(8,!0),9,4243563512),u=na(u,l,a,s,t.getUint32(28,!0),14,1735328473),a=ra(a,s=na(s,u,l,a,t.getUint32(48,!0),20,2368359562),u,l,t.getUint32(20,!0),4,4294588738),l=ra(l,a,s,u,t.getUint32(32,!0),11,2272392833),u=ra(u,l,a,s,t.getUint32(44,!0),16,1839030562),s=ra(s,u,l,a,t.getUint32(56,!0),23,4259657740),a=ra(a,s,u,l,t.getUint32(4,!0),4,2763975236),l=ra(l,a,s,u,t.getUint32(16,!0),11,1272893353),u=ra(u,l,a,s,t.getUint32(28,!0),16,4139469664),s=ra(s,u,l,a,t.getUint32(40,!0),23,3200236656),a=ra(a,s,u,l,t.getUint32(52,!0),4,681279174),l=ra(l,a,s,u,t.getUint32(0,!0),11,3936430074),u=ra(u,l,a,s,t.getUint32(12,!0),16,3572445317),s=ra(s,u,l,a,t.getUint32(24,!0),23,76029189),a=ra(a,s,u,l,t.getUint32(36,!0),4,3654602809),l=ra(l,a,s,u,t.getUint32(48,!0),11,3873151461),u=ra(u,l,a,s,t.getUint32(60,!0),16,530742520),a=ia(a,s=ra(s,u,l,a,t.getUint32(8,!0),23,3299628645),u,l,t.getUint32(0,!0),6,4096336452),l=ia(l,a,s,u,t.getUint32(28,!0),10,1126891415),u=ia(u,l,a,s,t.getUint32(56,!0),15,2878612391),s=ia(s,u,l,a,t.getUint32(20,!0),21,4237533241),a=ia(a,s,u,l,t.getUint32(48,!0),6,1700485571),l=ia(l,a,s,u,t.getUint32(12,!0),10,2399980690),u=ia(u,l,a,s,t.getUint32(40,!0),15,4293915773),s=ia(s,u,l,a,t.getUint32(4,!0),21,2240044497),a=ia(a,s,u,l,t.getUint32(32,!0),6,1873313359),l=ia(l,a,s,u,t.getUint32(60,!0),10,4264355552),u=ia(u,l,a,s,t.getUint32(24,!0),15,2734768916),s=ia(s,u,l,a,t.getUint32(52,!0),21,1309151649),a=ia(a,s,u,l,t.getUint32(16,!0),6,4149444226),l=ia(l,a,s,u,t.getUint32(44,!0),10,3174756917),u=ia(u,l,a,s,t.getUint32(8,!0),15,718787259),s=ia(s,u,l,a,t.getUint32(36,!0),21,3951481745),e[0]=a+e[0]&4294967295,e[1]=s+e[1]&4294967295,e[2]=u+e[2]&4294967295,e[3]=l+e[3]&4294967295}},{key:"reset",value:function(){this.state=Uint32Array.from(s8),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}]),o;var n}();function sx(o,n,t,e,a,s){return((n=(n+o&4294967295)+(e+s&4294967295)&4294967295)<<a|n>>>32-a)+t&4294967295}function ta(o,n,t,e,a,s,u){return sx(n&t|~n&e,o,n,a,s,u)}function na(o,n,t,e,a,s,u){return sx(n&e|t&~e,o,n,a,s,u)}function ra(o,n,t,e,a,s,u){return sx(n^t^e,o,n,a,s,u)}function ia(o,n,t,e,a,s,u){return sx(t^(n|~e),o,n,a,s,u)}var ux,If,lx,cx,dx,px,Of,fx,mx,hx,Ff,Hc,Mf,gx,Nf,Vf,vx,yx,_x,xx,qc,Bf,Zf,bx,Cx,wx,Kc,Lf,jf,Sx,Ex,Px,Ax,kx,Wc,$f,Rx,Uf,Dx,Tx,Ix,Ox,Fx,Xc,zf,Gf,Mx,Nx,Vx,Qc,Hf,qf,Bx,Zx,Lx,Yc,Kf,Wf,jx,$x,Ux,zx,Gx,Jc,Xf,Hx,Qf,qx,Kx,Wx,Xx,Qx,ed,Yf,Jf,Yx,Jx,e1,td,em,tm,t1,n1,r1,nd,nm,rm,a1,o1,s1,u1,l1,rd,im,c1,am,d1,p1,f1,m1,h1,id,om,sm,g1,v1,y1,ad,um,lm,_1,x1,b1,od,cm,dm,C1,w1,S1,E1,P1,sd,pm,A1,fm,k1,R1,D1,T1,I1,ud,mm,hm,O1,F1,M1,ld,gm,vm,N1,V1,B1,cd,ym,_m,Z1,L1,j1,$1,U1,z1,dd,xm,bm,pd,Cm,G1,wm,H1,q1,K1,W1,X1,fd,Sm,Em,Q1,Y1,J1,md,Pm,Am,eb,tb,nb,hd,km,Rm,rb,ib,ab,ob,sb,ub,gd,Dm,Tm,vd,Im,lb,Om,cb,db,pb,fb,mb,yd,Fm,Mm,hb,Nm,gb,vb,Vm,yb,_b,Bm,xb,bb,Cb,wb,Sb,Eb,_d,Pb,Ab,kb,Rb,Db,Tb,Zm,Ib,Ob,Fb,Mb,xd,Lm,jm,$m,Nb,bd,Um,zm,Gm,Vb,Cd,Hm,qm,Km,Bb,wd,Wm,Xm,Qm,Zb,Lb,jb,Sd,Ym,Jm,$b,Ub,zb,Gb,Hb,Ed,eh,th,qb,Kb,nh,rh,Wb,Xb,Pd,ih,ah,oh,Qb,Ad,sh,uh,lh,Yb,Jb,ch,dh,eC,tC,ph,nC,rC,iC,aC,oC,fh,sC,uC,lC,mh,kd,cC,dC,pC,fC,mC,hC,gC,vC,Rd,Dd,Td,yC,Id,hh,gh,vh,_C,yh,xC,Od,_h,xh,bh,bC,Fd,Ch,wh,CC,Md,Sh,Eh,Ph,wC,Nd,Ah,kh,SC,Vd,Rh,Dh,Th,EC,Bd,Ih,Oh,PC,Zd,Fh,Mh,Nh,AC,kC,RC,Vh,DC,TC,IC,Bh,OC,FC,MC,NC,VC,BC,ZC,LC,jC,Zh,$C,UC,zC,GC,HC,qC,KC,WC,Lh,jh,$h,Uh,zh,XC,QC,Gh,Hh,qh,Kh,Wh,YC,Xh,Qh,Yh,Jh,eg,JC,tg,ng,ew,tw,nw,rg,rw,iw,ig,aw,ag,ow,og,sg,ug,lg,cg,dg,pg,fg,mg,hg,gg,vg,yg,_g,xg,bg,Cg,wg,Sg,Eg,Pg,Ag,kg,Rg,Dg,Tg,sw,uw,lw,cw,dw,pw,fw,Ig,mw,Og,Fg,hw,gw,vw,Mg,yw,Ng,Vg,Bg,Zg,_w,xw,bw,Cw,Lg,jg,$g,Ug,zg,Gg,ww,Sw,Hg,Ew,qg,Pw,Aw,Kg,kw,Wg,Rw,Xg,Dw,Qg,Tw,Iw,Yg,Ow,Fw,Jg,Mw,Nw,Vw,ev,Bw,tv,nv,Zw,Lw,rv,iv,av,ov,sv,uv,lv,cv,dv,pv,fv,mv,jw,$w,Uw,zw,hv,Gw,gv,Hw,vv,qw,yv,Kw,_v,Ww,xv,Xw,bv,Qw,Yw,Cv,Jw,eS,wv,Sv,Ev,tS,Pv,Av,kv,nS,Rv,Dv,rS,iS,aS,Ld,Tv,Iv,oS,Ov,sS,uS,lS,cS,dS,Fv,pS,fS,Mv,Nv,mS,Vv,Bv,Zv,hS,gS,Lv,jv,$v,Uv,vS,zv,Gv,Hv,yS,qv,_S,Kv,xS,Wv,bS,Xv,CS,Qv,wS,Yv,SS,Jv,ES,ey,PS,AS,ty,kS,ny,RS,DS,TS,IS,ry,OS,iy,ay,oy,FS,MS,NS,sy,VS,uy,BS,ZS,ly,cy,dy,py,fy,LS,jS,$S,US,my,zS,hy,gy,GS,vy,yy,_y,xy,by,Cy,wy,Sy,Ey,Py,Ay,ky,Ry,Dy,Ty,Iy,Oy,Fy,My,HS,qS,Ny,KS,Vy,By,WS,Zy,XS,d8=function(n,t){var e=t.base64Encoder,a=t.bodyLengthChecker,s=t.checksumAlgorithmFn,u=t.checksumLocationName,l=t.streamHasher,c=void 0!==e&&void 0!==a&&void 0!==s&&void 0!==u&&void 0!==l,h=c?l(s,n):void 0,C=n.getReader();return new ReadableStream({pull:function(N){return Zt((0,qe.Z)().mark(function F(){var $,se,ge;return(0,qe.Z)().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return we.next=2,C.read();case 2:if(se=($=we.sent).value,!$.done){we.next=18;break}if(N.enqueue("0\r\n"),!c){we.next=15;break}return we.t0=e,we.next=11,h;case 11:we.t1=we.sent,ge=(0,we.t0)(we.t1),N.enqueue("".concat(u,":").concat(ge,"\r\n")),N.enqueue("\r\n");case 15:N.close(),we.next=19;break;case 18:N.enqueue("".concat((a(se)||0).toString(16),"\r\n").concat(se,"\r\n"));case 19:case"end":return we.stop()}},F)}))()}})},KD="The stream has already been transformed.",p8=function(n){if(!WD(n)&&!XD(n)){var t,e,a=(null==n||null===(t=n.__proto__)||void 0===t||null===(e=t.constructor)||void 0===e?void 0:e.name)||n;throw new Error("Unexpected stream implementation, expect Blob or ReadableStream, got ".concat(a))}var c,s=!1,u=function(){var c=Zt((0,qe.Z)().mark(function h(){return(0,qe.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!s){T.next=2;break}throw new Error(KD);case 2:return s=!0,T.next=5,wP(n);case 5:return T.abrupt("return",T.sent);case 6:case"end":return T.stop()}},h)}));return function(){return c.apply(this,arguments)}}();return Object.assign(n,{transformToByteArray:u,transformToString:(c=Zt((0,qe.Z)().mark(function C(T){var N;return(0,qe.Z)().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,u();case 2:if(N=$.sent,"base64"!==T){$.next=7;break}return $.abrupt("return",CP(N));case 7:if("hex"!==T){$.next=11;break}return $.abrupt("return",Ka(N));case 11:if(void 0!==T&&"utf8"!==T&&"utf-8"!==T){$.next=15;break}return $.abrupt("return",q0(N));case 15:if("function"!=typeof TextDecoder){$.next=19;break}return $.abrupt("return",new TextDecoder(T).decode(N));case 19:throw new Error("TextDecoder is not available, please make sure polyfill is provided.");case 20:case"end":return $.stop()}},C)})),function h(C){return c.apply(this,arguments)}),transformToWebStream:function(){if(s)throw new Error(KD);if(s=!0,WD(n))return function(h){if("function"!=typeof h.stream)throw new Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return h.stream()}(n);if(XD(n))return n;throw new Error("Cannot transform payload to web stream, got ".concat(n))}})},WD=function(n){return"function"==typeof Blob&&n instanceof Blob},XD=function(n){return"function"==typeof ReadableStream&&n instanceof ReadableStream},f8=function(){function o(n){(0,f.Z)(this,o),this.sigv4Signer=new wf(n),this.signerOptions=n}return(0,y.Z)(o,[{key:"sign",value:(n=Zt(function(e){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,qe.Z)().mark(function u(){return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if("*"!==s.signingRegion){c.next=4;break}if("node"===a.signerOptions.runtime){c.next=3;break}throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");case 3:return c.abrupt("return",a.getSigv4aSigner().sign(e,s));case 4:return c.abrupt("return",a.sigv4Signer.sign(e,s));case 5:case"end":return c.stop()}},u)})()}),function t(e){return n.apply(this,arguments)})},{key:"presign",value:function(){var n=Zt(function(e){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,qe.Z)().mark(function u(){return(0,qe.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if("*"!==s.signingRegion){c.next=4;break}if("node"===a.signerOptions.runtime){c.next=3;break}throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");case 3:return c.abrupt("return",a.getSigv4aSigner().presign(e,s));case 4:return c.abrupt("return",a.sigv4Signer.presign(e,s));case 5:case"end":return c.stop()}},u)})()});return function t(e){return n.apply(this,arguments)}}()},{key:"getSigv4aSigner",value:function(){if(!this.sigv4aSigner){var t;try{if("function"!=typeof(t=S(54287).CrtSignerV4))throw new Error}catch(e){throw e.message="".concat(e.message,'\nPlease check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. \n')+"For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt",e}this.sigv4aSigner=new t((0,b.Z)((0,b.Z)({},this.signerOptions),{},{signingAlgorithm:1}))}return this.sigv4aSigner}}]),o;var n}(),kP="required",Oe="type",bt="rules",ft="conditions",Ye="fn",Je="argv",kt="ref",Ii="assign",an="url",on="properties",Fn="authSchemes",Mn="disableDoubleEncoding",Nn="signingName",Zn="signingRegion",sn="headers",es=!0,Ct="tree",Xa="isSet",Ly="substring",YD="hardwareType",JD="regionPrefix",eT="abbaSuffix",RP="outpostId",jy="aws.partition",mn="stringEquals",_l="isValidHostLabel",ni="not",ln="error",tT="parseURL",DP="s3-outposts",Dt="endpoint",nn="booleanEquals",nT="aws.parseArn",Ln="s3",rT="aws.isVirtualHostableS3Bucket",Kr="getAttr",kn="name",TP="Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",iT="https://{Bucket}.s3.{partitionResult#dnsSuffix}",aT="bucketArn",oT="arnType",IP="s3-object-lambda",sT="accesspoint",OP="accessPointName",uT="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",lT="mrapPartition",cT="outpostType",dT="arnPrefix",xl="{url#scheme}://{url#authority}{url#path}",pT="https://s3.{partitionResult#dnsSuffix}",FP=((0,d.Z)(ux={},kP,!1),(0,d.Z)(ux,Oe,"String"),ux),$y=((0,d.Z)(If={},kP,!0),(0,d.Z)(If,"default",!1),(0,d.Z)(If,Oe,"Boolean"),If),YS=((0,d.Z)(lx={},kP,!1),(0,d.Z)(lx,Oe,"Boolean"),lx),fT=((0,d.Z)(cx={},Ye,Xa),(0,d.Z)(cx,Je,[(0,d.Z)({},kt,"Bucket")]),cx),ts=(0,d.Z)({},kt,"Bucket"),mT=(0,d.Z)({},kt,YD),hT=((0,d.Z)(Of={},ft,[(px={},(0,d.Z)(px,Ye,ni),(0,d.Z)(px,Je,[(dx={},(0,d.Z)(dx,Ye,Xa),(0,d.Z)(dx,Je,[(0,d.Z)({},kt,"Endpoint")]),dx)]),px)]),(0,d.Z)(Of,ln,"Expected a endpoint to be specified but no endpoint was found"),(0,d.Z)(Of,Oe,ln),Of),jn=((0,d.Z)(mx={},Ye,ni),(0,d.Z)(mx,Je,[(fx={},(0,d.Z)(fx,Ye,Xa),(0,d.Z)(fx,Je,[(0,d.Z)({},kt,"Endpoint")]),fx)]),mx),ir=((0,d.Z)(hx={},Ye,Xa),(0,d.Z)(hx,Je,[(0,d.Z)({},kt,"Endpoint")]),hx),Tr=((0,d.Z)(Ff={},Ye,tT),(0,d.Z)(Ff,Je,[(0,d.Z)({},kt,"Endpoint")]),(0,d.Z)(Ff,Ii,"url"),Ff),JS=(0,d.Z)({},Fn,[(Hc={},(0,d.Z)(Hc,Mn,!0),(0,d.Z)(Hc,kn,"sigv4"),(0,d.Z)(Hc,Nn,DP),(0,d.Z)(Hc,Zn,"{Region}"),Hc)]),xi={},gT=(0,d.Z)({},kt,"ForcePathStyle"),vT=((0,d.Z)(Bm={},ft,[(Mf={},(0,d.Z)(Mf,Ye,"uriEncode"),(0,d.Z)(Mf,Je,[ts]),(0,d.Z)(Mf,Ii,"uri_encoded_bucket"),Mf)]),(0,d.Z)(Bm,Oe,Ct),(0,d.Z)(Bm,bt,[(Nf={},(0,d.Z)(Nf,ft,[(gx={},(0,d.Z)(gx,Ye,nn),(0,d.Z)(gx,Je,[(0,d.Z)({},kt,"UseDualStack"),!0]),gx),ir]),(0,d.Z)(Nf,ln,"Cannot set dual-stack in combination with a custom endpoint."),(0,d.Z)(Nf,Oe,ln),Nf),(_b={},(0,d.Z)(_b,Oe,Ct),(0,d.Z)(_b,bt,[(Vm={},(0,d.Z)(Vm,ft,[(Vf={},(0,d.Z)(Vf,Ye,jy),(0,d.Z)(Vf,Je,[(0,d.Z)({},kt,"Region")]),(0,d.Z)(Vf,Ii,"partitionResult"),Vf)]),(0,d.Z)(Vm,Oe,Ct),(0,d.Z)(Vm,bt,[(vb={},(0,d.Z)(vb,Oe,Ct),(0,d.Z)(vb,bt,[(Nm={},(0,d.Z)(Nm,ft,[(vx={},(0,d.Z)(vx,Ye,nn),(0,d.Z)(vx,Je,[(0,d.Z)({},kt,"Accelerate"),!1]),vx)]),(0,d.Z)(Nm,Oe,Ct),(0,d.Z)(Nm,bt,[(hb={},(0,d.Z)(hb,Oe,Ct),(0,d.Z)(hb,bt,[(Zf={},(0,d.Z)(Zf,ft,[(yx={},(0,d.Z)(yx,Ye,nn),(0,d.Z)(yx,Je,[(0,d.Z)({},kt,"UseDualStack"),!0]),yx),jn,(_x={},(0,d.Z)(_x,Ye,nn),(0,d.Z)(_x,Je,[(0,d.Z)({},kt,"UseFIPS"),!0]),_x),(xx={},(0,d.Z)(xx,Ye,mn),(0,d.Z)(xx,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),xx)]),(0,d.Z)(Zf,Dt,(Bf={},(0,d.Z)(Bf,an,"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,d.Z)(Bf,on,(0,d.Z)({},Fn,[(qc={},(0,d.Z)(qc,Mn,!0),(0,d.Z)(qc,kn,"sigv4"),(0,d.Z)(qc,Nn,Ln),(0,d.Z)(qc,Zn,"us-east-1"),qc)])),(0,d.Z)(Bf,sn,{}),Bf)),(0,d.Z)(Zf,Oe,Dt),Zf),(jf={},(0,d.Z)(jf,ft,[(bx={},(0,d.Z)(bx,Ye,nn),(0,d.Z)(bx,Je,[(0,d.Z)({},kt,"UseDualStack"),!0]),bx),jn,(Cx={},(0,d.Z)(Cx,Ye,nn),(0,d.Z)(Cx,Je,[(0,d.Z)({},kt,"UseFIPS"),!0]),Cx),(wx={},(0,d.Z)(wx,Ye,mn),(0,d.Z)(wx,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),wx)]),(0,d.Z)(jf,Dt,(Lf={},(0,d.Z)(Lf,an,"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,d.Z)(Lf,on,(0,d.Z)({},Fn,[(Kc={},(0,d.Z)(Kc,Mn,!0),(0,d.Z)(Kc,kn,"sigv4"),(0,d.Z)(Kc,Nn,Ln),(0,d.Z)(Kc,Zn,"us-east-1"),Kc)])),(0,d.Z)(Lf,sn,{}),Lf)),(0,d.Z)(jf,Oe,Dt),jf),(Uf={},(0,d.Z)(Uf,ft,[(Sx={},(0,d.Z)(Sx,Ye,nn),(0,d.Z)(Sx,Je,[(0,d.Z)({},kt,"UseDualStack"),!0]),Sx),jn,(Ex={},(0,d.Z)(Ex,Ye,nn),(0,d.Z)(Ex,Je,[(0,d.Z)({},kt,"UseFIPS"),!0]),Ex),(Ax={},(0,d.Z)(Ax,Ye,ni),(0,d.Z)(Ax,Je,[(Px={},(0,d.Z)(Px,Ye,mn),(0,d.Z)(Px,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),Px)]),Ax),(kx={},(0,d.Z)(kx,Ye,nn),(0,d.Z)(kx,Je,[(0,d.Z)({},kt,"UseGlobalEndpoint"),!0]),kx)]),(0,d.Z)(Uf,Oe,Ct),(0,d.Z)(Uf,bt,[(Rx={},(0,d.Z)(Rx,Dt,($f={},(0,d.Z)($f,an,"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,d.Z)($f,on,(0,d.Z)({},Fn,[(Wc={},(0,d.Z)(Wc,Mn,!0),(0,d.Z)(Wc,kn,"sigv4"),(0,d.Z)(Wc,Nn,Ln),(0,d.Z)(Wc,Zn,"{Region}"),Wc)])),(0,d.Z)($f,sn,{}),$f)),(0,d.Z)(Rx,Oe,Dt),Rx)]),Uf),(Gf={},(0,d.Z)(Gf,ft,[(Dx={},(0,d.Z)(Dx,Ye,nn),(0,d.Z)(Dx,Je,[(0,d.Z)({},kt,"UseDualStack"),!0]),Dx),jn,(Tx={},(0,d.Z)(Tx,Ye,nn),(0,d.Z)(Tx,Je,[(0,d.Z)({},kt,"UseFIPS"),!0]),Tx),(Ox={},(0,d.Z)(Ox,Ye,ni),(0,d.Z)(Ox,Je,[(Ix={},(0,d.Z)(Ix,Ye,mn),(0,d.Z)(Ix,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),Ix)]),Ox),(Fx={},(0,d.Z)(Fx,Ye,nn),(0,d.Z)(Fx,Je,[(0,d.Z)({},kt,"UseGlobalEndpoint"),!1]),Fx)]),(0,d.Z)(Gf,Dt,(zf={},(0,d.Z)(zf,an,"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,d.Z)(zf,on,(0,d.Z)({},Fn,[(Xc={},(0,d.Z)(Xc,Mn,!0),(0,d.Z)(Xc,kn,"sigv4"),(0,d.Z)(Xc,Nn,Ln),(0,d.Z)(Xc,Zn,"{Region}"),Xc)])),(0,d.Z)(zf,sn,{}),zf)),(0,d.Z)(Gf,Oe,Dt),Gf),(qf={},(0,d.Z)(qf,ft,[(Mx={},(0,d.Z)(Mx,Ye,nn),(0,d.Z)(Mx,Je,[(0,d.Z)({},kt,"UseDualStack"),!1]),Mx),ir,Tr,(Nx={},(0,d.Z)(Nx,Ye,nn),(0,d.Z)(Nx,Je,[(0,d.Z)({},kt,"UseFIPS"),!0]),Nx),(Vx={},(0,d.Z)(Vx,Ye,mn),(0,d.Z)(Vx,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),Vx)]),(0,d.Z)(qf,Dt,(Hf={},(0,d.Z)(Hf,an,"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}"),(0,d.Z)(Hf,on,(0,d.Z)({},Fn,[(Qc={},(0,d.Z)(Qc,Mn,!0),(0,d.Z)(Qc,kn,"sigv4"),(0,d.Z)(Qc,Nn,Ln),(0,d.Z)(Qc,Zn,"us-east-1"),Qc)])),(0,d.Z)(Hf,sn,{}),Hf)),(0,d.Z)(qf,Oe,Dt),qf),(Wf={},(0,d.Z)(Wf,ft,[(Bx={},(0,d.Z)(Bx,Ye,nn),(0,d.Z)(Bx,Je,[(0,d.Z)({},kt,"UseDualStack"),!1]),Bx),ir,Tr,(Zx={},(0,d.Z)(Zx,Ye,nn),(0,d.Z)(Zx,Je,[(0,d.Z)({},kt,"UseFIPS"),!0]),Zx),(Lx={},(0,d.Z)(Lx,Ye,mn),(0,d.Z)(Lx,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),Lx)]),(0,d.Z)(Wf,Dt,(Kf={},(0,d.Z)(Kf,an,"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}"),(0,d.Z)(Kf,on,(0,d.Z)({},Fn,[(Yc={},(0,d.Z)(Yc,Mn,!0),(0,d.Z)(Yc,kn,"sigv4"),(0,d.Z)(Yc,Nn,Ln),(0,d.Z)(Yc,Zn,"us-east-1"),Yc)])),(0,d.Z)(Kf,sn,{}),Kf)),(0,d.Z)(Wf,Oe,Dt),Wf),(Qf={},(0,d.Z)(Qf,ft,[(jx={},(0,d.Z)(jx,Ye,nn),(0,d.Z)(jx,Je,[(0,d.Z)({},kt,"UseDualStack"),!1]),jx),ir,Tr,($x={},(0,d.Z)($x,Ye,nn),(0,d.Z)($x,Je,[(0,d.Z)({},kt,"UseFIPS"),!0]),$x),(zx={},(0,d.Z)(zx,Ye,ni),(0,d.Z)(zx,Je,[(Ux={},(0,d.Z)(Ux,Ye,mn),(0,d.Z)(Ux,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),Ux)]),zx),(Gx={},(0,d.Z)(Gx,Ye,nn),(0,d.Z)(Gx,Je,[(0,d.Z)({},kt,"UseGlobalEndpoint"),!0]),Gx)]),(0,d.Z)(Qf,Oe,Ct),(0,d.Z)(Qf,bt,[(Hx={},(0,d.Z)(Hx,Dt,(Xf={},(0,d.Z)(Xf,an,"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}"),(0,d.Z)(Xf,on,(0,d.Z)({},Fn,[(Jc={},(0,d.Z)(Jc,Mn,!0),(0,d.Z)(Jc,kn,"sigv4"),(0,d.Z)(Jc,Nn,Ln),(0,d.Z)(Jc,Zn,"{Region}"),Jc)])),(0,d.Z)(Xf,sn,{}),Xf)),(0,d.Z)(Hx,Oe,Dt),Hx)]),Qf),(Jf={},(0,d.Z)(Jf,ft,[(qx={},(0,d.Z)(qx,Ye,nn),(0,d.Z)(qx,Je,[(0,d.Z)({},kt,"UseDualStack"),!1]),qx),ir,Tr,(Kx={},(0,d.Z)(Kx,Ye,nn),(0,d.Z)(Kx,Je,[(0,d.Z)({},kt,"UseFIPS"),!0]),Kx),(Xx={},(0,d.Z)(Xx,Ye,ni),(0,d.Z)(Xx,Je,[(Wx={},(0,d.Z)(Wx,Ye,mn),(0,d.Z)(Wx,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),Wx)]),Xx),(Qx={},(0,d.Z)(Qx,Ye,nn),(0,d.Z)(Qx,Je,[(0,d.Z)({},kt,"UseGlobalEndpoint"),!1]),Qx)]),(0,d.Z)(Jf,Dt,(Yf={},(0,d.Z)(Yf,an,"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}"),(0,d.Z)(Yf,on,(0,d.Z)({},Fn,[(ed={},(0,d.Z)(ed,Mn,!0),(0,d.Z)(ed,kn,"sigv4"),(0,d.Z)(ed,Nn,Ln),(0,d.Z)(ed,Zn,"{Region}"),ed)])),(0,d.Z)(Yf,sn,{}),Yf)),(0,d.Z)(Jf,Oe,Dt),Jf),(tm={},(0,d.Z)(tm,ft,[(Yx={},(0,d.Z)(Yx,Ye,nn),(0,d.Z)(Yx,Je,[(0,d.Z)({},kt,"UseDualStack"),!1]),Yx),jn,(Jx={},(0,d.Z)(Jx,Ye,nn),(0,d.Z)(Jx,Je,[(0,d.Z)({},kt,"UseFIPS"),!0]),Jx),(e1={},(0,d.Z)(e1,Ye,mn),(0,d.Z)(e1,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),e1)]),(0,d.Z)(tm,Dt,(em={},(0,d.Z)(em,an,"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,d.Z)(em,on,(0,d.Z)({},Fn,[(td={},(0,d.Z)(td,Mn,!0),(0,d.Z)(td,kn,"sigv4"),(0,d.Z)(td,Nn,Ln),(0,d.Z)(td,Zn,"us-east-1"),td)])),(0,d.Z)(em,sn,{}),em)),(0,d.Z)(tm,Oe,Dt),tm),(rm={},(0,d.Z)(rm,ft,[(t1={},(0,d.Z)(t1,Ye,nn),(0,d.Z)(t1,Je,[(0,d.Z)({},kt,"UseDualStack"),!1]),t1),jn,(n1={},(0,d.Z)(n1,Ye,nn),(0,d.Z)(n1,Je,[(0,d.Z)({},kt,"UseFIPS"),!0]),n1),(r1={},(0,d.Z)(r1,Ye,mn),(0,d.Z)(r1,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),r1)]),(0,d.Z)(rm,Dt,(nm={},(0,d.Z)(nm,an,"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,d.Z)(nm,on,(0,d.Z)({},Fn,[(nd={},(0,d.Z)(nd,Mn,!0),(0,d.Z)(nd,kn,"sigv4"),(0,d.Z)(nd,Nn,Ln),(0,d.Z)(nd,Zn,"us-east-1"),nd)])),(0,d.Z)(nm,sn,{}),nm)),(0,d.Z)(rm,Oe,Dt),rm),(am={},(0,d.Z)(am,ft,[(a1={},(0,d.Z)(a1,Ye,nn),(0,d.Z)(a1,Je,[(0,d.Z)({},kt,"UseDualStack"),!1]),a1),jn,(o1={},(0,d.Z)(o1,Ye,nn),(0,d.Z)(o1,Je,[(0,d.Z)({},kt,"UseFIPS"),!0]),o1),(u1={},(0,d.Z)(u1,Ye,ni),(0,d.Z)(u1,Je,[(s1={},(0,d.Z)(s1,Ye,mn),(0,d.Z)(s1,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),s1)]),u1),(l1={},(0,d.Z)(l1,Ye,nn),(0,d.Z)(l1,Je,[(0,d.Z)({},kt,"UseGlobalEndpoint"),!0]),l1)]),(0,d.Z)(am,Oe,Ct),(0,d.Z)(am,bt,[(c1={},(0,d.Z)(c1,Dt,(im={},(0,d.Z)(im,an,"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,d.Z)(im,on,(0,d.Z)({},Fn,[(rd={},(0,d.Z)(rd,Mn,!0),(0,d.Z)(rd,kn,"sigv4"),(0,d.Z)(rd,Nn,Ln),(0,d.Z)(rd,Zn,"{Region}"),rd)])),(0,d.Z)(im,sn,{}),im)),(0,d.Z)(c1,Oe,Dt),c1)]),am),(sm={},(0,d.Z)(sm,ft,[(d1={},(0,d.Z)(d1,Ye,nn),(0,d.Z)(d1,Je,[(0,d.Z)({},kt,"UseDualStack"),!1]),d1),jn,(p1={},(0,d.Z)(p1,Ye,nn),(0,d.Z)(p1,Je,[(0,d.Z)({},kt,"UseFIPS"),!0]),p1),(m1={},(0,d.Z)(m1,Ye,ni),(0,d.Z)(m1,Je,[(f1={},(0,d.Z)(f1,Ye,mn),(0,d.Z)(f1,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),f1)]),m1),(h1={},(0,d.Z)(h1,Ye,nn),(0,d.Z)(h1,Je,[(0,d.Z)({},kt,"UseGlobalEndpoint"),!1]),h1)]),(0,d.Z)(sm,Dt,(om={},(0,d.Z)(om,an,"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,d.Z)(om,on,(0,d.Z)({},Fn,[(id={},(0,d.Z)(id,Mn,!0),(0,d.Z)(id,kn,"sigv4"),(0,d.Z)(id,Nn,Ln),(0,d.Z)(id,Zn,"{Region}"),id)])),(0,d.Z)(om,sn,{}),om)),(0,d.Z)(sm,Oe,Dt),sm),(lm={},(0,d.Z)(lm,ft,[(g1={},(0,d.Z)(g1,Ye,nn),(0,d.Z)(g1,Je,[(0,d.Z)({},kt,"UseDualStack"),!0]),g1),jn,(v1={},(0,d.Z)(v1,Ye,nn),(0,d.Z)(v1,Je,[(0,d.Z)({},kt,"UseFIPS"),!1]),v1),(y1={},(0,d.Z)(y1,Ye,mn),(0,d.Z)(y1,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),y1)]),(0,d.Z)(lm,Dt,(um={},(0,d.Z)(um,an,"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,d.Z)(um,on,(0,d.Z)({},Fn,[(ad={},(0,d.Z)(ad,Mn,!0),(0,d.Z)(ad,kn,"sigv4"),(0,d.Z)(ad,Nn,Ln),(0,d.Z)(ad,Zn,"us-east-1"),ad)])),(0,d.Z)(um,sn,{}),um)),(0,d.Z)(lm,Oe,Dt),lm),(dm={},(0,d.Z)(dm,ft,[(_1={},(0,d.Z)(_1,Ye,nn),(0,d.Z)(_1,Je,[(0,d.Z)({},kt,"UseDualStack"),!0]),_1),jn,(x1={},(0,d.Z)(x1,Ye,nn),(0,d.Z)(x1,Je,[(0,d.Z)({},kt,"UseFIPS"),!1]),x1),(b1={},(0,d.Z)(b1,Ye,mn),(0,d.Z)(b1,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),b1)]),(0,d.Z)(dm,Dt,(cm={},(0,d.Z)(cm,an,"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,d.Z)(cm,on,(0,d.Z)({},Fn,[(od={},(0,d.Z)(od,Mn,!0),(0,d.Z)(od,kn,"sigv4"),(0,d.Z)(od,Nn,Ln),(0,d.Z)(od,Zn,"us-east-1"),od)])),(0,d.Z)(cm,sn,{}),cm)),(0,d.Z)(dm,Oe,Dt),dm),(fm={},(0,d.Z)(fm,ft,[(C1={},(0,d.Z)(C1,Ye,nn),(0,d.Z)(C1,Je,[(0,d.Z)({},kt,"UseDualStack"),!0]),C1),jn,(w1={},(0,d.Z)(w1,Ye,nn),(0,d.Z)(w1,Je,[(0,d.Z)({},kt,"UseFIPS"),!1]),w1),(E1={},(0,d.Z)(E1,Ye,ni),(0,d.Z)(E1,Je,[(S1={},(0,d.Z)(S1,Ye,mn),(0,d.Z)(S1,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),S1)]),E1),(P1={},(0,d.Z)(P1,Ye,nn),(0,d.Z)(P1,Je,[(0,d.Z)({},kt,"UseGlobalEndpoint"),!0]),P1)]),(0,d.Z)(fm,Oe,Ct),(0,d.Z)(fm,bt,[(A1={},(0,d.Z)(A1,Dt,(pm={},(0,d.Z)(pm,an,"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,d.Z)(pm,on,(0,d.Z)({},Fn,[(sd={},(0,d.Z)(sd,Mn,!0),(0,d.Z)(sd,kn,"sigv4"),(0,d.Z)(sd,Nn,Ln),(0,d.Z)(sd,Zn,"{Region}"),sd)])),(0,d.Z)(pm,sn,{}),pm)),(0,d.Z)(A1,Oe,Dt),A1)]),fm),(hm={},(0,d.Z)(hm,ft,[(k1={},(0,d.Z)(k1,Ye,nn),(0,d.Z)(k1,Je,[(0,d.Z)({},kt,"UseDualStack"),!0]),k1),jn,(R1={},(0,d.Z)(R1,Ye,nn),(0,d.Z)(R1,Je,[(0,d.Z)({},kt,"UseFIPS"),!1]),R1),(T1={},(0,d.Z)(T1,Ye,ni),(0,d.Z)(T1,Je,[(D1={},(0,d.Z)(D1,Ye,mn),(0,d.Z)(D1,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),D1)]),T1),(I1={},(0,d.Z)(I1,Ye,nn),(0,d.Z)(I1,Je,[(0,d.Z)({},kt,"UseGlobalEndpoint"),!1]),I1)]),(0,d.Z)(hm,Dt,(mm={},(0,d.Z)(mm,an,"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,d.Z)(mm,on,(0,d.Z)({},Fn,[(ud={},(0,d.Z)(ud,Mn,!0),(0,d.Z)(ud,kn,"sigv4"),(0,d.Z)(ud,Nn,Ln),(0,d.Z)(ud,Zn,"{Region}"),ud)])),(0,d.Z)(mm,sn,{}),mm)),(0,d.Z)(hm,Oe,Dt),hm),(vm={},(0,d.Z)(vm,ft,[(O1={},(0,d.Z)(O1,Ye,nn),(0,d.Z)(O1,Je,[(0,d.Z)({},kt,"UseDualStack"),!1]),O1),ir,Tr,(F1={},(0,d.Z)(F1,Ye,nn),(0,d.Z)(F1,Je,[(0,d.Z)({},kt,"UseFIPS"),!1]),F1),(M1={},(0,d.Z)(M1,Ye,mn),(0,d.Z)(M1,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),M1)]),(0,d.Z)(vm,Dt,(gm={},(0,d.Z)(gm,an,"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}"),(0,d.Z)(gm,on,(0,d.Z)({},Fn,[(ld={},(0,d.Z)(ld,Mn,!0),(0,d.Z)(ld,kn,"sigv4"),(0,d.Z)(ld,Nn,Ln),(0,d.Z)(ld,Zn,"us-east-1"),ld)])),(0,d.Z)(gm,sn,{}),gm)),(0,d.Z)(vm,Oe,Dt),vm),(_m={},(0,d.Z)(_m,ft,[(N1={},(0,d.Z)(N1,Ye,nn),(0,d.Z)(N1,Je,[(0,d.Z)({},kt,"UseDualStack"),!1]),N1),ir,Tr,(V1={},(0,d.Z)(V1,Ye,nn),(0,d.Z)(V1,Je,[(0,d.Z)({},kt,"UseFIPS"),!1]),V1),(B1={},(0,d.Z)(B1,Ye,mn),(0,d.Z)(B1,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),B1)]),(0,d.Z)(_m,Dt,(ym={},(0,d.Z)(ym,an,"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}"),(0,d.Z)(ym,on,(0,d.Z)({},Fn,[(cd={},(0,d.Z)(cd,Mn,!0),(0,d.Z)(cd,kn,"sigv4"),(0,d.Z)(cd,Nn,Ln),(0,d.Z)(cd,Zn,"us-east-1"),cd)])),(0,d.Z)(ym,sn,{}),ym)),(0,d.Z)(_m,Oe,Dt),_m),(wm={},(0,d.Z)(wm,ft,[(Z1={},(0,d.Z)(Z1,Ye,nn),(0,d.Z)(Z1,Je,[(0,d.Z)({},kt,"UseDualStack"),!1]),Z1),ir,Tr,(L1={},(0,d.Z)(L1,Ye,nn),(0,d.Z)(L1,Je,[(0,d.Z)({},kt,"UseFIPS"),!1]),L1),($1={},(0,d.Z)($1,Ye,ni),(0,d.Z)($1,Je,[(j1={},(0,d.Z)(j1,Ye,mn),(0,d.Z)(j1,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),j1)]),$1),(U1={},(0,d.Z)(U1,Ye,nn),(0,d.Z)(U1,Je,[(0,d.Z)({},kt,"UseGlobalEndpoint"),!0]),U1)]),(0,d.Z)(wm,Oe,Ct),(0,d.Z)(wm,bt,[(bm={},(0,d.Z)(bm,ft,[(z1={},(0,d.Z)(z1,Ye,mn),(0,d.Z)(z1,Je,[(0,d.Z)({},kt,"Region"),"us-east-1"]),z1)]),(0,d.Z)(bm,Dt,(xm={},(0,d.Z)(xm,an,"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}"),(0,d.Z)(xm,on,(0,d.Z)({},Fn,[(dd={},(0,d.Z)(dd,Mn,!0),(0,d.Z)(dd,kn,"sigv4"),(0,d.Z)(dd,Nn,Ln),(0,d.Z)(dd,Zn,"{Region}"),dd)])),(0,d.Z)(xm,sn,{}),xm)),(0,d.Z)(bm,Oe,Dt),bm),(G1={},(0,d.Z)(G1,Dt,(Cm={},(0,d.Z)(Cm,an,"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}"),(0,d.Z)(Cm,on,(0,d.Z)({},Fn,[(pd={},(0,d.Z)(pd,Mn,!0),(0,d.Z)(pd,kn,"sigv4"),(0,d.Z)(pd,Nn,Ln),(0,d.Z)(pd,Zn,"{Region}"),pd)])),(0,d.Z)(Cm,sn,{}),Cm)),(0,d.Z)(G1,Oe,Dt),G1)]),wm),(Em={},(0,d.Z)(Em,ft,[(H1={},(0,d.Z)(H1,Ye,nn),(0,d.Z)(H1,Je,[(0,d.Z)({},kt,"UseDualStack"),!1]),H1),ir,Tr,(q1={},(0,d.Z)(q1,Ye,nn),(0,d.Z)(q1,Je,[(0,d.Z)({},kt,"UseFIPS"),!1]),q1),(W1={},(0,d.Z)(W1,Ye,ni),(0,d.Z)(W1,Je,[(K1={},(0,d.Z)(K1,Ye,mn),(0,d.Z)(K1,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),K1)]),W1),(X1={},(0,d.Z)(X1,Ye,nn),(0,d.Z)(X1,Je,[(0,d.Z)({},kt,"UseGlobalEndpoint"),!1]),X1)]),(0,d.Z)(Em,Dt,(Sm={},(0,d.Z)(Sm,an,"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}"),(0,d.Z)(Sm,on,(0,d.Z)({},Fn,[(fd={},(0,d.Z)(fd,Mn,!0),(0,d.Z)(fd,kn,"sigv4"),(0,d.Z)(fd,Nn,Ln),(0,d.Z)(fd,Zn,"{Region}"),fd)])),(0,d.Z)(Sm,sn,{}),Sm)),(0,d.Z)(Em,Oe,Dt),Em),(Am={},(0,d.Z)(Am,ft,[(Q1={},(0,d.Z)(Q1,Ye,nn),(0,d.Z)(Q1,Je,[(0,d.Z)({},kt,"UseDualStack"),!1]),Q1),jn,(Y1={},(0,d.Z)(Y1,Ye,nn),(0,d.Z)(Y1,Je,[(0,d.Z)({},kt,"UseFIPS"),!1]),Y1),(J1={},(0,d.Z)(J1,Ye,mn),(0,d.Z)(J1,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),J1)]),(0,d.Z)(Am,Dt,(Pm={},(0,d.Z)(Pm,an,"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,d.Z)(Pm,on,(0,d.Z)({},Fn,[(md={},(0,d.Z)(md,Mn,!0),(0,d.Z)(md,kn,"sigv4"),(0,d.Z)(md,Nn,Ln),(0,d.Z)(md,Zn,"us-east-1"),md)])),(0,d.Z)(Pm,sn,{}),Pm)),(0,d.Z)(Am,Oe,Dt),Am),(Rm={},(0,d.Z)(Rm,ft,[(eb={},(0,d.Z)(eb,Ye,nn),(0,d.Z)(eb,Je,[(0,d.Z)({},kt,"UseDualStack"),!1]),eb),jn,(tb={},(0,d.Z)(tb,Ye,nn),(0,d.Z)(tb,Je,[(0,d.Z)({},kt,"UseFIPS"),!1]),tb),(nb={},(0,d.Z)(nb,Ye,mn),(0,d.Z)(nb,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),nb)]),(0,d.Z)(Rm,Dt,(km={},(0,d.Z)(km,an,"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,d.Z)(km,on,(0,d.Z)({},Fn,[(hd={},(0,d.Z)(hd,Mn,!0),(0,d.Z)(hd,kn,"sigv4"),(0,d.Z)(hd,Nn,Ln),(0,d.Z)(hd,Zn,"us-east-1"),hd)])),(0,d.Z)(km,sn,{}),km)),(0,d.Z)(Rm,Oe,Dt),Rm),(Om={},(0,d.Z)(Om,ft,[(rb={},(0,d.Z)(rb,Ye,nn),(0,d.Z)(rb,Je,[(0,d.Z)({},kt,"UseDualStack"),!1]),rb),jn,(ib={},(0,d.Z)(ib,Ye,nn),(0,d.Z)(ib,Je,[(0,d.Z)({},kt,"UseFIPS"),!1]),ib),(ob={},(0,d.Z)(ob,Ye,ni),(0,d.Z)(ob,Je,[(ab={},(0,d.Z)(ab,Ye,mn),(0,d.Z)(ab,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),ab)]),ob),(sb={},(0,d.Z)(sb,Ye,nn),(0,d.Z)(sb,Je,[(0,d.Z)({},kt,"UseGlobalEndpoint"),!0]),sb)]),(0,d.Z)(Om,Oe,Ct),(0,d.Z)(Om,bt,[(Tm={},(0,d.Z)(Tm,ft,[(ub={},(0,d.Z)(ub,Ye,mn),(0,d.Z)(ub,Je,[(0,d.Z)({},kt,"Region"),"us-east-1"]),ub)]),(0,d.Z)(Tm,Dt,(Dm={},(0,d.Z)(Dm,an,"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,d.Z)(Dm,on,(0,d.Z)({},Fn,[(gd={},(0,d.Z)(gd,Mn,!0),(0,d.Z)(gd,kn,"sigv4"),(0,d.Z)(gd,Nn,Ln),(0,d.Z)(gd,Zn,"{Region}"),gd)])),(0,d.Z)(Dm,sn,{}),Dm)),(0,d.Z)(Tm,Oe,Dt),Tm),(lb={},(0,d.Z)(lb,Dt,(Im={},(0,d.Z)(Im,an,"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,d.Z)(Im,on,(0,d.Z)({},Fn,[(vd={},(0,d.Z)(vd,Mn,!0),(0,d.Z)(vd,kn,"sigv4"),(0,d.Z)(vd,Nn,Ln),(0,d.Z)(vd,Zn,"{Region}"),vd)])),(0,d.Z)(Im,sn,{}),Im)),(0,d.Z)(lb,Oe,Dt),lb)]),Om),(Mm={},(0,d.Z)(Mm,ft,[(cb={},(0,d.Z)(cb,Ye,nn),(0,d.Z)(cb,Je,[(0,d.Z)({},kt,"UseDualStack"),!1]),cb),jn,(db={},(0,d.Z)(db,Ye,nn),(0,d.Z)(db,Je,[(0,d.Z)({},kt,"UseFIPS"),!1]),db),(fb={},(0,d.Z)(fb,Ye,ni),(0,d.Z)(fb,Je,[(pb={},(0,d.Z)(pb,Ye,mn),(0,d.Z)(pb,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),pb)]),fb),(mb={},(0,d.Z)(mb,Ye,nn),(0,d.Z)(mb,Je,[(0,d.Z)({},kt,"UseGlobalEndpoint"),!1]),mb)]),(0,d.Z)(Mm,Dt,(Fm={},(0,d.Z)(Fm,an,"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,d.Z)(Fm,on,(0,d.Z)({},Fn,[(yd={},(0,d.Z)(yd,Mn,!0),(0,d.Z)(yd,kn,"sigv4"),(0,d.Z)(yd,Nn,Ln),(0,d.Z)(yd,Zn,"{Region}"),yd)])),(0,d.Z)(Fm,sn,{}),Fm)),(0,d.Z)(Mm,Oe,Dt),Mm)]),hb)]),Nm),(gb={},(0,d.Z)(gb,ln,"Path-style addressing cannot be used with S3 Accelerate"),(0,d.Z)(gb,Oe,ln),gb)]),vb)]),Vm),(yb={},(0,d.Z)(yb,ln,"A valid partition could not be determined"),(0,d.Z)(yb,Oe,ln),yb)]),_b)]),Bm),Nr=((0,d.Z)(xb={},Ye,nn),(0,d.Z)(xb,Je,[(0,d.Z)({},kt,"UseDualStack"),!0]),xb),Pi=((0,d.Z)(bb={},Ye,nn),(0,d.Z)(bb,Je,[(0,d.Z)({},kt,"Accelerate"),!1]),bb),Gr=((0,d.Z)(Cb={},Ye,nn),(0,d.Z)(Cb,Je,[(0,d.Z)({},kt,"UseFIPS"),!0]),Cb),xr=((0,d.Z)(Sb={},Ye,ni),(0,d.Z)(Sb,Je,[(wb={},(0,d.Z)(wb,Ye,mn),(0,d.Z)(wb,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),wb)]),Sb),aa=((0,d.Z)(Eb={},Ye,nn),(0,d.Z)(Eb,Je,[(0,d.Z)({},kt,"UseGlobalEndpoint"),!0]),Eb),oa=(0,d.Z)({},Fn,[(_d={},(0,d.Z)(_d,Mn,!0),(0,d.Z)(_d,kn,"sigv4"),(0,d.Z)(_d,Nn,Ln),(0,d.Z)(_d,Zn,"{Region}"),_d)]),sa=((0,d.Z)(Pb={},Ye,nn),(0,d.Z)(Pb,Je,[(0,d.Z)({},kt,"UseGlobalEndpoint"),!1]),Pb),wr=((0,d.Z)(Ab={},Ye,nn),(0,d.Z)(Ab,Je,[(0,d.Z)({},kt,"UseDualStack"),!1]),Ab),ur=((0,d.Z)(kb={},Ye,nn),(0,d.Z)(kb,Je,[(0,d.Z)({},kt,"UseFIPS"),!1]),kb),bl=((0,d.Z)(Rb={},ln,"A valid partition could not be determined"),(0,d.Z)(Rb,Oe,ln),Rb),MP=((0,d.Z)(Zm={},ft,[Gr,(Tb={},(0,d.Z)(Tb,Ye,mn),(0,d.Z)(Tb,Je,[(Db={},(0,d.Z)(Db,Ye,Kr),(0,d.Z)(Db,Je,[(0,d.Z)({},kt,"partitionResult"),kn]),Db),"aws-cn"]),Tb)]),(0,d.Z)(Zm,ln,"Partition does not support FIPS"),(0,d.Z)(Zm,Oe,ln),Zm),m8=((0,d.Z)(Ob={},Ye,mn),(0,d.Z)(Ob,Je,[(Ib={},(0,d.Z)(Ib,Ye,Kr),(0,d.Z)(Ib,Je,[(0,d.Z)({},kt,"partitionResult"),kn]),Ib),"aws-cn"]),Ob),Po=((0,d.Z)(Fb={},Ye,nn),(0,d.Z)(Fb,Je,[(0,d.Z)({},kt,"Accelerate"),!0]),Fb),yT=((0,d.Z)(jm={},ft,[Nr,Gr,Pi,jn,(Mb={},(0,d.Z)(Mb,Ye,mn),(0,d.Z)(Mb,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),Mb)]),(0,d.Z)(jm,Dt,((0,d.Z)(Lm={},an,"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}"),(0,d.Z)(Lm,on,(0,d.Z)({},Fn,[(xd={},(0,d.Z)(xd,Mn,!0),(0,d.Z)(xd,kn,"sigv4"),(0,d.Z)(xd,Nn,Ln),(0,d.Z)(xd,Zn,"us-east-1"),xd)])),(0,d.Z)(Lm,sn,{}),Lm)),(0,d.Z)(jm,Oe,Dt),jm),_T=((0,d.Z)($m={},an,"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}"),(0,d.Z)($m,on,oa),(0,d.Z)($m,sn,{}),$m),xT=((0,d.Z)(zm={},ft,[wr,Gr,Pi,jn,(Nb={},(0,d.Z)(Nb,Ye,mn),(0,d.Z)(Nb,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),Nb)]),(0,d.Z)(zm,Dt,((0,d.Z)(Um={},an,"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}"),(0,d.Z)(Um,on,(0,d.Z)({},Fn,[(bd={},(0,d.Z)(bd,Mn,!0),(0,d.Z)(bd,kn,"sigv4"),(0,d.Z)(bd,Nn,Ln),(0,d.Z)(bd,Zn,"us-east-1"),bd)])),(0,d.Z)(Um,sn,{}),Um)),(0,d.Z)(zm,Oe,Dt),zm),bT=((0,d.Z)(Gm={},an,"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}"),(0,d.Z)(Gm,on,oa),(0,d.Z)(Gm,sn,{}),Gm),CT=((0,d.Z)(qm={},ft,[Nr,ur,Po,jn,(Vb={},(0,d.Z)(Vb,Ye,mn),(0,d.Z)(Vb,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),Vb)]),(0,d.Z)(qm,Dt,((0,d.Z)(Hm={},an,"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}"),(0,d.Z)(Hm,on,(0,d.Z)({},Fn,[(Cd={},(0,d.Z)(Cd,Mn,!0),(0,d.Z)(Cd,kn,"sigv4"),(0,d.Z)(Cd,Nn,Ln),(0,d.Z)(Cd,Zn,"us-east-1"),Cd)])),(0,d.Z)(Hm,sn,{}),Hm)),(0,d.Z)(qm,Oe,Dt),qm),wT=((0,d.Z)(Km={},an,"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}"),(0,d.Z)(Km,on,oa),(0,d.Z)(Km,sn,{}),Km),ST=((0,d.Z)(Xm={},ft,[Nr,ur,Pi,jn,(Bb={},(0,d.Z)(Bb,Ye,mn),(0,d.Z)(Bb,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),Bb)]),(0,d.Z)(Xm,Dt,((0,d.Z)(Wm={},an,"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}"),(0,d.Z)(Wm,on,(0,d.Z)({},Fn,[(wd={},(0,d.Z)(wd,Mn,!0),(0,d.Z)(wd,kn,"sigv4"),(0,d.Z)(wd,Nn,Ln),(0,d.Z)(wd,Zn,"us-east-1"),wd)])),(0,d.Z)(Wm,sn,{}),Wm)),(0,d.Z)(Xm,Oe,Dt),Xm),ET=((0,d.Z)(Qm={},an,"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}"),(0,d.Z)(Qm,on,oa),(0,d.Z)(Qm,sn,{}),Qm),PT=((0,d.Z)(Jm={},ft,[wr,ur,Pi,ir,Tr,(Lb={},(0,d.Z)(Lb,Ye,nn),(0,d.Z)(Lb,Je,[(Zb={},(0,d.Z)(Zb,Ye,Kr),(0,d.Z)(Zb,Je,[(0,d.Z)({},kt,"url"),"isIp"]),Zb),!0]),Lb),(jb={},(0,d.Z)(jb,Ye,mn),(0,d.Z)(jb,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),jb)]),(0,d.Z)(Jm,Dt,((0,d.Z)(Ym={},an,"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}"),(0,d.Z)(Ym,on,(0,d.Z)({},Fn,[(Sd={},(0,d.Z)(Sd,Mn,!0),(0,d.Z)(Sd,kn,"sigv4"),(0,d.Z)(Sd,Nn,Ln),(0,d.Z)(Sd,Zn,"us-east-1"),Sd)])),(0,d.Z)(Ym,sn,{}),Ym)),(0,d.Z)(Jm,Oe,Dt),Jm),AT=((0,d.Z)(Ub={},Ye,nn),(0,d.Z)(Ub,Je,[($b={},(0,d.Z)($b,Ye,Kr),(0,d.Z)($b,Je,[(0,d.Z)({},kt,"url"),"isIp"]),$b),!0]),Ub),NP=(0,d.Z)({},kt,"url"),kT=((0,d.Z)(th={},ft,[wr,ur,Pi,ir,Tr,(Gb={},(0,d.Z)(Gb,Ye,nn),(0,d.Z)(Gb,Je,[(zb={},(0,d.Z)(zb,Ye,Kr),(0,d.Z)(zb,Je,[NP,"isIp"]),zb),!1]),Gb),(Hb={},(0,d.Z)(Hb,Ye,mn),(0,d.Z)(Hb,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),Hb)]),(0,d.Z)(th,Dt,((0,d.Z)(eh={},an,"{url#scheme}://{Bucket}.{url#authority}{url#path}"),(0,d.Z)(eh,on,(0,d.Z)({},Fn,[(Ed={},(0,d.Z)(Ed,Mn,!0),(0,d.Z)(Ed,kn,"sigv4"),(0,d.Z)(Ed,Nn,Ln),(0,d.Z)(Ed,Zn,"us-east-1"),Ed)])),(0,d.Z)(eh,sn,{}),eh)),(0,d.Z)(th,Oe,Dt),th),RT=((0,d.Z)(Kb={},Ye,nn),(0,d.Z)(Kb,Je,[(qb={},(0,d.Z)(qb,Ye,Kr),(0,d.Z)(qb,Je,[NP,"isIp"]),qb),!1]),Kb),VP=((0,d.Z)(nh={},an,"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}"),(0,d.Z)(nh,on,oa),(0,d.Z)(nh,sn,{}),nh),BP=((0,d.Z)(rh={},an,"{url#scheme}://{Bucket}.{url#authority}{url#path}"),(0,d.Z)(rh,on,oa),(0,d.Z)(rh,sn,{}),rh),DT=((0,d.Z)(Wb={},Dt,BP),(0,d.Z)(Wb,Oe,Dt),Wb),TT=((0,d.Z)(ah={},ft,[wr,ur,Po,jn,(Xb={},(0,d.Z)(Xb,Ye,mn),(0,d.Z)(Xb,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),Xb)]),(0,d.Z)(ah,Dt,((0,d.Z)(ih={},an,"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}"),(0,d.Z)(ih,on,(0,d.Z)({},Fn,[(Pd={},(0,d.Z)(Pd,Mn,!0),(0,d.Z)(Pd,kn,"sigv4"),(0,d.Z)(Pd,Nn,Ln),(0,d.Z)(Pd,Zn,"us-east-1"),Pd)])),(0,d.Z)(ih,sn,{}),ih)),(0,d.Z)(ah,Oe,Dt),ah),ZP=((0,d.Z)(oh={},an,"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}"),(0,d.Z)(oh,on,oa),(0,d.Z)(oh,sn,{}),oh),IT=((0,d.Z)(uh={},ft,[wr,ur,Pi,jn,(Qb={},(0,d.Z)(Qb,Ye,mn),(0,d.Z)(Qb,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),Qb)]),(0,d.Z)(uh,Dt,((0,d.Z)(sh={},an,iT),(0,d.Z)(sh,on,(0,d.Z)({},Fn,[(Ad={},(0,d.Z)(Ad,Mn,!0),(0,d.Z)(Ad,kn,"sigv4"),(0,d.Z)(Ad,Nn,Ln),(0,d.Z)(Ad,Zn,"us-east-1"),Ad)])),(0,d.Z)(sh,sn,{}),sh)),(0,d.Z)(uh,Oe,Dt),uh),OT=((0,d.Z)(lh={},an,"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}"),(0,d.Z)(lh,on,oa),(0,d.Z)(lh,sn,{}),lh),eE=((0,d.Z)(Yb={},ln,"Invalid region: region was not a valid DNS name."),(0,d.Z)(Yb,Oe,ln),Yb),Oa=(0,d.Z)({},kt,aT),FT=(0,d.Z)({},kt,oT),LP=((0,d.Z)(Jb={},Ye,Kr),(0,d.Z)(Jb,Je,[Oa,"service"]),Jb),jP=(0,d.Z)({},kt,OP),MT=((0,d.Z)(ch={},ft,[Nr]),(0,d.Z)(ch,ln,"S3 Object Lambda does not support Dual-stack"),(0,d.Z)(ch,Oe,ln),ch),NT=((0,d.Z)(dh={},ft,[Po]),(0,d.Z)(dh,ln,"S3 Object Lambda does not support S3 Accelerate"),(0,d.Z)(dh,Oe,ln),dh),VT=((0,d.Z)(ph={},ft,[(eC={},(0,d.Z)(eC,Ye,Xa),(0,d.Z)(eC,Je,[(0,d.Z)({},kt,"DisableAccessPoints")]),eC),(tC={},(0,d.Z)(tC,Ye,nn),(0,d.Z)(tC,Je,[(0,d.Z)({},kt,"DisableAccessPoints"),!0]),tC)]),(0,d.Z)(ph,ln,"Access points are not supported for this operation"),(0,d.Z)(ph,Oe,ln),ph),$P=((0,d.Z)(fh={},ft,[(nC={},(0,d.Z)(nC,Ye,Xa),(0,d.Z)(nC,Je,[(0,d.Z)({},kt,"UseArnRegion")]),nC),(rC={},(0,d.Z)(rC,Ye,nn),(0,d.Z)(rC,Je,[(0,d.Z)({},kt,"UseArnRegion"),!1]),rC),(oC={},(0,d.Z)(oC,Ye,ni),(0,d.Z)(oC,Je,[(aC={},(0,d.Z)(aC,Ye,mn),(0,d.Z)(aC,Je,[(iC={},(0,d.Z)(iC,Ye,Kr),(0,d.Z)(iC,Je,[Oa,"region"]),iC),"{Region}"]),aC)]),oC)]),(0,d.Z)(fh,ln,"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`"),(0,d.Z)(fh,Oe,ln),fh),UP=((0,d.Z)(sC={},Ye,Kr),(0,d.Z)(sC,Je,[(0,d.Z)({},kt,"bucketPartition"),kn]),sC),BT=((0,d.Z)(uC={},Ye,Kr),(0,d.Z)(uC,Je,[Oa,"accountId"]),uC),ZT=((0,d.Z)(mh={},ft,[Gr,(lC={},(0,d.Z)(lC,Ye,mn),(0,d.Z)(lC,Je,[UP,"aws-cn"]),lC)]),(0,d.Z)(mh,ln,"Partition does not support FIPS"),(0,d.Z)(mh,Oe,ln),mh),zP=(0,d.Z)({},Fn,[(kd={},(0,d.Z)(kd,Mn,!0),(0,d.Z)(kd,kn,"sigv4"),(0,d.Z)(kd,Nn,IP),(0,d.Z)(kd,Zn,"{bucketArn#region}"),kd)]),LT=((0,d.Z)(cC={},ln,"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`"),(0,d.Z)(cC,Oe,ln),cC),GP=((0,d.Z)(dC={},ln,"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`"),(0,d.Z)(dC,Oe,ln),dC),HP=((0,d.Z)(pC={},ln,"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)"),(0,d.Z)(pC,Oe,ln),pC),qP=((0,d.Z)(fC={},ln,"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`"),(0,d.Z)(fC,Oe,ln),fC),jT=((0,d.Z)(mC={},ln,"Could not load partition for ARN region `{bucketArn#region}`"),(0,d.Z)(mC,Oe,ln),mC),$T=((0,d.Z)(hC={},ln,"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`."),(0,d.Z)(hC,Oe,ln),hC),UT=((0,d.Z)(gC={},ln,"Invalid ARN: bucket ARN is missing a region"),(0,d.Z)(gC,Oe,ln),gC),zT=((0,d.Z)(vC={},ln,"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided"),(0,d.Z)(vC,Oe,ln),vC),Uy=(0,d.Z)({},Fn,[(Rd={},(0,d.Z)(Rd,Mn,!0),(0,d.Z)(Rd,kn,"sigv4"),(0,d.Z)(Rd,Nn,Ln),(0,d.Z)(Rd,Zn,"{bucketArn#region}"),Rd)]),GT=(0,d.Z)({},Fn,[(Dd={},(0,d.Z)(Dd,Mn,!0),(0,d.Z)(Dd,kn,"sigv4"),(0,d.Z)(Dd,Nn,DP),(0,d.Z)(Dd,Zn,"{bucketArn#region}"),Dd)]),HT=(0,d.Z)({},kt,"UseObjectLambdaEndpoint"),KP=(0,d.Z)({},Fn,[(Td={},(0,d.Z)(Td,Mn,!0),(0,d.Z)(Td,kn,"sigv4"),(0,d.Z)(Td,Nn,IP),(0,d.Z)(Td,Zn,"{Region}"),Td)]),qT=((0,d.Z)(gh={},ft,[Gr,Nr,ir,Tr,(yC={},(0,d.Z)(yC,Ye,mn),(0,d.Z)(yC,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),yC)]),(0,d.Z)(gh,Dt,((0,d.Z)(hh={},an,xl),(0,d.Z)(hh,on,(0,d.Z)({},Fn,[(Id={},(0,d.Z)(Id,Mn,!0),(0,d.Z)(Id,kn,"sigv4"),(0,d.Z)(Id,Nn,Ln),(0,d.Z)(Id,Zn,"us-east-1"),Id)])),(0,d.Z)(hh,sn,{}),hh)),(0,d.Z)(gh,Oe,Dt),gh),KT=((0,d.Z)(_C={},Dt,((0,d.Z)(vh={},an,xl),(0,d.Z)(vh,on,oa),(0,d.Z)(vh,sn,{}),vh)),(0,d.Z)(_C,Oe,Dt),_C),zy=((0,d.Z)(yh={},an,xl),(0,d.Z)(yh,on,oa),(0,d.Z)(yh,sn,{}),yh),WT=((0,d.Z)(xh={},ft,[Gr,Nr,jn,(xC={},(0,d.Z)(xC,Ye,mn),(0,d.Z)(xC,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),xC)]),(0,d.Z)(xh,Dt,((0,d.Z)(_h={},an,"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}"),(0,d.Z)(_h,on,(0,d.Z)({},Fn,[(Od={},(0,d.Z)(Od,Mn,!0),(0,d.Z)(Od,kn,"sigv4"),(0,d.Z)(Od,Nn,Ln),(0,d.Z)(Od,Zn,"us-east-1"),Od)])),(0,d.Z)(_h,sn,{}),_h)),(0,d.Z)(xh,Oe,Dt),xh),XT=((0,d.Z)(bh={},an,"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}"),(0,d.Z)(bh,on,oa),(0,d.Z)(bh,sn,{}),bh),QT=((0,d.Z)(wh={},ft,[Gr,wr,ir,Tr,(bC={},(0,d.Z)(bC,Ye,mn),(0,d.Z)(bC,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),bC)]),(0,d.Z)(wh,Dt,((0,d.Z)(Ch={},an,xl),(0,d.Z)(Ch,on,(0,d.Z)({},Fn,[(Fd={},(0,d.Z)(Fd,Mn,!0),(0,d.Z)(Fd,kn,"sigv4"),(0,d.Z)(Fd,Nn,Ln),(0,d.Z)(Fd,Zn,"us-east-1"),Fd)])),(0,d.Z)(Ch,sn,{}),Ch)),(0,d.Z)(wh,Oe,Dt),wh),YT=((0,d.Z)(Eh={},ft,[Gr,wr,jn,(CC={},(0,d.Z)(CC,Ye,mn),(0,d.Z)(CC,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),CC)]),(0,d.Z)(Eh,Dt,((0,d.Z)(Sh={},an,"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}"),(0,d.Z)(Sh,on,(0,d.Z)({},Fn,[(Md={},(0,d.Z)(Md,Mn,!0),(0,d.Z)(Md,kn,"sigv4"),(0,d.Z)(Md,Nn,Ln),(0,d.Z)(Md,Zn,"us-east-1"),Md)])),(0,d.Z)(Sh,sn,{}),Sh)),(0,d.Z)(Eh,Oe,Dt),Eh),JT=((0,d.Z)(Ph={},an,"https://s3-fips.{Region}.{partitionResult#dnsSuffix}"),(0,d.Z)(Ph,on,oa),(0,d.Z)(Ph,sn,{}),Ph),e3=((0,d.Z)(kh={},ft,[ur,Nr,ir,Tr,(wC={},(0,d.Z)(wC,Ye,mn),(0,d.Z)(wC,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),wC)]),(0,d.Z)(kh,Dt,((0,d.Z)(Ah={},an,xl),(0,d.Z)(Ah,on,(0,d.Z)({},Fn,[(Nd={},(0,d.Z)(Nd,Mn,!0),(0,d.Z)(Nd,kn,"sigv4"),(0,d.Z)(Nd,Nn,Ln),(0,d.Z)(Nd,Zn,"us-east-1"),Nd)])),(0,d.Z)(Ah,sn,{}),Ah)),(0,d.Z)(kh,Oe,Dt),kh),t3=((0,d.Z)(Dh={},ft,[ur,Nr,jn,(SC={},(0,d.Z)(SC,Ye,mn),(0,d.Z)(SC,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),SC)]),(0,d.Z)(Dh,Dt,((0,d.Z)(Rh={},an,"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}"),(0,d.Z)(Rh,on,(0,d.Z)({},Fn,[(Vd={},(0,d.Z)(Vd,Mn,!0),(0,d.Z)(Vd,kn,"sigv4"),(0,d.Z)(Vd,Nn,Ln),(0,d.Z)(Vd,Zn,"us-east-1"),Vd)])),(0,d.Z)(Rh,sn,{}),Rh)),(0,d.Z)(Dh,Oe,Dt),Dh),n3=((0,d.Z)(Th={},an,"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}"),(0,d.Z)(Th,on,oa),(0,d.Z)(Th,sn,{}),Th),r3=((0,d.Z)(Oh={},ft,[ur,wr,ir,Tr,(EC={},(0,d.Z)(EC,Ye,mn),(0,d.Z)(EC,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),EC)]),(0,d.Z)(Oh,Dt,((0,d.Z)(Ih={},an,xl),(0,d.Z)(Ih,on,(0,d.Z)({},Fn,[(Bd={},(0,d.Z)(Bd,Mn,!0),(0,d.Z)(Bd,kn,"sigv4"),(0,d.Z)(Bd,Nn,Ln),(0,d.Z)(Bd,Zn,"us-east-1"),Bd)])),(0,d.Z)(Ih,sn,{}),Ih)),(0,d.Z)(Oh,Oe,Dt),Oh),a3=((0,d.Z)(Mh={},ft,[ur,wr,jn,(PC={},(0,d.Z)(PC,Ye,mn),(0,d.Z)(PC,Je,[(0,d.Z)({},kt,"Region"),"aws-global"]),PC)]),(0,d.Z)(Mh,Dt,((0,d.Z)(Fh={},an,pT),(0,d.Z)(Fh,on,(0,d.Z)({},Fn,[(Zd={},(0,d.Z)(Zd,Mn,!0),(0,d.Z)(Zd,kn,"sigv4"),(0,d.Z)(Zd,Nn,Ln),(0,d.Z)(Zd,Zn,"us-east-1"),Zd)])),(0,d.Z)(Fh,sn,{}),Fh)),(0,d.Z)(Mh,Oe,Dt),Mh),o3=((0,d.Z)(Nh={},an,"https://s3.{Region}.{partitionResult#dnsSuffix}"),(0,d.Z)(Nh,on,oa),(0,d.Z)(Nh,sn,{}),Nh),tE=[(0,d.Z)({},kt,"Region")],h8=[ts],s3=[(AC={},(0,d.Z)(AC,Ye,_l),(0,d.Z)(AC,Je,[(0,d.Z)({},kt,RP),!1]),AC)],u3=[(kC={},(0,d.Z)(kC,Ye,mn),(0,d.Z)(kC,Je,[(0,d.Z)({},kt,JD),"beta"]),kC)],g8=[(0,d.Z)({},kt,"Endpoint")],Gy=[ir,Tr],l3=[fT],c3=[(RC={},(0,d.Z)(RC,Ye,nT),(0,d.Z)(RC,Je,[ts]),RC)],v8=[Nr,ir],Cl=[(Vh={},(0,d.Z)(Vh,Ye,jy),(0,d.Z)(Vh,Je,tE),(0,d.Z)(Vh,Ii,"partitionResult"),Vh)],jd=[(DC={},(0,d.Z)(DC,Ye,mn),(0,d.Z)(DC,Je,[(0,d.Z)({},kt,"Region"),"us-east-1"]),DC)],d3=[(TC={},(0,d.Z)(TC,Ye,_l),(0,d.Z)(TC,Je,[(0,d.Z)({},kt,"Region"),!1]),TC)],WP=[(IC={},(0,d.Z)(IC,Ye,mn),(0,d.Z)(IC,Je,[FT,sT]),IC)],p3=[(Bh={},(0,d.Z)(Bh,Ye,Kr),(0,d.Z)(Bh,Je,[Oa,"resourceId[1]"]),(0,d.Z)(Bh,Ii,OP),Bh),(FC={},(0,d.Z)(FC,Ye,ni),(0,d.Z)(FC,Je,[(OC={},(0,d.Z)(OC,Ye,mn),(0,d.Z)(OC,Je,[jP,""]),OC)]),FC)],y8=[Oa,"resourceId[1]"],f3=[Nr],XP=[Po],QP=[(VC={},(0,d.Z)(VC,Ye,ni),(0,d.Z)(VC,Je,[(NC={},(0,d.Z)(NC,Ye,mn),(0,d.Z)(NC,Je,[(MC={},(0,d.Z)(MC,Ye,Kr),(0,d.Z)(MC,Je,[Oa,"region"]),MC),""]),NC)]),VC)],m3=[(LC={},(0,d.Z)(LC,Ye,ni),(0,d.Z)(LC,Je,[(ZC={},(0,d.Z)(ZC,Ye,Xa),(0,d.Z)(ZC,Je,[(BC={},(0,d.Z)(BC,Ye,Kr),(0,d.Z)(BC,Je,[Oa,"resourceId[2]"]),BC)]),ZC)]),LC)],_8=[Oa,"resourceId[2]"],YP=[(Zh={},(0,d.Z)(Zh,Ye,jy),(0,d.Z)(Zh,Je,[(jC={},(0,d.Z)(jC,Ye,Kr),(0,d.Z)(jC,Je,[Oa,"region"]),jC)]),(0,d.Z)(Zh,Ii,"bucketPartition"),Zh)],h3=[(UC={},(0,d.Z)(UC,Ye,mn),(0,d.Z)(UC,Je,[UP,($C={},(0,d.Z)($C,Ye,Kr),(0,d.Z)($C,Je,[(0,d.Z)({},kt,"partitionResult"),kn]),$C)]),UC)],JP=[(GC={},(0,d.Z)(GC,Ye,_l),(0,d.Z)(GC,Je,[(zC={},(0,d.Z)(zC,Ye,Kr),(0,d.Z)(zC,Je,[Oa,"region"]),zC),!0]),GC)],eA=[(HC={},(0,d.Z)(HC,Ye,_l),(0,d.Z)(HC,Je,[BT,!1]),HC)],g3=[(qC={},(0,d.Z)(qC,Ye,_l),(0,d.Z)(qC,Je,[jP,!1]),qC)],nE=[Gr],v3=[(KC={},(0,d.Z)(KC,Ye,_l),(0,d.Z)(KC,Je,[(0,d.Z)({},kt,"Region"),!0]),KC)],tA=[KT],b8=(0,d.Z)({version:"1.0",parameters:{Bucket:FP,Region:FP,UseFIPS:$y,UseDualStack:$y,Endpoint:FP,ForcePathStyle:YS,Accelerate:$y,UseGlobalEndpoint:$y,UseObjectLambdaEndpoint:YS,DisableAccessPoints:YS,DisableMultiRegionAccessPoints:$y,UseArnRegion:YS}},bt,[(XS={},(0,d.Z)(XS,Oe,Ct),(0,d.Z)(XS,bt,[(Zy={},(0,d.Z)(Zy,ft,[(WC={},(0,d.Z)(WC,Ye,Xa),(0,d.Z)(WC,Je,tE),WC)]),(0,d.Z)(Zy,Oe,Ct),(0,d.Z)(Zy,bt,[(WS={},(0,d.Z)(WS,Oe,Ct),(0,d.Z)(WS,bt,[(ng={},(0,d.Z)(ng,ft,[fT,(Lh={},(0,d.Z)(Lh,Ye,Ly),(0,d.Z)(Lh,Je,[ts,49,50,es]),(0,d.Z)(Lh,Ii,YD),Lh),(jh={},(0,d.Z)(jh,Ye,Ly),(0,d.Z)(jh,Je,[ts,8,12,es]),(0,d.Z)(jh,Ii,JD),jh),($h={},(0,d.Z)($h,Ye,Ly),(0,d.Z)($h,Je,[ts,0,7,es]),(0,d.Z)($h,Ii,eT),$h),(Uh={},(0,d.Z)(Uh,Ye,Ly),(0,d.Z)(Uh,Je,[ts,32,49,es]),(0,d.Z)(Uh,Ii,RP),Uh),(zh={},(0,d.Z)(zh,Ye,jy),(0,d.Z)(zh,Je,tE),(0,d.Z)(zh,Ii,"regionPartition"),zh),(XC={},(0,d.Z)(XC,Ye,mn),(0,d.Z)(XC,Je,[(0,d.Z)({},kt,eT),"--op-s3"]),XC)]),(0,d.Z)(ng,Oe,Ct),(0,d.Z)(ng,bt,[(tg={},(0,d.Z)(tg,ft,s3),(0,d.Z)(tg,Oe,Ct),(0,d.Z)(tg,bt,[(JC={},(0,d.Z)(JC,Oe,Ct),(0,d.Z)(JC,bt,[(Wh={},(0,d.Z)(Wh,ft,[(QC={},(0,d.Z)(QC,Ye,mn),(0,d.Z)(QC,Je,[mT,"e"]),QC)]),(0,d.Z)(Wh,Oe,Ct),(0,d.Z)(Wh,bt,[(qh={},(0,d.Z)(qh,ft,u3),(0,d.Z)(qh,Oe,Ct),(0,d.Z)(qh,bt,[hT,(Hh={},(0,d.Z)(Hh,ft,Gy),(0,d.Z)(Hh,"endpoint",(Gh={},(0,d.Z)(Gh,an,"https://{Bucket}.ec2.{url#authority}"),(0,d.Z)(Gh,on,JS),(0,d.Z)(Gh,sn,xi),Gh)),(0,d.Z)(Hh,Oe,Dt),Hh)]),qh),(0,d.Z)({endpoint:(Kh={},(0,d.Z)(Kh,an,"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}"),(0,d.Z)(Kh,on,JS),(0,d.Z)(Kh,sn,xi),Kh)},Oe,Dt)]),Wh),(eg={},(0,d.Z)(eg,ft,[(YC={},(0,d.Z)(YC,Ye,mn),(0,d.Z)(YC,Je,[mT,"o"]),YC)]),(0,d.Z)(eg,Oe,Ct),(0,d.Z)(eg,bt,[(Yh={},(0,d.Z)(Yh,ft,u3),(0,d.Z)(Yh,Oe,Ct),(0,d.Z)(Yh,bt,[hT,(Qh={},(0,d.Z)(Qh,ft,Gy),(0,d.Z)(Qh,"endpoint",(Xh={},(0,d.Z)(Xh,an,"https://{Bucket}.op-{outpostId}.{url#authority}"),(0,d.Z)(Xh,on,JS),(0,d.Z)(Xh,sn,xi),Xh)),(0,d.Z)(Qh,Oe,Dt),Qh)]),Yh),(0,d.Z)({endpoint:(Jh={},(0,d.Z)(Jh,an,"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}"),(0,d.Z)(Jh,on,JS),(0,d.Z)(Jh,sn,xi),Jh)},Oe,Dt)]),eg),(0,d.Z)({error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"'},Oe,ln)]),JC)]),tg),(0,d.Z)({error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`."},Oe,ln)]),ng),(uy={},(0,d.Z)(uy,ft,l3),(0,d.Z)(uy,Oe,Ct),(0,d.Z)(uy,bt,[(rg={},(0,d.Z)(rg,ft,[ir,(nw={},(0,d.Z)(nw,Ye,ni),(0,d.Z)(nw,Je,[(tw={},(0,d.Z)(tw,Ye,Xa),(0,d.Z)(tw,Je,[(ew={},(0,d.Z)(ew,Ye,tT),(0,d.Z)(ew,Je,g8),ew)]),tw)]),nw)]),(0,d.Z)(rg,"error","Custom endpoint `{Endpoint}` was not a valid URI"),(0,d.Z)(rg,Oe,ln),rg),(VS={},(0,d.Z)(VS,Oe,Ct),(0,d.Z)(VS,bt,[(ag={},(0,d.Z)(ag,ft,[(rw={},(0,d.Z)(rw,Ye,Xa),(0,d.Z)(rw,Je,[gT]),rw),(iw={},(0,d.Z)(iw,Ye,nn),(0,d.Z)(iw,Je,[gT,es]),iw)]),(0,d.Z)(ag,Oe,Ct),(0,d.Z)(ag,bt,[(aw={},(0,d.Z)(aw,Oe,Ct),(0,d.Z)(aw,bt,[(ig={},(0,d.Z)(ig,ft,c3),(0,d.Z)(ig,"error","Path-style addressing cannot be used with ARN buckets"),(0,d.Z)(ig,Oe,ln),ig),vT]),aw)]),ag),(Fg={},(0,d.Z)(Fg,ft,[(ow={},(0,d.Z)(ow,Ye,rT),(0,d.Z)(ow,Je,[ts,!1]),ow)]),(0,d.Z)(Fg,Oe,Ct),(0,d.Z)(Fg,bt,[(Og={},(0,d.Z)(Og,ft,Cl),(0,d.Z)(Og,Oe,Ct),(0,d.Z)(Og,bt,[(mw={},(0,d.Z)(mw,Oe,Ct),(0,d.Z)(mw,bt,[(Ig={},(0,d.Z)(Ig,ft,d3),(0,d.Z)(Ig,Oe,Ct),(0,d.Z)(Ig,bt,[(fw={},(0,d.Z)(fw,Oe,Ct),(0,d.Z)(fw,bt,[MP,(pw={},(0,d.Z)(pw,Oe,Ct),(0,d.Z)(pw,bt,[(og={},(0,d.Z)(og,ft,[Po,Gr]),(0,d.Z)(og,"error","Accelerate cannot be used with FIPS"),(0,d.Z)(og,Oe,ln),og),(dw={},(0,d.Z)(dw,Oe,Ct),(0,d.Z)(dw,bt,[(sg={},(0,d.Z)(sg,ft,[Po,m8]),(0,d.Z)(sg,"error","S3 Accelerate cannot be used in this region"),(0,d.Z)(sg,Oe,ln),sg),(cw={},(0,d.Z)(cw,Oe,Ct),(0,d.Z)(cw,bt,[(ug={},(0,d.Z)(ug,ft,[ir,Nr]),(0,d.Z)(ug,"error",TP),(0,d.Z)(ug,Oe,ln),ug),(lw={},(0,d.Z)(lw,Oe,Ct),(0,d.Z)(lw,bt,[(lg={},(0,d.Z)(lg,ft,[ir,Gr]),(0,d.Z)(lg,"error",TP),(0,d.Z)(lg,Oe,ln),lg),(uw={},(0,d.Z)(uw,Oe,Ct),(0,d.Z)(uw,bt,[(cg={},(0,d.Z)(cg,ft,[ir,Po]),(0,d.Z)(cg,"error",TP),(0,d.Z)(cg,Oe,ln),cg),(sw={},(0,d.Z)(sw,Oe,Ct),(0,d.Z)(sw,bt,[yT,yT,(dg={},(0,d.Z)(dg,ft,[Nr,Gr,Pi,jn,xr,aa]),(0,d.Z)(dg,Oe,Ct),(0,d.Z)(dg,bt,[(0,d.Z)({endpoint:_T},Oe,Dt)]),dg),(pg={},(0,d.Z)(pg,ft,[Nr,Gr,Pi,jn,xr,sa]),(0,d.Z)(pg,"endpoint",_T),(0,d.Z)(pg,Oe,Dt),pg),xT,xT,(fg={},(0,d.Z)(fg,ft,[wr,Gr,Pi,jn,xr,aa]),(0,d.Z)(fg,Oe,Ct),(0,d.Z)(fg,bt,[(0,d.Z)({endpoint:bT},Oe,Dt)]),fg),(mg={},(0,d.Z)(mg,ft,[wr,Gr,Pi,jn,xr,sa]),(0,d.Z)(mg,"endpoint",bT),(0,d.Z)(mg,Oe,Dt),mg),CT,CT,(hg={},(0,d.Z)(hg,ft,[Nr,ur,Po,jn,xr,aa]),(0,d.Z)(hg,Oe,Ct),(0,d.Z)(hg,bt,[(0,d.Z)({endpoint:wT},Oe,Dt)]),hg),(gg={},(0,d.Z)(gg,ft,[Nr,ur,Po,jn,xr,sa]),(0,d.Z)(gg,"endpoint",wT),(0,d.Z)(gg,Oe,Dt),gg),ST,ST,(vg={},(0,d.Z)(vg,ft,[Nr,ur,Pi,jn,xr,aa]),(0,d.Z)(vg,Oe,Ct),(0,d.Z)(vg,bt,[(0,d.Z)({endpoint:ET},Oe,Dt)]),vg),(yg={},(0,d.Z)(yg,ft,[Nr,ur,Pi,jn,xr,sa]),(0,d.Z)(yg,"endpoint",ET),(0,d.Z)(yg,Oe,Dt),yg),PT,kT,PT,kT,(xg={},(0,d.Z)(xg,ft,[wr,ur,Pi,ir,Tr,AT,xr,aa]),(0,d.Z)(xg,Oe,Ct),(0,d.Z)(xg,bt,[(_g={},(0,d.Z)(_g,ft,jd),(0,d.Z)(_g,"endpoint",VP),(0,d.Z)(_g,Oe,Dt),_g),(0,d.Z)({endpoint:VP},Oe,Dt)]),xg),(Cg={},(0,d.Z)(Cg,ft,[wr,ur,Pi,ir,Tr,RT,xr,aa]),(0,d.Z)(Cg,Oe,Ct),(0,d.Z)(Cg,bt,[(bg={},(0,d.Z)(bg,ft,jd),(0,d.Z)(bg,"endpoint",BP),(0,d.Z)(bg,Oe,Dt),bg),DT]),Cg),(wg={},(0,d.Z)(wg,ft,[wr,ur,Pi,ir,Tr,AT,xr,sa]),(0,d.Z)(wg,"endpoint",VP),(0,d.Z)(wg,Oe,Dt),wg),(Sg={},(0,d.Z)(Sg,ft,[wr,ur,Pi,ir,Tr,RT,xr,sa]),(0,d.Z)(Sg,"endpoint",BP),(0,d.Z)(Sg,Oe,Dt),Sg),TT,TT,(Pg={},(0,d.Z)(Pg,ft,[wr,ur,Po,jn,xr,aa]),(0,d.Z)(Pg,Oe,Ct),(0,d.Z)(Pg,bt,[(Eg={},(0,d.Z)(Eg,ft,jd),(0,d.Z)(Eg,"endpoint",ZP),(0,d.Z)(Eg,Oe,Dt),Eg),(0,d.Z)({endpoint:ZP},Oe,Dt)]),Pg),(Ag={},(0,d.Z)(Ag,ft,[wr,ur,Po,jn,xr,sa]),(0,d.Z)(Ag,"endpoint",ZP),(0,d.Z)(Ag,Oe,Dt),Ag),IT,IT,(Dg={},(0,d.Z)(Dg,ft,[wr,ur,Pi,jn,xr,aa]),(0,d.Z)(Dg,Oe,Ct),(0,d.Z)(Dg,bt,[(Rg={},(0,d.Z)(Rg,ft,jd),(0,d.Z)(Rg,"endpoint",(kg={},(0,d.Z)(kg,an,iT),(0,d.Z)(kg,on,oa),(0,d.Z)(kg,sn,xi),kg)),(0,d.Z)(Rg,Oe,Dt),Rg),(0,d.Z)({endpoint:OT},Oe,Dt)]),Dg),(Tg={},(0,d.Z)(Tg,ft,[wr,ur,Pi,jn,xr,sa]),(0,d.Z)(Tg,"endpoint",OT),(0,d.Z)(Tg,Oe,Dt),Tg)]),sw)]),uw)]),lw)]),cw)]),dw)]),pw)]),fw)]),Ig),eE]),mw)]),Og),bl]),Fg),(Vg={},(0,d.Z)(Vg,ft,[ir,Tr,(gw={},(0,d.Z)(gw,Ye,mn),(0,d.Z)(gw,Je,[(hw={},(0,d.Z)(hw,Ye,Kr),(0,d.Z)(hw,Je,[NP,"scheme"]),hw),"http"]),gw),(vw={},(0,d.Z)(vw,Ye,rT),(0,d.Z)(vw,Je,[ts,es]),vw),ur,wr,Pi]),(0,d.Z)(Vg,Oe,Ct),(0,d.Z)(Vg,bt,[(Ng={},(0,d.Z)(Ng,ft,Cl),(0,d.Z)(Ng,Oe,Ct),(0,d.Z)(Ng,bt,[(yw={},(0,d.Z)(yw,Oe,Ct),(0,d.Z)(yw,bt,[(Mg={},(0,d.Z)(Mg,ft,d3),(0,d.Z)(Mg,Oe,Ct),(0,d.Z)(Mg,bt,[DT]),Mg),eE]),yw)]),Ng),bl]),Vg),(ay={},(0,d.Z)(ay,ft,[(Bg={},(0,d.Z)(Bg,Ye,nT),(0,d.Z)(Bg,Je,h8),(0,d.Z)(Bg,Ii,aT),Bg)]),(0,d.Z)(ay,Oe,Ct),(0,d.Z)(ay,bt,[(iy={},(0,d.Z)(iy,ft,[(Zg={},(0,d.Z)(Zg,Ye,Kr),(0,d.Z)(Zg,Je,[Oa,"resourceId[0]"]),(0,d.Z)(Zg,Ii,oT),Zg),(xw={},(0,d.Z)(xw,Ye,ni),(0,d.Z)(xw,Je,[(_w={},(0,d.Z)(_w,Ye,mn),(0,d.Z)(_w,Je,[FT,""]),_w)]),xw)]),(0,d.Z)(iy,Oe,Ct),(0,d.Z)(iy,bt,[(OS={},(0,d.Z)(OS,Oe,Ct),(0,d.Z)(OS,bt,[(nv={},(0,d.Z)(nv,ft,[(bw={},(0,d.Z)(bw,Ye,mn),(0,d.Z)(bw,Je,[LP,IP]),bw)]),(0,d.Z)(nv,Oe,Ct),(0,d.Z)(nv,bt,[(tv={},(0,d.Z)(tv,ft,WP),(0,d.Z)(tv,Oe,Ct),(0,d.Z)(tv,bt,[(Bw={},(0,d.Z)(Bw,Oe,Ct),(0,d.Z)(Bw,bt,[(ev={},(0,d.Z)(ev,ft,p3),(0,d.Z)(ev,Oe,Ct),(0,d.Z)(ev,bt,[(Vw={},(0,d.Z)(Vw,Oe,Ct),(0,d.Z)(Vw,bt,[MT,(Nw={},(0,d.Z)(Nw,Oe,Ct),(0,d.Z)(Nw,bt,[NT,(Mw={},(0,d.Z)(Mw,Oe,Ct),(0,d.Z)(Mw,bt,[(Jg={},(0,d.Z)(Jg,ft,QP),(0,d.Z)(Jg,Oe,Ct),(0,d.Z)(Jg,bt,[(Fw={},(0,d.Z)(Fw,Oe,Ct),(0,d.Z)(Fw,bt,[VT,(Ow={},(0,d.Z)(Ow,Oe,Ct),(0,d.Z)(Ow,bt,[(Yg={},(0,d.Z)(Yg,ft,m3),(0,d.Z)(Yg,Oe,Ct),(0,d.Z)(Yg,bt,[(Iw={},(0,d.Z)(Iw,Oe,Ct),(0,d.Z)(Iw,bt,[$P,(Tw={},(0,d.Z)(Tw,Oe,Ct),(0,d.Z)(Tw,bt,[(Qg={},(0,d.Z)(Qg,ft,YP),(0,d.Z)(Qg,Oe,Ct),(0,d.Z)(Qg,bt,[(Dw={},(0,d.Z)(Dw,Oe,Ct),(0,d.Z)(Dw,bt,[(Xg={},(0,d.Z)(Xg,ft,Cl),(0,d.Z)(Xg,Oe,Ct),(0,d.Z)(Xg,bt,[(Rw={},(0,d.Z)(Rw,Oe,Ct),(0,d.Z)(Rw,bt,[(Wg={},(0,d.Z)(Wg,ft,h3),(0,d.Z)(Wg,Oe,Ct),(0,d.Z)(Wg,bt,[(kw={},(0,d.Z)(kw,Oe,Ct),(0,d.Z)(kw,bt,[(Kg={},(0,d.Z)(Kg,ft,JP),(0,d.Z)(Kg,Oe,Ct),(0,d.Z)(Kg,bt,[(Aw={},(0,d.Z)(Aw,Oe,Ct),(0,d.Z)(Aw,bt,[(Lg={},(0,d.Z)(Lg,ft,[(Cw={},(0,d.Z)(Cw,Ye,mn),(0,d.Z)(Cw,Je,[BT,""]),Cw)]),(0,d.Z)(Lg,"error","Invalid ARN: Missing account id"),(0,d.Z)(Lg,Oe,ln),Lg),(Pw={},(0,d.Z)(Pw,Oe,Ct),(0,d.Z)(Pw,bt,[(qg={},(0,d.Z)(qg,ft,eA),(0,d.Z)(qg,Oe,Ct),(0,d.Z)(qg,bt,[(Ew={},(0,d.Z)(Ew,Oe,Ct),(0,d.Z)(Ew,bt,[(Hg={},(0,d.Z)(Hg,ft,g3),(0,d.Z)(Hg,Oe,Ct),(0,d.Z)(Hg,bt,[(Sw={},(0,d.Z)(Sw,Oe,Ct),(0,d.Z)(Sw,bt,[ZT,(ww={},(0,d.Z)(ww,Oe,Ct),(0,d.Z)(ww,bt,[($g={},(0,d.Z)($g,ft,Gy),(0,d.Z)($g,"endpoint",(jg={},(0,d.Z)(jg,an,uT),(0,d.Z)(jg,on,zP),(0,d.Z)(jg,sn,xi),jg)),(0,d.Z)($g,Oe,Dt),$g),(zg={},(0,d.Z)(zg,ft,nE),(0,d.Z)(zg,"endpoint",(Ug={},(0,d.Z)(Ug,an,"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}"),(0,d.Z)(Ug,on,zP),(0,d.Z)(Ug,sn,xi),Ug)),(0,d.Z)(zg,Oe,Dt),zg),(0,d.Z)({endpoint:(Gg={},(0,d.Z)(Gg,an,"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}"),(0,d.Z)(Gg,on,zP),(0,d.Z)(Gg,sn,xi),Gg)},Oe,Dt)]),ww)]),Sw)]),Hg),LT]),Ew)]),qg),GP]),Pw)]),Aw)]),Kg),HP]),kw)]),Wg),qP]),Rw)]),Xg),bl]),Dw)]),Qg),jT]),Tw)]),Iw)]),Yg),$T]),Ow)]),Fw)]),Jg),UT]),Mw)]),Nw)]),Vw)]),ev),zT]),Bw)]),tv),(0,d.Z)({error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`"},Oe,ln)]),nv),(Nv={},(0,d.Z)(Nv,ft,WP),(0,d.Z)(Nv,Oe,Ct),(0,d.Z)(Nv,bt,[(Mv={},(0,d.Z)(Mv,ft,p3),(0,d.Z)(Mv,Oe,Ct),(0,d.Z)(Mv,bt,[(fS={},(0,d.Z)(fS,Oe,Ct),(0,d.Z)(fS,bt,[(Ev={},(0,d.Z)(Ev,ft,QP),(0,d.Z)(Ev,Oe,Ct),(0,d.Z)(Ev,bt,[(Sv={},(0,d.Z)(Sv,ft,WP),(0,d.Z)(Sv,Oe,Ct),(0,d.Z)(Sv,bt,[(wv={},(0,d.Z)(wv,ft,QP),(0,d.Z)(wv,Oe,Ct),(0,d.Z)(wv,bt,[(eS={},(0,d.Z)(eS,Oe,Ct),(0,d.Z)(eS,bt,[VT,(Jw={},(0,d.Z)(Jw,Oe,Ct),(0,d.Z)(Jw,bt,[(Cv={},(0,d.Z)(Cv,ft,m3),(0,d.Z)(Cv,Oe,Ct),(0,d.Z)(Cv,bt,[(Yw={},(0,d.Z)(Yw,Oe,Ct),(0,d.Z)(Yw,bt,[$P,(Qw={},(0,d.Z)(Qw,Oe,Ct),(0,d.Z)(Qw,bt,[(bv={},(0,d.Z)(bv,ft,YP),(0,d.Z)(bv,Oe,Ct),(0,d.Z)(bv,bt,[(Xw={},(0,d.Z)(Xw,Oe,Ct),(0,d.Z)(Xw,bt,[(xv={},(0,d.Z)(xv,ft,Cl),(0,d.Z)(xv,Oe,Ct),(0,d.Z)(xv,bt,[(Ww={},(0,d.Z)(Ww,Oe,Ct),(0,d.Z)(Ww,bt,[(_v={},(0,d.Z)(_v,ft,[(Zw={},(0,d.Z)(Zw,Ye,mn),(0,d.Z)(Zw,Je,[UP,"{partitionResult#name}"]),Zw)]),(0,d.Z)(_v,Oe,Ct),(0,d.Z)(_v,bt,[(Kw={},(0,d.Z)(Kw,Oe,Ct),(0,d.Z)(Kw,bt,[(yv={},(0,d.Z)(yv,ft,JP),(0,d.Z)(yv,Oe,Ct),(0,d.Z)(yv,bt,[(qw={},(0,d.Z)(qw,Oe,Ct),(0,d.Z)(qw,bt,[(vv={},(0,d.Z)(vv,ft,[(Lw={},(0,d.Z)(Lw,Ye,mn),(0,d.Z)(Lw,Je,[LP,Ln]),Lw)]),(0,d.Z)(vv,Oe,Ct),(0,d.Z)(vv,bt,[(Hw={},(0,d.Z)(Hw,Oe,Ct),(0,d.Z)(Hw,bt,[(gv={},(0,d.Z)(gv,ft,eA),(0,d.Z)(gv,Oe,Ct),(0,d.Z)(gv,bt,[(Gw={},(0,d.Z)(Gw,Oe,Ct),(0,d.Z)(Gw,bt,[(hv={},(0,d.Z)(hv,ft,g3),(0,d.Z)(hv,Oe,Ct),(0,d.Z)(hv,bt,[(zw={},(0,d.Z)(zw,Oe,Ct),(0,d.Z)(zw,bt,[(rv={},(0,d.Z)(rv,ft,XP),(0,d.Z)(rv,"error","Access Points do not support S3 Accelerate"),(0,d.Z)(rv,Oe,ln),rv),(Uw={},(0,d.Z)(Uw,Oe,Ct),(0,d.Z)(Uw,bt,[ZT,($w={},(0,d.Z)($w,Oe,Ct),(0,d.Z)($w,bt,[(iv={},(0,d.Z)(iv,ft,v8),(0,d.Z)(iv,"error","DualStack cannot be combined with a Host override (PrivateLink)"),(0,d.Z)(iv,Oe,ln),iv),(jw={},(0,d.Z)(jw,Oe,Ct),(0,d.Z)(jw,bt,[(ov={},(0,d.Z)(ov,ft,[Gr,Nr]),(0,d.Z)(ov,"endpoint",(av={},(0,d.Z)(av,an,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}"),(0,d.Z)(av,on,Uy),(0,d.Z)(av,sn,xi),av)),(0,d.Z)(ov,Oe,Dt),ov),(uv={},(0,d.Z)(uv,ft,[Gr,wr]),(0,d.Z)(uv,"endpoint",(sv={},(0,d.Z)(sv,an,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}"),(0,d.Z)(sv,on,Uy),(0,d.Z)(sv,sn,xi),sv)),(0,d.Z)(uv,Oe,Dt),uv),(cv={},(0,d.Z)(cv,ft,[ur,Nr]),(0,d.Z)(cv,"endpoint",(lv={},(0,d.Z)(lv,an,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}"),(0,d.Z)(lv,on,Uy),(0,d.Z)(lv,sn,xi),lv)),(0,d.Z)(cv,Oe,Dt),cv),(pv={},(0,d.Z)(pv,ft,[ur,wr,ir,Tr]),(0,d.Z)(pv,"endpoint",(dv={},(0,d.Z)(dv,an,uT),(0,d.Z)(dv,on,Uy),(0,d.Z)(dv,sn,xi),dv)),(0,d.Z)(pv,Oe,Dt),pv),(mv={},(0,d.Z)(mv,ft,[ur,wr]),(0,d.Z)(mv,"endpoint",(fv={},(0,d.Z)(fv,an,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}"),(0,d.Z)(fv,on,Uy),(0,d.Z)(fv,sn,xi),fv)),(0,d.Z)(mv,Oe,Dt),mv)]),jw)]),$w)]),Uw)]),zw)]),hv),LT]),Gw)]),gv),GP]),Hw)]),vv),(0,d.Z)({error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}"},Oe,ln)]),qw)]),yv),HP]),Kw)]),_v),qP]),Ww)]),xv),bl]),Xw)]),bv),jT]),Qw)]),Yw)]),Cv),$T]),Jw)]),eS)]),wv),UT]),Sv)]),Ev),(pS={},(0,d.Z)(pS,Oe,Ct),(0,d.Z)(pS,bt,[(Fv={},(0,d.Z)(Fv,ft,[(tS={},(0,d.Z)(tS,Ye,_l),(0,d.Z)(tS,Je,[jP,es]),tS)]),(0,d.Z)(Fv,Oe,Ct),(0,d.Z)(Fv,bt,[(dS={},(0,d.Z)(dS,Oe,Ct),(0,d.Z)(dS,bt,[(Pv={},(0,d.Z)(Pv,ft,f3),(0,d.Z)(Pv,"error","S3 MRAP does not support dual-stack"),(0,d.Z)(Pv,Oe,ln),Pv),(cS={},(0,d.Z)(cS,Oe,Ct),(0,d.Z)(cS,bt,[(Av={},(0,d.Z)(Av,ft,nE),(0,d.Z)(Av,"error","S3 MRAP does not support FIPS"),(0,d.Z)(Av,Oe,ln),Av),(lS={},(0,d.Z)(lS,Oe,Ct),(0,d.Z)(lS,bt,[(kv={},(0,d.Z)(kv,ft,XP),(0,d.Z)(kv,"error","S3 MRAP does not support S3 Accelerate"),(0,d.Z)(kv,Oe,ln),kv),(uS={},(0,d.Z)(uS,Oe,Ct),(0,d.Z)(uS,bt,[(Rv={},(0,d.Z)(Rv,ft,[(nS={},(0,d.Z)(nS,Ye,nn),(0,d.Z)(nS,Je,[(0,d.Z)({},kt,"DisableMultiRegionAccessPoints"),es]),nS)]),(0,d.Z)(Rv,"error","Invalid configuration: Multi-Region Access Point ARNs are disabled."),(0,d.Z)(Rv,Oe,ln),Rv),(sS={},(0,d.Z)(sS,Oe,Ct),(0,d.Z)(sS,bt,[(Ov={},(0,d.Z)(Ov,ft,[(Dv={},(0,d.Z)(Dv,Ye,jy),(0,d.Z)(Dv,Je,tE),(0,d.Z)(Dv,Ii,lT),Dv)]),(0,d.Z)(Ov,Oe,Ct),(0,d.Z)(Ov,bt,[(oS={},(0,d.Z)(oS,Oe,Ct),(0,d.Z)(oS,bt,[(Iv={},(0,d.Z)(Iv,ft,[(aS={},(0,d.Z)(aS,Ye,mn),(0,d.Z)(aS,Je,[(rS={},(0,d.Z)(rS,Ye,Kr),(0,d.Z)(rS,Je,[(0,d.Z)({},kt,lT),kn]),rS),(iS={},(0,d.Z)(iS,Ye,Kr),(0,d.Z)(iS,Je,[Oa,"partition"]),iS)]),aS)]),(0,d.Z)(Iv,Oe,Ct),(0,d.Z)(Iv,bt,[(0,d.Z)({endpoint:(Tv={},(0,d.Z)(Tv,an,"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}"),(0,d.Z)(Tv,on,(0,d.Z)({},Fn,[(Ld={},(0,d.Z)(Ld,Mn,es),(0,d.Z)(Ld,"name","sigv4a"),(0,d.Z)(Ld,Nn,Ln),(0,d.Z)(Ld,"signingRegionSet",["*"]),Ld)])),(0,d.Z)(Tv,sn,xi),Tv)},Oe,Dt)]),Iv),(0,d.Z)({error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`"},Oe,ln)]),oS)]),Ov),(0,d.Z)({error:"{Region} was not a valid region"},Oe,ln)]),sS)]),uS)]),lS)]),cS)]),dS)]),Fv),(0,d.Z)({error:"Invalid Access Point Name"},Oe,ln)]),pS)]),fS)]),Mv),zT]),Nv),(ry={},(0,d.Z)(ry,ft,[(mS={},(0,d.Z)(mS,Ye,mn),(0,d.Z)(mS,Je,[LP,DP]),mS)]),(0,d.Z)(ry,Oe,Ct),(0,d.Z)(ry,bt,[(Vv={},(0,d.Z)(Vv,ft,f3),(0,d.Z)(Vv,"error","S3 Outposts does not support Dual-stack"),(0,d.Z)(Vv,Oe,ln),Vv),(IS={},(0,d.Z)(IS,Oe,Ct),(0,d.Z)(IS,bt,[(Bv={},(0,d.Z)(Bv,ft,nE),(0,d.Z)(Bv,"error","S3 Outposts does not support FIPS"),(0,d.Z)(Bv,Oe,ln),Bv),(TS={},(0,d.Z)(TS,Oe,Ct),(0,d.Z)(TS,bt,[(Zv={},(0,d.Z)(Zv,ft,XP),(0,d.Z)(Zv,"error","S3 Outposts does not support S3 Accelerate"),(0,d.Z)(Zv,Oe,ln),Zv),(DS={},(0,d.Z)(DS,Oe,Ct),(0,d.Z)(DS,bt,[(Lv={},(0,d.Z)(Lv,ft,[(gS={},(0,d.Z)(gS,Ye,Xa),(0,d.Z)(gS,Je,[(hS={},(0,d.Z)(hS,Ye,Kr),(0,d.Z)(hS,Je,[Oa,"resourceId[4]"]),hS)]),gS)]),(0,d.Z)(Lv,"error","Invalid Arn: Outpost Access Point ARN contains sub resources"),(0,d.Z)(Lv,Oe,ln),Lv),(RS={},(0,d.Z)(RS,Oe,Ct),(0,d.Z)(RS,bt,[(ny={},(0,d.Z)(ny,ft,[(jv={},(0,d.Z)(jv,Ye,Kr),(0,d.Z)(jv,Je,y8),(0,d.Z)(jv,Ii,RP),jv)]),(0,d.Z)(ny,Oe,Ct),(0,d.Z)(ny,bt,[(kS={},(0,d.Z)(kS,Oe,Ct),(0,d.Z)(kS,bt,[(ty={},(0,d.Z)(ty,ft,s3),(0,d.Z)(ty,Oe,Ct),(0,d.Z)(ty,bt,[(AS={},(0,d.Z)(AS,Oe,Ct),(0,d.Z)(AS,bt,[$P,(PS={},(0,d.Z)(PS,Oe,Ct),(0,d.Z)(PS,bt,[(ey={},(0,d.Z)(ey,ft,YP),(0,d.Z)(ey,Oe,Ct),(0,d.Z)(ey,bt,[(ES={},(0,d.Z)(ES,Oe,Ct),(0,d.Z)(ES,bt,[(Jv={},(0,d.Z)(Jv,ft,Cl),(0,d.Z)(Jv,Oe,Ct),(0,d.Z)(Jv,bt,[(SS={},(0,d.Z)(SS,Oe,Ct),(0,d.Z)(SS,bt,[(Yv={},(0,d.Z)(Yv,ft,h3),(0,d.Z)(Yv,Oe,Ct),(0,d.Z)(Yv,bt,[(wS={},(0,d.Z)(wS,Oe,Ct),(0,d.Z)(wS,bt,[(Qv={},(0,d.Z)(Qv,ft,JP),(0,d.Z)(Qv,Oe,Ct),(0,d.Z)(Qv,bt,[(CS={},(0,d.Z)(CS,Oe,Ct),(0,d.Z)(CS,bt,[(Xv={},(0,d.Z)(Xv,ft,eA),(0,d.Z)(Xv,Oe,Ct),(0,d.Z)(Xv,bt,[(bS={},(0,d.Z)(bS,Oe,Ct),(0,d.Z)(bS,bt,[(Wv={},(0,d.Z)(Wv,ft,[($v={},(0,d.Z)($v,Ye,Kr),(0,d.Z)($v,Je,_8),(0,d.Z)($v,Ii,cT),$v)]),(0,d.Z)(Wv,Oe,Ct),(0,d.Z)(Wv,bt,[(xS={},(0,d.Z)(xS,Oe,Ct),(0,d.Z)(xS,bt,[(Kv={},(0,d.Z)(Kv,ft,[(Uv={},(0,d.Z)(Uv,Ye,Kr),(0,d.Z)(Uv,Je,[Oa,"resourceId[3]"]),(0,d.Z)(Uv,Ii,OP),Uv)]),(0,d.Z)(Kv,Oe,Ct),(0,d.Z)(Kv,bt,[(_S={},(0,d.Z)(_S,Oe,Ct),(0,d.Z)(_S,bt,[(qv={},(0,d.Z)(qv,ft,[(vS={},(0,d.Z)(vS,Ye,mn),(0,d.Z)(vS,Je,[(0,d.Z)({},kt,cT),sT]),vS)]),(0,d.Z)(qv,Oe,Ct),(0,d.Z)(qv,bt,[(yS={},(0,d.Z)(yS,Oe,Ct),(0,d.Z)(yS,bt,[(Gv={},(0,d.Z)(Gv,ft,Gy),(0,d.Z)(Gv,"endpoint",(zv={},(0,d.Z)(zv,an,"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}"),(0,d.Z)(zv,on,GT),(0,d.Z)(zv,sn,xi),zv)),(0,d.Z)(Gv,Oe,Dt),Gv),(0,d.Z)({endpoint:(Hv={},(0,d.Z)(Hv,an,"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}"),(0,d.Z)(Hv,on,GT),(0,d.Z)(Hv,sn,xi),Hv)},Oe,Dt)]),yS)]),qv),(0,d.Z)({error:"Expected an outpost type `accesspoint`, found {outpostType}"},Oe,ln)]),_S)]),Kv),(0,d.Z)({error:"Invalid ARN: expected an access point name"},Oe,ln)]),xS)]),Wv),(0,d.Z)({error:"Invalid ARN: Expected a 4-component resource"},Oe,ln)]),bS)]),Xv),GP]),CS)]),Qv),HP]),wS)]),Yv),qP]),SS)]),Jv),bl]),ES)]),ey),(0,d.Z)({error:"Could not load partition for ARN region {bucketArn#region}"},Oe,ln)]),PS)]),AS)]),ty),(0,d.Z)({error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`"},Oe,ln)]),kS)]),ny),(0,d.Z)({error:"Invalid ARN: The Outpost Id was not set"},Oe,ln)]),RS)]),DS)]),TS)]),IS)]),ry),(0,d.Z)({error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})"},Oe,ln)]),OS)]),iy),(0,d.Z)({error:"Invalid ARN: No ARN type specified"},Oe,ln)]),ay),(sy={},(0,d.Z)(sy,ft,[(oy={},(0,d.Z)(oy,Ye,Ly),(0,d.Z)(oy,Je,[ts,0,4,!1]),(0,d.Z)(oy,Ii,dT),oy),(FS={},(0,d.Z)(FS,Ye,mn),(0,d.Z)(FS,Je,[(0,d.Z)({},kt,dT),"arn:"]),FS),(NS={},(0,d.Z)(NS,Ye,ni),(0,d.Z)(NS,Je,[(MS={},(0,d.Z)(MS,Ye,Xa),(0,d.Z)(MS,Je,c3),MS)]),NS)]),(0,d.Z)(sy,"error","Invalid ARN: `{Bucket}` was not a valid ARN"),(0,d.Z)(sy,Oe,ln),sy),vT]),VS)]),uy),(gy={},(0,d.Z)(gy,ft,[(BS={},(0,d.Z)(BS,Ye,Xa),(0,d.Z)(BS,Je,[HT]),BS),(ZS={},(0,d.Z)(ZS,Ye,nn),(0,d.Z)(ZS,Je,[HT,es]),ZS)]),(0,d.Z)(gy,Oe,Ct),(0,d.Z)(gy,bt,[(hy={},(0,d.Z)(hy,ft,Cl),(0,d.Z)(hy,Oe,Ct),(0,d.Z)(hy,bt,[(zS={},(0,d.Z)(zS,Oe,Ct),(0,d.Z)(zS,bt,[(my={},(0,d.Z)(my,ft,v3),(0,d.Z)(my,Oe,Ct),(0,d.Z)(my,bt,[(US={},(0,d.Z)(US,Oe,Ct),(0,d.Z)(US,bt,[MT,($S={},(0,d.Z)($S,Oe,Ct),(0,d.Z)($S,bt,[NT,(jS={},(0,d.Z)(jS,Oe,Ct),(0,d.Z)(jS,bt,[MP,(LS={},(0,d.Z)(LS,Oe,Ct),(0,d.Z)(LS,bt,[(cy={},(0,d.Z)(cy,ft,Gy),(0,d.Z)(cy,"endpoint",(ly={},(0,d.Z)(ly,an,xl),(0,d.Z)(ly,on,KP),(0,d.Z)(ly,sn,xi),ly)),(0,d.Z)(cy,Oe,Dt),cy),(py={},(0,d.Z)(py,ft,nE),(0,d.Z)(py,"endpoint",(dy={},(0,d.Z)(dy,an,"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}"),(0,d.Z)(dy,on,KP),(0,d.Z)(dy,sn,xi),dy)),(0,d.Z)(py,Oe,Dt),py),(0,d.Z)({endpoint:(fy={},(0,d.Z)(fy,an,"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}"),(0,d.Z)(fy,on,KP),(0,d.Z)(fy,sn,xi),fy)},Oe,Dt)]),LS)]),jS)]),$S)]),US)]),my),eE]),zS)]),hy),bl]),gy),(By={},(0,d.Z)(By,ft,[(GS={},(0,d.Z)(GS,Ye,ni),(0,d.Z)(GS,Je,l3),GS)]),(0,d.Z)(By,Oe,Ct),(0,d.Z)(By,bt,[(Vy={},(0,d.Z)(Vy,ft,Cl),(0,d.Z)(Vy,Oe,Ct),(0,d.Z)(Vy,bt,[(KS={},(0,d.Z)(KS,Oe,Ct),(0,d.Z)(KS,bt,[(Ny={},(0,d.Z)(Ny,ft,v3),(0,d.Z)(Ny,Oe,Ct),(0,d.Z)(Ny,bt,[(qS={},(0,d.Z)(qS,Oe,Ct),(0,d.Z)(qS,bt,[MP,(HS={},(0,d.Z)(HS,Oe,Ct),(0,d.Z)(HS,bt,[qT,qT,(vy={},(0,d.Z)(vy,ft,[Gr,Nr,ir,Tr,xr,aa]),(0,d.Z)(vy,Oe,Ct),(0,d.Z)(vy,bt,tA),vy),(yy={},(0,d.Z)(yy,ft,[Gr,Nr,ir,Tr,xr,sa]),(0,d.Z)(yy,"endpoint",zy),(0,d.Z)(yy,Oe,Dt),yy),WT,WT,(_y={},(0,d.Z)(_y,ft,[Gr,Nr,jn,xr,aa]),(0,d.Z)(_y,Oe,Ct),(0,d.Z)(_y,bt,[(0,d.Z)({endpoint:XT},Oe,Dt)]),_y),(xy={},(0,d.Z)(xy,ft,[Gr,Nr,jn,xr,sa]),(0,d.Z)(xy,"endpoint",XT),(0,d.Z)(xy,Oe,Dt),xy),QT,QT,(by={},(0,d.Z)(by,ft,[Gr,wr,ir,Tr,xr,aa]),(0,d.Z)(by,Oe,Ct),(0,d.Z)(by,bt,tA),by),(Cy={},(0,d.Z)(Cy,ft,[Gr,wr,ir,Tr,xr,sa]),(0,d.Z)(Cy,"endpoint",zy),(0,d.Z)(Cy,Oe,Dt),Cy),YT,YT,(wy={},(0,d.Z)(wy,ft,[Gr,wr,jn,xr,aa]),(0,d.Z)(wy,Oe,Ct),(0,d.Z)(wy,bt,[(0,d.Z)({endpoint:JT},Oe,Dt)]),wy),(Sy={},(0,d.Z)(Sy,ft,[Gr,wr,jn,xr,sa]),(0,d.Z)(Sy,"endpoint",JT),(0,d.Z)(Sy,Oe,Dt),Sy),e3,e3,(Ey={},(0,d.Z)(Ey,ft,[ur,Nr,ir,Tr,xr,aa]),(0,d.Z)(Ey,Oe,Ct),(0,d.Z)(Ey,bt,tA),Ey),(Py={},(0,d.Z)(Py,ft,[ur,Nr,ir,Tr,xr,sa]),(0,d.Z)(Py,"endpoint",zy),(0,d.Z)(Py,Oe,Dt),Py),t3,t3,(Ay={},(0,d.Z)(Ay,ft,[ur,Nr,jn,xr,aa]),(0,d.Z)(Ay,Oe,Ct),(0,d.Z)(Ay,bt,[(0,d.Z)({endpoint:n3},Oe,Dt)]),Ay),(ky={},(0,d.Z)(ky,ft,[ur,Nr,jn,xr,sa]),(0,d.Z)(ky,"endpoint",n3),(0,d.Z)(ky,Oe,Dt),ky),r3,r3,(Dy={},(0,d.Z)(Dy,ft,[ur,wr,ir,Tr,xr,aa]),(0,d.Z)(Dy,Oe,Ct),(0,d.Z)(Dy,bt,[(Ry={},(0,d.Z)(Ry,ft,jd),(0,d.Z)(Ry,"endpoint",zy),(0,d.Z)(Ry,Oe,Dt),Ry),KT]),Dy),(Ty={},(0,d.Z)(Ty,ft,[ur,wr,ir,Tr,xr,sa]),(0,d.Z)(Ty,"endpoint",zy),(0,d.Z)(Ty,Oe,Dt),Ty),a3,a3,(Fy={},(0,d.Z)(Fy,ft,[ur,wr,jn,xr,aa]),(0,d.Z)(Fy,Oe,Ct),(0,d.Z)(Fy,bt,[(Oy={},(0,d.Z)(Oy,ft,jd),(0,d.Z)(Oy,"endpoint",(Iy={},(0,d.Z)(Iy,an,pT),(0,d.Z)(Iy,on,oa),(0,d.Z)(Iy,sn,xi),Iy)),(0,d.Z)(Oy,Oe,Dt),Oy),(0,d.Z)({endpoint:o3},Oe,Dt)]),Fy),(My={},(0,d.Z)(My,ft,[ur,wr,jn,xr,sa]),(0,d.Z)(My,"endpoint",o3),(0,d.Z)(My,Oe,Dt),My)]),HS)]),qS)]),Ny),eE]),KS)]),Vy),bl]),By)]),WS)]),Zy),(0,d.Z)({error:"A region must be set when sending requests to S3."},Oe,ln)]),XS)]),C8=function(n){return yD(b8,{endpointParams:n,logger:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).logger})},E8=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;(0,f.Z)(this,t);var u=function(n){var t,e,a,s,u;return(0,b.Z)((0,b.Z)({},n),{},{useFipsEndpoint:null!==(t=n.useFipsEndpoint)&&void 0!==t&&t,useDualstackEndpoint:null!==(e=n.useDualstackEndpoint)&&void 0!==e&&e,useAccelerateEndpoint:null!==(a=n.useAccelerateEndpoint)&&void 0!==a&&a,useGlobalEndpoint:null!==(s=n.useGlobalEndpoint)&&void 0!==s&&s,disableMultiregionAccessPoints:null!==(u=n.disableMultiregionAccessPoints)&&void 0!==u&&u,defaultSigningName:"s3"})}(function(n){var t,e,a,s,u,l,c,h,C,T,N,F,$,se,ue,ge,Se,we=HD(n),He=function(){return we().then(jk)},ot=function(n){var t,e,a,s,u,l,c,h,C,T,N,F;return{apiVersion:"2006-03-01",base64Decoder:null!==(t=n?.base64Decoder)&&void 0!==t?t:bP,base64Encoder:null!==(e=n?.base64Encoder)&&void 0!==e?e:CP,disableHostPrefix:null!==(a=n?.disableHostPrefix)&&void 0!==a&&a,endpointProvider:null!==(s=n?.endpointProvider)&&void 0!==s?s:C8,logger:null!==(u=n?.logger)&&void 0!==u?u:new Rk,serviceId:null!==(l=n?.serviceId)&&void 0!==l?l:"S3",signerConstructor:null!==(c=n?.signerConstructor)&&void 0!==c?c:f8,signingEscapePath:null!==(h=n?.signingEscapePath)&&void 0!==h&&h,urlParser:null!==(C=n?.urlParser)&&void 0!==C?C:bn,useArnRegion:null!==(T=n?.useArnRegion)&&void 0!==T&&T,utf8Decoder:null!==(N=n?.utf8Decoder)&&void 0!==N?N:df,utf8Encoder:null!==(F=n?.utf8Encoder)&&void 0!==F?F:q0}}(n);return(0,b.Z)((0,b.Z)((0,b.Z)({},ot),n),{},{runtime:"browser",defaultsMode:we,bodyLengthChecker:null!==(t=n?.bodyLengthChecker)&&void 0!==t?t:ID,credentialDefaultProvider:null!==(e=n?.credentialDefaultProvider)&&void 0!==e?e:function(dt){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(a=n?.defaultUserAgentProvider)&&void 0!==a?a:FD({serviceId:ot.serviceId,clientVersion:"3.350.0"}),eventStreamSerdeProvider:null!==(s=n?.eventStreamSerdeProvider)&&void 0!==s?s:r8,getAwsChunkedEncodingStream:null!==(u=n?.getAwsChunkedEncodingStream)&&void 0!==u?u:d8,maxAttempts:null!==(l=n?.maxAttempts)&&void 0!==l?l:3,md5:null!==(c=n?.md5)&&void 0!==c?c:u8,region:null!==(h=n?.region)&&void 0!==h?h:TD("Region is missing"),requestHandler:null!==(C=n?.requestHandler)&&void 0!==C?C:new wD(He),retryMode:null!==(T=n?.retryMode)&&void 0!==T?T:Zt((0,qe.Z)().mark(function dt(){return(0,qe.Z)().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return pt.next=2,He();case 2:if(pt.t0=pt.sent.retryMode,pt.t0){pt.next=5;break}pt.t0=uP;case 5:return pt.abrupt("return",pt.t0);case 6:case"end":return pt.stop()}},dt)})),sdkStreamMixin:null!==(N=n?.sdkStreamMixin)&&void 0!==N?N:p8,sha1:null!==(F=n?.sha1)&&void 0!==F?F:WZ.Sha1,sha256:null!==($=n?.sha256)&&void 0!==$?$:XZ.Sha256,streamCollector:null!==(se=n?.streamCollector)&&void 0!==se?se:wP,streamHasher:null!==(ue=n?.streamHasher)&&void 0!==ue?ue:a8,useDualstackEndpoint:null!==(ge=n?.useDualstackEndpoint)&&void 0!==ge?ge:function(){return Promise.resolve(!1)},useFipsEndpoint:null!==(Se=n?.useFipsEndpoint)&&void 0!==Se?Se:function(){return Promise.resolve(!1)}})}(e)),l=xR(u),c=nr(l),h=MR(c),N=function(n){var t,e,a;return(0,b.Z)((0,b.Z)({},n),{},{forcePathStyle:null!==(t=n.forcePathStyle)&&void 0!==t&&t,useAccelerateEndpoint:null!==(e=n.useAccelerateEndpoint)&&void 0!==e&&e,disableMultiregionAccessPoints:null!==(a=n.disableMultiregionAccessPoints)&&void 0!==a&&a})}(eD(h)),$=function(n){return(0,b.Z)((0,b.Z)({},n),{},{eventStreamMarshaller:n.eventStreamSerdeProvider(n)})}(aD(N));return(a=n.call(this,$)).config=$,a.middlewareStack.use(NR(a.config)),a.middlewareStack.use(CR(a.config)),a.middlewareStack.use(wR(a.config)),a.middlewareStack.use(SR()),a.middlewareStack.use(PR(a.config)),a.middlewareStack.use(function(n){return{applyToStack:function(e){e.addRelativeTo(function(n){return function(t,e){return function(){var a=Zt((0,qe.Z)().mark(function s(u){var l,c,h,C,T,N,F,$,se;return(0,qe.Z)().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:if(rr.isInstance(u.request)){ge.next=2;break}return ge.abrupt("return",t(u));case 2:return T=null===(l=e.endpointV2)||void 0===l||null===(c=l.properties)||void 0===c||null===(h=c.authSchemes)||void 0===h?void 0:h[0],N="sigv4a"===T?.name?null==T||null===(C=T.signingRegionSet)||void 0===C?void 0:C.join(","):void 0,ge.next=6,n.signer(T);case 6:return F=ge.sent,ge.t0=t,ge.t1=b.Z,ge.t2=(0,b.Z)({},u),ge.t3={},ge.next=13,F.sign(u.request,{signingDate:nD(n.systemClockOffset),signingRegion:N||e.signing_region,signingService:e.signing_service});case 13:return ge.t4=ge.sent,ge.t5={request:ge.t4},ge.t6=(0,ge.t1)(ge.t2,ge.t3,ge.t5),ge.next=18,(0,ge.t0)(ge.t6).catch(function(Se){var we,He=null!==(we=Se.ServerTime)&&void 0!==we?we:iD(Se.$response);throw He&&(n.systemClockOffset=rD(He,n.systemClockOffset)),Se});case 18:return(se=iD(($=ge.sent).response))&&(n.systemClockOffset=rD(se,n.systemClockOffset)),ge.abrupt("return",$);case 22:case"end":return ge.stop()}},s)}));return function(s){return a.apply(this,arguments)}}()}}(n),WB)}}}(a.config)),a.middlewareStack.use({applyToStack:function(e){e.add(function IF(){return function(o){return function(){var n=Zt((0,qe.Z)().mark(function t(e){var a,s;return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if("string"!=typeof(a=e.input.Bucket)||TF(a)||!(a.indexOf("/")>=0)){l.next=5;break}throw(s=new Error("Bucket name shouldn't contain '/', received '".concat(a,"'"))).name="InvalidBucketName",s;case 5:return l.abrupt("return",o((0,b.Z)({},e)));case 6:case"end":return l.stop()}},t)}));return function(t){return n.apply(this,arguments)}}()}}(),OF)}}),a.middlewareStack.use(function(n){return{applyToStack:function(e){e.add(function zZ(o){return function(n){return function(){var t=Zt((0,qe.Z)().mark(function e(a){var s;return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return rr.isInstance(s=a.request)&&s.body&&"node"===o.runtime&&(s.headers=(0,b.Z)((0,b.Z)({},s.headers),{},{Expect:"100-continue"})),l.abrupt("return",n((0,b.Z)((0,b.Z)({},a),{},{request:s})));case 3:case"end":return l.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()}}(n),GZ)}}}(a.config)),a.middlewareStack.use(CD(a.config)),a}return(0,y.Z)(t,[{key:"destroy",value:function(){(0,Et.Z)((0,Ee.Z)(t.prototype),"destroy",this).call(this)}}]),t}(Ok),P8=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-mediafile-pane-renderer"]],decls:1,vars:0,template:function(t,e){1&t&&r.\u0275\u0275text(0,"Media File")}}),o}(),y3=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),t.register(new pn.ContentPlugin({id:"media_file",title:"Media File",selectionComponent:void 0,editorComponent:void 0,renderComponent:P8,handler:void 0}))});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(pn.ContentPluginManager))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule]}),o}(),rE=new r.InjectionToken("Media Settings"),k8=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.endpointUrl=n.endpointUrl,this.cloudinaryUrl=n.cloudinaryUrl,this.uploadPreset=n.uploadPreset,this.imageUrl=n.imageUrl,this.bucket=n.bucket,this.prefix=n.prefix)}),nA=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.id=n.id,this.contentType=n.contentType,this.contentDisposition=n.contentDisposition,this.path=n.path,this.fileName=n.fileName,this.length=n.length,this.extension=n.extension?n.extension:void 0,this.realPath=n.realPath&&""!==n.realPath?n.realPath:void 0)}),iE=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.settings=t,this.cognitoSettings=e,this.http=a,this.authFacade=s}return(0,y.Z)(n,[{key:"bulkUpload",value:function(e){var a=this,u=e.fileNameOverride,c=[];return e.files.forEach(function(h){if(h){var C=new FormData;C.append("File",h,u||h.name),c.push(a.http.post(a.settings.endpointUrl,C).pipe((0,si.K)(function(T){return(0,$a._)(new Error("Error uploading images."))})))}}),c.length>0?(0,$n.D)(c):(0,Le.of)([])}},{key:"bulkUploadS3",value:function(e){var a=this,u=e.fileNameOverride,l=e.nocache,c=[];return e.files.forEach(function(h){h&&c.push(new W.y(function(C){var T=u||vr(),N=h.name.split(".",2),se=(0,g.Z)(N,2)[1],ue=T+(se?"."+se:"");new OV({client:a.buildClient(),params:(0,b.Z)({Bucket:a.settings.bucket,Key:a.settings.prefix+ue,Body:h,ContentType:h.type},l?{CacheControl:"no-cache"}:{})}).done().then(function(){C.next(new nA({id:T,contentType:h.type,contentDisposition:"",path:ue,realPath:a.settings.prefix+ue,length:h.size,fileName:h.name,extension:se&&""!==se?se:void 0})),C.complete()})}))}),c.length>0?(0,$n.D)(c):(0,Le.of)([])}},{key:"convertToFiles",value:function(e){var a=this,s=e.map(function(u){return new W.y(function(l){fetch("".concat(a.settings.imageUrl,"/").concat(u.path)).then(function(c){c.blob().then(function(h){new Promise(function(C){var T=new FileReader;T.onload=function(){return C(T.result)},T.readAsDataURL(h)}).then(function(C){var T=a.convertDataURIToBinary(C),N=new File([T],u.fileName,{type:u.contentType});l.next(N),l.complete()})})})})});return(0,$n.D)(s)}},{key:"convertDataURIToBinary",value:function(e){for(var s=e.indexOf(";base64,")+8,u=e.substring(s),l=window.atob(u),c=l.length,h=new Uint8Array(new ArrayBuffer(c)),C=0;C<c;C++)h[C]=l.charCodeAt(C);return h}},{key:"buildClient",value:function(){var e=this;return new E8({region:this.cognitoSettings.region,credentials:oP({client:new AP({region:this.cognitoSettings.region}),identityPoolId:this.cognitoSettings.identityPoolId,logins:(0,d.Z)({},"cognito-idp.".concat(this.cognitoSettings.region,".amazonaws.com/").concat(this.cognitoSettings.userPoolId),function(){return Rc(e.authFacade.getUser$.pipe((0,Ce.U)(function(s){return s?s.id_token:void 0})))})})})}},{key:"isImage",value:function(e){var a=e.file;return a.type&&0===a.type.indexOf("image/")}},{key:"isVideo",value:function(e){var a=e.file;return a.type&&0===a.type.indexOf("video/")}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(rE),r.\u0275\u0275inject(Dc),r.\u0275\u0275inject(O.HttpClient),r.\u0275\u0275inject(_i))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Vn=S(8154),Nt=S(68488),Hy=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule]}),o}(),Pr=function(){var o=function(){function n(){(0,f.Z)(this,n)}return(0,y.Z)(n,[{key:"generateTokens",value:function(e){var a=new Map;return this.attributeTokens(e,a,"",0),a}},{key:"generateGenericTokens",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=new Map;return this.genericTokens(e,s,a,0),s}},{key:"attributeTokens",value:function(e,a,s,u){var l=this;e.forEach(function(c,h){if("widget"!==c.name)for(var C in c)c.type===Nt.AttributeTypes.Complex||"attributes"===C&&c.attributes&&c.attributes.length>0?l.attributeTokens(c.attributes,a,c.type===Nt.AttributeTypes.Complex?"".concat(s):"".concat(s,".").concat(c.name),u+1):"attributes"!==C&&a.set(C===c.name?"".concat(s,".").concat(C):"".concat(s,".").concat(c.name,".").concat(C),c[C])})}},{key:"genericTokens",value:function(e,a,s,u){for(var l in e)if("object"!=typeof e[l])a.set("".concat(s,".").concat(l),e[l]);else if(Array.isArray(e[l])&&"attributes"===l)this.attributeTokens(e[l],a,"".concat(s,".").concat(l),u+1);else if(Array.isArray(e[l]))for(var h=e[l].length,C=0;C<h;C++)this.genericTokens(e[l][C],a,"".concat(s,".").concat(l,".").concat(C),u+1);else this.genericTokens(e[l],a,"".concat(s,".").concat(l),u+1)}},{key:"replaceTokens",value:function(e,a){return a&&a.forEach(function(s,u){e=e.replace("[".concat(u,"]"),"".concat(s))}),e}},{key:"matchTokens",value:function(e,a){for(var s=[],u=a.length,l=0;l<u;l++)e.indexOf("[".concat(a[l],"]"))>-1&&s.push(a[l]);return s}},{key:"discoverTokens",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=e.match(/(\[(?:\[??[^\[]*?\]))/g);return null===s?[]:s.reduce(function(l,c){if(-1!==c.indexOf(" ")||-1===c.indexOf("."))return l;var h=1===c.indexOf(".")?["."]:c.substr(1,c.length-2).split("."),T=(0,g.Z)(h,1)[0];return-1!==l.findIndex(function(N){return N===T})?l:[].concat((0,_.Z)(l),[a?c.substr(1,c.length-2):T])},[])}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Oi=S(69490),Ar=S(71989),R8=["gutterEls"];function D8(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",2,3),r.\u0275\u0275listener("keydown",function(c){r.\u0275\u0275restoreView(t);var h=r.\u0275\u0275nextContext().index,C=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(C.startKeyboardDrag(c,2*h+1,h+1))})("mousedown",function(c){r.\u0275\u0275restoreView(t);var h=r.\u0275\u0275nextContext().index,C=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(C.startMouseDrag(c,2*h+1,h+1))})("touchstart",function(c){r.\u0275\u0275restoreView(t);var h=r.\u0275\u0275nextContext().index,C=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(C.startMouseDrag(c,2*h+1,h+1))})("mouseup",function(c){r.\u0275\u0275restoreView(t);var h=r.\u0275\u0275nextContext().index,C=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(C.clickGutter(c,h+1))})("touchend",function(c){r.\u0275\u0275restoreView(t);var h=r.\u0275\u0275nextContext().index,C=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(C.clickGutter(c,h+1))}),r.\u0275\u0275element(2,"div",4),r.\u0275\u0275elementEnd()}if(2&o){var e=r.\u0275\u0275nextContext(),a=e.index,s=e.$implicit,u=r.\u0275\u0275nextContext();r.\u0275\u0275styleProp("flex-basis",u.gutterSize,"px")("order",2*a+1),r.\u0275\u0275attribute("aria-label",u.gutterAriaLabel)("aria-orientation",u.direction)("aria-valuemin",s.minSize)("aria-valuemax",s.maxSize)("aria-valuenow",s.size)("aria-valuetext",u.getAriaAreaSizeText(s.size))}}function T8(o,n){1&o&&r.\u0275\u0275template(0,D8,3,10,"div",1),2&o&&r.\u0275\u0275property("ngIf",!1===n.last)}var I8=["*"];function qy(o){if(void 0!==o.changedTouches&&o.changedTouches.length>0)return{x:o.changedTouches[0].clientX,y:o.changedTouches[0].clientY};if(void 0!==o.clientX&&void 0!==o.clientY)return{x:o.clientX,y:o.clientY};if(void 0!==o.currentTarget){var n=o.currentTarget;return{x:n.offsetLeft,y:n.offsetTop}}return null}function _3(o,n,t){return Math.abs(o.x-n.x)<=t&&Math.abs(o.y-n.y)<=t}function x3(o,n){var t=o.nativeElement.getBoundingClientRect();return"horizontal"===n?t.width:t.height}function Ky(o){return"boolean"==typeof o?o:"false"!==o}function _u(o,n){return null==o?n:(o=Number(o),!isNaN(o)&&o>=0?o:n)}function b3(o,n){if("percent"===o){var t=n.reduce(function(e,a){return null!==a?e+a:e},0);return n.every(function(e){return null!==e})&&t>99.9&&t<100.1}if("pixel"===o)return 1===n.filter(function(e){return null===e}).length}function aE(o){return null===o.size?null:!0===o.component.lockSize?o.size:null===o.component.minSize?null:o.component.minSize>o.size?o.size:o.component.minSize}function oE(o){return null===o.size?null:!0===o.component.lockSize?o.size:null===o.component.maxSize?null:o.component.maxSize<o.size?o.size:o.component.maxSize}function $d(o,n,t,e){return n.reduce(function(a,s){var u=function F8(o,n,t,e){return 0===t?{areaSnapshot:n,pixelAbsorb:0,percentAfterAbsorption:n.sizePercentAtStart,pixelRemain:0}:0===n.sizePixelAtStart&&t<0?{areaSnapshot:n,pixelAbsorb:0,percentAfterAbsorption:0,pixelRemain:t}:"percent"===o?function M8(o,n,t){var a=(o.sizePixelAtStart+n)/t*100;if(n>0){if(null!==o.area.maxSize&&a>o.area.maxSize){var s=o.area.maxSize/100*t;return{areaSnapshot:o,pixelAbsorb:s,percentAfterAbsorption:o.area.maxSize,pixelRemain:o.sizePixelAtStart+n-s}}return{areaSnapshot:o,pixelAbsorb:n,percentAfterAbsorption:a>100?100:a,pixelRemain:0}}if(n<0){if(null!==o.area.minSize&&a<o.area.minSize){var u=o.area.minSize/100*t;return{areaSnapshot:o,pixelAbsorb:u,percentAfterAbsorption:o.area.minSize,pixelRemain:o.sizePixelAtStart+n-u}}return a<0?{areaSnapshot:o,pixelAbsorb:-o.sizePixelAtStart,percentAfterAbsorption:0,pixelRemain:n+o.sizePixelAtStart}:{areaSnapshot:o,pixelAbsorb:n,percentAfterAbsorption:a,pixelRemain:0}}}(n,t,e):"pixel"===o?function N8(o,n,t){var e=o.sizePixelAtStart+n;return n>0?null!==o.area.maxSize&&e>o.area.maxSize?{areaSnapshot:o,pixelAbsorb:o.area.maxSize-o.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:e-o.area.maxSize}:{areaSnapshot:o,pixelAbsorb:n,percentAfterAbsorption:-1,pixelRemain:0}:n<0?null!==o.area.minSize&&e<o.area.minSize?{areaSnapshot:o,pixelAbsorb:o.area.minSize+n-e,percentAfterAbsorption:-1,pixelRemain:e-o.area.minSize}:e<0?{areaSnapshot:o,pixelAbsorb:-o.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:n+o.sizePixelAtStart}:{areaSnapshot:o,pixelAbsorb:n,percentAfterAbsorption:-1,pixelRemain:0}:void 0}(n,t):void 0}(o,s,a.remain,e);return a.list.push(u),a.remain=u.pixelRemain,a},{remain:t,list:[]})}function C3(o,n){"percent"===o?n.areaSnapshot.area.size=n.percentAfterAbsorption:"pixel"===o&&null!==n.areaSnapshot.area.size&&(n.areaSnapshot.area.size=n.areaSnapshot.sizePixelAtStart+n.pixelAbsorb)}var V8=new r.InjectionToken("angular-split-global-config"),Wy=function(){var o=function(){function n(t,e,a,s,u){var l=this;(0,f.Z)(this,n),this.ngZone=t,this.elRef=e,this.cdRef=a,this.renderer=s,this.gutterClickDeltaPx=2,this._config={direction:"horizontal",unit:"percent",gutterSize:11,gutterStep:1,restrictMove:!1,useTransition:!1,disabled:!1,dir:"ltr",gutterDblClickDuration:0},this.dragStart=new r.EventEmitter(!1),this.dragEnd=new r.EventEmitter(!1),this.gutterClick=new r.EventEmitter(!1),this.gutterDblClick=new r.EventEmitter(!1),this.dragProgressSubject=new ae.x,this.dragProgress$=this.dragProgressSubject.asObservable(),this.isDragging=!1,this.isWaitingClear=!1,this.isWaitingInitialMove=!1,this.dragListeners=[],this.snapshot=null,this.startPoint=null,this.endPoint=null,this.displayedAreas=[],this.hiddenAreas=[],this._clickTimeout=null,this.direction=this._direction,this._config=u?Object.assign(this._config,u):this._config,Object.keys(this._config).forEach(function(c){l[c]=l._config[c]})}return(0,y.Z)(n,[{key:"direction",get:function(){return this._direction},set:function(e){this._direction="vertical"===e?"vertical":"horizontal",this.renderer.addClass(this.elRef.nativeElement,"as-".concat(this._direction)),this.renderer.removeClass(this.elRef.nativeElement,"as-".concat("vertical"===this._direction?"horizontal":"vertical")),this.build(!1,!1)}},{key:"unit",get:function(){return this._unit},set:function(e){this._unit="pixel"===e?"pixel":"percent",this.renderer.addClass(this.elRef.nativeElement,"as-".concat(this._unit)),this.renderer.removeClass(this.elRef.nativeElement,"as-".concat("pixel"===this._unit?"percent":"pixel")),this.build(!1,!0)}},{key:"gutterSize",get:function(){return this._gutterSize},set:function(e){this._gutterSize=_u(e,11),this.build(!1,!1)}},{key:"gutterStep",get:function(){return this._gutterStep},set:function(e){this._gutterStep=_u(e,1)}},{key:"restrictMove",get:function(){return this._restrictMove},set:function(e){this._restrictMove=Ky(e)}},{key:"useTransition",get:function(){return this._useTransition},set:function(e){this._useTransition=Ky(e),this._useTransition?this.renderer.addClass(this.elRef.nativeElement,"as-transition"):this.renderer.removeClass(this.elRef.nativeElement,"as-transition")}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Ky(e),this._disabled?this.renderer.addClass(this.elRef.nativeElement,"as-disabled"):this.renderer.removeClass(this.elRef.nativeElement,"as-disabled")}},{key:"dir",get:function(){return this._dir},set:function(e){this._dir="rtl"===e?"rtl":"ltr",this.renderer.setAttribute(this.elRef.nativeElement,"dir",this._dir)}},{key:"gutterDblClickDuration",get:function(){return this._gutterDblClickDuration},set:function(e){this._gutterDblClickDuration=_u(e,0)}},{key:"transitionEnd",get:function(){var e=this;return new W.y(function(a){return e.transitionEndSubscriber=a}).pipe((0,Ar.b)(20))}},{key:"ngAfterViewInit",value:function(){var e=this;this.ngZone.runOutsideAngular(function(){setTimeout(function(){return e.renderer.addClass(e.elRef.nativeElement,"as-init")})})}},{key:"getNbGutters",value:function(){return 0===this.displayedAreas.length?0:this.displayedAreas.length-1}},{key:"addArea",value:function(e){var a={component:e,order:0,size:0,minSize:null,maxSize:null,sizeBeforeCollapse:null,gutterBeforeCollapse:0};!0===e.visible?(this.displayedAreas.push(a),this.build(!0,!0)):this.hiddenAreas.push(a)}},{key:"removeArea",value:function(e){if(this.displayedAreas.some(function(u){return u.component===e})){var a=this.displayedAreas.find(function(u){return u.component===e});this.displayedAreas.splice(this.displayedAreas.indexOf(a),1),this.build(!0,!0)}else if(this.hiddenAreas.some(function(u){return u.component===e})){var s=this.hiddenAreas.find(function(u){return u.component===e});this.hiddenAreas.splice(this.hiddenAreas.indexOf(s),1)}}},{key:"updateArea",value:function(e,a,s){!0===e.visible&&this.build(a,s)}},{key:"showArea",value:function(e){var a,s=this.hiddenAreas.find(function(l){return l.component===e});if(void 0!==s){var u=this.hiddenAreas.splice(this.hiddenAreas.indexOf(s),1);(a=this.displayedAreas).push.apply(a,(0,_.Z)(u)),this.build(!0,!0)}}},{key:"hideArea",value:function(e){var a,s=this.displayedAreas.find(function(l){return l.component===e});if(void 0!==s){var u=this.displayedAreas.splice(this.displayedAreas.indexOf(s),1);u.forEach(function(l){l.order=0,l.size=0}),(a=this.hiddenAreas).push.apply(a,(0,_.Z)(u)),this.build(!0,!0)}}},{key:"getVisibleAreaSizes",value:function(){return this.displayedAreas.map(function(e){return null===e.size?"*":e.size})}},{key:"setVisibleAreaSizes",value:function(e){if(e.length!==this.displayedAreas.length)return!1;var a=e.map(function(u){return _u(u,null)});return!1!==b3(this.unit,a)&&(this.displayedAreas.forEach(function(u,l){return u.component._size=a[l]}),this.build(!1,!0),!0)}},{key:"build",value:function(e,a){if(this.stopDragging(),!0===e&&(this.displayedAreas.every(function(h){return null!==h.component.order})&&this.displayedAreas.sort(function(h,C){return h.component.order-C.component.order}),this.displayedAreas.forEach(function(h,C){h.order=2*C,h.component.setStyleOrder(h.order)})),!0===a){var s=b3(this.unit,this.displayedAreas.map(function(h){return h.component.size}));switch(this.unit){case"percent":var u=100/this.displayedAreas.length;this.displayedAreas.forEach(function(h){h.size=s?h.component.size:u,h.minSize=aE(h),h.maxSize=oE(h)});break;case"pixel":if(s)this.displayedAreas.forEach(function(h){h.size=h.component.size,h.minSize=aE(h),h.maxSize=oE(h)});else{var l=this.displayedAreas.filter(function(h){return null===h.component.size});if(0===l.length&&this.displayedAreas.length>0)this.displayedAreas.forEach(function(h,C){h.size=0===C?null:h.component.size,h.minSize=0===C?null:aE(h),h.maxSize=0===C?null:oE(h)});else if(l.length>1){var c=!1;this.displayedAreas.forEach(function(h){null===h.component.size?!1===c?(h.size=null,h.minSize=null,h.maxSize=null,c=!0):(h.size=100,h.minSize=null,h.maxSize=null):(h.size=h.component.size,h.minSize=aE(h),h.maxSize=oE(h))})}}}}this.refreshStyleSizes(),this.cdRef.markForCheck()}},{key:"refreshStyleSizes",value:function(){var e=this;if("percent"===this.unit)if(1===this.displayedAreas.length)this.displayedAreas[0].component.setStyleFlex(0,0,"100%",!1,!1);else{var a=this.getNbGutters()*this.gutterSize;this.displayedAreas.forEach(function(s){s.component.setStyleFlex(0,0,"calc( ".concat(s.size,"% - ").concat(s.size/100*a,"px )"),null!==s.minSize&&s.minSize===s.size,null!==s.maxSize&&s.maxSize===s.size)})}else"pixel"===this.unit&&this.displayedAreas.forEach(function(s){null===s.size?s.component.setStyleFlex(1,1,1===e.displayedAreas.length?"100%":"auto",!1,!1):1===e.displayedAreas.length?s.component.setStyleFlex(0,0,"100%",!1,!1):s.component.setStyleFlex(0,0,"".concat(s.size,"px"),null!==s.minSize&&s.minSize===s.size,null!==s.maxSize&&s.maxSize===s.size)})}},{key:"clickGutter",value:function(e,a){var s=this,u=qy(e);this.startPoint&&_3(this.startPoint,u,this.gutterClickDeltaPx)&&(!this.isDragging||this.isWaitingInitialMove)&&(null!==this._clickTimeout?(window.clearTimeout(this._clickTimeout),this._clickTimeout=null,this.notify("dblclick",a),this.stopDragging()):this._clickTimeout=window.setTimeout(function(){s._clickTimeout=null,s.notify("click",a),s.stopDragging()},this.gutterDblClickDuration))}},{key:"startKeyboardDrag",value:function(e,a,s){if(!0!==this.disabled&&!0!==this.isWaitingClear){var u=function O8(o,n){if("horizontal"===n)switch(o.key){case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":break;default:return null}if("vertical"===n)switch(o.key){case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":break;default:return null}var t=o.currentTarget,e="PageUp"===o.key||"PageDown"===o.key?500:50,a=t.offsetLeft,s=t.offsetTop;switch(o.key){case"ArrowLeft":a-=e;break;case"ArrowRight":a+=e;break;case"ArrowUp":s-=e;break;case"ArrowDown":s+=e;break;case"PageUp":"vertical"===n?s-=e:a+=e;break;case"PageDown":"vertical"===n?s+=e:a-=e;break;default:return null}return{x:a,y:s}}(e,this.direction);null!==u&&(this.endPoint=u,this.startPoint=qy(e),e.preventDefault(),e.stopPropagation(),this.setupForDragEvent(a,s),this.startDragging(),this.drag(),this.stopDragging())}}},{key:"startMouseDrag",value:function(e,a,s){var u=this;e.preventDefault(),e.stopPropagation(),this.startPoint=qy(e),null!==this.startPoint&&!0!==this.disabled&&!0!==this.isWaitingClear&&(this.setupForDragEvent(a,s),this.dragListeners.push(this.renderer.listen("document","mouseup",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchend",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchcancel",this.stopDragging.bind(this))),this.ngZone.runOutsideAngular(function(){u.dragListeners.push(u.renderer.listen("document","mousemove",u.mouseDragEvent.bind(u))),u.dragListeners.push(u.renderer.listen("document","touchmove",u.mouseDragEvent.bind(u)))}),this.startDragging())}},{key:"setupForDragEvent",value:function(e,a){var s=this;this.snapshot={gutterNum:a,lastSteppedOffset:0,allAreasSizePixel:x3(this.elRef,this.direction)-this.getNbGutters()*this.gutterSize,allInvolvedAreasSizePercent:100,areasBeforeGutter:[],areasAfterGutter:[]},this.displayedAreas.forEach(function(u){var l={area:u,sizePixelAtStart:x3(u.component.elRef,s.direction),sizePercentAtStart:"percent"===s.unit?u.size:-1};u.order<e?!0===s.restrictMove?s.snapshot.areasBeforeGutter=[l]:s.snapshot.areasBeforeGutter.unshift(l):u.order>e&&(!0===s.restrictMove?0===s.snapshot.areasAfterGutter.length&&(s.snapshot.areasAfterGutter=[l]):s.snapshot.areasAfterGutter.push(l))}),this.snapshot.allInvolvedAreasSizePercent=[].concat((0,_.Z)(this.snapshot.areasBeforeGutter),(0,_.Z)(this.snapshot.areasAfterGutter)).reduce(function(u,l){return u+l.sizePercentAtStart},0)}},{key:"startDragging",value:function(){this.displayedAreas.forEach(function(e){return e.component.lockEvents()}),this.isDragging=!0,this.isWaitingInitialMove=!0}},{key:"mouseDragEvent",value:function(e){e.preventDefault(),e.stopPropagation();var a=qy(e);null!==this._clickTimeout&&!_3(this.startPoint,a,this.gutterClickDeltaPx)&&(window.clearTimeout(this._clickTimeout),this._clickTimeout=null),!1!==this.isDragging&&(this.endPoint=qy(e),null!==this.endPoint&&this.drag())}},{key:"drag",value:function(){var e=this;if(this.isWaitingInitialMove){if(this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y)return;this.ngZone.run(function(){e.isWaitingInitialMove=!1,e.renderer.addClass(e.elRef.nativeElement,"as-dragging"),e.renderer.addClass(e.gutterEls.toArray()[e.snapshot.gutterNum-1].nativeElement,"as-dragged"),e.notify("start",e.snapshot.gutterNum)})}var a="horizontal"===this.direction?this.startPoint.x-this.endPoint.x:this.startPoint.y-this.endPoint.y;"rtl"===this.dir&&"horizontal"===this.direction&&(a=-a);var s=Math.round(a/this.gutterStep)*this.gutterStep;if(s!==this.snapshot.lastSteppedOffset){this.snapshot.lastSteppedOffset=s;var u=$d(this.unit,this.snapshot.areasBeforeGutter,-s,this.snapshot.allAreasSizePixel),l=$d(this.unit,this.snapshot.areasAfterGutter,s,this.snapshot.allAreasSizePixel);if(0!==u.remain&&0!==l.remain?Math.abs(u.remain)===Math.abs(l.remain)||(Math.abs(u.remain)>Math.abs(l.remain)?l=$d(this.unit,this.snapshot.areasAfterGutter,s+u.remain,this.snapshot.allAreasSizePixel):u=$d(this.unit,this.snapshot.areasBeforeGutter,-(s-l.remain),this.snapshot.allAreasSizePixel)):0!==u.remain?l=$d(this.unit,this.snapshot.areasAfterGutter,s+u.remain,this.snapshot.allAreasSizePixel):0!==l.remain&&(u=$d(this.unit,this.snapshot.areasBeforeGutter,-(s-l.remain),this.snapshot.allAreasSizePixel)),"percent"===this.unit){var c=[].concat((0,_.Z)(u.list),(0,_.Z)(l.list)),h=c.find(function(C){return 0!==C.percentAfterAbsorption&&C.percentAfterAbsorption!==C.areaSnapshot.area.minSize&&C.percentAfterAbsorption!==C.areaSnapshot.area.maxSize});h&&(h.percentAfterAbsorption=this.snapshot.allInvolvedAreasSizePercent-c.filter(function(C){return C!==h}).reduce(function(C,T){return C+T.percentAfterAbsorption},0))}u.list.forEach(function(C){return C3(e.unit,C)}),l.list.forEach(function(C){return C3(e.unit,C)}),this.refreshStyleSizes(),this.notify("progress",this.snapshot.gutterNum)}}},{key:"stopDragging",value:function(e){var a=this;if(e&&(e.preventDefault(),e.stopPropagation()),!1!==this.isDragging){for(this.displayedAreas.forEach(function(u){return u.component.unlockEvents()});this.dragListeners.length>0;){var s=this.dragListeners.pop();s&&s()}this.isDragging=!1,!1===this.isWaitingInitialMove&&this.notify("end",this.snapshot.gutterNum),this.renderer.removeClass(this.elRef.nativeElement,"as-dragging"),this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.snapshot=null,this.isWaitingClear=!0,this.ngZone.runOutsideAngular(function(){setTimeout(function(){a.startPoint=null,a.endPoint=null,a.isWaitingClear=!1})})}}},{key:"notify",value:function(e,a){var s=this,u=this.getVisibleAreaSizes();"start"===e?this.dragStart.emit({gutterNum:a,sizes:u}):"end"===e?this.dragEnd.emit({gutterNum:a,sizes:u}):"click"===e?this.gutterClick.emit({gutterNum:a,sizes:u}):"dblclick"===e?this.gutterDblClick.emit({gutterNum:a,sizes:u}):"transitionEnd"===e?this.transitionEndSubscriber&&this.ngZone.run(function(){return s.transitionEndSubscriber.next(u)}):"progress"===e&&this.dragProgressSubject.next({gutterNum:a,sizes:u})}},{key:"ngOnDestroy",value:function(){this.stopDragging()}},{key:"collapseArea",value:function(e,a,s){var u=this.displayedAreas.find(function(h){return h.component===e});if(void 0!==u){var l="right"===s?1:-1;u.sizeBeforeCollapse||(u.sizeBeforeCollapse=u.size,u.gutterBeforeCollapse=l),u.size=a;var c=this.gutterEls.find(function(h){return h.nativeElement.style.order==="".concat(u.order+l)});c&&this.renderer.addClass(c.nativeElement,"as-split-gutter-collapsed"),this.updateArea(e,!1,!1)}}},{key:"expandArea",value:function(e){var a=this.displayedAreas.find(function(u){return u.component===e});if(void 0!==a&&a.sizeBeforeCollapse){a.size=a.sizeBeforeCollapse,a.sizeBeforeCollapse=null;var s=this.gutterEls.find(function(u){return u.nativeElement.style.order==="".concat(a.order+a.gutterBeforeCollapse)});s&&this.renderer.removeClass(s.nativeElement,"as-split-gutter-collapsed"),this.updateArea(e,!1,!1)}}},{key:"getAriaAreaSizeText",value:function(e){return null===e?null:e.toFixed(0)+" "+this.unit}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.NgZone),r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(r.ChangeDetectorRef),r.\u0275\u0275directiveInject(r.Renderer2),r.\u0275\u0275directiveInject(V8,8))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["as-split"]],viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(R8,5),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.gutterEls=a)},inputs:{direction:"direction",unit:"unit",gutterSize:"gutterSize",gutterStep:"gutterStep",restrictMove:"restrictMove",useTransition:"useTransition",disabled:"disabled",dir:"dir",gutterDblClickDuration:"gutterDblClickDuration",gutterClickDeltaPx:"gutterClickDeltaPx",gutterAriaLabel:"gutterAriaLabel"},outputs:{transitionEnd:"transitionEnd",dragStart:"dragStart",dragEnd:"dragEnd",gutterClick:"gutterClick",gutterDblClick:"gutterDblClick"},exportAs:["asSplit"],ngContentSelectors:I8,decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],["role","slider","tabindex","0","class","as-split-gutter",3,"flex-basis","order","keydown","mousedown","touchstart","mouseup","touchend",4,"ngIf"],["role","slider","tabindex","0",1,"as-split-gutter",3,"keydown","mousedown","touchstart","mouseup","touchend"],["gutterEls",""],[1,"as-split-gutter-icon"]],template:function(t,e){1&t&&(r.\u0275\u0275projectionDef(),r.\u0275\u0275projection(0),r.\u0275\u0275template(1,T8,1,1,"ng-template",0)),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.displayedAreas))},dependencies:[P.NgForOf,P.NgIf],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{border:none;flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%] > .as-split-gutter.as-split-gutter-collapsed[_ngcontent-%COMP%]{flex-basis:1px!important;pointer-events:none}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:row;cursor:col-resize;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:column;cursor:row-resize;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%], .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area{transition:flex-basis .3s}"],changeDetection:0}),o}(),Xy=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.ngZone=t,this.elRef=e,this.renderer=a,this.split=s,this._order=null,this._size=null,this._minSize=null,this._maxSize=null,this._lockSize=!1,this._visible=!0,this.lockListeners=[],this.renderer.addClass(this.elRef.nativeElement,"as-split-area")}return(0,y.Z)(n,[{key:"order",get:function(){return this._order},set:function(e){this._order=_u(e,null),this.split.updateArea(this,!0,!1)}},{key:"size",get:function(){return this._size},set:function(e){this._size=_u(e,null),this.split.updateArea(this,!1,!0)}},{key:"minSize",get:function(){return this._minSize},set:function(e){this._minSize=_u(e,null),this.split.updateArea(this,!1,!0)}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=_u(e,null),this.split.updateArea(this,!1,!0)}},{key:"lockSize",get:function(){return this._lockSize},set:function(e){this._lockSize=Ky(e),this.split.updateArea(this,!1,!0)}},{key:"visible",get:function(){return this._visible},set:function(e){this._visible=Ky(e),this._visible?(this.split.showArea(this),this.renderer.removeClass(this.elRef.nativeElement,"as-hidden")):(this.split.hideArea(this),this.renderer.addClass(this.elRef.nativeElement,"as-hidden"))}},{key:"ngOnInit",value:function(){var e=this;this.split.addArea(this),this.ngZone.runOutsideAngular(function(){e.transitionListener=e.renderer.listen(e.elRef.nativeElement,"transitionend",function(a){"flex-basis"===a.propertyName&&e.split.notify("transitionEnd",-1)})})}},{key:"setStyleOrder",value:function(e){this.renderer.setStyle(this.elRef.nativeElement,"order",e)}},{key:"setStyleFlex",value:function(e,a,s,u,l){this.renderer.setStyle(this.elRef.nativeElement,"flex-grow",e),this.renderer.setStyle(this.elRef.nativeElement,"flex-shrink",a),this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",s),!0===u?this.renderer.addClass(this.elRef.nativeElement,"as-min"):this.renderer.removeClass(this.elRef.nativeElement,"as-min"),!0===l?this.renderer.addClass(this.elRef.nativeElement,"as-max"):this.renderer.removeClass(this.elRef.nativeElement,"as-max")}},{key:"lockEvents",value:function(){var e=this;this.ngZone.runOutsideAngular(function(){e.lockListeners.push(e.renderer.listen(e.elRef.nativeElement,"selectstart",function(){return!1})),e.lockListeners.push(e.renderer.listen(e.elRef.nativeElement,"dragstart",function(){return!1}))})}},{key:"unlockEvents",value:function(){for(;this.lockListeners.length>0;){var e=this.lockListeners.pop();e&&e()}}},{key:"ngOnDestroy",value:function(){this.unlockEvents(),this.transitionListener&&this.transitionListener(),this.split.removeArea(this)}},{key:"collapse",value:function(){this.split.collapseArea(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"right")}},{key:"expand",value:function(){this.split.expandArea(this)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.NgZone),r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(r.Renderer2),r.\u0275\u0275directiveInject(Wy))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["as-split-area"],["","as-split-area",""]],inputs:{order:"order",size:"size",minSize:"minSize",maxSize:"maxSize",lockSize:"lockSize",visible:"visible"},exportAs:["asSplitArea"]}),o}(),sE=function(){var o=function(){function n(){(0,f.Z)(this,n)}return(0,y.Z)(n,null,[{key:"forRoot",value:function(){return console.warn("AngularSplitModule.forRoot() is deprecated and will be removed in v6"),{ngModule:n,providers:[]}}},{key:"forChild",value:function(){return console.warn("AngularSplitModule.forChild() is deprecated and will be removed in v6"),{ngModule:n,providers:[]}}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule]}),o}(),w3=S(78947),B8=S(73),xu=S(98977),uE=S(44874),S3=S(80155);var wl={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},P3=/[&<>"']/,L8=new RegExp(P3.source,"g"),A3=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,j8=new RegExp(A3.source,"g"),$8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},k3=function(n){return $8[n]};function ua(o,n){if(n){if(P3.test(o))return o.replace(L8,k3)}else if(A3.test(o))return o.replace(j8,k3);return o}var U8=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function R3(o){return o.replace(U8,function(n,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}var z8=/(^|[^\[])\^/g;function Vr(o,n){o="string"==typeof o?o:o.source,n=n||"";var t={replace:function(a,s){return s=(s=s.source||s).replace(z8,"$1"),o=o.replace(a,s),t},getRegex:function(){return new RegExp(o,n)}};return t}var G8=/[^\w:]/g,H8=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function D3(o,n,t){if(o){var e;try{e=decodeURIComponent(R3(t)).replace(G8,"").toLowerCase()}catch{return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}n&&!H8.test(t)&&(t=function X8(o,n){lE[" "+o]||(lE[" "+o]=q8.test(o)?o+"/":dE(o,"/",!0));var t=-1===(o=lE[" "+o]).indexOf(":");return"//"===n.substring(0,2)?t?n:o.replace(K8,"$1")+n:"/"===n.charAt(0)?t?n:o.replace(W8,"$1")+n:o+n}(n,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}var lE={},q8=/^[^:]+:\/*[^/]*$/,K8=/^([^:]+:)[\s\S]*$/,W8=/^([^:]+:\/*[^/]*)[\s\S]*$/,cE={exec:function(){}};function T3(o,n){var e=o.replace(/\|/g,function(s,u,l){for(var c=!1,h=u;--h>=0&&"\\"===l[h];)c=!c;return c?"|":" |"}).split(/ \|/),a=0;if(e[0].trim()||e.shift(),e.length>0&&!e[e.length-1].trim()&&e.pop(),e.length>n)e.splice(n);else for(;e.length<n;)e.push("");for(;a<e.length;a++)e[a]=e[a].trim().replace(/\\\|/g,"|");return e}function dE(o,n,t){var e=o.length;if(0===e)return"";for(var a=0;a<e;){var s=o.charAt(e-a-1);if(s!==n||t){if(s===n||!t)break;a++}else a++}return o.slice(0,e-a)}function I3(o,n){if(n<1)return"";for(var t="";n>1;)1&n&&(t+=o),n>>=1,o+=o;return t+o}function O3(o,n,t,e){var a=n.href,s=n.title?ua(n.title):null,u=o[1].replace(/\\([\[\]])/g,"$1");if("!"!==o[0].charAt(0)){e.state.inLink=!0;var l={type:"link",raw:t,href:a,title:s,text:u,tokens:e.inlineTokens(u)};return e.state.inLink=!1,l}return{type:"image",raw:t,href:a,title:s,text:ua(u)}}var rA=function(){function o(n){(0,f.Z)(this,o),this.options=n||wl}return(0,y.Z)(o,[{key:"space",value:function(t){var e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}},{key:"code",value:function(t){var e=this.rules.block.code.exec(t);if(e){var a=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?a:dE(a,"\n")}}}},{key:"fences",value:function(t){var e=this.rules.block.fences.exec(t);if(e){var a=e[0],s=function J8(o,n){var t=o.match(/^(\s+)(?:```)/);if(null===t)return n;var e=t[1];return n.split("\n").map(function(a){var s=a.match(/^\s+/);return null===s?a:(0,g.Z)(s,1)[0].length>=e.length?a.slice(e.length):a}).join("\n")}(a,e[3]||"");return{type:"code",raw:a,lang:e[2]?e[2].trim().replace(this.rules.inline._escapes,"$1"):e[2],text:s}}}},{key:"heading",value:function(t){var e=this.rules.block.heading.exec(t);if(e){var a=e[2].trim();if(/#$/.test(a)){var s=dE(a,"#");(this.options.pedantic||!s||/ $/.test(s))&&(a=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:a,tokens:this.lexer.inline(a)}}}},{key:"hr",value:function(t){var e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}}},{key:"blockquote",value:function(t){var e=this.rules.block.blockquote.exec(t);if(e){var a=e[0].replace(/^ *>[ \t]?/gm,""),s=this.lexer.state.top;this.lexer.state.top=!0;var u=this.lexer.blockTokens(a);return this.lexer.state.top=s,{type:"blockquote",raw:e[0],tokens:u,text:a}}}},{key:"list",value:function(t){var e=this.rules.block.list.exec(t);if(e){var a,s,u,l,c,h,C,T,N,F,$,se,ue=e[1].trim(),ge=ue.length>1,Se={type:"list",raw:"",ordered:ge,start:ge?+ue.slice(0,-1):"",loose:!1,items:[]};ue=ge?"\\d{1,9}\\".concat(ue.slice(-1)):"\\".concat(ue),this.options.pedantic&&(ue=ge?ue:"[*+-]");for(var we=new RegExp("^( {0,3}".concat(ue,")((?:[\t ][^\\n]*)?(?:\\n|$))"));t&&(se=!1,(e=we.exec(t))&&!this.rules.block.hr.test(t));){if(t=t.substring((a=e[0]).length),T=e[2].split("\n",1)[0].replace(/^\t+/,function(tn){return" ".repeat(3*tn.length)}),N=t.split("\n",1)[0],this.options.pedantic?(l=2,$=T.trimLeft()):(l=e[2].search(/[^ ]/),$=T.slice(l=l>4?1:l),l+=e[1].length),h=!1,!T&&/^ *$/.test(N)&&(a+=N+"\n",t=t.substring(N.length+1),se=!0),!se)for(var He=new RegExp("^ {0,".concat(Math.min(3,l-1),"}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))")),ot=new RegExp("^ {0,".concat(Math.min(3,l-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),dt=new RegExp("^ {0,".concat(Math.min(3,l-1),"}(?:```|~~~)")),Ot=new RegExp("^ {0,".concat(Math.min(3,l-1),"}#"));t&&(N=F=t.split("\n",1)[0],this.options.pedantic&&(N=N.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(dt.test(N)||Ot.test(N)||He.test(N)||ot.test(t)));){if(N.search(/[^ ]/)>=l||!N.trim())$+="\n"+N.slice(l);else{if(h||T.search(/[^ ]/)>=4||dt.test(T)||Ot.test(T)||ot.test(T))break;$+="\n"+N}!h&&!N.trim()&&(h=!0),a+=F+"\n",t=t.substring(F.length+1),T=N.slice(l)}Se.loose||(C?Se.loose=!0:/\n *\n *$/.test(a)&&(C=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec($))&&(u="[ ] "!==s[0],$=$.replace(/^\[[ xX]\] +/,"")),Se.items.push({type:"list_item",raw:a,task:!!s,checked:u,loose:!1,text:$}),Se.raw+=a}Se.items[Se.items.length-1].raw=a.trimRight(),Se.items[Se.items.length-1].text=$.trimRight(),Se.raw=Se.raw.trimRight();var pt=Se.items.length;for(c=0;c<pt;c++)if(this.lexer.state.top=!1,Se.items[c].tokens=this.lexer.blockTokens(Se.items[c].text,[]),!Se.loose){var Lt=Se.items[c].tokens.filter(function(tn){return"space"===tn.type}),$t=Lt.length>0&&Lt.some(function(tn){return/\n.*\n/.test(tn.raw)});Se.loose=$t}if(Se.loose)for(c=0;c<pt;c++)Se.items[c].loose=!0;return Se}}},{key:"html",value:function(t){var e=this.rules.block.html.exec(t);if(e){var a={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};if(this.options.sanitize){var s=this.options.sanitizer?this.options.sanitizer(e[0]):ua(e[0]);a.type="paragraph",a.text=s,a.tokens=this.lexer.inline(s)}return a}}},{key:"def",value:function(t){var e=this.rules.block.def.exec(t);if(e){var a=e[1].toLowerCase().replace(/\s+/g," "),s=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",u=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline._escapes,"$1"):e[3];return{type:"def",tag:a,raw:e[0],href:s,title:u}}}},{key:"table",value:function(t){var e=this.rules.block.table.exec(t);if(e){var a={type:"table",header:T3(e[1]).map(function(C){return{text:C}}),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(a.header.length===a.align.length){a.raw=e[0];var u,l,c,h,s=a.align.length;for(u=0;u<s;u++)a.align[u]=/^ *-+: *$/.test(a.align[u])?"right":/^ *:-+: *$/.test(a.align[u])?"center":/^ *:-+ *$/.test(a.align[u])?"left":null;for(s=a.rows.length,u=0;u<s;u++)a.rows[u]=T3(a.rows[u],a.header.length).map(function(C){return{text:C}});for(s=a.header.length,l=0;l<s;l++)a.header[l].tokens=this.lexer.inline(a.header[l].text);for(s=a.rows.length,l=0;l<s;l++)for(h=a.rows[l],c=0;c<h.length;c++)h[c].tokens=this.lexer.inline(h[c].text);return a}}}},{key:"lheading",value:function(t){var e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}},{key:"paragraph",value:function(t){var e=this.rules.block.paragraph.exec(t);if(e){var a="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:a,tokens:this.lexer.inline(a)}}}},{key:"text",value:function(t){var e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}},{key:"escape",value:function(t){var e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:ua(e[1])}}},{key:"tag",value:function(t){var e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):ua(e[0]):e[0]}}},{key:"link",value:function(t){var e=this.rules.inline.link.exec(t);if(e){var a=e[2].trim();if(!this.options.pedantic&&/^</.test(a)){if(!/>$/.test(a))return;var s=dE(a.slice(0,-1),"\\");if((a.length-s.length)%2==0)return}else{var u=function Q8(o,n){if(-1===o.indexOf(n[1]))return-1;for(var t=o.length,e=0,a=0;a<t;a++)if("\\"===o[a])a++;else if(o[a]===n[0])e++;else if(o[a]===n[1]&&--e<0)return a;return-1}(e[2],"()");if(u>-1){var c=(0===e[0].indexOf("!")?5:4)+e[1].length+u;e[2]=e[2].substring(0,u),e[0]=e[0].substring(0,c).trim(),e[3]=""}}var h=e[2],C="";if(this.options.pedantic){var T=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(h);T&&(h=T[1],C=T[3])}else C=e[3]?e[3].slice(1,-1):"";return h=h.trim(),/^</.test(h)&&(h=this.options.pedantic&&!/>$/.test(a)?h.slice(1):h.slice(1,-1)),O3(e,{href:h&&h.replace(this.rules.inline._escapes,"$1"),title:C&&C.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}},{key:"reflink",value:function(t,e){var a;if((a=this.rules.inline.reflink.exec(t))||(a=this.rules.inline.nolink.exec(t))){var s=(a[2]||a[1]).replace(/\s+/g," ");if(!(s=e[s.toLowerCase()])){var u=a[0].charAt(0);return{type:"text",raw:u,text:u}}return O3(a,s,a[0],this.lexer)}}},{key:"emStrong",value:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=this.rules.inline.emStrong.lDelim.exec(t);if(s&&(!s[3]||!a.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])/))){var u=s[1]||s[2]||"";if(!u||u&&(""===a||this.rules.inline.punctuation.exec(a))){var c,h,l=s[0].length-1,C=l,T=0,N="*"===s[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(N.lastIndex=0,e=e.slice(-1*t.length+l);null!=(s=N.exec(e));)if(c=s[1]||s[2]||s[3]||s[4]||s[5]||s[6]){if(h=c.length,s[3]||s[4]){C+=h;continue}if((s[5]||s[6])&&l%3&&!((l+h)%3)){T+=h;continue}if(!((C-=h)>0)){h=Math.min(h,h+C+T);var F=t.slice(0,l+s.index+(s[0].length-c.length)+h);if(Math.min(l,h)%2){var $=F.slice(1,-1);return{type:"em",raw:F,text:$,tokens:this.lexer.inlineTokens($)}}var se=F.slice(2,-2);return{type:"strong",raw:F,text:se,tokens:this.lexer.inlineTokens(se)}}}}}}},{key:"codespan",value:function(t){var e=this.rules.inline.code.exec(t);if(e){var a=e[2].replace(/\n/g," "),s=/[^ ]/.test(a),u=/^ /.test(a)&&/ $/.test(a);return s&&u&&(a=a.substring(1,a.length-1)),a=ua(a,!0),{type:"codespan",raw:e[0],text:a}}}},{key:"br",value:function(t){var e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}},{key:"del",value:function(t){var e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}},{key:"autolink",value:function(t,e){var s,u,a=this.rules.inline.autolink.exec(t);if(a)return u="@"===a[2]?"mailto:"+(s=ua(this.options.mangle?e(a[1]):a[1])):s=ua(a[1]),{type:"link",raw:a[0],text:s,href:u,tokens:[{type:"text",raw:s,text:s}]}}},{key:"url",value:function(t,e){var a;if(a=this.rules.inline.url.exec(t)){var s,u;if("@"===a[2])u="mailto:"+(s=ua(this.options.mangle?e(a[0]):a[0]));else{var l;do{l=a[0],a[0]=this.rules.inline._backpedal.exec(a[0])[0]}while(l!==a[0]);s=ua(a[0]),u="www."===a[1]?"http://"+a[0]:a[0]}return{type:"link",raw:a[0],text:s,href:u,tokens:[{type:"text",raw:s,text:s}]}}}},{key:"inlineText",value:function(t,e){var s,a=this.rules.inline.text.exec(t);if(a)return s=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):ua(a[0]):a[0]:ua(this.options.smartypants?e(a[0]):a[0]),{type:"text",raw:a[0],text:s}}}]),o}(),Dn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:cE,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Dn.def=Vr(Dn.def).replace("label",Dn._label).replace("title",Dn._title).getRegex(),Dn.bullet=/(?:[*+-]|\d{1,9}[.)])/,Dn.listItemStart=Vr(/^( *)(bull) */).replace("bull",Dn.bullet).getRegex(),Dn.list=Vr(Dn.list).replace(/bull/g,Dn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Dn.def.source+")").getRegex(),Dn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Dn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Dn.html=Vr(Dn.html,"i").replace("comment",Dn._comment).replace("tag",Dn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Dn.paragraph=Vr(Dn._paragraph).replace("hr",Dn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dn._tag).getRegex(),Dn.blockquote=Vr(Dn.blockquote).replace("paragraph",Dn.paragraph).getRegex(),Dn.normal=(0,b.Z)({},Dn),Dn.gfm=(0,b.Z)((0,b.Z)({},Dn.normal),{},{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Dn.gfm.table=Vr(Dn.gfm.table).replace("hr",Dn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dn._tag).getRegex(),Dn.gfm.paragraph=Vr(Dn._paragraph).replace("hr",Dn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Dn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dn._tag).getRegex(),Dn.pedantic=(0,b.Z)((0,b.Z)({},Dn.normal),{},{html:Vr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Dn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:cE,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Vr(Dn.normal._paragraph).replace("hr",Dn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Dn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var hn={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:cE,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:cE,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function eL(o){return o.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function F3(o){var t,e,n="",a=o.length;for(t=0;t<a;t++)e=o.charCodeAt(t),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n}hn._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",hn.punctuation=Vr(hn.punctuation).replace(/punctuation/g,hn._punctuation).getRegex(),hn.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,hn.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,hn._comment=Vr(Dn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),hn.emStrong.lDelim=Vr(hn.emStrong.lDelim).replace(/punct/g,hn._punctuation).getRegex(),hn.emStrong.rDelimAst=Vr(hn.emStrong.rDelimAst,"g").replace(/punct/g,hn._punctuation).getRegex(),hn.emStrong.rDelimUnd=Vr(hn.emStrong.rDelimUnd,"g").replace(/punct/g,hn._punctuation).getRegex(),hn._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,hn._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,hn._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,hn.autolink=Vr(hn.autolink).replace("scheme",hn._scheme).replace("email",hn._email).getRegex(),hn._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,hn.tag=Vr(hn.tag).replace("comment",hn._comment).replace("attribute",hn._attribute).getRegex(),hn._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,hn._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,hn._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,hn.link=Vr(hn.link).replace("label",hn._label).replace("href",hn._href).replace("title",hn._title).getRegex(),hn.reflink=Vr(hn.reflink).replace("label",hn._label).replace("ref",Dn._label).getRegex(),hn.nolink=Vr(hn.nolink).replace("ref",Dn._label).getRegex(),hn.reflinkSearch=Vr(hn.reflinkSearch,"g").replace("reflink",hn.reflink).replace("nolink",hn.nolink).getRegex(),hn.normal=(0,b.Z)({},hn),hn.pedantic=(0,b.Z)((0,b.Z)({},hn.normal),{},{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Vr(/^!?\[(label)\]\((.*?)\)/).replace("label",hn._label).getRegex(),reflink:Vr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",hn._label).getRegex()}),hn.gfm=(0,b.Z)((0,b.Z)({},hn.normal),{},{escape:Vr(hn.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),hn.gfm.url=Vr(hn.gfm.url,"i").replace("email",hn.gfm._extended_email).getRegex(),hn.breaks=(0,b.Z)((0,b.Z)({},hn.gfm),{},{br:Vr(hn.br).replace("{2,}","*").getRegex(),text:Vr(hn.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Qy=function(){function o(n){(0,f.Z)(this,o),this.tokens=[],this.tokens.links=Object.create(null),this.options=n||wl,this.options.tokenizer=this.options.tokenizer||new rA,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var t={block:Dn.normal,inline:hn.normal};this.options.pedantic?(t.block=Dn.pedantic,t.inline=hn.pedantic):this.options.gfm&&(t.block=Dn.gfm,t.inline=this.options.breaks?hn.breaks:hn.gfm),this.tokenizer.rules=t}return(0,y.Z)(o,[{key:"lex",value:function(t){t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);for(var e;e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}},{key:"blockTokens",value:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,function(T,N,F){return N+"    ".repeat(F.length)});for(var s,u,l,c,h=function(){if(e.options.extensions&&e.options.extensions.block&&e.options.extensions.block.some(function(ue){return!!(s=ue.call({lexer:e},t,a))&&(t=t.substring(s.raw.length),a.push(s),!0)}))return"continue";if(s=e.tokenizer.space(t))return t=t.substring(s.raw.length),1===s.raw.length&&a.length>0?a[a.length-1].raw+="\n":a.push(s),"continue";if(s=e.tokenizer.code(t))return t=t.substring(s.raw.length),!(u=a[a.length-1])||"paragraph"!==u.type&&"text"!==u.type?a.push(s):(u.raw+="\n"+s.raw,u.text+="\n"+s.text,e.inlineQueue[e.inlineQueue.length-1].src=u.text),"continue";if((s=e.tokenizer.fences(t))||(s=e.tokenizer.heading(t))||(s=e.tokenizer.hr(t))||(s=e.tokenizer.blockquote(t))||(s=e.tokenizer.list(t))||(s=e.tokenizer.html(t)))return t=t.substring(s.raw.length),a.push(s),"continue";if(s=e.tokenizer.def(t))return t=t.substring(s.raw.length),!(u=a[a.length-1])||"paragraph"!==u.type&&"text"!==u.type?e.tokens.links[s.tag]||(e.tokens.links[s.tag]={href:s.href,title:s.title}):(u.raw+="\n"+s.raw,u.text+="\n"+s.raw,e.inlineQueue[e.inlineQueue.length-1].src=u.text),"continue";if((s=e.tokenizer.table(t))||(s=e.tokenizer.lheading(t)))return t=t.substring(s.raw.length),a.push(s),"continue";if(l=t,e.options.extensions&&e.options.extensions.startBlock){var $,N=1/0,F=t.slice(1);e.options.extensions.startBlock.forEach(function(ue){"number"==typeof($=ue.call({lexer:this},F))&&$>=0&&(N=Math.min(N,$))}),N<1/0&&N>=0&&(l=t.substring(0,N+1))}if(e.state.top&&(s=e.tokenizer.paragraph(l)))return u=a[a.length-1],c&&"paragraph"===u.type?(u.raw+="\n"+s.raw,u.text+="\n"+s.text,e.inlineQueue.pop(),e.inlineQueue[e.inlineQueue.length-1].src=u.text):a.push(s),c=l.length!==t.length,t=t.substring(s.raw.length),"continue";if(s=e.tokenizer.text(t))return t=t.substring(s.raw.length),(u=a[a.length-1])&&"text"===u.type?(u.raw+="\n"+s.raw,u.text+="\n"+s.text,e.inlineQueue.pop(),e.inlineQueue[e.inlineQueue.length-1].src=u.text):a.push(s),"continue";if(t){var se="Infinite loop on byte: "+t.charCodeAt(0);if(e.options.silent)return console.error(se),"break";throw new Error(se)}};t;){var C=h();if("continue"!==C&&"break"===C)break}return this.state.top=!0,a}},{key:"inline",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.inlineQueue.push({src:t,tokens:e}),e}},{key:"inlineTokens",value:function(t){var s,u,l,h,C,T,e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=t;if(this.tokens.links){var N=Object.keys(this.tokens.links);if(N.length>0)for(;null!=(h=this.tokenizer.rules.inline.reflinkSearch.exec(c));)N.includes(h[0].slice(h[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,h.index)+"["+I3("a",h[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(h=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,h.index)+"["+I3("a",h[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(h=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,h.index+h[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(var F=function(){if(C||(T=""),C=!1,e.options.extensions&&e.options.extensions.inline&&e.options.extensions.inline.some(function(He){return!!(s=He.call({lexer:e},t,a))&&(t=t.substring(s.raw.length),a.push(s),!0)}))return"continue";if(s=e.tokenizer.escape(t))return t=t.substring(s.raw.length),a.push(s),"continue";if(s=e.tokenizer.tag(t))return t=t.substring(s.raw.length),(u=a[a.length-1])&&"text"===s.type&&"text"===u.type?(u.raw+=s.raw,u.text+=s.text):a.push(s),"continue";if(s=e.tokenizer.link(t))return t=t.substring(s.raw.length),a.push(s),"continue";if(s=e.tokenizer.reflink(t,e.tokens.links))return t=t.substring(s.raw.length),(u=a[a.length-1])&&"text"===s.type&&"text"===u.type?(u.raw+=s.raw,u.text+=s.text):a.push(s),"continue";if((s=e.tokenizer.emStrong(t,c,T))||(s=e.tokenizer.codespan(t))||(s=e.tokenizer.br(t))||(s=e.tokenizer.del(t))||(s=e.tokenizer.autolink(t,F3))||!e.state.inLink&&(s=e.tokenizer.url(t,F3)))return t=t.substring(s.raw.length),a.push(s),"continue";if(l=t,e.options.extensions&&e.options.extensions.startInline){var Se,ue=1/0,ge=t.slice(1);e.options.extensions.startInline.forEach(function(He){"number"==typeof(Se=He.call({lexer:this},ge))&&Se>=0&&(ue=Math.min(ue,Se))}),ue<1/0&&ue>=0&&(l=t.substring(0,ue+1))}if(s=e.tokenizer.inlineText(l,eL))return t=t.substring(s.raw.length),"_"!==s.raw.slice(-1)&&(T=s.raw.slice(-1)),C=!0,(u=a[a.length-1])&&"text"===u.type?(u.raw+=s.raw,u.text+=s.text):a.push(s),"continue";if(t){var we="Infinite loop on byte: "+t.charCodeAt(0);if(e.options.silent)return console.error(we),"break";throw new Error(we)}};t;){var $=F();if("continue"!==$&&"break"===$)break}return a}}],[{key:"rules",get:function(){return{block:Dn,inline:hn}}},{key:"lex",value:function(t,e){return new o(e).lex(t)}},{key:"lexInline",value:function(t,e){return new o(e).inlineTokens(t)}}]),o}(),Sl=function(){function o(n){(0,f.Z)(this,o),this.options=n||wl}return(0,y.Z)(o,[{key:"code",value:function(t,e,a){var s=(e||"").match(/\S*/)[0];if(this.options.highlight){var u=this.options.highlight(t,s);null!=u&&u!==t&&(a=!0,t=u)}return t=t.replace(/\n$/,"")+"\n",s?'<pre><code class="'+this.options.langPrefix+ua(s)+'">'+(a?t:ua(t,!0))+"</code></pre>\n":"<pre><code>"+(a?t:ua(t,!0))+"</code></pre>\n"}},{key:"blockquote",value:function(t){return"<blockquote>\n".concat(t,"</blockquote>\n")}},{key:"html",value:function(t){return t}},{key:"heading",value:function(t,e,a,s){if(this.options.headerIds){var u=this.options.headerPrefix+s.slug(a);return"<h".concat(e,' id="').concat(u,'">').concat(t,"</h").concat(e,">\n")}return"<h".concat(e,">").concat(t,"</h").concat(e,">\n")}},{key:"hr",value:function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}},{key:"list",value:function(t,e,a){var s=e?"ol":"ul";return"<"+s+(e&&1!==a?' start="'+a+'"':"")+">\n"+t+"</"+s+">\n"}},{key:"listitem",value:function(t){return"<li>".concat(t,"</li>\n")}},{key:"checkbox",value:function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}},{key:"paragraph",value:function(t){return"<p>".concat(t,"</p>\n")}},{key:"table",value:function(t,e){return e&&(e="<tbody>".concat(e,"</tbody>")),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"}},{key:"tablerow",value:function(t){return"<tr>\n".concat(t,"</tr>\n")}},{key:"tablecell",value:function(t,e){var a=e.header?"th":"td";return(e.align?"<".concat(a,' align="').concat(e.align,'">'):"<".concat(a,">"))+t+"</".concat(a,">\n")}},{key:"strong",value:function(t){return"<strong>".concat(t,"</strong>")}},{key:"em",value:function(t){return"<em>".concat(t,"</em>")}},{key:"codespan",value:function(t){return"<code>".concat(t,"</code>")}},{key:"br",value:function(){return this.options.xhtml?"<br/>":"<br>"}},{key:"del",value:function(t){return"<del>".concat(t,"</del>")}},{key:"link",value:function(t,e,a){if(null===(t=D3(this.options.sanitize,this.options.baseUrl,t)))return a;var s='<a href="'+t+'"';return e&&(s+=' title="'+e+'"'),s+">"+a+"</a>"}},{key:"image",value:function(t,e,a){if(null===(t=D3(this.options.sanitize,this.options.baseUrl,t)))return a;var s='<img src="'.concat(t,'" alt="').concat(a,'"');return e&&(s+=' title="'.concat(e,'"')),s+(this.options.xhtml?"/>":">")}},{key:"text",value:function(t){return t}}]),o}(),M3=function(){function o(){(0,f.Z)(this,o)}return(0,y.Z)(o,[{key:"strong",value:function(t){return t}},{key:"em",value:function(t){return t}},{key:"codespan",value:function(t){return t}},{key:"del",value:function(t){return t}},{key:"html",value:function(t){return t}},{key:"text",value:function(t){return t}},{key:"link",value:function(t,e,a){return""+a}},{key:"image",value:function(t,e,a){return""+a}},{key:"br",value:function(){return""}}]),o}(),N3=function(){function o(){(0,f.Z)(this,o),this.seen={}}return(0,y.Z)(o,[{key:"serialize",value:function(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}},{key:"getNextSafeSlug",value:function(t,e){var a=t,s=0;if(this.seen.hasOwnProperty(a)){s=this.seen[t];do{a=t+"-"+ ++s}while(this.seen.hasOwnProperty(a))}return e||(this.seen[t]=s,this.seen[a]=0),a}},{key:"slug",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.serialize(t);return this.getNextSafeSlug(a,e.dryrun)}}]),o}(),Yy=function(){function o(n){(0,f.Z)(this,o),this.options=n||wl,this.options.renderer=this.options.renderer||new Sl,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new M3,this.slugger=new N3}return(0,y.Z)(o,[{key:"parse",value:function(t){var s,u,l,c,h,C,T,N,F,$,se,ue,ge,Se,we,He,ot,dt,Ot,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a="",pt=t.length;for(s=0;s<pt;s++)if($=t[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[$.type]&&(!1!==(Ot=this.options.extensions.renderers[$.type].call({parser:this},$))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes($.type)))a+=Ot||"";else switch($.type){case"space":continue;case"hr":a+=this.renderer.hr();continue;case"heading":a+=this.renderer.heading(this.parseInline($.tokens),$.depth,R3(this.parseInline($.tokens,this.textRenderer)),this.slugger);continue;case"code":a+=this.renderer.code($.text,$.lang,$.escaped);continue;case"table":for(N="",T="",c=$.header.length,u=0;u<c;u++)T+=this.renderer.tablecell(this.parseInline($.header[u].tokens),{header:!0,align:$.align[u]});for(N+=this.renderer.tablerow(T),F="",c=$.rows.length,u=0;u<c;u++){for(T="",h=(C=$.rows[u]).length,l=0;l<h;l++)T+=this.renderer.tablecell(this.parseInline(C[l].tokens),{header:!1,align:$.align[l]});F+=this.renderer.tablerow(T)}a+=this.renderer.table(N,F);continue;case"blockquote":F=this.parse($.tokens),a+=this.renderer.blockquote(F);continue;case"list":for(se=$.ordered,ue=$.start,ge=$.loose,c=$.items.length,F="",u=0;u<c;u++)He=(we=$.items[u]).checked,ot=we.task,Se="",we.task&&(dt=this.renderer.checkbox(He),ge?we.tokens.length>0&&"paragraph"===we.tokens[0].type?(we.tokens[0].text=dt+" "+we.tokens[0].text,we.tokens[0].tokens&&we.tokens[0].tokens.length>0&&"text"===we.tokens[0].tokens[0].type&&(we.tokens[0].tokens[0].text=dt+" "+we.tokens[0].tokens[0].text)):we.tokens.unshift({type:"text",text:dt}):Se+=dt),Se+=this.parse(we.tokens,ge),F+=this.renderer.listitem(Se,ot,He);a+=this.renderer.list(F,se,ue);continue;case"html":a+=this.renderer.html($.text);continue;case"paragraph":a+=this.renderer.paragraph(this.parseInline($.tokens));continue;case"text":for(F=$.tokens?this.parseInline($.tokens):$.text;s+1<pt&&"text"===t[s+1].type;)F+="\n"+(($=t[++s]).tokens?this.parseInline($.tokens):$.text);a+=e?this.renderer.paragraph(F):F;continue;default:var Lt='Token with "'+$.type+'" type was not found.';if(this.options.silent)return void console.error(Lt);throw new Error(Lt)}return a}},{key:"parseInline",value:function(t,e){e=e||this.renderer;var s,u,l,a="",c=t.length;for(s=0;s<c;s++)if(u=t[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]&&(!1!==(l=this.options.extensions.renderers[u.type].call({parser:this},u))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(u.type)))a+=l||"";else switch(u.type){case"escape":case"text":a+=e.text(u.text);break;case"html":a+=e.html(u.text);break;case"link":a+=e.link(u.href,u.title,this.parseInline(u.tokens,e));break;case"image":a+=e.image(u.href,u.title,u.text);break;case"strong":a+=e.strong(this.parseInline(u.tokens,e));break;case"em":a+=e.em(this.parseInline(u.tokens,e));break;case"codespan":a+=e.codespan(u.text);break;case"br":a+=e.br();break;case"del":a+=e.del(this.parseInline(u.tokens,e));break;default:var h='Token with "'+u.type+'" type was not found.';if(this.options.silent)return void console.error(h);throw new Error(h)}return a}}],[{key:"parse",value:function(t,e){return new o(e).parse(t)}},{key:"parseInline",value:function(t,e){return new o(e).parseInline(t)}}]),o}(),pE=function(){function o(n){(0,f.Z)(this,o),this.options=n||wl}return(0,y.Z)(o,[{key:"preprocess",value:function(t){return t}},{key:"postprocess",value:function(t){return t}}]),o}();function V3(o,n){return function(t,e,a){"function"==typeof e&&(a=e,e=null);var s=(0,b.Z)({},e),u=function tL(o,n,t){return function(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",o){var a="<p>An error occurred:</p><pre>"+ua(e.message+"",!0)+"</pre>";return n?Promise.resolve(a):t?void t(null,a):a}if(n)return Promise.reject(e);if(!t)throw e;t(e)}}((e=(0,b.Z)((0,b.Z)({},Tn.defaults),s)).silent,e.async,a);if(typeof t>"u"||null===t)return u(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return u(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(function Y8(o){o&&o.sanitize&&!o.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(e),e.hooks&&(e.hooks.options=e),a){var c,l=e.highlight;try{e.hooks&&(t=e.hooks.preprocess(t)),c=o(t,e)}catch(F){return u(F)}var h=function($){var se;if(!$)try{e.walkTokens&&Tn.walkTokens(c,e.walkTokens),se=n(c,e),e.hooks&&(se=e.hooks.postprocess(se))}catch(ue){$=ue}return e.highlight=l,$?u($):a(null,se)};if(!l||l.length<3||(delete e.highlight,!c.length))return h();var C=0;return Tn.walkTokens(c,function(F){"code"===F.type&&(C++,setTimeout(function(){l(F.text,F.lang,function($,se){if($)return h($);null!=se&&se!==F.text&&(F.text=se,F.escaped=!0),0==--C&&h()})},0))}),void(0===C&&h())}if(e.async)return Promise.resolve(e.hooks?e.hooks.preprocess(t):t).then(function(F){return o(F,e)}).then(function(F){return e.walkTokens?Promise.all(Tn.walkTokens(F,e.walkTokens)).then(function(){return F}):F}).then(function(F){return n(F,e)}).then(function(F){return e.hooks?e.hooks.postprocess(F):F}).catch(u);try{e.hooks&&(t=e.hooks.preprocess(t));var T=o(t,e);e.walkTokens&&Tn.walkTokens(T,e.walkTokens);var N=n(T,e);return e.hooks&&(N=e.hooks.postprocess(N)),N}catch(F){return u(F)}}}function Tn(o,n,t){return V3(Qy.lex,Yy.parse)(o,n,t)}(0,d.Z)(pE,"passThroughHooks",new Set(["preprocess","postprocess"])),Tn.options=Tn.setOptions=function(o){return function Z8(o){wl=o}(Tn.defaults=(0,b.Z)((0,b.Z)({},Tn.defaults),o)),Tn},Tn.getDefaults=function E3(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Tn.defaults=wl,Tn.use=function(){for(var o=Tn.defaults.extensions||{renderers:{},childTokens:{}},n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];t.forEach(function(a){var s=(0,b.Z)({},a);if(s.async=Tn.defaults.async||s.async||!1,a.extensions&&(a.extensions.forEach(function(ue){if(!ue.name)throw new Error("extension name required");if(ue.renderer){var ge=o.renderers[ue.name];o.renderers[ue.name]=ge?function(){for(var Se=arguments.length,we=new Array(Se),He=0;He<Se;He++)we[He]=arguments[He];var ot=ue.renderer.apply(this,we);return!1===ot&&(ot=ge.apply(this,we)),ot}:ue.renderer}if(ue.tokenizer){if(!ue.level||"block"!==ue.level&&"inline"!==ue.level)throw new Error("extension level must be 'block' or 'inline'");o[ue.level]?o[ue.level].unshift(ue.tokenizer):o[ue.level]=[ue.tokenizer],ue.start&&("block"===ue.level?o.startBlock?o.startBlock.push(ue.start):o.startBlock=[ue.start]:"inline"===ue.level&&(o.startInline?o.startInline.push(ue.start):o.startInline=[ue.start]))}ue.childTokens&&(o.childTokens[ue.name]=ue.childTokens)}),s.extensions=o),a.renderer){var u=Tn.defaults.renderer||new Sl,l=function(ge){var Se=u[ge];u[ge]=function(){for(var we=arguments.length,He=new Array(we),ot=0;ot<we;ot++)He[ot]=arguments[ot];var dt=a.renderer[ge].apply(u,He);return!1===dt&&(dt=Se.apply(u,He)),dt}};for(var c in a.renderer)l(c);s.renderer=u}if(a.tokenizer){var h=Tn.defaults.tokenizer||new rA,C=function(ge){var Se=h[ge];h[ge]=function(){for(var we=arguments.length,He=new Array(we),ot=0;ot<we;ot++)He[ot]=arguments[ot];var dt=a.tokenizer[ge].apply(h,He);return!1===dt&&(dt=Se.apply(h,He)),dt}};for(var T in a.tokenizer)C(T);s.tokenizer=h}if(a.hooks){var N=Tn.defaults.hooks||new pE,F=function(ge){var Se=N[ge];N[ge]=pE.passThroughHooks.has(ge)?function(we){if(Tn.defaults.async)return Promise.resolve(a.hooks[ge].call(N,we)).then(function(ot){return Se.call(N,ot)});var He=a.hooks[ge].call(N,we);return Se.call(N,He)}:function(){for(var we=arguments.length,He=new Array(we),ot=0;ot<we;ot++)He[ot]=arguments[ot];var dt=a.hooks[ge].apply(N,He);return!1===dt&&(dt=Se.apply(N,He)),dt}};for(var $ in a.hooks)F($);s.hooks=N}if(a.walkTokens){var se=Tn.defaults.walkTokens;s.walkTokens=function(ue){var ge=[];return ge.push(a.walkTokens.call(this,ue)),se&&(ge=ge.concat(se.call(this,ue))),ge}}Tn.setOptions(s)})},Tn.walkTokens=function(o,n){var a,t=[],e=(0,ee.Z)(o);try{var s=function(){var l=a.value;switch(t=t.concat(n.call(Tn,l)),l.type){case"table":var h,c=(0,ee.Z)(l.header);try{for(c.s();!(h=c.n()).done;)t=t.concat(Tn.walkTokens(h.value.tokens,n))}catch(ge){c.e(ge)}finally{c.f()}var N,T=(0,ee.Z)(l.rows);try{for(T.s();!(N=T.n()).done;){var se,$=(0,ee.Z)(N.value);try{for($.s();!(se=$.n()).done;)t=t.concat(Tn.walkTokens(se.value.tokens,n))}catch(ge){$.e(ge)}finally{$.f()}}}catch(ge){T.e(ge)}finally{T.f()}break;case"list":t=t.concat(Tn.walkTokens(l.items,n));break;default:Tn.defaults.extensions&&Tn.defaults.extensions.childTokens&&Tn.defaults.extensions.childTokens[l.type]?Tn.defaults.extensions.childTokens[l.type].forEach(function(ge){t=t.concat(Tn.walkTokens(l[ge],n))}):l.tokens&&(t=t.concat(Tn.walkTokens(l.tokens,n)))}};for(e.s();!(a=e.n()).done;)s()}catch(u){e.e(u)}finally{e.f()}return t},Tn.parseInline=V3(Qy.lexInline,Yy.parseInline),Tn.Parser=Yy,Tn.parser=Yy.parse,Tn.Renderer=Sl,Tn.TextRenderer=M3,Tn.Lexer=Qy,Tn.lexer=Qy.lex,Tn.Tokenizer=rA,Tn.Slugger=N3,Tn.Hooks=pE,Tn.parse=Tn;var U3,o,a,nL=["*"],B3=function(){var o=function(){function n(){(0,f.Z)(this,n),this._buttonClick$=new ae.x,this.copied$=this._buttonClick$.pipe((0,st.w)(function(){return(0,Y.T)((0,Le.of)(!0),(0,w3.H)(3e3).pipe((0,B8.h)(!1)))}),(0,xu.x)(),(0,Bi.d)(1)),this.copiedText$=this.copied$.pipe((0,uE.O)(!1),(0,Ce.U)(function(t){return t?"Copied":"Copy"}))}return(0,y.Z)(n,[{key:"onCopyToClipboardClick",value:function(){this._buttonClick$.next()}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"button",0),r.\u0275\u0275listener("click",function(){return e.onCopyToClipboardClick()}),r.\u0275\u0275pipe(1,"async"),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"async"),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275classProp("copied",r.\u0275\u0275pipeBind1(1,3,e.copied$)),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(3,5,e.copiedText$)))},dependencies:[P.AsyncPipe],encapsulation:2,changeDetection:0}),o}(),aL=(0,y.Z)(function o(){(0,f.Z)(this,o)}),bu=function(){return(bu=bu||{}).CommandLine="command-line",bu.LineHighlight="line-highlight",bu.LineNumbers="line-numbers",bu}(),Z3=(0,y.Z)(function o(){(0,f.Z)(this,o)}),L3=new r.InjectionToken("SECURITY_CONTEXT"),fE=function(){var o=function(){function n(t,e,a,s,u,l){(0,f.Z)(this,n),this.platform=t,this.securityContext=e,this.http=a,this.clipboardOptions=s,this.sanitizer=l,this.DEFAULT_MARKED_OPTIONS={renderer:new Sl},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new ae.x,this.reload$=this._reload$.asObservable(),this.options=u}return(0,y.Z)(n,[{key:"options",get:function(){return this._options},set:function(e){this._options=(0,b.Z)((0,b.Z)({},this.DEFAULT_MARKED_OPTIONS),e)}},{key:"renderer",get:function(){return this.options.renderer},set:function(e){this.options.renderer=e}},{key:"parse",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.DEFAULT_PARSE_OPTIONS,s=a.decodeHtml,u=a.inline,l=a.emoji,c=a.mermaid,h=a.disableSanitizer,C=(0,b.Z)((0,b.Z)({},this.options),a.markedOptions);c&&(this.renderer=this.extendRenderer(C.renderer||new Sl));var T=this.trimIndentation(e),N=s?this.decodeHtml(T):T,F=l?this.parseEmoji(N):N,$=this.parseMarked(F,C,u);return(h?$:this.sanitizer.sanitize(this.securityContext,$))||""}},{key:"render",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.DEFAULT_RENDER_OPTIONS,l=a.clipboardOptions,c=a.katex,h=a.katexOptions,C=a.mermaid,T=a.mermaidOptions;a.clipboard&&this.renderClipboard(e,arguments.length>2?arguments[2]:void 0,(0,b.Z)((0,b.Z)((0,b.Z)({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),l)),c&&this.renderKatex(e,(0,b.Z)((0,b.Z)({},this.DEFAULT_KATEX_OPTIONS),h)),C&&this.renderMermaid(e,(0,b.Z)((0,b.Z)({},this.DEFAULT_MERMAID_OPTIONS),T)),this.highlight(e)}},{key:"reload",value:function(){this._reload$.next()}},{key:"getSource",value:function(e){var a=this;if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(e,{responseType:"text"}).pipe((0,Ce.U)(function(s){return a.handleExtension(e,s)}))}},{key:"highlight",value:function(e){if((0,P.isPlatformBrowser)(this.platform)&&!(typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")){e||(e=document);var a=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(a,function(s){return s.classList.add("language-none")}),Prism.highlightAllUnder(e)}}},{key:"decodeHtml",value:function(e){if(!(0,P.isPlatformBrowser)(this.platform))return e;var a=document.createElement("textarea");return a.innerHTML=e,a.value}},{key:"extendRenderer",value:function(e){var a=e;if(!0===a.\u0275NgxMarkdownRendererExtended)return e;var s=e.code;return e.code=function(u,l,c){return"mermaid"===l?'<div class="mermaid">'.concat(u,"</div>"):s.call(this,u,l,c)},a.\u0275NgxMarkdownRendererExtended=!0,e}},{key:"handleExtension",value:function(e,a){var s=e.lastIndexOf("://"),u=s>-1?e.substring(s+4):e,l=u.lastIndexOf("/"),c=l>-1?u.substring(l+1).split("?")[0]:"",h=c.lastIndexOf("."),C=h>-1?c.substring(h+1):"";return C&&"md"!==C?"```"+C+"\n"+a+"\n```":a}},{key:"parseMarked",value:function(e,a){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?Tn.parseInline(e,a):Tn.parse(e,a)}},{key:"parseEmoji",value:function(e){if(!(0,P.isPlatformBrowser)(this.platform))return e;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(e)}},{key:"renderKatex",value:function(e,a){if((0,P.isPlatformBrowser)(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(e,a)}}},{key:"renderClipboard",value:function(e,a,s){if((0,P.isPlatformBrowser)(this.platform)){if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!a)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");for(var u=s.buttonComponent,l=s.buttonTemplate,c=e.querySelectorAll("pre"),h=function(){var N=c.item(C),F=document.createElement("div");F.style.position="relative",N.parentNode.insertBefore(F,N),F.appendChild(N);var se,Se,$=document.createElement("div");$.style.position="absolute",$.style.top=".5em",$.style.right=".5em",$.style.opacity="0",$.style.transition="opacity 250ms ease-out",F.insertAdjacentElement("beforeend",$),N.onmouseover=function(){return $.style.opacity="1"},N.onmouseout=function(){return $.style.opacity="0"},(se=u?a.createComponent(u).hostView:l?a.createEmbeddedView(l):a.createComponent(B3).hostView).rootNodes.forEach(function(we){we.onmouseover=function(){return $.style.opacity="1"},$.appendChild(we),Se=new ClipboardJS(we,{text:function(){return N.innerText}})}),se.onDestroy(function(){return Se.destroy()})},C=0;C<c.length;C++)h()}}},{key:"renderMermaid",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.DEFAULT_MERMAID_OPTIONS;if((0,P.isPlatformBrowser)(this.platform)){if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");var s=e.querySelectorAll(".mermaid");0!==s.length&&(mermaid.initialize(a),mermaid.init(s))}}},{key:"trimIndentation",value:function(e){return e?e.split("\n").map(function(s){var u=a;return s.length>0&&(u=isNaN(u)?s.search(/\S|$/):Math.min(s.search(/\S|$/),u)),isNaN(a)&&(a=u),u?s.substring(u):s}).join("\n"):"";var a}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(r.PLATFORM_ID),r.\u0275\u0275inject(L3),r.\u0275\u0275inject(O.HttpClient,8),r.\u0275\u0275inject(aL,8),r.\u0275\u0275inject(Z3,8),r.\u0275\u0275inject(B.DomSanitizer))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),j3=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.element=t,this.markdownService=e,this.viewContainerRef=a,this.error=new r.EventEmitter,this.load=new r.EventEmitter,this.ready=new r.EventEmitter,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new ae.x}return(0,y.Z)(n,[{key:"disableSanitizer",get:function(){return this._disableSanitizer},set:function(e){this._disableSanitizer=this.coerceBooleanProperty(e)}},{key:"inline",get:function(){return this._inline},set:function(e){this._inline=this.coerceBooleanProperty(e)}},{key:"srcRelativeLink",get:function(){return this._srcRelativeLink},set:function(e){this._srcRelativeLink=this.coerceBooleanProperty(e)}},{key:"clipboard",get:function(){return this._clipboard},set:function(e){this._clipboard=this.coerceBooleanProperty(e)}},{key:"emoji",get:function(){return this._emoji},set:function(e){this._emoji=this.coerceBooleanProperty(e)}},{key:"katex",get:function(){return this._katex},set:function(e){this._katex=this.coerceBooleanProperty(e)}},{key:"mermaid",get:function(){return this._mermaid},set:function(e){this._mermaid=this.coerceBooleanProperty(e)}},{key:"lineHighlight",get:function(){return this._lineHighlight},set:function(e){this._lineHighlight=this.coerceBooleanProperty(e)}},{key:"lineNumbers",get:function(){return this._lineNumbers},set:function(e){this._lineNumbers=this.coerceBooleanProperty(e)}},{key:"commandLine",get:function(){return this._commandLine},set:function(e){this._commandLine=this.coerceBooleanProperty(e)}},{key:"ngOnChanges",value:function(){this.loadContent()}},{key:"loadContent",value:function(){null==this.data?null==this.src||this.handleSrc():this.handleData()}},{key:"ngAfterViewInit",value:function(){var e=this;!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe((0,Qr.R)(this.destroyed$)).subscribe(function(){return e.loadContent()})}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}},{key:"render",value:function(e){var s,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.src&&this.srcRelativeLink&&(s={baseUrl:new URL(this.src,location.origin).pathname});var c={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},h=this.markdownService.parse(e,{decodeHtml:a,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:s,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=h,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,c,this.viewContainerRef),this.ready.emit()}},{key:"coerceBooleanProperty",value:function(e){return null!=e&&"false"!=="".concat(String(e))}},{key:"handleData",value:function(){this.render(this.data)}},{key:"handleSrc",value:function(){var e=this;this.markdownService.getSource(this.src).subscribe({next:function(s){e.render(s),e.load.emit(s)},error:function(s){return e.error.emit(s)}})}},{key:"handleTransclusion",value:function(){this.render(this.element.nativeElement.innerHTML,!0)}},{key:"handlePlugins",value:function(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,bu.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,bu.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}},{key:"setPluginClass",value:function(e,a){for(var s=e.querySelectorAll("pre"),u=0;u<s.length;u++){var l,c=a instanceof Array?a:[a];(l=s.item(u).classList).add.apply(l,(0,_.Z)(c))}}},{key:"setPluginOptions",value:function(e,a){for(var s=this,u=e.querySelectorAll("pre"),l=function(C){Object.keys(a).forEach(function(T){var N=a[T];if(N){var F=s.toLispCase(T);u.item(C).setAttribute(F,N.toString())}})},c=0;c<u.length;c++)l(c)}},{key:"toLispCase",value:function(e){var a=e.match(/([A-Z])/g);if(!a)return e;for(var s=e.toString(),u=0,l=a.length;u<l;u++)s=s.replace(new RegExp(a[u]),"-"+a[u].toLowerCase());return"-"===s.slice(0,1)&&(s=s.slice(1)),s}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(fE),r.\u0275\u0275directiveInject(r.ViewContainerRef))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[r.\u0275\u0275NgOnChangesFeature],ngContentSelectors:nL,decls:1,vars:0,template:function(t,e){1&t&&(r.\u0275\u0275projectionDef(),r.\u0275\u0275projection(0))},encapsulation:2}),o}(),$3=function(){var o=function(){function n(t,e,a,s,u){(0,f.Z)(this,n),this.domSanitizer=t,this.elementRef=e,this.markdownService=a,this.viewContainerRef=s,this.zone=u}return(0,y.Z)(n,[{key:"transform",value:function(e,a){var s=this;if(null==e)return"";if("string"!=typeof e)return console.error("MarkdownPipe has been invoked with an invalid value type [".concat(typeof e,"]")),e;var u=this.markdownService.parse(e,a);return this.zone.onStable.pipe((0,S3.P)()).subscribe(function(){return s.markdownService.render(s.elementRef.nativeElement,a,s.viewContainerRef)}),this.domSanitizer.bypassSecurityTrustHtml(u)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(B.DomSanitizer,16),r.\u0275\u0275directiveInject(r.ElementRef,16),r.\u0275\u0275directiveInject(fE,16),r.\u0275\u0275directiveInject(r.ViewContainerRef,16),r.\u0275\u0275directiveInject(r.NgZone,16))},o.\u0275pipe=r.\u0275\u0275definePipe({name:"markdown",type:o,pure:!0}),o}(),iA=function(){var o=function(){function n(){(0,f.Z)(this,n)}return(0,y.Z)(n,null,[{key:"forRoot",value:function(e){return{ngModule:n,providers:[fE,e&&e.loader||[],e&&e.clipboardOptions||[],e&&e.markedOptions||[],{provide:L3,useValue:e&&null!=e.sanitize?e.sanitize:r.SecurityContext.HTML}]}}},{key:"forChild",value:function(){return{ngModule:n}}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule]}),o}();(a=(o=U3||(U3={})).SecurityLevel||(o.SecurityLevel={})).Strict="strict",a.Loose="loose",a.Antiscript="antiscript",a.Sandbox="sandbox",function(a){a.Base="base",a.Forest="forest",a.Dark="dark",a.Default="default",a.Neutral="neutral"}(o.Theme||(o.Theme={})),function(a){a[a.Debug=1]="Debug",a[a.Info=2]="Info",a[a.Warn=3]="Warn",a[a.Error=4]="Error",a[a.Fatal=5]="Fatal"}(o.LogLevel||(o.LogLevel={}));var bi=S(10233),pi=S(72049),Yt=S(5311),En=S(30972),Fi=S(80565);function fL(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function mL(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"form",3),r.\u0275\u0275listener("ngSubmit",function(){r.\u0275\u0275restoreView(t);var u=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(u.submit())}),r.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",4),r.\u0275\u0275template(3,fL,1,0,"ng-container",5),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(4,"mat-dialog-actions")(5,"button",6),r.\u0275\u0275text(6,"Save"),r.\u0275\u0275elementEnd()()()}if(2&o){var e=r.\u0275\u0275nextContext(),a=r.\u0275\u0275reference(3);r.\u0275\u0275property("formGroup",e.contentForm),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngTemplateOutlet",a),r.\u0275\u0275advance(2),r.\u0275\u0275property("disabled",!e.contentForm.valid)}}function hL(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function gL(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div",4),r.\u0275\u0275template(1,hL,1,0,"ng-container",5),r.\u0275\u0275elementEnd()),2&o){r.\u0275\u0275nextContext();var t=r.\u0275\u0275reference(3);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",t)}}function vL(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"li"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.key)}}function yL(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"ul",18),r.\u0275\u0275template(1,vL,2,1,"li",19),r.\u0275\u0275pipe(2,"keyvalue"),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("hidden",!0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(2,2,t.tokens))}}function _L(o,n){if(1&o&&(r.\u0275\u0275element(0,"classifieds-ui-dynamic-content-viewer",20),r.\u0275\u0275pipe(1,"markdown")),2&o){var t=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("content",r.\u0275\u0275pipeBind1(1,1,t.preview))}}function xL(o,n){if(1&o&&r.\u0275\u0275element(0,"classifieds-ui-dynamic-content-viewer",20),2&o){var t=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("content",t.preview)}}function bL(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"as-split",7)(1,"as-split-area",8)(2,"div"),r.\u0275\u0275template(3,yL,3,4,"ul",9),r.\u0275\u0275elementStart(4,"mat-form-field")(5,"mat-label"),r.\u0275\u0275text(6,"Content Type"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(7,"mat-select",10)(8,"mat-option",11),r.\u0275\u0275text(9,"Markdown"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(10,"mat-option",12),r.\u0275\u0275text(11,"HTML"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(12,"mat-option",13),r.\u0275\u0275text(13,"JSON"),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275elementStart(14,"as-split",14)(15,"as-split-area",8)(16,"div"),r.\u0275\u0275element(17,"textarea",15),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(18,"as-split-area",8)(19,"div"),r.\u0275\u0275element(20,"textarea",16),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275elementStart(21,"as-split-area",8),r.\u0275\u0275template(22,_L,2,3,"classifieds-ui-dynamic-content-viewer",17),r.\u0275\u0275template(23,xL,1,1,"classifieds-ui-dynamic-content-viewer",17),r.\u0275\u0275elementEnd()()),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275property("direction",t.splitDirection)("formGroup",t.contentForm),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngIf",t.tokens),r.\u0275\u0275advance(14),r.\u0275\u0275property("cols",t.cols)("rows",t.rows),r.\u0275\u0275advance(3),r.\u0275\u0275property("cols",t.cols)("rows",t.rows),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",t.isMarkdown),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!t.isMarkdown)}}var El=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.content=n.content,this.contentType=n.contentType,n.jsFile&&""!==n.jsFile&&(this.jsFile=n.jsFile),n.jsScript&&""!==n.jsScript&&(this.jsScript=n.jsScript))}),mE=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.fb=t,this.submitted=new r.EventEmitter,this.splitDirection="vertical",this.rows=40,this.cols=100,this.rootForm=!0,this.onTouched=function(){},this.contentForm=this.fb.group({content:this.fb.control("",v.Validators.required),contentType:this.fb.control("",v.Validators.required),jsScript:this.fb.control("")}),this.isMarkdown=!1,this.contentEditorOptions={theme:"vs-dark",language:"text/html"}}return(0,y.Z)(n,[{key:"snippet",set:function(e){void 0!==e&&this.contentForm.setValue((0,b.Z)((0,b.Z)({},e),{},{jsScript:e.jsScript&&""!==e.jsScript?e.jsScript:""}))}},{key:"ngOnInit",value:function(){var e=this;this.contentForm.get("content").valueChanges.pipe((0,xu.x)(),(0,Ar.b)(500),(0,Ce.U)(function(a){return void 0!==e.tokens?e.replaceTokens(a):a})).subscribe(function(a){e.preview=a}),this.contentForm.get("contentType").valueChanges.subscribe(function(a){e.isMarkdown="text/markdown"===a})}},{key:"writeValue",value:function(e){e&&(console.log("write value: ".concat(e)),this.contentForm.setValue(e,{emitEvent:!1}))}},{key:"registerOnChange",value:function(e){this.contentForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.contentForm.disable():this.contentForm.enable()}},{key:"validate",value:function(e){return this.contentForm.valid?null:{invalidForm:{valid:!1,message:"snippet is invalid"}}}},{key:"submit",value:function(){this.submitted.emit(new El({content:this.contentForm.get("content").value,contentType:this.contentForm.get("contentType").value,jsScript:this.contentForm.get("jsScript").value}))}},{key:"replaceTokens",value:function(e){return this.tokens&&this.tokens.forEach(function(a,s){e=e.replace("[".concat(s,"]"),"".concat(a," [token = '").concat(s,"']"))}),e}},{key:"addScript",value:function(){var e=document.createElement("script");e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-snippet-form"]],inputs:{tokens:"tokens",splitDirection:"splitDirection",rows:"rows",cols:"cols",rootForm:"rootForm",snippet:"snippet"},outputs:{submitted:"submitted"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:4,vars:2,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],["class","content-inner",4,"ngIf"],["formBodyTpl",""],[3,"formGroup","ngSubmit"],[1,"content-inner"],[4,"ngTemplateOutlet"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"direction","formGroup"],["size","50"],[3,"hidden",4,"ngIf"],["required","","formControlName","contentType"],["value","text/markdown"],["value","text/html"],["value","application/json"],["direction","horizontal"],["formControlName","content",3,"cols","rows"],["formControlName","jsScript",3,"cols","rows"],[3,"content",4,"ngIf"],[3,"hidden"],[4,"ngFor","ngForOf"],[3,"content"]],template:function(t,e){1&t&&(r.\u0275\u0275template(0,mL,7,3,"form",0),r.\u0275\u0275template(1,gL,2,1,"div",1),r.\u0275\u0275template(2,bL,24,9,"ng-template",null,2,r.\u0275\u0275templateRefExtractor)),2&t&&(r.\u0275\u0275property("ngIf",e.rootForm),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!e.rootForm))},dependencies:[P.NgForOf,P.NgIf,P.NgTemplateOutlet,v.\u0275NgNoValidate,v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,Wy,Xy,bi.MatLegacyOption,pi.MatLegacyButton,Yt.MatLegacyDialogClose,Yt.MatLegacyDialogContent,Yt.MatLegacyDialogActions,En.MatLegacyFormField,En.MatLegacyLabel,Fi.MatLegacySelect,Vn.DynamicContentViewer,P.KeyValuePipe,$3]}),o}(),aA=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule,v.ReactiveFormsModule,v.FormsModule,oi,sE,Oi.MaterialModule,hs,iA,Vn.UtilsModule]}),o}(),z3=function(){var o=function(){function n(){(0,f.Z)(this,n)}return(0,y.Z)(n,[{key:"parseSnippet",value:function(e){return(0,Le.of)(e.snippet.content)}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Rn=S(25813),CL=S(21954);function Or(o,n,t){return(0,CL.P)(function(){return o()?n:t})}var Sr=S(26562),fi=S(64744),Jy=S(53726),Hr=S(26073),Fa=S(93670);function wL(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",10),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("value",t.value.id),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.value.title)}}function SL(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",10),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("value",t),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t)}}function EL(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-form-field",2)(1,"mat-label"),r.\u0275\u0275text(2,"Context"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"mat-select",11),r.\u0275\u0275template(4,SL,2,2,"mat-option",4),r.\u0275\u0275elementEnd()()),2&o){var t=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275property("ngForOf",t.contexts)}}function PL(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div",12)(1,"mat-checkbox",13),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd()()),2&o){var t=n.index,e=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("formGroupName",t),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(e.flagsAsArray[t])}}function AL(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div",1)(1,"div"),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"mat-form-field",2)(4,"mat-label"),r.\u0275\u0275text(5,"Type"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(6,"mat-select",3),r.\u0275\u0275template(7,wL,2,2,"mat-option",4),r.\u0275\u0275pipe(8,"keyvalue"),r.\u0275\u0275pipe(9,"async"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275template(10,EL,5,1,"mat-form-field",5),r.\u0275\u0275elementStart(11,"mat-form-field",2),r.\u0275\u0275element(12,"input",6),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(13,"mat-form-field",2),r.\u0275\u0275element(14,"input",7),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(15,"div",8),r.\u0275\u0275template(16,PL,3,2,"div",9),r.\u0275\u0275elementEnd()()),2&o){var t=n.$implicit,e=n.index,a=r.\u0275\u0275nextContext();r.\u0275\u0275property("formGroup",t),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(a.paramName(e)),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(8,5,r.\u0275\u0275pipeBind1(9,7,a.paramPlugins$))),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngIf","context"==t.get("mapping").get("type").value),r.\u0275\u0275advance(6),r.\u0275\u0275property("ngForOf",t.get("flags").controls)}}function kL(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",4),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("value",t.value.id),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.value.title)}}var Rs=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),a=n.call(this,e),e&&(a.evalParam=e.evalParam,e.condition&&(a.condition=e.condition),e.usedContexts&&(a.usedContexts=e.usedContexts)),a}return(0,y.Z)(t)}(Rn.Plugin),Mi=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.mapping=new G3(n.mapping),void 0!==n.flags&&(this.flags=n.flags.map(function(t){return new TL(t)})))}),G3=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.type=n.type,this.value=n.value,this.testValue=n.testValue,this.context=n.context)}),TL=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.name=n.name,this.enabled=n.enabled)}),Ds=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.plugin=n.plugin,this.settings=n.settings?new H3(n.settings):new H3)}),H3=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.paramsString=n.paramsString,n.params&&Array.isArray(n.params)&&(this.params=n.params.map(function(t){return new Mi(t)})))}),Cu=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s){return(0,f.Z)(this,e),t.call(this,a,s)}return(0,y.Z)(e,[{key:"pluginDef",value:function(){return(0,Le.of)(new Rn.PluginDef({name:"param"}))}}]),e}(Rn.BasePluginManager);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Rn.PluginConfigurationManager),r.\u0275\u0275inject(Vn.ModuleLoaderService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),e_=function(){var o=function(){function n(t,e){var a=this;(0,f.Z)(this,n),this.fb=t,this.ppm=e,this.contexts=[],this.params$=new U.X({}),this.paramValues$=new U.X([]),this.init$=new ae.x,this.formArray=this.fb.array([]),this.paramPlugins$=this.ppm.getPlugins(),this.flags=new Map,this.savedParams=new Map,this.paramIndexes=new Map,this.paramsSub=this.params$.pipe((0,te.b)(function(s){var u=new Map((0,_.Z)(a.paramIndexes));a.formArray.clear(),a.paramIndexes.clear();var l=0;for(var c in s)Array.isArray(s[c])?(s[c].forEach(function(h){return a.buildParams(h,l,u)}),l++):0===s[c].indexOf(":")&&(a.buildParams(s[c],l,u),l++)})).subscribe(),this.savedParamsSub=this.formArray.valueChanges.pipe((0,Ar.b)(1e3),(0,te.b)(function(s){for(var u=s.length,l=0;l<u;l++)a.savedParams.set(a.paramName(l),new Mi(s[l]))})).subscribe(),this.paramValuesSub=(0,Sr.a)([this.paramValues$,this.params$,this.init$]).pipe((0,te.b)(function(s){for(var l=(0,g.Z)(s,1)[0],c=l?l.length:0,h=function(N){var F=Array.from(a.paramIndexes).find(function($){return(0,g.Z)($,2)[1]===N});void 0!==F&&a.savedParams.set(F[0],l[N])},C=0;C<c;C++)h(C)})).subscribe(),this.onTouched=function(){},this.flags.set("page","Page"),this.flags.set("limit","Limit"),this.flags.set("offset","Offset"),this.flags.set("searchString","Search String")}return(0,y.Z)(n,[{key:"params",set:function(e){this.params$.next(e)}},{key:"paramValues",set:function(e){this.paramValues$.next(e)}},{key:"flagsAsArray",get:function(){var e=[];return this.flags.forEach(function(a,s){e.push(s)}),e}},{key:"ngOnInit",value:function(){this.init$.next(void 0)}},{key:"writeValue",value:function(e){e&&this.formArray.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formArray.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formArray.disable():this.formArray.enable()}},{key:"validate",value:function(e){return this.formArray.valid?null:this.formArray.errors}},{key:"buildParams",value:function(e,a,s){var u=this;console.log("build param ".concat(e)),this.paramIndexes.set(e,a),this.formArray.push(this.fb.group({mapping:this.fb.group({type:this.fb.control("",v.Validators.required),value:this.fb.control("",v.Validators.required),testValue:this.fb.control(""),context:this.fb.control("")}),flags:this.fb.array(this.flagsAsArray.map(function(l){return u.fb.group({name:l,enabled:u.fb.control(!1)})}))})),this.savedParams.has(e)?this.formArray.at(a).setValue(this.savedParams.get(e)):a<this.paramValues$.value.length&&-1===Array.from(s).findIndex(function(l){return(0,g.Z)(l,2)[1]===a})&&this.formArray.at(a).setValue(this.paramValues$.value[a])}},{key:"paramName",value:function(e){var a=0;for(var s in this.params$.value)if(Array.isArray(this.params$.value[s]))for(var u=0;u<this.params$.value[s].length;u++){if(e===a)return this.params$.value[s][u];a++}else if(0===this.params$.value[s].indexOf(":")){if(a===e)return this.params$.value[s];a++}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Cu))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-params-form"]],inputs:{contexts:"contexts",params:"params",paramValues:"paramValues"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:1,vars:1,consts:[[3,"formGroup",4,"ngFor","ngForOf"],[3,"formGroup"],["formGroupName","mapping"],["required","","formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","mapping",4,"ngIf"],["matInput","","formControlName","value","placeholder","value","required",""],["matInput","","formControlName","testValue","placeholder","Test Value","required",""],["formArrayName","flags"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],["formControlName","context"],[3,"formGroupName"],["formControlName","enabled"]],template:function(t,e){1&t&&r.\u0275\u0275template(0,AL,17,9,"div",0),2&t&&r.\u0275\u0275property("ngForOf",e.formArray.controls)},dependencies:[P.NgForOf,P.NgIf,v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,v.FormGroupName,v.FormArrayName,bi.MatLegacyOption,Jy.MatLegacyCheckbox,En.MatLegacyFormField,En.MatLegacyLabel,Hr.MatLegacyInput,Fi.MatLegacySelect,P.AsyncPipe,P.KeyValuePipe]}),o}(),IL=function(){var o=function(){function n(t){var e=this;(0,f.Z)(this,n),this.fb=t,this.contexts=[],this.settings$=new U.X(void 0),this.afterViewInit$=new ae.x,this.paramValues$=new U.X([]),this.formGroup=this.fb.group({paramsString:this.fb.control(""),params:this.fb.control([])}),this.paramsStringChangeSub=this.formGroup.get("paramsString").valueChanges.pipe((0,Ar.b)(500)).subscribe(function(a){var s=Fa.parse("?"+a);e.paramsParsed=s}),this.settingsSub=this.settings$.pipe((0,te.b)(function(a){a&&e.formGroup.get("paramsString").setValue(a.paramsString?a.paramsString:"")})).subscribe(),this.settingsParamsSub=(0,Sr.a)([this.settings$,this.formGroup.get("paramsString").valueChanges]).pipe((0,Q.h)(function(a){return void 0!==(0,g.Z)(a,1)[0]}),(0,Rr.g)(1),(0,te.b)(function(a){var s=(0,g.Z)(a,1);return e.paramValues$.next(s[0].params)})).subscribe(),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:this.formGroup.errors}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-params-querystring"]],inputs:{contexts:"contexts",settings:"settings"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:6,vars:4,consts:[[3,"formGroup"],[1,"params-container"],["matInput","","placeholder","Params","formControlName","paramsString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div")(3,"mat-form-field"),r.\u0275\u0275element(4,"input",2),r.\u0275\u0275elementEnd()(),r.\u0275\u0275element(5,"classifieds-ui-params-form",3),r.\u0275\u0275elementEnd()()),2&t&&(r.\u0275\u0275property("formGroup",e.formGroup),r.\u0275\u0275advance(5),r.\u0275\u0275property("params",e.paramsParsed)("paramValues",e.paramValues$.value)("contexts",e.contexts))},dependencies:[v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,En.MatLegacyFormField,Hr.MatLegacyInput,e_]}),o}(),OL=function(){var o=function(){function n(t){var e=this;(0,f.Z)(this,n),this.fb=t,this.plugins$=new U.X([]),this.title$=new U.X("Plugin"),this.instance$=new U.X(new Ds),this.instanceForm=this.fb.group({plugin:this.fb.control(""),settings:this.fb.control("")}),this.instanceSub=this.instance$.pipe((0,Q.h)(function(a){return!!a}),(0,te.b)(function(a){e.instanceForm.get("plugin").setValue(a.plugin)})).subscribe(),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"title",set:function(e){this.title$.next(e)}},{key:"plugins",set:function(e){this.plugins$.next(e)}},{key:"instance",set:function(e){this.instance$.next(e)}},{key:"writeValue",value:function(e){e&&this.instanceForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.instanceForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.instanceForm.disable():this.instanceForm.enable()}},{key:"validate",value:function(e){return this.instanceForm.valid?null:this.instanceForm.errors}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-params-plugin-instance"]],inputs:{title:"title",plugins:"plugins",instance:"instance"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:10,vars:10,consts:[[3,"formGroup"],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["formControlName","settings",3,"settings"],[3,"value"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),r.\u0275\u0275text(3),r.\u0275\u0275pipe(4,"async"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"mat-select",1),r.\u0275\u0275template(6,kL,2,2,"mat-option",2),r.\u0275\u0275pipe(7,"keyvalue"),r.\u0275\u0275pipe(8,"async"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275element(9,"druid-params-querystring",3),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.instanceForm),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(4,4,e.title$)),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(7,6,r.\u0275\u0275pipeBind1(8,8,e.plugins$))),r.\u0275\u0275advance(3),r.\u0275\u0275property("settings",e.instance$.value.settings))},dependencies:[P.NgForOf,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,bi.MatLegacyOption,En.MatLegacyFormField,En.MatLegacyLabel,Fi.MatLegacySelect,IL,P.AsyncPipe,P.KeyValuePipe]}),o}(),Ts=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.paramPluginManager=t,this.tokenizerService=e}return(0,y.Z)(n,[{key:"paramValue",value:function(e,a){var s=this;return this.paramPluginManager.getPlugins().pipe((0,Ce.U)(function(u){return Array.from(u).map(function(l){return(0,g.Z)(l,2)[1]})}),(0,Ce.U)(function(u){return u.find(function(l){return l.condition&&l.condition({param:e,metadata:a})||!l.condition&&l.id===e.mapping.type})}),(0,st.w)(function(u){return Or(function(){return!!u},u?u.evalParam({param:e,metadata:a}):(0,Le.of)(),(0,Le.of)(e.mapping.value))}),(0,Ce.U)(function(u){return e.mapping.value&&"string"==typeof u&&0===s.tokenizerService.discoverTokens(u).length?u:e.mapping.testValue}))}},{key:"paramValues",value:function(e){var a=this;return(0,$n.D)(Array.from(e.keys()).map(function(s){return a.paramValue(e.get(s),new Map).pipe((0,Ce.U)(function(u){return[s,u]}))})).pipe((0,Ce.U)(function(s){return s.reduce(function(u,l){return new Map([].concat((0,_.Z)(u),[l]))},new Map)}),(0,fi.d)(new Map))}},{key:"resolveParams",value:function(e){var a=this,s=e.params;return(0,st.w)(function(){return Or(function(){return Object.keys(s).length>1},(0,$n.D)(Object.keys(s).map(function(u){return a.paramValue(s[u],new Map).pipe((0,Ce.U)(function(l){return(0,d.Z)({},u,l)}))})).pipe((0,Ce.U)(function(u){return u.reduce(function(l,c){return(0,b.Z)((0,b.Z)({},l),c)},{})}),(0,Ce.U)(function(u){return{options:u}})),Or(function(){return 0!==Object.keys(s).length},a.paramValue(0!==Object.keys(s).length?s[Object.keys(s)[0]]:new Mi,new Map).pipe((0,Ce.U)(function(u){return{options:(0,d.Z)({},Object.keys(s)[0],u)}})),(0,Le.of)({options:{}})))})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Cu),r.\u0275\u0275inject(Pr))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),wu=function(){var o=(0,y.Z)(function n(t,e){(0,f.Z)(this,n),t.register(new Rs({id:"static",title:"Static",evalParam:function(t){return(0,Le.of)(t.param.mapping.value)}})),t.register(function(n){return new Rs({id:"inputparam",title:"Input Param",evalParam:function(e){var a=e.param,s=e.metadata;return(0,Le.of)(a.mapping.value).pipe((0,Ce.U)(function(u){return s.has("inputparams")&&s.get("inputparams").has(u)?s.get("inputparams").get(u):void 0}),(0,st.w)(function(u){return Or(function(){return void 0!==u},void 0!==u?n.paramValue(u,s):(0,Le.of)(a.mapping.testValue),(0,Le.of)(a.mapping.testValue))}))}})}(e))});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Cu),r.\u0275\u0275inject(Ts))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule,v.FormsModule,v.ReactiveFormsModule,Oi.MaterialModule]}),o}(),q3="@ngrx/router-store/request",oA=((0,Bt.PH)(q3,(0,Bt.Ky)()),"@ngrx/router-store/navigation"),sA=((0,Bt.PH)(oA,(0,Bt.Ky)()),"@ngrx/router-store/cancel"),uA=((0,Bt.PH)(sA,(0,Bt.Ky)()),"@ngrx/router-store/error"),K3=((0,Bt.PH)(uA,(0,Bt.Ky)()),"@ngrx/router-store/navigated");(0,Bt.PH)(K3,(0,Bt.Ky)());var lA=function(){function o(){(0,f.Z)(this,o)}return(0,y.Z)(o,[{key:"serialize",value:function(t){return{root:this.serializeRoute(t.root),url:t.url}}},{key:"serializeRoute",value:function(t){var e=this,a=t.children.map(function(s){return e.serializeRoute(s)});return{params:t.params,data:t.data,url:t.url,outlet:t.outlet,title:t.title,routeConfig:t.routeConfig?{path:t.routeConfig.path,pathMatch:t.routeConfig.pathMatch,redirectTo:t.routeConfig.redirectTo,outlet:t.routeConfig.outlet,title:"string"==typeof t.routeConfig.title?t.routeConfig.title:void 0}:null,queryParams:t.queryParams,fragment:t.fragment,firstChild:a[0],children:a}}}]),o}(),Is=function(){return(Is=Is||{})[Is.PreActivation=1]="PreActivation",Is[Is.PostActivation=2]="PostActivation",Is}(),W3="router",X3=new r.InjectionToken("@ngrx/router-store Internal Configuration"),Q3=new r.InjectionToken("@ngrx/router-store Configuration");function ML(o){return(0,b.Z)({stateKey:W3,serializer:lA,navigationActionTiming:Is.PreActivation},o)}var Y3=function(){function o(){(0,f.Z)(this,o)}return(0,y.Z)(o,[{key:"serialize",value:function(t){return{root:this.serializeRoute(t.root),url:t.url}}},{key:"serializeRoute",value:function(t){var e=this,a=t.children.map(function(s){return e.serializeRoute(s)});return{params:t.params,paramMap:t.paramMap,data:t.data,url:t.url,outlet:t.outlet,title:t.title,routeConfig:t.routeConfig?{component:t.routeConfig.component,path:t.routeConfig.path,pathMatch:t.routeConfig.pathMatch,redirectTo:t.routeConfig.redirectTo,outlet:t.routeConfig.outlet,title:t.routeConfig.title}:null,queryParams:t.queryParams,queryParamMap:t.queryParamMap,fragment:t.fragment,component:t.routeConfig?t.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:a[0],pathFromRoot:void 0,children:a}}}]),o}(),J3=(0,y.Z)(function o(){(0,f.Z)(this,o)}),Ni=function(){return(Ni=Ni||{})[Ni.NONE=1]="NONE",Ni[Ni.ROUTER=2]="ROUTER",Ni[Ni.STORE=3]="STORE",Ni}(),eI=function(){var o=function(){function n(t,e,a,s,u,l){(0,f.Z)(this,n),this.store=t,this.router=e,this.serializer=a,this.errorHandler=s,this.config=u,this.activeRuntimeChecks=l,this.lastEvent=null,this.routerState=null,this.trigger=Ni.NONE,this.stateKey=this.config.stateKey,!(0,Bt.rM)()&&(0,r.isDevMode)()&&(null!=l&&l.strictActionSerializability||null!=l&&l.strictStateSerializability)&&this.serializer instanceof Y3&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}return(0,y.Z)(n,[{key:"setUpStoreStateListener",value:function(){var e=this;this.store.pipe((0,Bt.Ys)(this.stateKey),(0,Pa.M)(this.store)).subscribe(function(a){var s=(0,g.Z)(a,2);e.navigateIfNeeded(s[0],s[1])})}},{key:"navigateIfNeeded",value:function(e,a){var s=this;if(e&&e.state&&this.trigger!==Ni.ROUTER&&!(this.lastEvent instanceof dr.NavigationStart)){var u=e.state.url;(function NL(o,n){return tI(o)===tI(n)})(this.router.url,u)||(this.storeState=a,this.trigger=Ni.STORE,this.router.navigateByUrl(u).catch(function(l){s.errorHandler.handleError(l)}))}}},{key:"setUpRouterEventsListener",value:function(){var s,e=this,a=this.config.navigationActionTiming===Is.PostActivation;this.router.events.pipe((0,Pa.M)(this.store)).subscribe(function(u){var l=(0,g.Z)(u,2),c=l[0],h=l[1];e.lastEvent=c,c instanceof dr.NavigationStart?(e.routerState=e.serializer.serialize(e.router.routerState.snapshot),e.trigger!==Ni.STORE&&(e.storeState=h,e.dispatchRouterRequest(c))):c instanceof dr.RoutesRecognized?(s=c,!a&&e.trigger!==Ni.STORE&&e.dispatchRouterNavigation(c)):c instanceof dr.NavigationCancel?(e.dispatchRouterCancel(c),e.reset()):c instanceof dr.NavigationError?(e.dispatchRouterError(c),e.reset()):c instanceof dr.NavigationEnd&&(e.trigger!==Ni.STORE&&(a&&e.dispatchRouterNavigation(s),e.dispatchRouterNavigated(c)),e.reset())})}},{key:"dispatchRouterRequest",value:function(e){this.dispatchRouterAction(q3,{event:e})}},{key:"dispatchRouterNavigation",value:function(e){var a=this.serializer.serialize(e.state);this.dispatchRouterAction(oA,{routerState:a,event:new dr.RoutesRecognized(e.id,e.url,e.urlAfterRedirects,a)})}},{key:"dispatchRouterCancel",value:function(e){this.dispatchRouterAction(sA,{storeState:this.storeState,event:e})}},{key:"dispatchRouterError",value:function(e){this.dispatchRouterAction(uA,{storeState:this.storeState,event:new dr.NavigationError(e.id,e.url,"".concat(e))})}},{key:"dispatchRouterNavigated",value:function(e){var a=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(K3,{event:e,routerState:a})}},{key:"dispatchRouterAction",value:function(e,a){this.trigger=Ni.ROUTER;try{this.store.dispatch({type:e,payload:(0,b.Z)((0,b.Z)({routerState:this.routerState},a),{},{event:0===this.config.routerState?a.event:{id:a.event.id,url:a.event.url,urlAfterRedirects:a.event.urlAfterRedirects}})})}finally{this.trigger=Ni.NONE}}},{key:"reset",value:function(){this.trigger=Ni.NONE,this.storeState=null,this.routerState=null}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Bt.yh),r.\u0275\u0275inject(dr.Router),r.\u0275\u0275inject(J3),r.\u0275\u0275inject(r.ErrorHandler),r.\u0275\u0275inject(Q3),r.\u0275\u0275inject(Bt.hg))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}();function tI(o){return o?.length>0&&"/"===o[o.length-1]?o.substring(0,o.length-1):o}function VL(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.makeEnvironmentProviders)([{provide:X3,useValue:o},{provide:Q3,useFactory:ML,deps:[X3]},{provide:J3,useClass:o.serializer?o.serializer:0===o.routerState?Y3:lA},{provide:r.ENVIRONMENT_INITIALIZER,multi:!0,useFactory:function(){return function(){return(0,r.inject)(eI)}}},eI])}var BL=function(){var o=function(){function n(){(0,f.Z)(this,n)}return(0,y.Z)(n,null,[{key:"forRoot",value:function(){return{ngModule:n,providers:[VL(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})]}}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({}),o}();function t_(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function ZL(){return(0,Bt.ZF)(W3)}(),n=(0,Bt.P1)(o,function(F){return F&&F.state}),t=(0,Bt.P1)(n,function(F){return F&&F.root}),e=(0,Bt.P1)(t,function(F){if(F){for(var $=F;$.firstChild;)$=$.firstChild;return $}}),a=(0,Bt.P1)(t,function(F){return F&&F.fragment}),s=(0,Bt.P1)(t,function(F){return F&&F.queryParams}),l=(0,Bt.P1)(e,function(F){return F&&F.params}),h=(0,Bt.P1)(e,function(F){return F&&F.data}),T=(0,Bt.P1)(n,function(F){return F&&F.url}),N=(0,Bt.P1)(e,function(F){if(null!=F&&F.routeConfig)return"string"==typeof F.routeConfig.title?F.routeConfig.title:F.title});return{selectCurrentRoute:e,selectFragment:a,selectQueryParams:s,selectQueryParam:function($){return(0,Bt.P1)(s,function(se){return se&&se[$]})},selectRouteParams:l,selectRouteParam:function($){return(0,Bt.P1)(l,function(se){return se&&se[$]})},selectRouteData:h,selectRouteDataParam:function($){return(0,Bt.P1)(h,function(se){return se&&se[$]})},selectUrl:T,selectTitle:N}}var GL=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),[new Rs({id:"page",title:"Page",usedContexts:function(){return(0,Le.of)(["_page"])},condition:function(t){var a=t.metadata;return t.param.flags.findIndex(function(s){return s.enabled&&"page"===s.name})>-1&&a.has("page")},evalParam:function(t){return(0,Le.of)("".concat(t.metadata.get("page")))}}),new Rs({id:"searchstring",title:"Searchstring",condition:function(t){var a=t.metadata;return t.param.flags.findIndex(function(s){return s.enabled})>-1&&a.has("searchString")},evalParam:function(t){return(0,Le.of)("".concat(t.metadata.get("searchString")))}}),new Rs({id:"route",title:"Route",usedContexts:function(){return(0,Le.of)(["_route"])},evalParam:function(t){var e=t.param,s=t.metadata.get("_route");return(0,Le.of)(s.params[e.mapping.value])}}),new Rs({id:"querystring",title:"Querystring",usedContexts:function(){return(0,Le.of)(["_page"])},evalParam:function(t){var e=t.param,s=t.metadata.get("_route");return(0,Le.of)(s.queryParams[e.mapping.value])}}),new Rs({id:"standardpagination",title:"Standard Pagination",usedContexts:function(){return(0,Le.of)(["_page"])},condition:function(t){var a=t.metadata;return t.param.flags.findIndex(function(s){return s.enabled&&"offset"===s.name})>-1&&a.has("limit")&&a.has("page")},evalParam:function(t){var a=t.metadata;return(0,Le.of)("".concat(+a.get("limit")*(+a.get("page")-1)))}})].forEach(function(e){return t.register(e)})});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Cu))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[wu]}),o}(),n_=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.routerStore=t,this.paramPluginManager=e,this.paramEvaluatorService=a}return(0,y.Z)(n,[{key:"getUrl",value:function(e,a,s){var u=this,l=t_();return this.routerStore.pipe((0,Bt.Ys)(l.selectCurrentRoute),(0,Ce.U)(function(h){return[h,e,e?e.indexOf("?"):-1]}),(0,Ce.U)(function(h){var C=(0,g.Z)(h,3),N=C[1],F=C[2];return[C[0],F>-1?N.substring(0,F):N,F>-1?N.substring(F+1):""]}),(0,st.w)(function(h){var C=(0,g.Z)(h,3),T=C[0],N=C[1],F=C[2],$=Fa.parse(F),se=N?N.split("/"):[],ue=new Map([].concat((0,_.Z)(s),[["_route",T]])),ge=u.paramNames(e),Se=a.reduce(function(Ot,pt,Lt){return new Map([].concat((0,_.Z)(Ot),[[ge[Lt],pt]]))},new Map),we=se.reduce(function(Ot,pt,Lt){return 0===pt.indexOf(":")?[].concat((0,_.Z)(Ot),[u.paramEvaluatorService.paramValue(Se.get(pt),ue)]):[].concat((0,_.Z)(Ot),[(0,Le.of)(se[Lt])])},[]),He=[],ot=function(pt){Array.isArray($[pt])?$[pt].forEach(function(Lt){return He.push(u.paramEvaluatorService.paramValue(Se.get(Lt),ue).pipe((0,Ce.U)(function($t){return[pt,$t,!0]})))}):"string"==typeof $[pt]&&$[pt].indexOf(":")>-1?He.push(u.paramEvaluatorService.paramValue(Se.get($[pt]),ue).pipe((0,Ce.U)(function(Lt){return[pt,Lt,!1]}))):He.push((0,Le.of)([pt,$[pt],Array.isArray($[pt])]))};for(var dt in $)ot(dt);return(0,$n.D)([(0,$n.D)(we).pipe((0,Ce.U)(function(Ot){return Ot.filter(function(pt){return null!=pt&&""!==pt&&"undefined"!==pt}).map(function(pt,Lt){return 0===Lt&&0===pt.indexOf("http")?"".concat(pt,"/"):pt}).join("/")}),(0,fi.d)(N)),(0,$n.D)(He).pipe((0,te.b)(function(Ot){return console.log(Ot)}),(0,Ce.U)(function(Ot){return Ot.reduce(function(pt,Lt){var $t=(0,g.Z)(Lt,3),tn=$t[0],Gt=$t[1],Ut=$t[2];if(null==Gt||""===Gt||"undefined"===Gt){var qt=(0,b.Z)({},pt);return delete qt[tn],qt}return(0,b.Z)((0,b.Z)({},pt),{},(0,d.Z)({},tn,Ut?[].concat((0,_.Z)(void 0!==pt[tn]?pt[tn]:[]),[Gt]):Gt))},u.rebuildQueryString($))}),(0,te.b)(function(Ot){return console.log(Ot)}),(0,Ce.U)(function(Ot){return Fa.stringify(Ot,{arrayFormat:"repeat",indices:!1})}),(0,fi.d)(F))]).pipe((0,Ce.U)(function(Ot){return Ot.join("?")}))}))}},{key:"paramNames",value:function(e){var a=e?e.indexOf("?"):-1,s=(a>-1?e.substring(0,a):e||"").split("/").reduce(function(h,C,T){return 0===C.indexOf(":")?(0,b.Z)((0,b.Z)({},h),{},(0,d.Z)({},C.substr(1),C)):h},{}),u=(0,b.Z)((0,b.Z)({},s),Fa.parse(e?e.substring(e.indexOf("?")+1):"")),l=[];for(var c in u)Array.isArray(u[c])?u[c].forEach(function(h){return l.push(h)}):0===u[c].indexOf(":")&&l.push(u[c]);return l}},{key:"rebuildQueryString",value:function(e){var a={};for(var s in e)Array.isArray(e[s])?a[s]=[]:null!=s[e]&&""!==s[e]&&"undefined"!==s[e]&&(a[s]=s[e]);return Fa.parse(a)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Bt.yh),r.\u0275\u0275inject(Cu),r.\u0275\u0275inject(Ts))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}();function HL(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",8),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("value",t.value.id),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.value.title)}}function qL(o,n){}function KL(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",8),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("value",t),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t)}}function WL(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",9)(1,"mat-form-field")(2,"mat-label"),r.\u0275\u0275text(3,"Binding"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"mat-select",10),r.\u0275\u0275template(5,KL,2,2,"mat-option",2),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(6,"button",6),r.\u0275\u0275listener("click",function(){var l=r.\u0275\u0275restoreView(t).index,c=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(c.removeBinding(l))}),r.\u0275\u0275text(7,"Remove"),r.\u0275\u0275elementEnd()()}if(2&o){var e=n.index,a=r.\u0275\u0275nextContext();r.\u0275\u0275property("formGroupName",e),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngForOf",a.bindableOptions)}}var ns=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),a=n.call(this,e),e&&(a.editor=e.editor,a.fetch=e.fetch,a.getBindings=e.getBindings?e.getBindings:function(){return(0,Le.of)([])},a.editorOptions=e.editorOptions?e.editorOptions:function(){return(0,Le.of)(new hE)}),a}return(0,y.Z)(t)}(Rn.Plugin),Os=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.url=n.url,this.method=n.method?n.method:void 0,void 0!==n.renderer&&(this.renderer=new cA(n.renderer)),void 0!==n.params&&(this.params=n.params.map(function(t){return new Mi(t)})),n.body&&(this.body=new El(n.body)))}),cA=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.type=n.type,this.query=n.query,this.trackBy=n.trackBy,void 0!==n.data&&(this.data=new El(n.data)),void 0!==n.bindings&&(this.bindings=n.bindings.map(function(t){return new pn.ContentBinding(t)})))}),pr=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.results=[],n&&(this.results=n.results)}),nI=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.query=n.query,this.trackBy=n.trackBy,this.idMapping=n.idMapping,this.labelMapping=n.labelMapping,this.valueMapping=n.valueMapping,this.multiple=n.multiple,this.limit=n.limit)}),Pl=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.settings=[],this.params=[],n&&(this.plugin=n.plugin,n.renderer&&(this.renderer=new cA(n.renderer)),n.settings&&(this.settings=n.settings.map(function(t){return new Nt.AttributeValue(t)})),n.params&&(this.params=n.params.map(function(t){return new Mi(t)})))}),hE=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.fullscreen=!1,n&&(this.fullscreen=n.fullscreen)}),dA=new nI({query:"",trackBy:"",idMapping:"",labelMapping:"",valueMapping:"",multiple:!1,limit:0}),XL=(new Os({url:"",renderer:{type:"",data:{content:"",contentType:""},query:"",trackBy:"",bindings:[]},params:[]}),function(){var o=function(){function n(t){var e=this;(0,f.Z)(this,n),this.fb=t,this.datasourceOptions$=new U.X(dA),this.formGroup=this.fb.group({query:this.fb.control(""),trackBy:this.fb.control(""),valueMapping:this.fb.control(""),labelMapping:this.fb.control(""),idMapping:this.fb.control(""),multiple:this.fb.control(""),limit:this.fb.control("")}),this.datasourceOptionsSub=this.datasourceOptions$.subscribe(function(a){e.formGroup.setValue(a),e.formGroup.updateValueAndValidity()}),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"datasourceOptions",set:function(e){this.datasourceOptions$.next(e)}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{datasourceOptions:{valid:!1}}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-datasource-options"]],inputs:{datasourceOptions:"datasourceOptions"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:16,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","query","placeholder","Query"],["matInput","","formControlName","trackBy","placeholder","Track By"],["matInput","","formControlName","idMapping","placeholder","Id"],["matInput","","formControlName","valueMapping","placeholder","Value"],["matInput","","formControlName","labelMapping","placeholder","Label"],["formControlName","multiple"],["matInput","","formControlName","limit","placeholder","Limit"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field"),r.\u0275\u0275element(2,"input",1),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"mat-form-field"),r.\u0275\u0275element(4,"input",2),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"mat-form-field"),r.\u0275\u0275element(6,"input",3),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(7,"mat-form-field"),r.\u0275\u0275element(8,"input",4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"mat-form-field"),r.\u0275\u0275element(10,"input",5),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(11,"div")(12,"mat-checkbox",6),r.\u0275\u0275text(13,"Multiple"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(14,"mat-form-field"),r.\u0275\u0275element(15,"input",7),r.\u0275\u0275elementEnd()()),2&t&&r.\u0275\u0275property("formGroup",e.formGroup)},dependencies:[v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,Jy.MatLegacyCheckbox,En.MatLegacyFormField,Hr.MatLegacyInput],encapsulation:2}),o}()),rI=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.viewContainerRef=t});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ViewContainerRef))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiDatasourceRendererHost",""]]}),o}(),co=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s){return(0,f.Z)(this,e),t.call(this,a,s)}return(0,y.Z)(e,[{key:"pluginDef",value:function(){return(0,Le.of)(new Rn.PluginDef({name:"datasource"}))}}]),e}(Rn.BasePluginManager);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Rn.PluginConfigurationManager),r.\u0275\u0275inject(Vn.ModuleLoaderService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),pA=function(){var o=function(){function n(t,e,a){var s=this;(0,f.Z)(this,n),this.fb=t,this.componentFactoryResolver=e,this.dpm=a,this.datasources$=this.dpm.getPlugins(),this.formGroup=this.fb.group({plugin:this.fb.control("",[v.Validators.required]),settings:this.fb.control(""),renderer:this.fb.group({type:this.fb.control("pane"),bindings:this.fb.array([])})}),this.bindableOptions=[],this.contexts=[],this.settings$=new U.X([]),this.componentRef$=new U.X(void 0),this.datasource$=new U.X(void 0),this.afterViewInit$=new ae.x,this.contextForwardingSub=this.componentRef$.pipe((0,Q.h)(function(u){return!!u})).subscribe(function(u){u.instance.contexts=s.contexts,u.instance.settings=s.settings$.value}),this.rendererSub=(0,Sr.a)([this.formGroup.get("plugin").valueChanges,this.afterViewInit$]).pipe((0,st.w)(function(u){var c=(0,g.Z)(u,2)[0];return c&&""!==c?s.dpm.getPlugin(c):(0,Le.of)(void 0)})).subscribe(function(u){u&&s.renderPlugin(u)}),this.settingsSub=(0,Sr.a)([this.componentRef$,this.settings$]).pipe((0,Q.h)(function(u){return!!(0,g.Z)(u,2)[0]})).subscribe(function(u){var l=(0,g.Z)(u,2);l[0].instance.settings=l[1]}),this.datasourceSub=this.datasource$.pipe((0,te.b)(function(u){setTimeout(function(){return s.settings$.next(u?u.settings:[])})})).subscribe(function(u){s.formGroup.get("renderer").get("bindings").clear(),u?(s.formGroup.get("plugin").setValue(u.plugin),s.formGroup.get("renderer").get("type").setValue("pane"),u.renderer&&u.renderer.bindings&&u.renderer.bindings.forEach(function(l){s.addBinding(l)})):(s.formGroup.get("plugin").setValue(""),s.formGroup.get("renderer").get("type").setValue("pane"))}),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"datasource",set:function(e){this.datasource$.next(e)}},{key:"bindings",get:function(){return this.formGroup.get("renderer").get("bindings")}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"renderPlugin",value:function(e){var a=this.componentFactoryResolver.resolveComponentFactory(e.editor),s=this.datasourceHost.viewContainerRef;s.clear(),this.componentRef$.next(s.createComponent(a))}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}},{key:"addBinding",value:function(e){this.bindings.push(this.fb.group({type:this.fb.control("pane",v.Validators.required),id:this.fb.control(e?e.id:"",v.Validators.required)}))}},{key:"removeBinding",value:function(e){this.bindings.removeAt(e)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(r.ComponentFactoryResolver),r.\u0275\u0275directiveInject(co))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-datasource-form"]],viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(rI,7),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.datasourceHost=a.first)},inputs:{bindableOptions:"bindableOptions",contexts:"contexts",datasource:"datasource"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:16,vars:7,consts:[[3,"formGroup"],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["classifiedsUiDatasourceRendererHost",""],["formGroupName","renderer"],["formArrayName","bindings"],["type","button",3,"click"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],[3,"formGroupName"],["required","","formControlName","id"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),r.\u0275\u0275text(3,"Datasource"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"mat-select",1),r.\u0275\u0275template(5,HL,2,2,"mat-option",2),r.\u0275\u0275pipe(6,"keyvalue"),r.\u0275\u0275pipe(7,"async"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementContainerStart(8),r.\u0275\u0275template(9,qL,0,0,"ng-template",3),r.\u0275\u0275elementContainerEnd(),r.\u0275\u0275elementStart(10,"div",4)(11,"div",5)(12,"button",6),r.\u0275\u0275listener("click",function(){return e.addBinding()}),r.\u0275\u0275text(13,"Add Binding"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(14,"div"),r.\u0275\u0275template(15,WL,8,2,"div",7),r.\u0275\u0275elementEnd()()()()),2&t&&(r.\u0275\u0275property("formGroup",e.formGroup),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(6,3,r.\u0275\u0275pipeBind1(7,5,e.datasources$))),r.\u0275\u0275advance(10),r.\u0275\u0275property("ngForOf",e.bindings.controls))},dependencies:[P.NgForOf,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,v.FormGroupName,v.FormArrayName,bi.MatLegacyOption,En.MatLegacyFormField,En.MatLegacyLabel,Fi.MatLegacySelect,rI,P.AsyncPipe,P.KeyValuePipe]}),o}(),QL=function(){var o=function(){function n(t,e){var a=this;(0,f.Z)(this,n),this.fb=t,this.attributeSerializer=e,this.settings$=new U.X(void 0),this.formGroup=this.fb.group({data:this.fb.control("")}),this.settingsSub=this.settings$.pipe((0,Ce.U)(function(s){return s?a.attributeSerializer.deserializeAsObject(s):void 0})).subscribe(function(s){s&&s.data?a.formGroup.get("data").setValue(s.data):a.formGroup.get("data").setValue("")}),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Nt.AttributeSerializerService))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-data-source-form"]],inputs:{settings:"settings"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","data","cols","60","rows","20"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275element(1,"textarea",1),r.\u0275\u0275elementEnd()),2&t&&r.\u0275\u0275property("formGroup",e.formGroup)},dependencies:[v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName]}),o}(),YL=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.controlContainer=t,this.settings=[]});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-data-datasource"]],inputs:{settings:"settings"},decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(t,e){1&t&&(r.\u0275\u0275elementContainerStart(0,0),r.\u0275\u0275element(1,"classifieds-ui-data-source-form",1),r.\u0275\u0275elementContainerEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.controlContainer.control),r.\u0275\u0275advance(1),r.\u0275\u0275property("settings",e.settings))},dependencies:[v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,QL],encapsulation:2}),o}(),JL=function(){var o=function(){function n(t,e){var a=this;(0,f.Z)(this,n),this.fb=t,this.attributeSerializer=e,this.settings$=new U.X(void 0),this.formGroup=this.fb.group({data:this.fb.control("")}),this.settingsSub=this.settings$.pipe((0,Ce.U)(function(s){return s?a.attributeSerializer.deserializeAsObject(s):void 0})).subscribe(function(s){}),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Nt.AttributeSerializerService))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-datasource-source-form"]],inputs:{settings:"settings"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:2,vars:0,template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"p"),r.\u0275\u0275text(1,"Datasource"),r.\u0275\u0275elementEnd())}}),o}(),ej=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.controlContainer=t,this.settings=[]});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-datasource-source"]],inputs:{settings:"settings"},decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(t,e){1&t&&(r.\u0275\u0275elementContainerStart(0,0),r.\u0275\u0275element(1,"classifieds-ui-datasource-source-form",1),r.\u0275\u0275elementContainerEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.controlContainer.control),r.\u0275\u0275advance(1),r.\u0275\u0275property("settings",e.settings))},dependencies:[v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,JL],encapsulation:2}),o}(),tj=function(n){return new ns({id:"data",title:"Data",editor:YL,fetch:function(e){var a=e.settings;return(0,Le.of)(new pr).pipe((0,Ce.U)(function(){return n.deserializeAsObject(a)}),(0,Ce.U)(function(s){return new pr({results:JSON.parse(s.data)})}))}})},Al=function(){var o=(0,y.Z)(function n(t,e){(0,f.Z)(this,n),[tj(e),new ns({id:"datasource_datasource",title:"Datasource",editor:ej,fetch:function(e){return(0,Le.of)(new pr)}})].forEach(function(a){return t.register(a)})});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(co),r.\u0275\u0275inject(Nt.AttributeSerializerService))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule,v.ReactiveFormsModule,Oi.MaterialModule,GL]}),o}(),iI=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.config=t,this.http=e,this.cache=new Map}return(0,y.Z)(n,[{key:"getData",value:function(e){var a=this;return this.cache.has(e)?(0,Le.of)(this.cache.get(e)).pipe((0,Rr.g)(0)):this.http.get("".concat(e)).pipe((0,si.K)(function(){return(0,Le.of)([])}),(0,Ce.U)(function(s){return Array.isArray(s)?s:[s]}),(0,te.b)(function(s){return a.cache.set(e,s)}))}},{key:"postData",value:function(e){var s=e.body,u=void 0===s?"":s;return this.http.post("".concat(e.url),u).pipe((0,Ce.U)(function(l){return Array.isArray(l)?l:[l]}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(xs),r.\u0275\u0275inject(O.HttpClient))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),aI=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.label=n.label,this.dataItem=n.dataItem,void 0!==n.value&&(this.value=n.value))}),oI=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.value=n.value,this.label=n.label,this.id=n.id,this.multiple=n.multiple,this.limit=n.limit)}),sI=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.dpm=t,this.attributeSerializer=e}return(0,y.Z)(n,[{key:"evalDatasource",value:function(e){var a=this,u=e.metadata,l=e.datasources;return(0,Le.of)(e.datasource).pipe((0,st.w)(function(c){return a.dpm.getPlugin(c.plugin).pipe((0,Ce.U)(function(h){return[c,h]}))}),(0,st.w)(function(c){var h=(0,g.Z)(c,2),C=h[0];return h[1].fetch({settings:C.settings,metadata:u,datasource:C,datasources:l}).pipe((0,Ce.U)(function(N){return[C,N]}))}),(0,st.w)(function(c){var h=(0,g.Z)(c,2),T=h[1];return(0,$n.D)(h[0].renderer.bindings.reduce(function(N,F){return[].concat((0,_.Z)(N),(0,_.Z)(l&&l.has(F.id)?[(0,Le.of)(l.get(F.id))]:[]))},[])).pipe((0,st.w)(function(N){return N.reduce(function(F,$){return F.pipe((0,st.w)(function(se){return a.dpm.getPlugin($.plugin).pipe((0,Ce.U)(function(ue){return[ue,se,$]}))}),(0,st.w)(function(se){var ue=(0,g.Z)(se,3);return ue[0].fetch({settings:$.settings,dataset:ue[1],metadata:u,datasource:ue[2],datasources:l})}))},(0,Le.of)(T))}),(0,Ce.U)(function(N){return N}),(0,fi.d)(T))}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(co),r.\u0275\u0275inject(Nt.AttributeSerializerService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),kl=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),r_=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),a=n.call(this,e),e&&(a.build=e.build),a}return(0,y.Z)(t)}(Rn.Plugin),rj=function(n){return function(){return new Promise(function(t){n.build(),t()})}},Ud=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s){return(0,f.Z)(this,e),t.call(this,a,s)}return(0,y.Z)(e,[{key:"pluginDef",value:function(){return(0,Le.of)(new Rn.PluginDef({name:"bridgebuilder"}))}}]),e}(Rn.BasePluginManager);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Rn.PluginConfigurationManager),r.\u0275\u0275inject(Vn.ModuleLoaderService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),aj=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.bpm=t}return(0,y.Z)(n,[{key:"build",value:function(){try{console.log("build bridge..."),this.bpm.getPlugins().subscribe(function(e){Array.from(e).forEach(function(a){var s=(0,g.Z)(a,2),u=s[0];s[1].build(),console.log("bridge build: "+u)})}),console.log("bridge built.")}catch{}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Ud))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),uI=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),console.log("bridge constructor"),t.register(new r_({id:"test",title:"Test",build:function(){kl.prototype.sayHello2=function(){alert("say hello 2")}}}))});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Ud))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({providers:[{provide:r.APP_INITIALIZER,useFactory:rj,deps:[aj],multi:!0}]}),o}(),lI=S(24503),fA=S(26067);function oj(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",3),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("value",t),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t)}}function sj(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",5),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("value",t.value.name),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.value.title)}}function uj(o,n){}var mA=new r.InjectionToken("ContextPlugin"),Fs=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this,e)).global=!1,e&&(a.name=a.id,a.baseObject=e.baseObject,a.resolver=e.resolver,a.global=void 0!==e.global&&e.global,a.internal=void 0!==e.internal&&e.internal,a.group=void 0!==e.group?e.group:void 0,e.editorComponent&&(a.editorComponent=e.editorComponent)),a}return(0,y.Z)(t)}(Rn.Plugin),la=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.name=n.name,this.adaptor=n.adaptor,n.plugin&&(this.plugin=n.plugin),"rest"===this.adaptor?this.rest=new Os(n.rest):"snippet"===this.adaptor||"json"===this.adaptor?this.snippet=new El(n.snippet):"data"===this.adaptor?this.data=n.data:"token"===this.adaptor?this.tokens=new Map((0,_.Z)(n.tokens)):"datasource"===this.adaptor&&(this.datasource=new Pl(n.datasource))}),hA=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.name=n.name)}),lj=function(){var o=function(){function n(t,e){var a=this;(0,f.Z)(this,n),this.fb=t,this.attributeSerializer=e,this.contexts=[],this.settings$=new U.X(void 0),this.formGroup=this.fb.group({name:this.fb.control("",[v.Validators.required])}),this.settingsSub=this.settings$.pipe((0,Ce.U)(function(s){return s?new hA(a.attributeSerializer.deserializeAsObject(s)):void 0})).subscribe(function(s){s?a.formGroup.get("name").setValue(s.name):a.formGroup.get("name").setValue("")}),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Nt.AttributeSerializerService))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:6,vars:2,consts:[[3,"formGroup"],["required","","formControlName","name"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),r.\u0275\u0275text(3,"Context"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"mat-select",1),r.\u0275\u0275template(5,oj,2,2,"mat-option",2),r.\u0275\u0275elementEnd()()()),2&t&&(r.\u0275\u0275property("formGroup",e.formGroup),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngForOf",e.contexts))},dependencies:[P.NgForOf,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,bi.MatLegacyOption,En.MatLegacyFormField,En.MatLegacyLabel,Fi.MatLegacySelect]}),o}(),cj=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.controlContainer=t,this.contexts=[],this.settings=[]});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-datasource"]],inputs:{contexts:"contexts",settings:"settings"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"contexts","settings"]],template:function(t,e){1&t&&(r.\u0275\u0275elementContainerStart(0,0),r.\u0275\u0275element(1,"classifieds-ui-context-datasource-form",1),r.\u0275\u0275elementContainerEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.controlContainer.control),r.\u0275\u0275advance(1),r.\u0275\u0275property("contexts",e.contexts)("settings",e.settings))},dependencies:[v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,lj],encapsulation:2}),o}(),dj=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.fb=t,this.controlContainer=e,this.attributeSerializer=a}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.controlContainer.control.addControl("adaptor",this.fb.control("datasource",v.Validators.required)),this.controlContainer.control.addControl("datasource",this.fb.control("")),this.controlContainer.control.addControl("_proxy",this.fb.control("")),this.proxyControlSub=this.controlContainer.control.get("_proxy").valueChanges.pipe((0,Ce.U)(function(a){return a?new Pl((0,b.Z)((0,b.Z)({},a),{},{settings:e.attributeSerializer.serialize(a.settings,"settings").attributes})):new Pl}),(0,te.b)(function(a){return e.controlContainer.control.get("datasource").setValue(a)})).subscribe()}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(v.ControlContainer),r.\u0275\u0275directiveInject(Nt.AttributeSerializerService))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-datasource-context-editor"]],viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(pA,7),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.datasourceFormComp=a.first)},decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","_proxy"]],template:function(t,e){1&t&&(r.\u0275\u0275elementContainerStart(0,0),r.\u0275\u0275element(1,"classifieds-ui-datasource-form",1),r.\u0275\u0275elementContainerEnd()),2&t&&r.\u0275\u0275property("formGroup",e.controlContainer.control)},dependencies:[v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,pA],encapsulation:2}),o}(),pj=function(n){return new Fs({id:"route",name:"route",title:"Route",global:!0,baseObject:{path:"",arg0:"",arg2:"",arg3:"",arg4:"",arg5:""},resolver:n})},gA=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.routerStore=t}return(0,y.Z)(n,[{key:"resolve",value:function(e,a){var s=t_();return this.routerStore.pipe((0,Bt.Ys)(s.selectCurrentRoute),(0,Ce.U)(function(l){return{path:"/pages/panelpage/".concat(l.params.panelPageId)}}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Bt.yh))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),cI=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.viewContainerRef=t});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ViewContainerRef))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiContextEditorHost",""]]}),o}(),Su=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s){return(0,f.Z)(this,e),t.call(this,a,s)}return(0,y.Z)(e,[{key:"pluginDef",value:function(){return(0,Le.of)(new Rn.PluginDef({name:"context"}))}}]),e}(Rn.BasePluginManager);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Rn.PluginConfigurationManager),r.\u0275\u0275inject(Vn.ModuleLoaderService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),dI=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.fb=t,this.componentFactoryResolver=e,this.cpm=a,this.contextForm=this.fb.group({name:this.fb.control("",v.Validators.required),plugin:this.fb.control("",v.Validators.required)}),this.context$=new U.X(void 0),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"context",set:function(e){this.context$.next(e)}},{key:"ngOnInit",value:function(){var e=this;this.contextPlugins=this.cpm.getPlugins().pipe((0,Ce.U)(function(a){return new Map(Array.from(a).filter(function(s,u){return!(0,g.Z)(s,2)[1].internal}).map(function(s,u){var h=(0,g.Z)(s,2)[1];return[h.name,h]}))})),this.contextForm.get("plugin").valueChanges.pipe((0,st.w)(function(a){return e.cpm.getPlugin(a)})).subscribe(function(a){a.editorComponent?e.renderEditor(a):e.editorHost.viewContainerRef.clear()}),this.context$.pipe((0,Q.h)(function(){return!!e.componentRef})).subscribe(function(a){e.componentRef.instance.context=a})}},{key:"writeValue",value:function(e){e&&this.contextForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.contextForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.contextForm.disable():this.contextForm.enable()}},{key:"validate",value:function(e){return this.contextForm.valid?null:{invalidForm:{valid:!1,message:"context is invalid"}}}},{key:"renderEditor",value:function(e){var a=this.componentFactoryResolver.resolveComponentFactory(e.editorComponent),s=this.editorHost.viewContainerRef;s.clear(),this.componentRef=s.createComponent(a),this.componentRef.instance.context=this.context$.value}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(r.ComponentFactoryResolver),r.\u0275\u0275directiveInject(Su))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-form"]],viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(cI,7),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.editorHost=a.first)},inputs:{context:"context"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:12,vars:6,consts:[["fxLayout","column",3,"formGroup"],["matInput","","formControlName","name","placeholder","Name","required",""],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["classifiedsUiContextEditorHost",""],[3,"value"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field"),r.\u0275\u0275element(2,"input",1),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"mat-form-field")(4,"mat-label"),r.\u0275\u0275text(5,"Type"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(6,"mat-select",2),r.\u0275\u0275template(7,sj,2,2,"mat-option",3),r.\u0275\u0275pipe(8,"keyvalue"),r.\u0275\u0275pipe(9,"async"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementContainerStart(10),r.\u0275\u0275template(11,uj,0,0,"ng-template",4),r.\u0275\u0275elementContainerEnd(),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.contextForm),r.\u0275\u0275advance(7),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(8,2,r.\u0275\u0275pipeBind1(9,4,e.contextPlugins))))},dependencies:[P.NgForOf,v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,bi.MatLegacyOption,En.MatLegacyFormField,En.MatLegacyLabel,Hr.MatLegacyInput,Fi.MatLegacySelect,Wt,cI,P.AsyncPipe,P.KeyValuePipe]}),o}(),vA=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.dpm=t}return(0,y.Z)(n,[{key:"resolve",value:function(e,a,s){var u=this;return(0,Le.of)(new pr).pipe((0,Ce.U)(function(){return new Pl(a)}),(0,st.w)(function(l){return u.dpm.getPlugin(l.plugin).pipe((0,Ce.U)(function(c){return{ds:l,p:c}}))}),(0,st.w)(function(l){return l.p.fetch({settings:l.ds.settings,metadata:s})}),(0,Ce.U)(function(l){return l}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(co))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),vj=function(){function o(n,t){(0,f.Z)(this,o),this.cpm=n,this.rcm=t}return(0,y.Z)(o,[{key:"resolveGlobals",value:function(){return arguments.length>0&&void 0!==arguments[0]||vr(),this.cpm.getPlugins().pipe((0,Ce.U)(function(e){return Array.from(e.values()).filter(function(a){return!0===a.global})}),(0,st.w)(function(e){return Y.T.apply(void 0,(0,_.Z)(e.map(function(a){return a.resolver.resolve(a,{}).pipe((0,Ce.U)(function(s){return[a.name,s,e.length]}))}))).pipe((0,lI.R)(function(a,s){var u=(0,g.Z)(s,3),l=u[0],c=u[1],h=u[2];return new Map([].concat((0,_.Z)(a),[["_".concat(l),c],["__len",h]]))},new Map([])),(0,Q.h)(function(a){return a.size-1==+a.get("__len")}),(0,Ce.U)(function(a){return Object.assign.apply(Object,[{}].concat((0,_.Z)((0,_.Z)(a.entries()).filter(function(s){return"__len"!==(0,g.Z)(s,2)[0]}).map(function(s){var u=(0,g.Z)(s,2);return(0,d.Z)({},u[0],u[1])}))))}))}))}},{key:"resolveGlobalsSingle",value:function(){return arguments.length>0&&void 0!==arguments[0]||vr(),this.cpm.getPlugins().pipe((0,Ce.U)(function(e){return Array.from(e.values()).filter(function(a){return!0===a.global})}),(0,st.w)(function(e){return Y.T.apply(void 0,(0,_.Z)(e.map(function(a){return a.resolver.resolve(a,{}).pipe((0,Ce.U)(function(s){return[a.name,s]}))})))}))}},{key:"resolveAll",value:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr();return Y.T.apply(void 0,(0,_.Z)(t.map(function(s){return e.resolve(s,a).pipe((0,Ce.U)(function(u){return[s.name,Array.isArray(u)?u.length>0?u[0]:void 0:u]}))}))).pipe((0,lI.R)(function(s,u){var l=(0,g.Z)(u,2),c=l[0],h=l[1];return new Map([].concat((0,_.Z)(s),[[c,h]]))},new Map),(0,Q.h)(function(s){return s.size===t.length}),(0,Ce.U)(function(s){return Object.assign.apply(Object,[{}].concat((0,_.Z)((0,_.Z)(s.entries()).map(function(u){var l=(0,g.Z)(u,2);return(0,d.Z)({},l[0],l[1])}))))}))}},{key:"resolveAllSingle",value:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr();return Y.T.apply(void 0,(0,_.Z)(t.map(function(s){return e.resolve(s,a).pipe((0,Ce.U)(function(u){return[s.name,Array.isArray(u)?u.length>0?u[0]:void 0:u]}))}))).pipe((0,Ce.U)(function(s){var u=(0,g.Z)(s,2);return[u[0],u[1]]}))}},{key:"resolveMerged",value:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr();return this.rcm.getPlugins().pipe((0,st.w)(function(){return e.rcm.add$.pipe((0,fi.d)(void 0))}),(0,st.w)(function(){return e.rcm.getPlugins()}),(0,st.w)(function(s){return(0,Sr.a)([].concat((0,_.Z)(Array.from(s).map(function(u){return(0,g.Z)(u,2)[1].resolve()})),[e.resolveGlobals(a),0===t.length?(0,Le.of)({}):e.resolveAll(t,a)])).pipe((0,Ar.b)(0),(0,Ce.U)(function(u){return u.reduce(function(l,c){return(0,b.Z)((0,b.Z)({},l),c)},{})}))}))}},{key:"resolveMergedSingle",value:function(t){var e=this;return arguments.length>1&&void 0!==arguments[1]||vr(),0!==t.length?this.rcm.getPlugins().pipe((0,st.w)(function(s){return Y.T.apply(void 0,(0,_.Z)(Array.from(s).map(function(u){return(0,g.Z)(u,2)[1].resolveSingle()})).concat([e.resolveGlobalsSingle(),e.resolveAllSingle(t)]))})):this.rcm.getPlugins().pipe((0,st.w)(function(s){return Y.T.apply(void 0,(0,_.Z)(Array.from(s).map(function(u){return(0,g.Z)(u,2)[1].resolveSingle()})).concat([e.resolveGlobalsSingle()]))}))}},{key:"resolve",value:function(t){var e=this;return arguments.length>1&&void 0!==arguments[1]||vr(),t.plugin?this.cpm.getPlugin(t.plugin).pipe((0,st.w)(function(s){return s.resolver.resolve(s,e.getDataObject(t),new Map([["name",t.name]]))})):(0,Le.of)(this.getDataObject(t))}},{key:"getDataObject",value:function(t){switch(t.adaptor){case"rest":return t.rest;case"snippet":return t.snippet;case"json":return JSON.parse(t.snippet.content);case"data":return t.data;case"token":return t.tokens;case"datasource":return t.datasource;default:return}}}]),o}(),pI=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s){var u;return(0,f.Z)(this,e),(u=t.call(this,a,s)).add$=new fA.t(1),u}return(0,y.Z)(e,[{key:"pluginDef",value:function(){return(0,Le.of)(new Rn.PluginDef({name:"resolved_context"}))}},{key:"register",value:function(s){var u=this.pluginInstances.has(s.id);(0,Et.Z)((0,Ee.Z)(e.prototype),"register",this).call(this,s),u||this.add$.next(void 0)}}]),e}(Rn.BasePluginManager);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Rn.PluginConfigurationManager),r.\u0275\u0275inject(Vn.ModuleLoaderService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),zd=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s){return(0,f.Z)(this,e),t.call(this,a,s)}return(0,y.Z)(e)}(vj);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Su),r.\u0275\u0275inject(pI))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Gd=function(){var o=(0,y.Z)(function n(t,e,a,s,u,l,c,h,C){(0,f.Z)(this,n),t.forEach(function(T){return s.register(T)}),u.register(function(n,t){return new r_({id:"context",title:"Context",build:function(){kl.prototype.resolveContext=function(a,s){return new Promise(function(u){n.getPlugin(a).pipe((0,st.w)(function(l){return l.resolver.resolve(l,s).pipe((0,An.q)(1))})).subscribe(function(l){u(l)})})},kl.prototype.resolveMergedContext=function(a){return new Promise(function(s){t.resolveMerged(a).pipe((0,te.b)(function(u){return s(u)}),(0,An.q)(1)).subscribe()})}}})}(s,e)),c.register(function(n,t){return new Rs({id:"context",title:"Context",evalParam:function(a){var s=a.param,l=s.mapping.context&&""!==s.mapping.context?new la(a.metadata.get("contexts").find(function(c){return c.name===s.mapping.context})):void 0;return l?n.resolve(l).pipe((0,An.q)(1),(0,st.w)(function(c){return Or(function(){return s.mapping.value&&""!==s.mapping.value},(0,Le.of)(c).pipe((0,Ce.U)(function(h){return t.generateGenericTokens(Array.isArray(h)?h[0]:h)}),(0,Ce.U)(function(h){return t.replaceTokens("[".concat(s.mapping.value,"]"),h)}),(0,An.q)(1)),(0,Le.of)(Array.isArray(c)?c[0]:c)).pipe((0,An.q)(1))})):(0,Le.of)()},usedContexts:function(a){return(0,Le.of)([a.param.mapping.context])}})}(e,a)),l.register(function(n,t){return new ns({id:"context",title:"Context",editor:cj,fetch:function(a){var s=a.settings,u=a.metadata;return(0,Le.of)(new pr).pipe((0,Ce.U)(function(){return new hA(t.deserializeAsObject(s))}),(0,Ce.U)(function(l){return u.get("contexts").find(function(c){return c.name===l.name})}),(0,st.w)(function(l){return n.resolve(l).pipe((0,Ce.U)(function(c){return c instanceof pr?c:new pr({results:Array.isArray(c)?c:[c]})}),(0,An.q)(1))}))},getBindings:function(a){var s=a.settings;return(0,Le.of)([]).pipe((0,Ce.U)(function(){return new hA(t.deserializeAsObject(s))}),(0,Ce.U)(function(l){return[new pn.ContentBinding({id:l.name,type:"context"})]}))}})}(e,h)),s.register(function(n){var t={dataset:new pr};return new Fs({id:"datasource",name:"datasource",title:"Datasource",baseObject:t,resolver:n,editorComponent:dj})}(C))});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(mA),r.\u0275\u0275inject(zd),r.\u0275\u0275inject(Pr),r.\u0275\u0275inject(Su),r.\u0275\u0275inject(Ud),r.\u0275\u0275inject(co),r.\u0275\u0275inject(Cu),r.\u0275\u0275inject(Nt.AttributeSerializerService),r.\u0275\u0275inject(vA))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({providers:[{provide:gA,useClass:gA},{provide:vA,useClass:vA},{provide:mA,useFactory:pj,multi:!0,deps:[gA]}],imports:[P.CommonModule,v.ReactiveFormsModule,v.FormsModule,Oi.MaterialModule,oi,Hy,aA,Al]}),o}(),yj=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.contextPlugins=t}return(0,y.Z)(n,[{key:"getAll",value:function(e){return typeof e>"u"?this.contextPlugins:this.contextPlugins.filter(e?function(a){return a.global}:function(a){return!a.global})}},{key:"getAllObjects",value:function(){return this.contextPlugins.map(function(e){return e.baseObject})}},{key:"lookupContext",value:function(e){return this.contextPlugins.find(function(a){return a.name===e})}},{key:"register",value:function(e){this.contextPlugins.push(e)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(mA))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),_j=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),(a=n.call(this,e)).resolve=e.resolve,a.resolveSingle=e.resolveSingle,a}return(0,y.Z)(t)}(Rn.Plugin),yA=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.ppm=t}return(0,y.Z)(n,[{key:"extractContexts",value:function(e){var a=this;return(0,$n.D)(e.map(function(s){return a.ppm.getPlugin(s.mapping.type).pipe((0,st.w)(function(u){return Or(function(){return!!u&&!!u.usedContexts},u&&u.usedContexts?u.usedContexts({param:s,metadata:new Map([])}):(0,Le.of)([]),(0,Le.of)([]))}))})).pipe((0,Ce.U)(function(s){return s.reduce(function(u,l){return[].concat((0,_.Z)(u),(0,_.Z)(l.filter(function(c){return!u.includes(c)})))},[])}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Cu))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),xj=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.routerStore=t,this.router=e}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Bt.yh),r.\u0275\u0275directiveInject(dr.Router),r.\u0275\u0275directiveInject(Dr))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-alias-catch-all-router"]],decls:2,vars:0,template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"p"),r.\u0275\u0275text(1,"Page Not Found"),r.\u0275\u0275elementEnd())}}),o}(),bj=[],Cj=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[Vn.UtilsModule,dr.RouterModule.forChild(bj)]}),o}(),fI=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),a=n.call(this,e),e&&(a.loadingStrategy=e.loadingStrategy,a.matchingStrategy=e.matchingStrategy,a.redirectHandler=e.redirectHandler),a}return(0,y.Z)(t)}(Rn.Plugin),mI=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s){return(0,f.Z)(this,e),t.call(this,a,s)}return(0,y.Z)(e,[{key:"pluginDef",value:function(){return(0,Le.of)(new Rn.PluginDef({name:"alias"}))}}]),e}(Rn.BasePluginManager);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Rn.PluginConfigurationManager),r.\u0275\u0275inject(Vn.ModuleLoaderService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),hI=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.siteName=t,this.router=e,this.apm=a,this.routesLoaded=!1}return(0,y.Z)(n,[{key:"canActivate",value:function(e,a){var s=this;return console.log("catch all alias hit"),new Promise(function(u){s.apm.getPlugins().pipe((0,st.w)(function(l){return(0,$n.D)(s.routesLoaded?[]:Array.from(l).map(function(c){return(0,g.Z)(c,2)[1].loadingStrategy.load()})).pipe((0,fi.d)(void 0))}),(0,te.b)(function(){return s.routesLoaded=!0}),(0,st.w)(function(){return s.apm.getPlugins()}),(0,st.w)(function(l){return(0,$n.D)(Array.from(l).map(function(c){var T=(0,g.Z)(c,2)[1];return T.matchingStrategy.match(a).pipe((0,Ce.U)(function(N){return[T,N]}))}))})).subscribe(function(l){if(console.log("routes loaded: ".concat(s.routesLoaded?"y":"n")),void 0!==l.map(function(C,T){var N=(0,g.Z)(C,2);return N[1]?N[0]:void 0}).find(function(C){return void 0!==C})){console.log("alias gaurd state: ".concat(a.url));var h=s.router.parseUrl(a.url);u(h)}else u(!0)})})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Vn.SITE_NAME),r.\u0275\u0275inject(dr.Router),r.\u0275\u0275inject(mI),r.\u0275\u0275inject(Dr))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),gI=S(17714);function wj(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",4),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("value",t.value.id),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.value.title)}}function Sj(o,n){}var vI=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),a=n.call(this,e),e&&(a.editor=e.editor,a.send=e.send),a}return(0,y.Z)(t)}(Rn.Plugin),Ej=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.settings=[],n&&(this.data=n.data,n.settings&&Array.isArray(n.settings)&&(this.settings=n.settings.map(function(t){return new Nt.AttributeValue(t)})))}),_A=(0,y.Z)(function o(n){(0,f.Z)(this,o)}),Hd=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.dataduct=new Pj(n.dataduct))}),Pj=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.settings=[],n&&(this.plugin=n.plugin,n.settings&&Array.isArray(n.settings)&&(this.settings=n.settings.map(function(t){return new Nt.AttributeValue(t)})))}),yI=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.viewContainerRef=t});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ViewContainerRef))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiDataductRendererHost",""]]}),o}(),gE=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s){return(0,f.Z)(this,e),t.call(this,a,s)}return(0,y.Z)(e,[{key:"pluginDef",value:function(){return(0,Le.of)(new Rn.PluginDef({name:"dataduct"}))}}]),e}(Rn.BasePluginManager);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Rn.PluginConfigurationManager),r.\u0275\u0275inject(Vn.ModuleLoaderService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Aj=function(){var o=function(){function n(t,e){var a=this;(0,f.Z)(this,n),this.dpm=t,this.fb=e,this.contexts=[],this.ductForm=this.fb.group({plugin:this.fb.control("",[v.Validators.required]),settings:this.fb.control("")}),this.ducts$=this.dpm.getPlugins(),this.componentRef$=new U.X(void 0),this.persistence$=new U.X(void 0),this.afterViewInit$=new ae.x,this.contextForwardingSub=this.componentRef$.pipe((0,Q.h)(function(s){return!!s})).subscribe(function(s){s.instance.contexts=a.contexts,s.instance.settings=a.persistence$.value&&a.persistence$.value.dataduct?a.persistence$.value.dataduct.settings:[]}),this.persistenceSub=(0,Sr.a)([this.persistence$,this.afterViewInit$]).pipe((0,Ce.U)(function(s){return(0,g.Z)(s,1)[0]}),(0,te.b)(function(s){a.ductForm.get("plugin").setValue(s&&s.dataduct?s.dataduct.plugin:"")}),(0,Rr.g)(1),(0,te.b)(function(s){a.componentRef$.value&&a.componentRef$.value.instance&&s&&(a.componentRef$.value.instance.settings=s.dataduct?s.dataduct.settings:[])})).subscribe(),this.rendererSub=(0,Sr.a)([this.ductForm.get("plugin").valueChanges,this.afterViewInit$]).pipe((0,st.w)(function(s){var l=(0,g.Z)(s,2)[0];return l&&""!==l?a.dpm.getPlugin(l):(0,Le.of)(void 0)})).subscribe(function(s){s&&a.renderPlugin(s)}),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"persistence",set:function(e){this.persistence$.next(e)}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"writeValue",value:function(e){e&&this.ductForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.ductForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.ductForm.disable():this.ductForm.enable()}},{key:"validate",value:function(e){return this.ductForm.valid?null:this.ductForm.errors}},{key:"renderPlugin",value:function(e){var a=this.datasourceHost.viewContainerRef;a.clear(),this.componentRef$.next(a.createComponent(e.editor))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(gE),r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-persistence-form"]],viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(yI,7),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.datasourceHost=a.first)},inputs:{contexts:"contexts",persistence:"persistence"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:10,vars:6,consts:[[3,"formGroup"],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["classifiedsUiDataductRendererHost",""],[3,"value"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),r.\u0275\u0275text(3,"Plugin"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"mat-select",1),r.\u0275\u0275template(5,wj,2,2,"mat-option",2),r.\u0275\u0275pipe(6,"keyvalue"),r.\u0275\u0275pipe(7,"async"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementContainerStart(8),r.\u0275\u0275template(9,Sj,0,0,"ng-template",3),r.\u0275\u0275elementContainerEnd(),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.ductForm),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(6,2,r.\u0275\u0275pipeBind1(7,4,e.ducts$))))},dependencies:[P.NgForOf,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,bi.MatLegacyOption,En.MatLegacyFormField,En.MatLegacyLabel,Fi.MatLegacySelect,yI,P.AsyncPipe,P.KeyValuePipe]}),o}(),kj=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=a,this.attributeSerializer=s,this.persistenceForm=this.fb.group({dataduct:this.fb.control("")}),this.contexts=[],this.persistence=new Hd,this.contexts=t.contexts,this.persistence=t.persistence}return(0,y.Z)(n,[{key:"submit",value:function(){var e=this.persistenceForm.value;console.log("persistence form",e);var a=this.attributeSerializer.serialize(e.dataduct.settings,"settings");console.log("persistence settings",a),this.dialogRef.close(new Hd((0,b.Z)((0,b.Z)({},this.persistenceForm.value),{},{dataduct:(0,b.Z)((0,b.Z)({},e.dataduct),{},{settings:a.attributes})})))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(Yt.MatLegacyDialogRef),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Nt.AttributeSerializerService))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-persistence-dialog"]],decls:8,vars:4,consts:[[1,"persistence-form",3,"formGroup","ngSubmit"],[1,"content-inner"],["fxLayout","column"],["formControlName","dataduct",3,"contexts","persistence"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"form",0),r.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),r.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2),r.\u0275\u0275element(4,"classifieds-ui-persistence-form",3),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(5,"mat-dialog-actions")(6,"button",4),r.\u0275\u0275text(7,"Save"),r.\u0275\u0275elementEnd()()()),2&t&&(r.\u0275\u0275property("formGroup",e.persistenceForm),r.\u0275\u0275advance(4),r.\u0275\u0275property("contexts",e.contexts)("persistence",e.persistence),r.\u0275\u0275advance(2),r.\u0275\u0275property("disabled",!e.persistenceForm.valid))},dependencies:[v.\u0275NgNoValidate,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,pi.MatLegacyButton,Yt.MatLegacyDialogClose,Yt.MatLegacyDialogContent,Yt.MatLegacyDialogActions,Aj]}),o}(),Rj=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule,v.FormsModule,v.ReactiveFormsModule,Oi.MaterialModule]}),o}(),Dj=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.dpm=t}return(0,y.Z)(n,[{key:"persist",value:function(e){var a=e.data,s=e.persistence;return this.dpm.getPlugin(s.dataduct.plugin).pipe((0,st.w)(function(u){return u.send(new Ej({data:a,settings:s.dataduct.settings}))}),(0,Ce.U)(function(){}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(gE))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}();function Tj(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div"),r.\u0275\u0275element(1,"druid-detour-interaction-listener",4),r.\u0275\u0275elementStart(2,"button",3),r.\u0275\u0275listener("click",function(){var l=r.\u0275\u0275restoreView(t).index,c=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(c.deleteListener$.next(l))}),r.\u0275\u0275text(3,"Delete"),r.\u0275\u0275elementEnd()()}if(2&o){var e=n.index,a=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("formControlName",e)("listener",a.interactions$.value.interactions.listeners[e])}}var Rl=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.interactions=n&&n.interactions?new _I(n.interactions):new _I}),_I=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.listeners=[],n&&n.listeners&&Array.isArray(n.listeners)&&(this.listeners=n.listeners.map(function(t){return new xI(t)}))}),xI=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.handler=n&&n.handler?new Ds(n.handler):new Ds,this.event=n&&n.event?new Ds(n.event):new Ds}),bI=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s){return(0,f.Z)(this,e),t.call(this,a,s)}return(0,y.Z)(e,[{key:"pluginDef",value:function(){return(0,Le.of)(new Rn.PluginDef({name:"interaction_event"}))}}]),e}(Rn.BasePluginManager);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Rn.PluginConfigurationManager),r.\u0275\u0275inject(Vn.ModuleLoaderService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),CI=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s){return(0,f.Z)(this,e),t.call(this,a,s)}return(0,y.Z)(e,[{key:"pluginDef",value:function(){return(0,Le.of)(new Rn.PluginDef({name:"interaction_handler"}))}},{key:"discovery",value:function(){(0,Et.Z)((0,Ee.Z)(e.prototype),"discovery",this).call(this)}}]),e}(Rn.BasePluginManager);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Rn.PluginConfigurationManager),r.\u0275\u0275inject(Vn.ModuleLoaderService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Ij=function(){var o=function(){function n(t,e,a){var s=this;(0,f.Z)(this,n),this.fb=t,this.iepm=e,this.ihpm=a,this.eventPlugins$=this.iepm.getPlugins(),this.handlerPlugins$=this.ihpm.getPlugins(),this.listenerForm=this.fb.group({event:this.fb.control(""),handler:this.fb.control("")}),this.contexts=[],this.listener$=new U.X(new xI),this.event$=new U.X(new Ds),this.handler$=new U.X(new Ds),this.listenerSub=this.listener$.pipe((0,te.b)(function(u){s.event$.next(u&&u.event?u.event:new Ds),s.handler$.next(u&&u.handler?u.handler:new Ds)})).subscribe(),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"listener",set:function(e){this.listener$.next(e)}},{key:"writeValue",value:function(e){e&&this.listenerForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.listenerForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.listenerForm.disable():this.listenerForm.enable()}},{key:"validate",value:function(e){return this.listenerForm.valid?null:this.listenerForm.errors}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(bI),r.\u0275\u0275directiveInject(CI))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-detour-interaction-listener"]],inputs:{contexts:"contexts",listener:"listener"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:5,vars:9,consts:[[3,"formGroup"],["formControlName","event","title","Event",3,"plugins","instance"],["formControlName","handler","title","Handler",3,"plugins","instance"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275element(1,"druid-params-plugin-instance",1),r.\u0275\u0275pipe(2,"async"),r.\u0275\u0275element(3,"druid-params-plugin-instance",2),r.\u0275\u0275pipe(4,"async"),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.listenerForm),r.\u0275\u0275advance(1),r.\u0275\u0275property("plugins",r.\u0275\u0275pipeBind1(2,5,e.eventPlugins$))("instance",e.event$.value),r.\u0275\u0275advance(2),r.\u0275\u0275property("plugins",r.\u0275\u0275pipeBind1(4,7,e.handlerPlugins$))("instance",e.handler$.value))},dependencies:[v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,OL,P.AsyncPipe]}),o}(),Oj=function(){var o=function(){function n(t){var e=this;(0,f.Z)(this,n),this.fb=t,this.interactions$=new U.X(new Rl({interactions:{listeners:[]}})),this.contexts$=new U.X([]),this.afterViewInit$=new ae.x,this.interactionsForm=this.fb.group({listeners:this.fb.array([])}),this.addListener$=new ae.x,this.deleteListener$=new ae.x,this.addListenerSub=this.addListener$.pipe((0,te.b)(function(){return e.listeners.push(e.fb.control(""))})).subscribe(),this.deleteListenerSub=this.deleteListener$.pipe((0,te.b)(function(a){e.interactions$.value.interactions.listeners.splice(a,1),e.listeners.removeAt(a)})).subscribe(),this.interactionsSub=(0,Sr.a)([this.interactions$,this.afterViewInit$]).pipe((0,Ce.U)(function(a){return(0,g.Z)(a,1)[0]}),(0,Q.h)(function(a){return 0!==a.interactions.listeners.length}),(0,te.b)(function(a){e.listeners.clear(),a.interactions.listeners.forEach(function(s,u){e.listeners.push(e.fb.control(""))})})).subscribe(),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"interactions",set:function(e){this.interactions$.next(e)}},{key:"contexts",set:function(e){this.contexts$.next(e)}},{key:"listeners",get:function(){return this.interactionsForm.get("listeners")}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0),this.afterViewInit$.complete()}},{key:"writeValue",value:function(e){e&&this.interactionsForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.interactionsForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.interactionsForm.disable():this.interactionsForm.enable()}},{key:"validate",value:function(e){return this.interactionsForm.valid?null:this.interactionsForm.errors}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-detour-interactions-form"]],inputs:{interactions:"interactions",contexts:"contexts"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:5,vars:2,consts:[[3,"formGroup"],["formArrayName","listeners"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"formControlName","listener"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div",1),r.\u0275\u0275template(2,Tj,4,2,"div",2),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(3,"button",3),r.\u0275\u0275listener("click",function(){return e.addListener$.next(void 0)}),r.\u0275\u0275text(4,"Add Listener"),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.interactionsForm),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",e.listeners.controls))},dependencies:[P.NgForOf,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,v.FormArrayName,Ij]}),o}(),Fj=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=a,this.interactionsForm=this.fb.group({interactions:this.fb.control("")}),this.contexts=[],this.interactions=new Rl,this.contexts=t.contexts,this.interactions=t.interactions}return(0,y.Z)(n,[{key:"submit",value:function(){var e=new Rl(this.interactionsForm.value);console.log("interactions payload",e),this.dialogRef.close(e)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(Yt.MatLegacyDialogRef),r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-detour-interactions-dialog"]],decls:8,vars:4,consts:[[1,"interactions-form",3,"formGroup","ngSubmit"],[1,"content-inner"],["fxLayout","column"],["formControlName","interactions",3,"contexts","interactions"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"form",0),r.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),r.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2),r.\u0275\u0275element(4,"druid-detour-interactions-form",3),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(5,"mat-dialog-actions")(6,"button",4),r.\u0275\u0275text(7,"Save"),r.\u0275\u0275elementEnd()()()),2&t&&(r.\u0275\u0275property("formGroup",e.interactionsForm),r.\u0275\u0275advance(4),r.\u0275\u0275property("contexts",e.contexts)("interactions",e.interactions),r.\u0275\u0275advance(2),r.\u0275\u0275property("disabled",!e.interactionsForm.valid))},dependencies:[v.\u0275NgNoValidate,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,pi.MatLegacyButton,Yt.MatLegacyDialogClose,Yt.MatLegacyDialogContent,Yt.MatLegacyDialogActions,Oj]}),o}(),Mj=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){return(0,f.Z)(this,t),n.call(this,e)}return(0,y.Z)(t)}(Rn.Plugin),Vj=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),t.register(new Mj({title:"DOM",id:"dom"}))});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(bI))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule,v.FormsModule,v.ReactiveFormsModule,Oi.MaterialModule,wu]}),o}(),wI=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){return(0,f.Z)(this,t),n.call(this,e)}return(0,y.Z)(t)}(Rn.Plugin),Dl=S(1621),vE=S(6606),Eu=S(9263),rs=S(28413),qd=S(78),xA=S(8055),Kd=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),a=n.call(this,e),e&&(a.create=e.create,a.read=e.read,a.update=e.update,a.delete=e.delete,e.query&&(a.query=e.query)),a}return(0,y.Z)(t)}(Rn.Plugin),SI=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.options=[],this.params=[],n&&(this.adaptorName=n.adaptorName,this.optionsString=n.optionsString?n.optionsString:void 0,this.paramsString=n.paramsString?n.paramsString:void 0,n.options&&Array.isArray(n.options)&&(this.options=n.options.map(function(t){return new Mi(t)})),n.params&&Array.isArray(n.params)&&(this.params=n.params.map(function(t){return new Mi(t)})))}),Bj=function(){var o=function(){function n(t,e){var a=this;(0,f.Z)(this,n),this.fb=t,this.attributeSerializer=e,this.contexts=[],this.settings$=new U.X(void 0),this.datasource$=new U.X(void 0),this.optionValues$=new U.X([]),this.paramValues$=new U.X([]),this.formGroup=this.fb.group({adaptorName:this.fb.control(""),optionsString:this.fb.control(""),paramsString:this.fb.control(""),options:this.fb.control([]),params:this.fb.control([])}),this.settingsSub=this.settings$.pipe((0,Ce.U)(function(s){return s?new SI(a.attributeSerializer.deserializeAsObject(s)):void 0}),(0,te.b)(function(s){return setTimeout(function(){return a.datasource$.next(s)})})).subscribe(function(s){s?(a.formGroup.get("adaptorName").setValue(s.adaptorName),a.formGroup.get("optionsString").setValue(s.optionsString?s.optionsString:""),a.formGroup.get("paramsString").setValue(s.paramsString?s.paramsString:"")):(a.formGroup.get("adaptorName").setValue(""),a.formGroup.get("optionsString").setValue(""),a.formGroup.get("paramsString").setValue(""),setTimeout(function(){return a.optionValues$.next([])},2),setTimeout(function(){return a.optionValues$.next([])},2))}),this.datasourceOptionsSub=(0,Sr.a)([this.datasource$,this.formGroup.get("optionsString").valueChanges]).pipe((0,Q.h)(function(s){return void 0!==(0,g.Z)(s,1)[0]}),(0,Rr.g)(1),(0,te.b)(function(s){var u=(0,g.Z)(s,1);return a.optionValues$.next(u[0].options)})).subscribe(),this.datasourceParamsSub=(0,Sr.a)([this.datasource$,this.formGroup.get("paramsString").valueChanges]).pipe((0,Q.h)(function(s){return void 0!==(0,g.Z)(s,1)[0]}),(0,Rr.g)(1),(0,te.b)(function(s){var u=(0,g.Z)(s,1);return a.paramValues$.next(u[0].params)})).subscribe(),this.optionsStringChangeSub=this.formGroup.get("optionsString").valueChanges.pipe((0,Ar.b)(500)).subscribe(function(s){var u=Fa.parse("?"+s);a.optionsParsed=u}),this.paramsStringChangeSub=this.formGroup.get("paramsString").valueChanges.pipe((0,Ar.b)(500)).subscribe(function(s){var u=Fa.parse("?"+s);a.paramsParsed=u}),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:this.formGroup.errors}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Nt.AttributeSerializerService))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-crud-adaptor-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:14,vars:7,consts:[[3,"formGroup"],["matInput","","placeholder","Adaptor","formControlName","adaptorName","required",""],[1,"options-container"],["matInput","","placeholder","Options","formControlName","optionsString"],["formControlName","options",3,"params","paramValues","contexts"],[1,"params-container"],["matInput","","placeholder","Params","formControlName","paramsString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field"),r.\u0275\u0275element(3,"input",1),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(4,"div",2)(5,"div")(6,"mat-form-field"),r.\u0275\u0275element(7,"input",3),r.\u0275\u0275elementEnd()(),r.\u0275\u0275element(8,"classifieds-ui-params-form",4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"div",5)(10,"div")(11,"mat-form-field"),r.\u0275\u0275element(12,"input",6),r.\u0275\u0275elementEnd()(),r.\u0275\u0275element(13,"classifieds-ui-params-form",7),r.\u0275\u0275elementEnd()()),2&t&&(r.\u0275\u0275property("formGroup",e.formGroup),r.\u0275\u0275advance(8),r.\u0275\u0275property("params",e.optionsParsed)("paramValues",e.optionValues$.value)("contexts",e.contexts),r.\u0275\u0275advance(5),r.\u0275\u0275property("params",e.paramsParsed)("paramValues",e.paramValues$.value)("contexts",e.contexts))},dependencies:[v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,En.MatLegacyFormField,Hr.MatLegacyInput,e_]}),o}(),EI=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.controlContainer=t,this.settings=[],this.contexts=[]});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-crud-adaptor-datasource"]],inputs:{settings:"settings",contexts:"contexts"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts"]],template:function(t,e){1&t&&(r.\u0275\u0275elementContainerStart(0,0),r.\u0275\u0275element(1,"classifieds-ui-crud-adaptor-datasource-form",1),r.\u0275\u0275elementContainerEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.controlContainer.control),r.\u0275\u0275advance(1),r.\u0275\u0275property("settings",e.settings)("contexts",e.contexts))},dependencies:[v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,Bj],encapsulation:2}),o}(),Pu=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s){return(0,f.Z)(this,e),t.call(this,a,s)}return(0,y.Z)(e,[{key:"pluginDef",value:function(){return(0,Le.of)(new Rn.PluginDef({name:"crud_adaptor"}))}}]),e}(Rn.BasePluginManager);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Rn.PluginConfigurationManager),r.\u0275\u0275inject(Vn.ModuleLoaderService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),i_=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.crud=t,this.cachedCollectionQueries=[],this.cachedCollectionIgnore={p:{create:void 0,update:void 0,delete:void 0,query:void 0,read:void 0},input:{identity:void 0}}}return(0,y.Z)(n,[{key:"evaluatePlugins",value:function(e){var a=this,s=e.object,u=e.plugins,l=e.op,c=e.parentObject,C=Object.keys(u).filter(function(T){return!u[T].ops||u[T].ops.includes(l)}).map(function(T){return a.crud.getPlugin(u[T].plugin?u[T].plugin:T).pipe((0,Ce.U)(function(N){return{p:N,params:u[T].params?Object.keys(u[T].params).reduce(function(F,$){return(0,b.Z)((0,b.Z)({},F),{},(0,d.Z)({},$,u[T].params[$]instanceof Mi?u[T].params[$]:new Mi({flags:[],mapping:{type:"static",value:u[T].params[$],context:void 0,testValue:u[T].params[$]}})))},{}):{}}}),(0,st.w)(function(N){return N.p[l]({rule:void 0,object:s,parentObject:c,params:N.params,identity:function(ue){var ge=ue.object,Se=ue.parentObject;return(0,Le.of)({identity:ge.id?ge.id:Se?Se.id:void 0})}})}),(0,st.w)(function(N){return Or(function(){return u[T].plugins&&0!==Object.keys(u[T].plugins).length},u[T].plugins&&0!==Object.keys(u[T].plugins).length?a.evaluatePlugins({plugins:u[T].plugins,object:N.entity?N.entity:s,parentObject:N.originalEntity?N.originalEntity:s,op:l}):(0,Le.of)(N),(0,Le.of)(N))}))});return(0,$n.D)(C).pipe((0,Ce.U)(function(){return s}))}},{key:"evaluateCollectionPlugins",value:function(e){var a=this,s=e.query,u=e.objects,l=e.plugins,c=e.op,h=e.parentObjects;console.log("evaluate collection plugins");var C=Object.keys(l),T=C.filter(function(F){return!l[F].ops||l[F].ops.includes(c)}).map(function(F){return a.crud.getPlugin(l[F].plugin?l[F].plugin:F).pipe((0,Ce.U)(function($){return{p:$,params:l[F].params?Object.keys(l[F].params).reduce(function(se,ue){return(0,b.Z)((0,b.Z)({},se),{},(0,d.Z)({},ue,l[F].params[ue]instanceof Mi?l[F].params[ue]:new Mi({flags:[],mapping:{type:"static",value:l[F].params[ue],context:void 0,testValue:l[F].params[ue]}})))},{}):{}}}),(0,st.w)(function($){var se=$.p,ue=$.params;return a.buildQueryRule({params:s,config:l[F]}).pipe((0,Ce.U)(function(ge){return{p:se,params:ue,rule:ge.rule}}))}),(0,st.w)(function($){return a.flightAndCacheAwareCollectionQuery({p:$.p,input:{rule:$.rule,objects:u,parentObjects:h,params:$.params,identity:function(we){var He=we.object,ot=we.parentObject;return(0,Le.of)({identity:He.id?He.id:ot?ot.id:void 0})}}}).pipe((0,te.b)(function(){return console.log("end of crud query call")}))}),(0,st.w)(function($){return Or(function(){return l[F].plugins&&0!==Object.keys(l[F].plugins).length},a.evaluateCollectionPlugins({query:s,plugins:l[F].plugins&&0!==Object.keys(l[F].plugins).length?l[F].plugins:{},objects:$.entities?$.entities:u,parentObjects:$.originalEntities?$.originalEntities:u,op:c}),(0,Le.of)($))}),(0,te.b)(function($){return console.log("end of op",$)}))});return C.filter(function(F){return!l[F].ops||l[F].ops.includes(c)}).find(function(F){return l[F].fallback})&&T.length>1?T.reduce(function(F,$){return F.pipe((0,st.w)(function(se){return se&&Array.isArray(se)&&se.length>0?(0,Le.of)(se):$.pipe((0,Ce.U)(function(ue){return ue&&ue.entities&&Array.isArray(ue.entities)?ue.entities:[]}))}),(0,st.w)(function(se){return(0,Le.of)(se.length>0?se:[])}))},(0,Le.of)([])):1===T.length?T[0].pipe((0,Ce.U)(function(F){return(0,_.Z)(F.entities)})):(0,$n.D)(T).pipe((0,Ce.U)(function(F){return F.reduce(function($,se){return[].concat((0,_.Z)($),(0,_.Z)(se.entities))},[])}),(0,fi.d)([]))}},{key:"buildQueryRule",value:function(e){var a=e.params,s=e.config;return new W.y(function(u){var l=[];"string"==typeof a&&a.split("&").map(function(C){return C.split("=",2)}).reduce(function(C,T){var N=(0,g.Z)(T,2),F=N[0],$=N[1];return new Map([].concat((0,_.Z)(Array.from(C).filter(function(se){return(0,g.Z)(se,2)[0]!==F})),[[F,[].concat((0,_.Z)(C.has(F)?C.get(F):[]),[$])]]))},new Map).forEach(function(C,T){return l.push({any:C.map(function(N){return(0,b.Z)({fact:"identity"===T?"identity":"entity",operator:s.queryMappings&&s.queryMappings.has(T)&&s.queryMappings.get(T).defaultOperator?s.queryMappings.get(T).defaultOperator:"equal",value:N},"identity"===T?{}:{path:"$.".concat(T)})})})});var h=l.length>0?new qd.Rule({conditions:{all:l},event:{type:"visible"}}):void 0;u.next({rule:h}),u.complete()})}},{key:"flightAndCacheAwareCollectionQuery",value:function(e){var a=this,s=this.cachedCollectionQueries.findIndex(function(u){var l=u.p,c=u.input,h=(0,xA.getDiff)((0,b.Z)((0,b.Z)({},e.p),a.cachedCollectionIgnore.p),(0,b.Z)((0,b.Z)({},l),a.cachedCollectionIgnore.p)),C=(0,xA.getDiff)((0,b.Z)((0,b.Z)({},e.input),a.cachedCollectionIgnore.input),(0,b.Z)((0,b.Z)({},c),a.cachedCollectionIgnore.input));return 0===h.length&&0===C.length});return-1===s&&(this.cachedCollectionQueries.push({p:e.p,input:e.input,query$:new fA.t}),s=this.cachedCollectionQueries.length-1,e.p.query(e.input).pipe((0,te.b)(function(u){return a.cachedCollectionQueries[s].query$.next(u)}),(0,An.q)(1)).subscribe()),this.cachedCollectionQueries[s].query$.pipe((0,An.q)(1))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Pu))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),a_=function(){var o=(0,y.Z)(function n(t,e,a,s,u,l,c,h){(0,f.Z)(this,n),t.register(function(n,t,e,a,s,u){return new ns({id:"crud_adaptor",title:"Crud Adaptor",editor:EI,fetch:function(c){var h=c.settings,C=c.metadata;return(0,Le.of)(new pr).pipe((0,Ce.U)(function(){return t.deserializeAsObject(h)}),(0,Ce.U)(function(T){return new SI(T)}),(0,st.w)(function(T){return e.getPlugin(T.adaptorName).pipe((0,Ce.U)(function(N){return{plugin:N,ds:T}}))}),(0,Ce.U)(function(T){var F=T.ds;return{plugin:T.plugin,ds:F,optionNames:F.optionsString?F.optionsString.split("&").filter(function($){return-1!==$.indexOf("=:")}).map(function($){return $.split("=",2)[1].substr(1)}):[]}}),(0,st.w)(function(T){var N=T.plugin,F=T.ds,$=T.optionNames;return(0,$n.D)([a.paramValues(F.options.reduce(function(se,ue,ge){return new Map([].concat((0,_.Z)(se),[[$[ge],ue]]))},new Map)).pipe((0,Ce.U)(function(se){return Array.from(se).reduce(function(ue,ge){var Se=(0,g.Z)(ge,2),we=Se[0],He=Se[1];return(0,b.Z)((0,b.Z)({},ue),{},(0,d.Z)({},we,He))},{})})),F.paramsString&&""!==F.paramsString?u.getUrl("?"+F.paramsString,F.params,C).pipe((0,An.q)(1)):(0,Le.of)(void 0)]).pipe((0,Ce.U)(function(se){var ue=(0,g.Z)(se,2);return{plugin:N,options:ue[0],query:ue[1]}}))}),(0,st.w)(function(T){var $=T.query;return s.evaluateCollectionPlugins({plugins:(0,d.Z)({},T.plugin.id,{params:T.options}),op:"query",query:$&&$.substr(1)})}),(0,Ce.U)(function(T){return new pr({results:T})}))},editorOptions:function(){return(0,Le.of)(new hE({fullscreen:!0}))},getBindings:function(c){return(0,Le.of)([])}})}(0,u,e,l,c,h)),a.register(function(n){var t=n.crudDataHelper,e=n.attributeSerializer;return new vI({id:"crud",title:"Crud",editor:EI,send:function(s){return(0,Le.of)(new _A({})).pipe((0,Ce.U)(function(){return{settings:e.deserializeAsObject(s.settings)}}),(0,te.b)(function(u){return console.log("crud data duct",u.settings)}),(0,Ce.U)(function(u){var l=u.settings;return{plugins:(0,d.Z)({},"".concat(l.adaptorName),{plugin:"".concat(l.adaptorName),ops:["create"],params:"".concat(l.optionsString).split("&").reduce(function(c,h,C){return(0,b.Z)((0,b.Z)({},c),{},(0,d.Z)({},h.split("=",1)[0],new Mi(l.options[C])))},{})})}}),(0,st.w)(function(u){return t.evaluatePlugins({object:s.data,plugins:u.plugins,op:"create",parentObject:{id:vr()}})}),(0,Ce.U)(function(){return new _A({})}))}})}({crudDataHelper:c,attributeSerializer:u}))});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(co),r.\u0275\u0275inject(Pu),r.\u0275\u0275inject(gE),r.\u0275\u0275inject(yA),r.\u0275\u0275inject(Nt.AttributeSerializerService),r.\u0275\u0275inject(Ts),r.\u0275\u0275inject(i_),r.\u0275\u0275inject(n_))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule,v.ReactiveFormsModule,v.FormsModule,Oi.MaterialModule,Gd,wu]}),o}(),bA=function(){function o(n,t,e,a){(0,f.Z)(this,o),this.crud=t,this.entityDefinitionService=e,this.crudDataHelperService=a,this._name="".concat(n," CrudDataService"),this.entityName=n}return(0,y.Z)(o,[{key:"name",get:function(){return this._name}},{key:"add",value:function(t){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluatePlugins({object:t,plugins:e.crud,op:"create"})}},{key:"update",value:function(t){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluatePlugins({object:t.changes,plugins:e.crud,op:"update"})}},{key:"upsert",value:function(t){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluatePlugins({object:t,plugins:e.crud,op:"update"})}},{key:"delete",value:function(t){var e=this,a=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.getById(t).pipe((0,st.w)(function(s){return e.crudDataHelperService.evaluatePlugins({object:s,plugins:a.crud,op:"delete"})}),(0,Ce.U)(function(){return t}))}},{key:"getAll",value:function(){var t=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluateCollectionPlugins({plugins:t.crud,op:"query"})}},{key:"getById",value:function(t){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluateCollectionPlugins({query:"identity=".concat(t),plugins:e.crud,op:"query"}).pipe((0,Ce.U)(function(a){return a&&0!==a.length?a[0]:void 0}))}},{key:"getWithQuery",value:function(t){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluateCollectionPlugins({query:t,plugins:e.crud,op:"query"})}}]),o}(),PI=function(){var o=function(){function n(){(0,f.Z)(this,n),this.operatorsMap=new Map([["=","equal"],["!=","notEqual"]])}return(0,y.Z)(n,[{key:"buildFields",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=new Map;return this.genericFields(e,s,a,0),s}},{key:"attributeFields",value:function(e,a,s,u){var l=this;e.forEach(function(c,h){if("widget"!==c.name)for(var C in c)c.type===Nt.AttributeTypes.Complex||"attributes"===C&&c.attributes&&c.attributes.length>0?l.attributeFields(c.attributes,a,c.type===Nt.AttributeTypes.Complex?"".concat(s):"".concat(s,".").concat(c.name),u+1):"attributes"!==C&&(C===c.name?a.set("".concat(s,".").concat(C),{name:"".concat(s,".").concat(C),type:l.resolveAttributeType(c.type),defaultValue:c[C]}):a.set("".concat(s,".").concat(c.name,".").concat(C),{name:"".concat(s,".").concat(c.name,".").concat(C),type:l.resolveAttributeType(c.type),defaultValue:c[C]}))})}},{key:"genericFields",value:function(e,a,s,u){for(var l in e){var c=typeof e[l];if("object"!==c)a.set("".concat(s,".").concat(l),{name:"".concat(s,".").concat(l),type:this.resolveNativeType(c),defaultValue:e[l]});else if(Array.isArray(e[l])&&"attributes"===l)this.attributeFields(e[l],a,"".concat(s,".").concat(l),u+1);else if(Array.isArray(e[l]))for(var h=e[l].length,C=0;C<h;C++)this.genericFields(e[l][C],a,"".concat(s,".").concat(l,".").concat(C),u+1);else this.genericFields(e[l],a,"".concat(s,".").concat(l),u+1)}}},{key:"toEngineRule",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=[];if(void 0!==e.rules&&Array.isArray(e.rules)){for(var h=e.rules.length,C=0;C<h;C++)if(!("field"in e.rules[C])||null!=e.condition&&""!==e.condition){var $=this.toEngineRule(e.rules[C],a+1);s.push($.conditions)}else{var T=e.rules[C].field.indexOf("."),N=e.rules[C].field.substr(0,T),F=e.rules[C].field.substr(T+1);s.push({fact:N,path:"$.".concat(F),operator:this.operatorsMap.get(e.rules[C].operator),value:e.rules[C].value})}return new qd.Rule("and"===e.condition?{conditions:{all:s},event:0===a?{type:"visible"}:void 0}:{conditions:{any:s},event:0===a?{type:"visible"}:void 0})}var u=e.field.indexOf("."),l=e.field.substr(0,u),c=e.field.substr(u+1);return s.push({fact:l,path:"$.".concat(c),operator:this.operatorsMap.get(e.operator),value:e.value}),new qd.Rule({conditions:{all:s},event:0===a?{type:"visible"}:void 0})}},{key:"extractConditions",value:function(e){var s=this.toEngineRule(e);return[].concat((0,_.Z)(void 0!==s.conditions.any?s.conditions.any:[]),(0,_.Z)(void 0!==s.conditions.all?s.conditions.all:[]))}},{key:"resolveNativeType",value:function(e){switch(e){case"number":return"number";case"boolean":return"boolean";default:return"string"}}},{key:"resolveAttributeType",value:function(e){switch(e){case Nt.AttributeTypes.Float:case Nt.AttributeTypes.Number:return"number";case Nt.AttributeTypes.Bool:return"boolean";default:return"string"}}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),CA=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.rulesParser=t,this.inlineContextResolver=e}return(0,y.Z)(n,[{key:"evaluate",value:function(e){var a=this;return this.inlineContextResolver.resolveMerged(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],"rules:".concat(vr())).pipe((0,An.q)(1),(0,Ce.U)(function(u){return[(0,b.Z)({},u),new qd.Engine]}),(0,te.b)(function(u){var h=(0,g.Z)(u,2)[1],C=a.rulesParser.toEngineRule(e);h.addRule(C)}),(0,st.w)(function(u){var l=(0,g.Z)(u,2),c=l[0],h=l[1];return new W.y(function(C){h.run(c).then(function(T){C.next(T.events.findIndex(function(N){return"visible"===N.type})>-1),C.complete()})})}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(PI),r.\u0275\u0275inject(zd))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}();function Qa(o){if(null==o)throw new TypeError("Cannot destructure "+o)}S(61562);var wA=S(37400),AI=S(89984),SA=function(n){var s=n.method,l=n.path,h=n.port,T=n.protocol,$=n.service,se=n.cognitoSettings,ue=n.authFacade;return(0,Le.of)(new rr({body:n.body,headers:n.headers,hostname:n.hostname,method:void 0===s?"GET":s,path:void 0===l?"/":l,port:void 0===h?443:h,protocol:void 0===T?"https:":T,query:n.query})).pipe((0,te.b)(function(){return console.log(".marker({ event: BEGIN , context: s3, entity: sig , op: signv4 , meta: {  } })")}),(0,st.w)(function(ge){return(0,wA.D)(new wf({credentials:oP({client:new AP({region:se.region}),identityPoolId:se.identityPoolId,logins:(0,d.Z)({},"cognito-idp.".concat(se.region,".amazonaws.com/").concat(se.userPoolId),function(){return Rc(ue.getUser$.pipe((0,Ce.U)(function(we){return we?we.id_token:void 0})))})}),region:se.region,service:$,sha256:AI.Sha256}).sign(ge).then(function(Se){return console.log(".marker({ event: RESOLVED, entity: s3 , op: signv4 , meta: {  } })"),Se})).pipe((0,te.b)(function(){return console.log(".marker({ /s3/sign/after/sig })")}),(0,An.q)(1))}),(0,Ce.U)(function(ge){return ge}),(0,te.b)(function(){return console.log(".marker({ event: END , context: s3, entity: sig , op: signv4 , meta: {  } })")}))},$j=function(){var o=(0,y.Z)(function n(t,e,a,s,u,l,c){(0,f.Z)(this,n),a.register(function(n,t,e,a,s,u){return new Kd({id:"aws_s3_entity",title:"AWS S3 Entity",create:function(c){var h=c.object,C=c.identity,T=c.params,N=c.parentObject;return(0,Le.of)({success:!1}).pipe(a.resolveParams({params:T}),(0,st.w)(function(F){var $=F.options;return C({object:h,parentObject:N}).pipe((0,Ce.U)(function(se){return{identity:se.identity,options:$}}))}),(0,st.w)(function(F){var $=F.options,se=F.identity;return SA({method:"PUT",body:JSON.stringify(h),headers:{"Content-Type":"application/json",host:"".concat($.bucket,".s3.amazonaws.com")},hostname:"".concat($.bucket,".s3.amazonaws.com"),path:"".concat($.prefix).concat(se,".json"),protocol:"https:",service:"s3",cognitoSettings:e,authFacade:t}).pipe((0,Ce.U)(function(ue){return{signedHttpRequest:ue,options:$}}))}),(0,te.b)(function(F){return delete F.signedHttpRequest.headers.host}),(0,Ce.U)(function(F){var $=F.signedHttpRequest,se=F.options;return{signedHttpRequest:$,options:se,url:"https://".concat(se.bucket,".s3.amazonaws.com").concat($.path)}}),(0,st.w)(function(F){var $=F.signedHttpRequest;return s.put(F.url,JSON.stringify(h),{headers:$.headers,withCredentials:!1})}),(0,Ce.U)(function(){return{success:!0}}))},read:function(c){return Qa(c),(0,Le.of)({success:!1})},update:function(c){var h=c.object,C=c.identity,T=c.params;return(0,Le.of)({success:!1}).pipe(a.resolveParams({params:T}),(0,st.w)(function(N){var F=N.options;return C({object:h}).pipe((0,Ce.U)(function($){return{identity:$.identity,options:F}}))}),(0,st.w)(function(N){var F=N.options,$=N.identity;return SA({method:"PUT",body:JSON.stringify(h),headers:{"Content-Type":"application/json",host:"".concat(F.bucket,".s3.amazonaws.com")},hostname:"".concat(F.bucket,".s3.amazonaws.com"),path:"".concat(F.prefix).concat($,".json"),protocol:"https:",service:"s3",cognitoSettings:e,authFacade:t}).pipe((0,Ce.U)(function(se){return{signedHttpRequest:se,options:F}}))}),(0,te.b)(function(N){return delete N.signedHttpRequest.headers.host}),(0,Ce.U)(function(N){var F=N.signedHttpRequest,$=N.options;return{signedHttpRequest:F,options:$,url:"https://".concat($.bucket,".s3.amazonaws.com").concat(F.path)}}),(0,st.w)(function(N){var F=N.signedHttpRequest;return s.put(N.url,JSON.stringify(h),{headers:F.headers,withCredentials:!1})}),(0,Ce.U)(function(){return{success:!0}}))},delete:function(c){return Qa(c),(0,Le.of)({success:!1})},query:function(c){var h=c.rule,C=c.params;return(0,Le.of)({entities:[],success:!1}).pipe(a.resolveParams({params:C}),(0,Ce.U)(function(T){return{options:T.options,identityCondition:h.conditions.all.map(function(F){return F.any.find(function($){return"identity"===$.fact})}).find(function(F){return!!F})}}),(0,st.w)(function(T){var N=T.identityCondition,F=T.options;return Or(function(){return void 0!==N&&N&&"identity"===N.fact&&F&&F.bucket},SA({method:"GET",body:void 0,headers:{"Content-Type":"application/json",host:"".concat(F?F.bucket:"",".s3.amazonaws.com")},hostname:"".concat(F?F.bucket:"",".s3.amazonaws.com"),path:"".concat(F&&F.prefix?F.prefix:"").concat(N?N.value:"",".json"),protocol:"https:",service:"s3",cognitoSettings:e,authFacade:t}).pipe((0,te.b)(function(){return console.log(".marker({ event: AFTER , entity: s3 , op: query , meta: { action: createSignedRequest } })")}),(0,te.b)(function($){return delete $.headers.host}),(0,Ce.U)(function($){return{signedHttpRequest:$,options:F,url:"https://".concat(F.bucket,".s3.amazonaws.com").concat($.path)}}),(0,te.b)(function(){return console.log(".marker({ event: BEFORE , entity: crud , op: query , meta: { http: get } })")}),(0,st.w)(function($){return s.get($.url,{headers:$.signedHttpRequest.headers,withCredentials:!1})}),(0,te.b)(function(){return console.log(".marker({ event: AFTER , entity: s3 , op: query , meta: { http: get } })")}),(0,Ce.U)(function($){return{entities:$?[$]:[],success:!!$}})),(0,Le.of)({entities:[],success:!1}))}))}})}(0,s,t,u,l))});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Dc),r.\u0275\u0275inject(r.PLATFORM_ID),r.\u0275\u0275inject(Pu),r.\u0275\u0275inject(_i),r.\u0275\u0275inject(Ts),r.\u0275\u0275inject(O.HttpClient),r.\u0275\u0275inject(Vn.AsyncApiCallHelperService))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[Vn.UtilsModule,so,a_]}),o}(),yE=function(n){var s=n.method,l=n.path,h=n.port,T=n.protocol,$=n.service,se=n.cognitoSettings,ue=n.authFacade;return(0,Le.of)(new rr({body:n.body,headers:n.headers,hostname:n.hostname,method:void 0===s?"GET":s,path:void 0===l?"/":l,port:void 0===h?443:h,protocol:void 0===T?"https:":T,query:n.query})).pipe((0,te.b)(function(){return console.log(".marker({ event: BEGIN , context: os, entity: sig , op: signv4 , meta: {  } })")}),(0,st.w)(function(ge){return(0,wA.D)(new wf({credentials:oP({client:new AP({region:se.region}),identityPoolId:se.identityPoolId,logins:(0,d.Z)({},"cognito-idp.".concat(se.region,".amazonaws.com/").concat(se.userPoolId),function(){return Rc(ue.getUser$.pipe((0,Ce.U)(function(we){return we?we.id_token:void 0})))})}),region:se.region,service:$,sha256:AI.Sha256,applyChecksum:!1}).sign(ge).then(function(Se){return console.log(".marker({ event: RESOLVED, entity: os , op: signv4 , meta: {  } })"),Se})).pipe((0,te.b)(function(){return console.log(".marker({ /os/sign/after/sig })")}),(0,An.q)(1))}),(0,Ce.U)(function(ge){return ge}),(0,te.b)(function(){return console.log(".marker({ event: END , context: os, entity: sig , op: signv4 , meta: {  } })")}))},Gj=function(){var o=(0,y.Z)(function n(t,e,a,s,u,l){(0,f.Z)(this,n),a.register(function(n,t,e,a,s){return new Kd({id:"aws_opensearch_template",title:"AWS Opensearch Template",create:function(l){return(0,Le.of)({success:!1})},read:function(l){return Qa(l),(0,Le.of)({success:!1})},update:function(l){return(0,Le.of)({success:!1})},delete:function(l){return Qa(l),(0,Le.of)({success:!1})},query:function(l){var c=l.rule,h=l.params;return(0,Le.of)({entities:[],success:!1}).pipe((0,st.w)(function(){return h&&0!==Object.keys(h).length?(0,$n.D)(Object.keys(h).map(function(C){return a.paramValue(h[C],new Map).pipe((0,Ce.U)(function(T){return(0,d.Z)({},C,T)}))})).pipe((0,Ce.U)(function(C){return C.reduce(function(T,N){return(0,b.Z)((0,b.Z)({},T),N)},{})}),(0,Ce.U)(function(C){return{options:C}})):(0,Le.of)({options:{}})}),(0,Ce.U)(function(C){var T=C.options;return{options:T,body:JSON.stringify({id:T.id,params:c?c.conditions.all.reduce(function(N,F){return(0,b.Z)((0,b.Z)({},N),F.any.reduce(function($,se){return(0,b.Z)((0,b.Z)({},$),{},(0,d.Z)({},se.path.substr(2),[].concat((0,_.Z)($[se.path.substr(2)]?$[se.path.substr(2)]:[]),[JSON.parse(decodeURIComponent(se.value))])))},{}))},{}):{}})}}),(0,te.b)(function(C){return console.log("open search template query body",C.body)}),(0,st.w)(function(C){var T=C.options;return yE({method:"POST",body:C.body,headers:{"Content-Type":"application/json",host:"".concat(T.domain,".").concat(T.region,".es.amazonaws.com")},hostname:"".concat(T.domain,".").concat(T.region,".es.amazonaws.com"),path:"/".concat(T.index,"/_search/template"),protocol:"https:",service:"es",cognitoSettings:e,authFacade:t}).pipe((0,Ce.U)(function(F){return{signedHttpRequest:F,options:T}}))}),(0,st.w)(function(C){var T=C.signedHttpRequest,N=C.options;delete T.headers.host;var F="https://".concat(N.domain,".").concat(N.region,".es.amazonaws.com/").concat(N.index,"/_search/template");return s.post(F,T.body,{headers:T.headers,withCredentials:!1}).pipe((0,Ce.U)(function($){return{res:$,options:N}}))}),(0,Ce.U)(function(C){var T=C.res,N=C.options;return{entities:N.hits&&T&&T.hits&&T.hits.hits?T.hits.hits.map(function(F){return N.source?F._source:F}):[T],success:!0}}))}})}(0,s,t,u,l)),a.register(function(n,t,e,a){return new Kd({id:"aws_opensearch_entity",title:"AWS Opensearch Entity",create:function(u){var l=u.object,c=u.identity,h=u.params,C=u.parentObject;return(0,Le.of)({success:!1}).pipe(e.resolveParams({params:h}),(0,st.w)(function(T){var N=T.options;return c({object:l,parentObject:C}).pipe((0,Ce.U)(function(F){return{identity:F.identity,options:N}}))}),(0,st.w)(function(T){var N=T.options,F=T.identity;return yE((0,b.Z)((0,b.Z)({method:"PUT",body:JSON.stringify(l),headers:{"Content-Type":"application/json",host:"".concat(N.domain,".").concat(N.region,".es.amazonaws.com")},hostname:"".concat(N.domain,".").concat(N.region,".es.amazonaws.com"),path:"/".concat(N.index,"/_doc/").concat(F),protocol:"https:",service:"es"},(0,b.Z)({},N.pipeline?{query:{pipeline:N.pipeline}}:{})),{},{cognitoSettings:t,authFacade:n})).pipe((0,Ce.U)(function($){return{signedHttpRequest:$,options:N,identity:F}}))}),(0,st.w)(function(T){var N=T.signedHttpRequest,F=T.options,$=T.identity;delete N.headers.host;var se="https://".concat(F.domain,".").concat(F.region,".es.amazonaws.com/").concat(F.index,"/_doc/").concat($);return a.put(se,JSON.stringify(l),{headers:N.headers,withCredentials:!1,params:(0,b.Z)({},F.pipeline?{pipeline:F.pipeline}:{})}).pipe((0,Ce.U)(function(ue){return{res:ue,options:F}}))}),(0,Ce.U)(function(){return{success:!0}}))},read:function(u){return Qa(u),(0,Le.of)({success:!1})},update:function(u){var l=u.object,c=u.identity,h=u.params,C=u.parentObject;return(0,Le.of)({success:!1}).pipe(e.resolveParams({params:h}),(0,st.w)(function(T){var N=T.options;return c({object:l,parentObject:C}).pipe((0,Ce.U)(function(F){return{identity:F.identity,options:N}}))}),(0,st.w)(function(T){var N=T.options,F=T.identity;return yE((0,b.Z)((0,b.Z)({method:"PUT",body:JSON.stringify(l),headers:{"Content-Type":"application/json",host:"".concat(N.domain,".").concat(N.region,".es.amazonaws.com")},hostname:"".concat(N.domain,".").concat(N.region,".es.amazonaws.com"),path:"/".concat(N.index,"/_doc/").concat(F),protocol:"https:",service:"es"},(0,b.Z)({},N.pipeline?{query:{pipeline:N.pipeline}}:{})),{},{cognitoSettings:t,authFacade:n})).pipe((0,Ce.U)(function($){return{signedHttpRequest:$,options:N,identity:F}}))}),(0,st.w)(function(T){var N=T.signedHttpRequest,F=T.options,$=T.identity;delete N.headers.host;var se="https://".concat(F.domain,".").concat(F.region,".es.amazonaws.com/").concat(F.index,"/_doc/").concat($);return a.put(se,JSON.stringify(l),{headers:N.headers,withCredentials:!1,params:(0,b.Z)({},F.pipeline?{pipeline:F.pipeline}:{})}).pipe((0,Ce.U)(function(ue){return{res:ue,options:F}}))}),(0,Ce.U)(function(){return{success:!0}}))},delete:function(u){return Qa(u),(0,Le.of)({success:!1})},query:function(u){var l=u.rule,c=u.params;return(0,Le.of)({entities:[],success:!1}).pipe((0,te.b)(function(){console.log("crud open search query",l,c)}),e.resolveParams({params:c}),(0,Ce.U)(function(h){return{options:h.options,identityCondition:l.conditions.all.map(function(T){return T.any.find(function(N){return"identity"===N.fact})}).find(function(T){return!!T})}}),(0,st.w)(function(h){var C=h.options,T=h.identityCondition;return yE({method:"GET",headers:{"Content-Type":"application/json",host:"".concat(C.domain,".").concat(C.region,".es.amazonaws.com")},hostname:"".concat(C.domain,".").concat(C.region,".es.amazonaws.com"),path:"/".concat(C.index,"/_doc/").concat(T?T.value:""),protocol:"https:",service:"es",cognitoSettings:t,authFacade:n}).pipe((0,te.b)(function(){return console.log(".marker({ event: AFTER , entity: opensearch , op: query , meta: { action: createSignedRequest } })")}),(0,te.b)(function(N){return delete N.headers.host}),(0,Ce.U)(function(N){return{signedHttpRequest:N,options:C,url:"https://".concat(C.domain,".").concat(C.region,".es.amazonaws.com").concat(N.path)}}),(0,te.b)(function(){return console.log(".marker({ event: BEFORE , entity: crud , op: query , meta: { http: get } })")}),(0,st.w)(function(N){return a.get(N.url,{headers:N.signedHttpRequest.headers,withCredentials:!1}).pipe((0,si.K)(function(){return(0,Le.of)(void 0)}))}),(0,te.b)(function(){return console.log(".marker({ event: AFTER , entity: opensearch , op: query , meta: { http: get } })")}),(0,Ce.U)(function(N){return{entities:N?[N._source]:[],success:!!N}}))}))}})}(s,t,u,l))});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Dc),r.\u0275\u0275inject(r.PLATFORM_ID),r.\u0275\u0275inject(Pu),r.\u0275\u0275inject(_i),r.\u0275\u0275inject(Ts),r.\u0275\u0275inject(O.HttpClient))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[so,a_]}),o}(),Ms=S(64567),Hj=S(81382),o_=S(42375),qj=Object.prototype.toString;var RI=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},_E=function(){function o(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(n,t,e){return t&&o(n.prototype,t),e&&o(n,e),n}}();function DI(o){return o.split("").map(function(n){return"(?:"+n.toUpperCase()+"|"+n.toLowerCase()+")"}).join("")}function Wd(o,n){for(var t=o.length-1;t>=0;t--)o[t]===n&&Array.prototype.splice.call(o,t,1)}function Kj(o,n){return Object.prototype.hasOwnProperty.call(o,n)}var EA={},TI=function(){function o(){RI(this,o),this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[],this.acronyms={},this.acronymRegex=/(?=a)b/}return _E(o,null,[{key:"getInstance",value:function(t){return EA[t]=EA[t]||new o,EA[t]}}]),_E(o,[{key:"acronym",value:function(t){this.acronyms[t.toLowerCase()]=t;var e=[];for(var a in this.acronyms)Kj(this.acronyms,a)&&e.push(this.acronyms[a]);this.acronymRegex=new RegExp(e.join("|"))}},{key:"plural",value:function(t,e){"string"==typeof t&&Wd(this.uncountables,t),Wd(this.uncountables,e),this.plurals.unshift([t,e])}},{key:"singular",value:function(t,e){"string"==typeof t&&Wd(this.uncountables,t),Wd(this.uncountables,e),this.singulars.unshift([t,e])}},{key:"irregular",value:function(t,e){Wd(this.uncountables,t),Wd(this.uncountables,e);var a=t[0],s=t.substr(1),u=e[0],l=e.substr(1);if(a.toUpperCase()===u.toUpperCase())this.plural(new RegExp("("+a+")"+s+"$","i"),"$1"+l),this.plural(new RegExp("("+u+")"+l+"$","i"),"$1"+l),this.singular(new RegExp("("+a+")"+s+"$","i"),"$1"+s),this.singular(new RegExp("("+u+")"+l+"$","i"),"$1"+s);else{var c=DI(s),h=DI(l);this.plural(new RegExp(a.toUpperCase()+c+"$"),u.toUpperCase()+l),this.plural(new RegExp(a.toLowerCase()+c+"$"),u.toLowerCase()+l),this.plural(new RegExp(u.toUpperCase()+h+"$"),u.toUpperCase()+l),this.plural(new RegExp(u.toLowerCase()+h+"$"),u.toLowerCase()+l),this.singular(new RegExp(a.toUpperCase()+c+"$"),a.toUpperCase()+s),this.singular(new RegExp(a.toLowerCase()+c+"$"),a.toLowerCase()+s),this.singular(new RegExp(u.toUpperCase()+h+"$"),a.toUpperCase()+s),this.singular(new RegExp(u.toLowerCase()+h+"$"),a.toLowerCase()+s)}}},{key:"uncountable",value:function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];this.uncountables=this.uncountables.concat(e)}},{key:"human",value:function(t,e){this.humans.unshift([t,e])}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";"all"===t?(this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[]):this[t]=[]}}]),o}(),II={en:function Wj(o){o.plural(/$/,"s"),o.plural(/s$/i,"s"),o.plural(/^(ax|test)is$/i,"$1es"),o.plural(/(octop|vir)us$/i,"$1i"),o.plural(/(octop|vir)i$/i,"$1i"),o.plural(/(alias|status)$/i,"$1es"),o.plural(/(bu)s$/i,"$1ses"),o.plural(/(buffal|tomat)o$/i,"$1oes"),o.plural(/([ti])um$/i,"$1a"),o.plural(/([ti])a$/i,"$1a"),o.plural(/sis$/i,"ses"),o.plural(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),o.plural(/(hive)$/i,"$1s"),o.plural(/([^aeiouy]|qu)y$/i,"$1ies"),o.plural(/(x|ch|ss|sh)$/i,"$1es"),o.plural(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),o.plural(/^(m|l)ouse$/i,"$1ice"),o.plural(/^(m|l)ice$/i,"$1ice"),o.plural(/^(ox)$/i,"$1en"),o.plural(/^(oxen)$/i,"$1"),o.plural(/(quiz)$/i,"$1zes"),o.singular(/s$/i,""),o.singular(/(ss)$/i,"$1"),o.singular(/(n)ews$/i,"$1ews"),o.singular(/([ti])a$/i,"$1um"),o.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"),o.singular(/(^analy)(sis|ses)$/i,"$1sis"),o.singular(/([^f])ves$/i,"$1fe"),o.singular(/(hive)s$/i,"$1"),o.singular(/(tive)s$/i,"$1"),o.singular(/([lr])ves$/i,"$1f"),o.singular(/([^aeiouy]|qu)ies$/i,"$1y"),o.singular(/(s)eries$/i,"$1eries"),o.singular(/(m)ovies$/i,"$1ovie"),o.singular(/(x|ch|ss|sh)es$/i,"$1"),o.singular(/^(m|l)ice$/i,"$1ouse"),o.singular(/(bus)(es)?$/i,"$1"),o.singular(/(o)es$/i,"$1"),o.singular(/(shoe)s$/i,"$1"),o.singular(/(cris|test)(is|es)$/i,"$1is"),o.singular(/^(a)x[ie]s$/i,"$1xis"),o.singular(/(octop|vir)(us|i)$/i,"$1us"),o.singular(/(alias|status)(es)?$/i,"$1"),o.singular(/^(ox)en/i,"$1"),o.singular(/(vert|ind)ices$/i,"$1ex"),o.singular(/(matr)ices$/i,"$1ix"),o.singular(/(quiz)zes$/i,"$1"),o.singular(/(database)s$/i,"$1"),o.irregular("person","people"),o.irregular("man","men"),o.irregular("child","children"),o.irregular("sex","sexes"),o.irregular("move","moves"),o.irregular("zombie","zombies"),o.uncountable("equipment","information","rice","money","species","series","fish","sheep","jeans","police")}};function is(o,n){if(function kI(o){return"[object Function]"===qj.call(o)}(o)&&(n=o,o=null),o=o||"en",!n)return TI.getInstance(o);n(TI.getInstance(o))}for(var OI in II)is(OI,II[OI]);function MI(o){return function FI(o,n){var e,a,s,t=""+o;if(0===t.length)return t;var u=t.toLowerCase().match(/\b\w+$/);if(u&&is().uncountables.indexOf(u[0])>-1)return t;for(var l=0,c=n.length;l<c;l++)if(s=(e=n[l])[1],t.match(a=e[0])){t=t.replace(a,s);break}return t}(o,is(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en").plurals)}function NI(o){var n=null==o?"":String(o);return n.charAt(0).toUpperCase()+n.slice(1)}function Tl(o,n){null==n&&(n=!0);var t=""+o;return t=(t=n?t.replace(/^[a-z\d]*/,function(e){return is().acronyms[e]||NI(e)}):t.replace(new RegExp("^(?:"+is().acronymRegex.source+"(?=\\b|[A-Z_])|\\w)"),function(e){return e.toLowerCase()})).replace(/(?:_|(\/))([a-z\d]*)/gi,function(e,a,s,u,l){return a||(a=""),""+a+(is().acronyms[s]||NI(s))}),t}var VI={\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00c6:"AE",\u00c7:"C",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00d0:"D",\u00d1:"N",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O","\xd7":"x",\u00d8:"O",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00dd:"Y",\u00de:"Th",\u00df:"ss",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00e6:"ae",\u00e7:"c",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00f0:"d",\u00f1:"n",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00fd:"y",\u00fe:"th",\u00ff:"y",\u0100:"A",\u0101:"a",\u0102:"A",\u0103:"a",\u0104:"A",\u0105:"a",\u0106:"C",\u0107:"c",\u0108:"C",\u0109:"c",\u010a:"C",\u010b:"c",\u010c:"C",\u010d:"c",\u010e:"D",\u010f:"d",\u0110:"D",\u0111:"d",\u0112:"E",\u0113:"e",\u0114:"E",\u0115:"e",\u0116:"E",\u0117:"e",\u0118:"E",\u0119:"e",\u011a:"E",\u011b:"e",\u011c:"G",\u011d:"g",\u011e:"G",\u011f:"g",\u0120:"G",\u0121:"g",\u0122:"G",\u0123:"g",\u0124:"H",\u0125:"h",\u0126:"H",\u0127:"h",\u0128:"I",\u0129:"i",\u012a:"I",\u012b:"i",\u012c:"I",\u012d:"i",\u012e:"I",\u012f:"i",\u0130:"I",\u0131:"i",\u0132:"IJ",\u0133:"ij",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013a:"l",\u013b:"L",\u013c:"l",\u013d:"L",\u013e:"l",\u013f:"L",\u0140:"l",\u0141:"L",\u0142:"l",\u0143:"N",\u0144:"n",\u0145:"N",\u0146:"n",\u0147:"N",\u0148:"n",\u0149:"'n",\u014a:"NG",\u014b:"ng",\u014c:"O",\u014d:"o",\u014e:"O",\u014f:"o",\u0150:"O",\u0151:"o",\u0152:"OE",\u0153:"oe",\u0154:"R",\u0155:"r",\u0156:"R",\u0157:"r",\u0158:"R",\u0159:"r",\u015a:"S",\u015b:"s",\u015c:"S",\u015d:"s",\u015e:"S",\u015f:"s",\u0160:"S",\u0161:"s",\u0162:"T",\u0163:"t",\u0164:"T",\u0165:"t",\u0166:"T",\u0167:"t",\u0168:"U",\u0169:"u",\u016a:"U",\u016b:"u",\u016c:"U",\u016d:"u",\u016e:"U",\u016f:"u",\u0170:"U",\u0171:"u",\u0172:"U",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017a:"z",\u017b:"Z",\u017c:"z",\u017d:"Z",\u017e:"z",\u0410:"A",\u0411:"B",\u0412:"V",\u0413:"G",\u0414:"D",\u0415:"E",\u0401:"E",\u0416:"ZH",\u0417:"Z",\u0418:"I",\u0419:"J",\u041a:"K",\u041b:"L",\u041c:"M",\u041d:"N",\u041e:"O",\u041f:"P",\u0420:"R",\u0421:"S",\u0422:"T",\u0423:"U",\u0424:"F",\u0425:"KH",\u0426:"C",\u0427:"CH",\u0428:"SH",\u0429:"SHCH",\u042a:"",\u042b:"Y",\u042c:"",\u042d:"E",\u042e:"YU",\u042f:"YA",\u0430:"a",\u0431:"b",\u0432:"v",\u0433:"g",\u0434:"d",\u0435:"e",\u0451:"e",\u0436:"zh",\u0437:"z",\u0438:"i",\u0439:"j",\u043a:"k",\u043b:"l",\u043c:"m",\u043d:"n",\u043e:"o",\u043f:"p",\u0440:"r",\u0441:"s",\u0442:"t",\u0443:"u",\u0444:"f",\u0445:"kh",\u0446:"c",\u0447:"ch",\u0448:"sh",\u0449:"shch",\u044a:"",\u044b:"y",\u044c:"",\u044d:"e",\u044e:"yu",\u044f:"ya"},PA={};function r$(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",5),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.index;r.\u0275\u0275property("value",t),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1("panel page | level: ",t,"")}}function i$(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-select",3),r.\u0275\u0275template(2,r$,2,2,"mat-option",4),r.\u0275\u0275pipe(3,"async"),r.\u0275\u0275elementEnd()()),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(3,1,t.panelPages$))}}function a$(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",5),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.index;r.\u0275\u0275property("value",t),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1("panel | ",t,"")}}function o$(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-select",6),r.\u0275\u0275template(2,a$,2,2,"mat-option",4),r.\u0275\u0275pipe(3,"async"),r.\u0275\u0275elementEnd()()),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(3,1,t.panels$))}}function s$(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",5),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.index;r.\u0275\u0275property("value",t),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1("pane | ",t,"")}}function u$(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-select",7),r.\u0275\u0275template(2,s$,2,2,"mat-option",4),r.\u0275\u0275pipe(3,"async"),r.\u0275\u0275elementEnd()()),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(3,1,t.panes$))}}function l$(o,n){if(1&o&&r.\u0275\u0275element(0,"druid-panels-panelpage-linkedlist",8),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275property("panelPages",t.nested)}}function c$(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"a",2),r.\u0275\u0275listener("click",function(){var u=r.\u0275\u0275restoreView(t).$implicit,l=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(l.onItemSelect(u.id))}),r.\u0275\u0275elementStart(1,"span",6),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd()()}if(2&o){var e=n.$implicit;r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate2("",e.title," [",e.id,"]")}}function d$(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-nav-list"),r.\u0275\u0275template(1,c$,3,2,"a",5),r.\u0275\u0275pipe(2,"async"),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(2,1,t.panels$))}}!function(){function o(){for(var n in RI(this,o),this.approximations={},VI)this.approximate(n,VI[n])}_E(o,null,[{key:"getInstance",value:function(t){return PA[t]=PA[t]||new o,PA[t]}}]),_E(o,[{key:"approximate",value:function(t,e){this.approximations[t]=e}},{key:"transliterate",value:function(t,e){var a=this;return t.replace(/[^\u0000-\u007f]/g,function(s){return a.approximations[s]||e||"?"})}}])}();var f$=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.openSearchDomain=n.openSearchDomain,this.s3Bucket=n.s3Bucket,this.objectsRootUrl=n.objectsRootUrl)}),ri=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.gridItems=[],this.panels=[],this.contexts=[],this.rowSettings=[],this.entityPermissions=new ZI,n&&(this.id=n.id,this.layoutType=n.layoutType,this.displayType=n.displayType,this.name=n.name?n.name:void 0,this.title=n.title?n.title:void 0,this.site=n.site?n.site:void 0,this.userId=n.userId?n.userId:void 0,this.path=n.path?n.path:void 0,this.persistence=n.persistence?new Hd(n.persistence):void 0,this.interactions=n.interactions?new Rl(n.interactions):void 0,n.panels&&(this.panels=n.panels.map(function(t){return new Ns(t)})),n.gridItems&&(this.gridItems=n.gridItems.map(function(t){return new m$(t)})),n.contexts&&(this.contexts=n.contexts.map(function(t){return new la(t)})),n.layoutSetting&&(this.layoutSetting=new br(n.layoutSetting)),n.rowSettings&&Array.isArray(n.rowSettings)&&(this.rowSettings=n.rowSettings.map(function(t){return new br(t)})),n.entityPermissions&&(this.entityPermissions=new ZI(n.entityPermissions)),n.cssFile&&(this.cssFile=n.cssFile))}),Ns=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.settings=[],this.panes=[],n&&(this.name=n.name?n.name:void 0,this.label=n.label?n.label:void 0,this.stylePlugin=n.stylePlugin,n.settings&&(this.settings=n.settings.map(function(t){return new Nt.AttributeValue(t)})),n.panes&&(this.panes=n.panes.map(function(t){return new Wr(t)})),n.columnSetting&&(this.columnSetting=new br(n.columnSetting)))}),Wr=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.settings=[],this.locked=!1,this.contexts=[],n&&(this.name=n.name,this.label=n.label,this.contentPlugin=n.contentPlugin,this.locked=void 0!==n.locked&&n.locked,n.linkedPageId&&(this.linkedPageId=n.linkedPageId),void 0!==n.metadata&&(this.metadata=new Map((0,_.Z)(n.metadata))),void 0!==n.settings&&(this.settings=n.settings.map(function(t){return new Nt.AttributeValue(t)})),void 0!==n.contexts&&(this.contexts=n.contexts.map(function(t){return new la(t)})),void 0!==n.rule&&"string"!=typeof n.rule&&(this.rule=(0,b.Z)({},n.rule)),n.nestedPage&&(this.nestedPage=new ri(n.nestedPage)),n.resolvedContext&&(this.resolvedContext=(0,b.Z)({},n.resolvedContext)))}),m$=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.cols=n.cols,this.rows=n.rows,this.x=n.x,this.y=n.y,this.weight=n.weight)}),br=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.settings=[],n&&n.settings&&Array.isArray(n.settings)&&(this.settings=n.settings.map(function(t){return new Nt.AttributeValue(t)}))}),ZI=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.readUserIds=[],this.writeUserIds=[],this.deleteUserIds=[],n&&(this.readUserIds=n.readUserIds?n.readUserIds.map(function(t){return t}):[],this.writeUserIds=n.writeUserIds?n.writeUserIds.map(function(t){return t}):[],this.deleteUserIds=n.deleteUserIds?n.deleteUserIds.map(function(t){return t}):[])}),ya=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.attributeSerializer=t}return(0,y.Z)(n,[{key:"handleFile",value:function(e){return(0,Le.of)()}},{key:"handlesType",value:function(e){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(e){return(0,Le.of)(!1)}},{key:"isDynamic",value:function(e){return!1}},{key:"isData",value:function(e){return!1}},{key:"buildDynamicItems",value:function(e,a){return(0,Le.of)([])}},{key:"fetchDynamicData",value:function(e,a){return(0,Le.of)(new pr)}},{key:"getBindings",value:function(e,a){return(0,Le.of)([])}},{key:"toObject",value:function(e){return(0,Le.of)(this.attributeSerializer.deserializeAsObject(e))}},{key:"buildSettings",value:function(e){return this.attributeSerializer.serialize(e,"root").attributes}},{key:"fromPanes",value:function(e){var a=this;return e.map(function(s){return new Wr(a.attributeSerializer.deserialize(s))})}},{key:"wrapPanel",value:function(e){return new Ns({stylePlugin:void 0,settings:[],panes:e,columnSetting:new br})}},{key:"stateDefinition",value:function(e){return(0,Le.of)({})}},{key:"editorOptions",value:function(e){return(0,Le.of)(new pn.ContentPluginEditorOptions)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Nt.AttributeSerializerService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),h$=function(){var o=function(){function n(t,e){var a=this;(0,f.Z)(this,n),this.fb=t,this.panelHandler=e,this.panelPages$=new U.X([]),this.panels$=new U.X([]),this.panes$=new U.X([]),this.nested$=new U.X([]),this.formGroup=this.fb.group({panelPage:this.fb.control(void 0),panel:this.fb.control(void 0),pane:this.fb.control(void 0),nested:this.fb.control(void 0)}),this.panelPageSub=this.formGroup.get("panelPage").valueChanges.subscribe(function(s){a.panels$.next(new ri(a.panelPages$.value[s]).panels)}),this.panelSub=this.formGroup.get("panel").valueChanges.subscribe(function(s){a.panes$.next(new Ns(a.panels$.value[s]).panes)}),this.paneSub=this.formGroup.get("pane").valueChanges.pipe((0,Ce.U)(function(s){return a.panes$.value[s]}),(0,st.w)(function(s){return Or(function(){return"panel"===s.contentPlugin},a.panelHandler.toObject(s.settings),(0,Le.of)(void 0))}),(0,Q.h)(function(s){return!!s})).subscribe(function(s){a.nested$.next([s])}),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"panelPages",get:function(){return this.panelPages$.value&&Array.isArray(this.panelPages$.value)?this.panelPages$.value:[]},set:function(e){this.panelPages$.next(e)}},{key:"panels",get:function(){return this.panels$.value&&Array.isArray(this.panels$.value)?this.panels$.value:[]},set:function(e){this.panels$.next(e)}},{key:"panes",get:function(){return this.panes$.value&&Array.isArray(this.panes$.value)?this.panes$.value:[]},set:function(e){this.panes$.next(e)}},{key:"nested",get:function(){return this.nested$.value&&void 0!==typeof this.nested$.value&&this.nested$.value.length>0?(0,_.Z)(this.nested$.value):void 0}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1}}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(ya))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-panels-panelpage-linkedlist"]],inputs:{panelPages:"panelPages",panels:"panels",panes:"panes"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:5,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],["formControlName","nested",3,"panelPages",4,"ngIf"],["required","","formControlName","panelPage"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["required","","formControlName","panel"],["required","","formControlName","pane"],["formControlName","nested",3,"panelPages"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275template(1,i$,4,3,"mat-form-field",1),r.\u0275\u0275template(2,o$,4,3,"mat-form-field",1),r.\u0275\u0275template(3,u$,4,3,"mat-form-field",1),r.\u0275\u0275template(4,l$,1,1,"druid-panels-panelpage-linkedlist",2),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.formGroup),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.panelPages.length>0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.panels.length>0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.panes.length>0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.nested))},dependencies:[P.NgForOf,P.NgIf,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,bi.MatLegacyOption,En.MatLegacyFormField,Fi.MatLegacySelect,o,P.AsyncPipe],encapsulation:2}),o}(),g$=function(){var o=function(){function n(t,e,a,s,u,l){(0,f.Z)(this,n),this.siteName=t,this.bottomSheetRef=e,this.handler=a,this.dialog=s,this.fb=u,this.selectedIndex=0,this.panelPagesService=l.getEntityCollectionService("PanelPage"),this.panelPageListItemsService=l.getEntityCollectionService("PanelPageListItem")}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"onNewSelect",value:function(){var e=this,a=vr(),s=new ri({id:void 0,layoutType:"split",displayType:"page",site:this.siteName,gridItems:[],panels:[],layoutSetting:new br,rowSettings:[]});this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"panel",name:a,label:a,rule:new v.UntypedFormControl(""),settings:this.fb.array(this.handler.buildSettings(s).map(function(u){return e.convertToGroup(u)}))})),this.bottomSheetRef.dismiss()}},{key:"onLinkSelect",value:function(){this.selectedIndex=1,this.panels$=this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent(this.siteName)))}},{key:"onEmbedSelect",value:function(){var e=vr();this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"panel",name:e,label:e,rule:new v.UntypedFormControl(""),locked:new v.UntypedFormControl(!0),settings:this.fb.array([])})),this.bottomSheetRef.dismiss()}},{key:"onItemSelect",value:function(e){var a=vr();this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"panel",name:a,label:a,rule:new v.UntypedFormControl(""),linkedPageId:new v.UntypedFormControl(e,v.Validators.required),locked:new v.UntypedFormControl(!0),settings:this.fb.array([])})),this.bottomSheetRef.dismiss()}},{key:"convertToGroup",value:function(e){var a=this,s=this.fb.group({name:new v.UntypedFormControl(e.name,v.Validators.required),type:new v.UntypedFormControl(e.type,v.Validators.required),displayName:new v.UntypedFormControl(e.displayName,v.Validators.required),value:new v.UntypedFormControl(e.value,v.Validators.required),computedValue:new v.UntypedFormControl(e.value,v.Validators.required),attributes:new v.UntypedFormArray([])});return e.attributes&&e.attributes.length>0&&e.attributes.forEach(function(u){s.get("attributes").push(a.convertToGroup(u))}),s}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Vn.SITE_NAME),r.\u0275\u0275directiveInject(Dl.MatBottomSheetRef),r.\u0275\u0275directiveInject(ya),r.\u0275\u0275directiveInject(Yt.MatLegacyDialog),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Dr))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-panel-selector"]],inputs:{panelFormGroup:"panelFormGroup"},decls:11,vars:1,consts:[["mat-align-tabs","start",3,"selectedIndex"],["label","Type"],["mat-list-item","","mat-list-item","",3,"click"],["label","Search"],["matTabContent",""],["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["mat-line",""]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"mat-tab-group",0)(1,"mat-tab",1)(2,"mat-nav-list")(3,"a",2),r.\u0275\u0275listener("click",function(){return e.onNewSelect()}),r.\u0275\u0275text(4,"New Panel"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"a",2),r.\u0275\u0275listener("click",function(){return e.onLinkSelect()}),r.\u0275\u0275text(6,"Link Panel"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(7,"a",2),r.\u0275\u0275listener("click",function(){return e.onEmbedSelect()}),r.\u0275\u0275text(8,"Embed Panel"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(9,"mat-tab",3),r.\u0275\u0275template(10,d$,3,3,"ng-template",4),r.\u0275\u0275elementEnd()()),2&t&&r.\u0275\u0275property("selectedIndex",e.selectedIndex)},dependencies:[P.NgForOf,vE.MatLine,Eu.MatLegacyNavList,Eu.MatLegacyListItem,rs.MatLegacyTabGroup,rs.MatLegacyTab,rs.MatLegacyTabContent,P.AsyncPipe]}),o}(),v$=function(){var o=function(){function n(){(0,f.Z)(this,n)}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-panel-editor"]],decls:2,vars:0,template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"p"),r.\u0275\u0275text(1,"panel-editor works!"),r.\u0275\u0275elementEnd())}}),o}(),as=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.panels=[],n&&(this.id=n.id,void 0!==n.panels&&Array.isArray(n.panels)&&(this.panels=n.panels.map(function(t){return new Il(t)})))}),Il=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.panes=[],n&&void 0!==n.panes&&Array.isArray(n.panes)&&(this.panes=n.panes.map(function(t){return new Ya(t)}))}),Ya=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(void 0!==n.state&&(this.state=new Nt.AttributeValue(n.state)),null!=n.nestedPage&&(this.nestedPage=new as(n.nestedPage)))}),AA=function(){var o=function(){function n(t,e,a,s,u,l){(0,f.Z)(this,n),this.siteName=t,this.panelHandler=e,this.attributeSerializer=a,this.rulesResolver=s,this.dpm=u,this.datasourceEvalutator=l}return(0,y.Z)(n,[{key:"handleFile",value:function(e){return(0,Le.of)([])}},{key:"handlesType",value:function(e){return!1}},{key:"implementsRendererOverride",value:function(){return!0}},{key:"hasRendererOverride",value:function(e){return(0,Le.of)(!1)}},{key:"isDynamic",value:function(e){return!0}},{key:"isData",value:function(e){return!0}},{key:"fetchDynamicData",value:function(e,a){var s=this,u=a.has("dataPanes")?new Map(a.get("dataPanes").map(function(c){return[c.name,c]})):new Map([]),l=new Map(Array.from(u).map(function(c){var h=(0,g.Z)(c,2);return[h[0],new Pl(s.attributeSerializer.deserializeAsObject(h[1].settings))]}));return this.toObject(e).pipe((0,st.w)(function(c){return s.datasourceEvalutator.evalDatasource({datasource:c,metadata:a,datasources:l})}))}},{key:"buildDynamicItems",value:function(e,a){var s=this,u=new Map(a.get("dataPanes").map(function(l){return[l.name,l]}));return this.fetchDynamicData(e,a).pipe((0,st.w)(function(l){return s.toObject(e).pipe((0,Ce.U)(function(c){return[c,l]}))}),(0,st.w)(function(l){var c=(0,g.Z)(l,2),h=c[0],C=c[1];return s.getBindings(e,"pane").pipe((0,Ce.U)(function(T){return[h,C,T]}))}),(0,st.w)(function(l){var c=(0,g.Z)(l,3),h=c[0],C=c[1],T=c[2];return Or(function(){return 0!==C.results.length&&T.length>0},(0,$n.D)(C.results.map(function(N){return(0,$n.D)(T.filter(function(F){return!u.has(F.id)}).map(function(F){return(0,Le.of)(a.get("panes").find(function($){return $.name===F.id})).pipe((0,st.w)(function($){return Or(function(){return $&&$.rule&&null!==$.rule&&""!==$.rule.condition},$?s.rulesResolver.evaluate($.rule,[].concat((0,_.Z)(a.get("contexts")),(0,_.Z)(void 0!==$.contexts?$.contexts:[]),[new la({name:"_root",adaptor:"data",data:N})])).pipe((0,Ce.U)(function(se){return[$,se]})):(0,Le.of)([$,!1]),(0,Le.of)(!1).pipe((0,Ce.U)(function(se){return[$,se]})))}),(0,Q.h)(function($){return(0,g.Z)($,2)[1]}),(0,Ce.U)(function($){return(0,g.Z)($,2)[0].name}),(0,fi.d)(F.id))})).pipe((0,Ce.U)(function(F){return F.reduce(function($,se){return[].concat((0,_.Z)($),[se])},[])}))})).pipe((0,Ce.U)(function(N){return[h,C,N]})),new W.y(function(N){N.next([h,C,[]]),N.complete()}))}),(0,Ce.U)(function(l){var c=(0,g.Z)(l,3),T=c[2];return c[1].results.reduce(function(N,F,$){return[].concat((0,_.Z)(N),(0,_.Z)(T[$]?T[$].map(function(se){return new Wr((0,b.Z)((0,b.Z)({},a.get("panes").find(function(ue){return ue.name===se})),{},{rule:void 0,label:vr(),contexts:[].concat((0,_.Z)(a.get("contexts")),[new la({name:"_root",adaptor:"data",data:F})])}))}):[]))},[])}),(0,Ce.U)(function(l){return new Ns({stylePlugin:void 0,settings:[],panes:l,columnSetting:new br})}),(0,Ce.U)(function(l){return s.panelHandler.buildSettings(new ri({id:void 0,layoutType:"grid",displayType:"page",site:s.siteName,gridItems:[],layoutSetting:new br,rowSettings:[],panels:[l]}))}),(0,Ce.U)(function(l){return l.find(function(c){return"panels"===c.name}).attributes[0].attributes.find(function(c){return"panes"===c.name}).attributes}))}},{key:"getBindings",value:function(e,a,s){var u=this,l=s?new Map(s.get("dataPanes").map(function(c){return[c.name,c]})):new Map;return"context"===a?this.toObject(e).pipe((0,Ce.U)(function(c){return[c,c.params?c.params.reduce(function(h,C){return[].concat((0,_.Z)(h),(0,_.Z)("form"===C.mapping.type?[new pn.ContentBinding({id:"form__".concat(C.mapping.value.split(".",2)[0].trim()),type:"context"})]:[]))},[]):[]]}),(0,st.w)(function(c){var C=(0,g.Z)(c,2)[0];return u.dpm.getPlugin(C.plugin).pipe((0,st.w)(function(N){return N.getBindings({settings:C.settings,metadata:s}).pipe((0,Ce.U)(function(F){return[C,F]}))}))}),(0,st.w)(function(c){var h=(0,g.Z)(c,2),T=h[1];return(0,$n.D)(h[0].renderer.bindings.reduce(function(N,F){return[].concat((0,_.Z)(N),(0,_.Z)(l.has(F.id)?[u.toObject(l.get(F.id).settings)]:[]))},[])).pipe((0,st.w)(function(N){return(0,$n.D)(N.map(function(F){return u.dpm.getPlugin(F.plugin).pipe((0,st.w)(function($){return $.getBindings({settings:F.settings,metadata:s})}))})).pipe((0,Ce.U)(function(F){return F.reduce(function($,se){return[].concat((0,_.Z)($),(0,_.Z)(se))},T)}),(0,fi.d)(T))}),(0,fi.d)(T))})):this.toObject(e).pipe((0,st.w)(function(c){return Or(function(){return c.renderer.type===a},(0,Le.of)(c.renderer.bindings),(0,Le.of)([]))}))}},{key:"toObject",value:function(e){return(0,Le.of)(this.attributeSerializer.deserializeAsObject(e))}},{key:"buildSettings",value:function(e){return this.attributeSerializer.serialize(e,"root").attributes}},{key:"getRenderType",value:function(e){var a=[e.find(function(s){return"renderer"===s.name})].map(function(s){return s.attributes.find(function(u){return"type"===u.name})});return a.length>0?a[0].value:void 0}},{key:"stateDefinition",value:function(e){return(0,Le.of)({autocomplete:{input:""},loading:"y"})}},{key:"editorOptions",value:function(e){var a=this;return this.toObject(e).pipe((0,st.w)(function(s){return a.dpm.getPlugin(s&&s.plugin?s.plugin:"data").pipe((0,Ce.U)(function(u){return[s,u]}))}),(0,st.w)(function(s){var u=(0,g.Z)(s,2),l=u[0],c=u[1];return c.editorOptions?c.editorOptions({settings:l&&l.settings?l.settings:[]}):(0,Le.of)(void 0)}),(0,Ce.U)(function(s){return new pn.ContentPluginEditorOptions({fullscreen:!!s&&s.fullscreen})}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Vn.SITE_NAME),r.\u0275\u0275inject(ya),r.\u0275\u0275inject(Nt.AttributeSerializerService),r.\u0275\u0275inject(CA),r.\u0275\u0275inject(co),r.\u0275\u0275inject(sI))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),y$=function(){var o=function(){function n(t,e,a,s,u){(0,f.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=a,this.attributeSerializer=s,this.datasourceHandler=u,this.datasource=new Pl,this.bindableOptions=[],this.contexts=[],this.formGroup=this.fb.group({source:this.fb.control("")})}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){var e=this,a=this.data.panelFormGroup.get("panes");if(this.bindableOptions=a.controls.reduce(function(u,l){return l.get("name").value?[].concat((0,_.Z)(u),[l.get("name").value]):(0,_.Z)(u)},[]),this.contexts=this.data.contexts.map(function(u){return u.name}),void 0!==this.data.panelIndex&&this.data.paneIndex<a.length){var s=a.at(this.data.paneIndex).get("settings").value.map(function(u){return new Nt.AttributeValue(u)});this.datasourceHandler.toObject(s).subscribe(function(u){e.datasource=u})}}},{key:"onSubmit",value:function(){var e=this,a=this.attributeSerializer.serialize(this.formGroup.value.source,"source"),s=this.data.panelFormGroup.get("panes").at(this.data.paneIndex);void 0===this.data.paneIndex?(this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"datasource",name:new v.UntypedFormControl(""),label:new v.UntypedFormControl(""),rule:new v.UntypedFormControl(""),settings:this.fb.array(a.attributes.map(function(u){return e.attributeSerializer.convertToGroup(u)}))})),console.log(this.data.panelFormGroup.get("panes").value)):(s.get("settings").clear(),a.attributes.forEach(function(u){return s.get("settings").push(e.attributeSerializer.convertToGroup(u))})),this.dialogRef.close()}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(Yt.MatLegacyDialogRef),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Nt.AttributeSerializerService),r.\u0275\u0275directiveInject(AA))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-datasource-editor"]],decls:4,vars:4,consts:[[3,"formGroup","ngSubmit"],["formControlName","source",3,"bindableOptions","contexts","datasource"],["type","submit"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"form",0),r.\u0275\u0275listener("ngSubmit",function(){return e.onSubmit()}),r.\u0275\u0275element(1,"classifieds-ui-datasource-form",1),r.\u0275\u0275elementStart(2,"button",2),r.\u0275\u0275text(3,"Save"),r.\u0275\u0275elementEnd()()),2&t&&(r.\u0275\u0275property("formGroup",e.formGroup),r.\u0275\u0275advance(1),r.\u0275\u0275property("bindableOptions",e.bindableOptions)("contexts",e.contexts)("datasource",e.datasource))},dependencies:[v.\u0275NgNoValidate,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,pA]}),o}(),_$=function(n){return new pn.ContentPlugin({id:"panel",title:"Panel",selectionComponent:g$,editorComponent:v$,renderComponent:void 0,handler:n})},x$=function(n){return new pn.ContentPlugin({id:"datasource",title:"Datasource",selectionComponent:void 0,editorComponent:y$,renderComponent:void 0,handler:n})},LI=(0,Bt.PH)("[PageBuilder] Load Rest Data",(0,Bt.Ky)()),jI=(0,Bt.PH)("[PageBuilder] Load Rest Data Success",(0,Bt.Ky)()),kA=((0,Bt.PH)("[PageBuilder] Load Rest Data Error",(0,Bt.Ky)()),(0,Bt.PH)("[PageBuilder] Set Page Info",(0,Bt.Ky)())),$I=(0,Bt.PH)("[PageBuilder] Set Form",(0,Bt.Ky)()),RA=(0,Bt.PH)("[PageBuilder] Set Page",(0,Bt.Ky)()),UI=(0,Bt.PH)("[PageBuilder] Selection Path",(0,Bt.Ky)()),C$=function(){var o=function(){function n(t,e,a){var s=this;(0,f.Z)(this,n),this.actions$=t,this.datasourceApi=e,this.snippetParserService=a,this.loadRestData$=vi(function(){return s.actions$.pipe(Ga(LI),(0,Zi.b)(function(u){return s.fetchRestdata$(u.rest).pipe((0,si.K)(function(){return[]}),(0,Ce.U)(function(l){return void 0!==u.rest.renderer&&void 0!==u.rest.renderer.query&&""!==u.rest.renderer.query?(0,Ms.JSONPath)({path:u.rest.renderer.query,json:l}):l}),(0,Ce.U)(function(l){return jI({tag:u.tag,data:new pr({results:l})})}))}))})}return(0,y.Z)(n,[{key:"fetchRestdata$",value:function(e){var a=this;switch(e.method?e.method:"get"){case"post":case"POST":return(0,Le.of)([]).pipe((0,st.w)(function(){return a.snippetParserService.parseSnippet({snippet:e.body})}),(0,st.w)(function(u){return a.datasourceApi.postData({url:e.url,body:u})}));default:return this.datasourceApi.getData(e.url)}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(to),r.\u0275\u0275inject(iI),r.\u0275\u0275inject(z3))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),u_=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.id=n.id,this.path=n.path,this.realPath=n.realPath,this.args=n.args)}),zI="pageBuilder",S$=(0,Bt.Lq)({dataTags:[],datasets:[],pageInfo:void 0,formNames:[],forms:[],page:void 0,selectionPath:[]},(0,Bt.on)(jI,function(o,n){var t=o.dataTags.findIndex(function(a){return a===n.tag});if(t>-1&&void 0!==o.forms[t]){var e=(0,b.Z)({},o);return e.datasets[t].push(n.data),e}return(0,b.Z)((0,b.Z)({},o),{},{dataTags:[].concat((0,_.Z)(o.dataTags),[n.tag]),datasets:[].concat((0,_.Z)(o.datasets),[[n.data]])})}),(0,Bt.on)($I,function(o,n){var t=o.formNames.findIndex(function(e){return e===n.name});return(0,b.Z)((0,b.Z)({},o),{},t>-1&&void 0!==o.forms[t]?{forms:o.forms.map(function(e,a){return a===t?n.form:e})}:{formNames:[].concat((0,_.Z)(o.formNames),[n.name]),forms:[].concat((0,_.Z)(o.forms),[n.form])})}),(0,Bt.on)(kA,function(o,n){return(0,b.Z)((0,b.Z)({},o),{},{pageInfo:void 0!==n.info?new u_(n.info):void 0})}),(0,Bt.on)(RA,function(o,n){return(0,b.Z)((0,b.Z)({},o),{},{page:void 0!==n.page?new ri(n.page):void 0})}),(0,Bt.on)(UI,function(o,n){return(0,b.Z)((0,b.Z)({},o),{},{selectionPath:void 0!==n.path?n.path:[]})}));function E$(o,n){return S$(o,n)}var xE=new r.InjectionToken("StylePlugin"),GI=new r.InjectionToken("PanelsSettings"),DA=function(){var o=(0,y.Z)(function n(t,e,a,s,u,l,c,h,C,T,N,F){(0,f.Z)(this,n);var $=function(n,t){return{PanelPageListItem:{entityName:"PanelPageListItem",crud:{idb_keyval:{params:{prefix:"panelpage__"},queryMappings:new Map([["site",{defaultOperator:"term||wildcard"}],["path",{defaultOperator:"term||wildcard"}]])}}},PanelPage:{entityName:"PanelPage",crud:(0,b.Z)((0,b.Z)({save:{ops:["create","update"],plugin:"rest",params:{entityName:"PanelPage"}}},(0,P.isPlatformServer)(n)?{}:{readPrimary:{fallback:!0,ops:["create","update","query"],plugin:"idb_keyval",params:{prefix:"panelpage__"}}}),{},{readFallback:{fallback:!0,ops:["query"],plugin:"rest",params:{entityName:"PanelPage",root:t.objectsRootUrl,suffix:".json"}}})},PanelPageState:{entityName:"PanelPageState"}}}(t,a);s.registerMetadataMap($),l.registerService("PanelPageState",new Vn.NoopDataService("PanelPageState")),l.registerService("PanelPage",new bA("PanelPage",T,N,F)),l.registerService("PanelPageListItem",new bA("PanelPageListItem",T,N,F)),e.forEach(function(se){return u.register(se)}),c.register(function(n,t){return new r_({id:"panels",title:"Panels",build:function(){kl.prototype.writePaneState=function(a,s){return new Promise(function(u){var l=n.getEntityCollectionService("PanelPageState");l.getByKey(a.id).pipe((0,si.K)(function(){return(0,Le.of)(new as({id:a.id,panels:[]}))}),(0,Ce.U)(function(c){return void 0===c?new as({id:a.id,panels:[]}):c}),(0,Ce.U)(function(c){for(var h=t.serialize(s,"root"),C=new as((0,b.Z)((0,b.Z)({},c),{},{panels:[]})),T=0;T<a.panelIndex+1;T++){C.panels.push(T<c.panels.length?new Il((0,b.Z)((0,b.Z)({},c.panels[T]),{},{panes:[]})):new Il);for(var N=0;N<a.paneIndex+1;N++)C.panels[T].panes.push(T===a.panelIndex&&N===a.paneIndex?new Ya(T<c.panels.length&&N<c.panels[T].panes.length?(0,b.Z)((0,b.Z)({},c.panels[T].panes[N]),{},{state:h}):{state:h}):T<c.panels.length&&N<c.panels[T].panes.length?new Ya((0,b.Z)({},c.panels[T].panes[N])):new Ya)}return C}),(0,st.w)(function(c){return l.upsert(c)})).subscribe(function(c){u(c)})})}}})}(h,C)),l.registerService("PanelPageForm",new bA("PanelPageForm",T,N,F))});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(r.PLATFORM_ID),r.\u0275\u0275inject(pn.CONTENT_PLUGIN),r.\u0275\u0275inject(GI),r.\u0275\u0275inject(Qi),r.\u0275\u0275inject(pn.ContentPluginManager),r.\u0275\u0275inject(al),r.\u0275\u0275inject(Ud),r.\u0275\u0275inject(Dr),r.\u0275\u0275inject(Nt.AttributeSerializerService),r.\u0275\u0275inject(Pu),r.\u0275\u0275inject(Qi),r.\u0275\u0275inject(i_))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({providers:[{provide:ya,useClass:ya},{provide:pn.CONTENT_PLUGIN,useFactory:_$,multi:!0,deps:[ya]},{provide:pn.CONTENT_PLUGIN,useFactory:x$,multi:!0,deps:[AA]},{provide:uu,useClass:vc}],imports:[P.CommonModule,v.FormsModule,v.ReactiveFormsModule,Bt.Aw.forFeature(zI,E$),ou.forFeature([C$]),Oi.MaterialModule,Al,so,$j,Gj,a_]}),o}(),HI=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.panelPage=n.panelPage,null!=n.panel&&(this.panel=n.panel),null!=n.pane&&(this.pane=n.pane),null!=n.nested&&"object"==typeof n.nested&&(this.nested=new o(n.nested)))}),qI=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.controlContainer=t,this.savable=!0,this.nested=!1,this.dashboard=[],this.layoutSetting=new br,this.rowSettings=[],this.ancestory=[]}return(0,y.Z)(n,[{key:"gridItems",get:function(){return[]}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-layout-editor-base"]],inputs:{savable:"savable",nested:"nested",editor:"editor",dashboard:"dashboard",layoutSetting:"layoutSetting",rowSettings:"rowSettings",columnSettings:"columnSettings",editablePaneTpl:"editablePaneTpl",extraActionsAreaTmpl:"extraActionsAreaTmpl",contextsMenuTpl:"contextsMenuTpl",ancestory:"ancestory"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),o}(),KI=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.controlContainer=t,this.displayMainControls=!1,this.displayItemHeader=!1}return(0,y.Z)(n,[{key:"columnSettings",get:function(){var e=this.panelPage?this.panelPage.panels.reduce(function(a,s){return[].concat((0,_.Z)(a),[new br(s.columnSetting)])},[]):[];return e}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.ControlContainer,8))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-layout-renderer-base"]],inputs:{panelPage:"panelPage",displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",renderPanelTpl:"renderPanelTpl"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),o}(),P$=function(){var o=function(){function n(){(0,f.Z)(this,n),this.settings=[],this.panes=[],this.originMappings=[],this.ancestory=[]}return(0,y.Z)(n,[{key:"mergeContexts",value:function(e){if(void 0!==e||void 0!==this.contexts)return void 0!==e&&void 0!==this.contexts?[].concat((0,_.Z)(e),(0,_.Z)(this.contexts)):void 0!==e?e:this.contexts}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-panel-style-renderer-base"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",originMappings:"originMappings",contexts:"contexts",ancestory:"ancestory"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),o}(),WI=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.es=t,this.panelHandler=e}return(0,y.Z)(n,[{key:"panelPageService",get:function(){return this.es.getEntityCollectionService("PanelPage")}},{key:"reducePage",value:function(e){var a=this;return e.panels.reduce(function(s,u,l){return a.reducePanels(s,u,l)},[])}},{key:"reducePanels",value:function(e,a,s){var u=this;return[].concat((0,_.Z)(e),(0,_.Z)(a.panes.reduce(function(l,c,h){return u.reducePanes(l,c,h).map(function(C){return C.pipe((0,Ce.U)(function(T){var N=(0,g.Z)(T,2);return[s,N[0],N[1]]}))})},[])))}},{key:"reducePanes",value:function(e,a,s){return[].concat((0,_.Z)(e),(0,_.Z)("panel"===a.contentPlugin?[this.nestedPage$(a).pipe((0,Ce.U)(function(u){return[s,u]}))]:[]))}},{key:"nestedPage$",value:function(e){return console.log("get nested panel page"),e.linkedPageId&&""!==e.linkedPageId?this.getByKey(e.linkedPageId).pipe((0,te.b)(function(){return console.log("get(".concat(e.linkedPageId,")"))})):this.getEmbedded(e.settings).pipe((0,te.b)(function(){return console.log("toObject()")}))}},{key:"remapNested",value:function(e,a){a.forEach(function(s){var u=(0,g.Z)(s,3);e.panels[u[0]].panes[u[1]].nestedPage=u[2]})}},{key:"getByKey",value:function(e){var a=this;return this.panelPageService.getByKey(e).pipe((0,Ce.U)(function(s){return new ri(s)}),(0,st.w)(function(s){return Or(function(){return a.reducePage(s).length>0},(0,$n.D)(a.reducePage(s)).pipe((0,te.b)(function(u){return a.remapNested(s,u)}),(0,Ce.U)(function(){return s})),(0,Le.of)(s))}))}},{key:"getEmbedded",value:function(e){var a=this;return this.panelHandler.toObject(e).pipe((0,Ce.U)(function(s){return new ri(s)}),(0,st.w)(function(s){return Or(function(){return a.reducePage(s).length>0},(0,$n.D)(a.reducePage(s)).pipe((0,te.b)(function(u){return a.remapNested(s,u)}),(0,Ce.U)(function(){return s})),(0,Le.of)(s))}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Dr),r.\u0275\u0275inject(ya))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),A$=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.panelHandler=t}return(0,y.Z)(n,[{key:"rebuildPage",value:function(e,a){return new ri((0,b.Z)((0,b.Z)({},e),{},{panels:this.rebuildPanels(e.panels,(0,_.Z)(a))}))}},{key:"rebuildPanels",value:function(e,a){var s=this;return e.filter(function(u,l){return s.rebuildCondition(a[0],l)}).map(function(u){return new Ns((0,b.Z)((0,b.Z)({},u),{},{panes:s.rebuildPanes(u.panes,a.slice(1))}))})}},{key:"rebuildPanes",value:function(e,a){var s=this;return e.filter(function(u,l){return s.rebuildCondition(a[0],l)}).map(function(u){return new Wr("panel"===u.contentPlugin?(0,b.Z)((0,b.Z)({},u),{},{nestedPage:void 0,settings:s.panelHandler.buildSettings(s.rebuildPage(u.nestedPage,a.slice(1)))}):(0,b.Z)({},u))})}},{key:"rebuildCondition",value:function(e,a){return 0===e||(e>-1?a===e+-1*e:a!==-1*e+e)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(ya))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),k$=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.panelHandler=t}return(0,y.Z)(n,[{key:"convertPageToState",value:function(e){var a=this;return(0,Le.of)(new as).pipe((0,st.w)(function(){return(0,$n.D)(e.panels.map(function(s){return a.convertPanelToState(s)}))}),(0,Ce.U)(function(s){return new as({id:e.id,panels:s})}))}},{key:"convertPanelToState",value:function(e){var a=this;return(0,Le.of)(new Il).pipe((0,st.w)(function(){return(0,$n.D)(e.panes.map(function(s){return a.convertPaneToState(s)}))}),(0,Ce.U)(function(s){return new Il({panes:s})}))}},{key:"convertPaneToState",value:function(e){var a=this;return(0,Le.of)(new Ya).pipe((0,st.w)(function(s){return Or(function(){return a.hasNestedPanelPage(e)},a.panelHandler.toObject(e.settings).pipe((0,st.w)(function(u){return a.convertPageToState(u)}),(0,Ce.U)(function(u){return new Ya({state:new Nt.AttributeValue,nestedPage:u})})),(0,Le.of)(s))}))}},{key:"hasNestedPanelPage",value:function(e){return"panel"===e.contentPlugin&&(null==e.linkedPageId||""===e.linkedPageId)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(ya))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),R$=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.panelsLoaderService=t}return(0,y.Z)(n,[{key:"walkPageHierarchy",value:function(e){var a=this,s=e.panelPage,u=e.visitorFunc,l=e.defaultv,c=e.ancestory;return new W.y(function(h){for(var C=s.panels.length,T=[],N=0;N<C;N++)for(var F=s.panels[N].panes.length,$=0;$<F;$++)T.push(u({pane:s.panels[N].panes[$],panelPage:s,ancestoryWithSelf:[].concat((0,_.Z)(c),[N,$])})),s.panels[N].panes[$].nestedPage&&s.panels[N].panes[$].nestedPage.panels&&0!==s.panels[N].panes[$].nestedPage.panels.length&&T.push(a.walkPageHierarchy({panelPage:s,visitorFunc:u,defaultv:l,ancestory:[].concat((0,_.Z)(c),[N,$])}));0===T.length?(h.next(l),h.complete()):(0,$n.D)(T).pipe((0,Ce.U)(function(se){return se.reduce(function(ue,ge){return[].concat((0,_.Z)(ue),(0,_.Z)(ge))},l)}),(0,te.b)(function(se){h.next(se),h.complete()})).subscribe()})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(WI))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),XI=function(){var o=function(){function n(t,e){var a=this;(0,f.Z)(this,n),this.panelsVisitorService=t,this.cpm=e,this.gatherPaneContexts=function(s){var u=s.pane,l=s.panelPage,c=s.ancestoryWithSelf;return a.cpm.getPlugin(u.contentPlugin).pipe((0,st.w)(function(h){return h.handler?h.handler.stateDefinition(u.settings):(0,Le.of)({})}),(0,Ce.U)(function(h){return new la({name:"panestate-"+c.join("-"),adaptor:"data",plugin:"panestate",data:{id:l?l.id:"",selectionPath:(0,_.Z)(c),value:h}})}),(0,Ce.U)(function(h){return[h]}),(0,An.q)(1))}}return(0,y.Z)(n,[{key:"allActivePageContexts",value:function(e){var s=e.ancestory;return this.panelsVisitorService.walkPageHierarchy({panelPage:e.panelPage,ancestory:void 0===s?[]:s,visitorFunc:this.gatherPaneContexts,defaultv:[]})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(R$),r.\u0275\u0275inject(pn.ContentPluginManager))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),D$=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.attributeSerializer=t}return(0,y.Z)(n,[{key:"buildToAncestorySpec",value:function(e){for(var a=e.panelPageState,s=e.ancestory,u=0;u<s[0]+1;u++)if(a.panels.length<u+1&&a.panels.push(new Il),u===s[0]&&s.length>1)for(var l=0;l<s[1]+1;l++)a.panels[s[0]].panes.length<l+1&&a.panels[s[0]].panes.push(new Ya({state:this.attributeSerializer.serialize({},"root")})),l===s[1]&&s.length>2&&(a.panels[s[0]].panes[l].nestedPage||(a.panels[s[0]].panes[l].nestedPage=new as),this.buildToAncestorySpec({panelPageState:a.panels[s[0]].panes[l].nestedPage,ancestory:s.slice(2)}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Nt.AttributeSerializerService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Xd=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s){return(0,f.Z)(this,e),t.call(this,a,s)}return(0,y.Z)(e,[{key:"pluginDef",value:function(){return(0,Le.of)(new Rn.PluginDef({name:"style"}))}}]),e}(Rn.BasePluginManager);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Rn.PluginConfigurationManager),r.\u0275\u0275inject(Vn.ModuleLoaderService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),QI=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.spm=t}return(0,y.Z)(n,[{key:"alterResolvedPanes",value:function(e){var a=this,s=e.panel,u=e.resolvedPanes,l=e.originMappings;return(0,Le.of)(void 0).pipe((0,st.w)(function(){return s.stylePlugin&&""!==s.stylePlugin?a.spm.getPlugin(s.stylePlugin):(0,Le.of)(void 0)}),(0,st.w)(function(c){return c&&c.handler?c.handler.alterResolvedPanes({settings:s.settings,resolvedPanes:u,originMappings:l}):(0,Le.of)({resolvedPanes:u,originMappings:l})}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Xd))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),TA=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.panelHandler=t,this.rulesResolver=e,this.inlineContextResolver=a,this.cpm=s}return(0,y.Z)(n,[{key:"usedContexts",value:function(e){var a=this;return this.panesPlugins(e).pipe((0,st.w)(function(s){return a.dataPanes(e).pipe((0,Ce.U)(function(u){return{plugins:s,dataPanes:u}}))}),(0,st.w)(function(s){var u=s.plugins,l=s.dataPanes;return(0,$n.D)(e.reduce(function(c,h){var C=u.get(h.contentPlugin);return void 0!==C.handler?[].concat((0,_.Z)(c),[C.handler.getBindings(h.settings,"context",new Map([["dataPanes",l]])).pipe((0,Ce.U)(function(T){return T.map(function(N){return N.id})}))]):(0,_.Z)(c)},[])).pipe((0,Ce.U)(function(c){return c.reduce(function(h,C){return[].concat((0,_.Z)(h),(0,_.Z)(C))},[])}))}))}},{key:"staticPanes",value:function(e){return this.cpm.getPlugins(e.reduce(function(a,s){return-1===a.findIndex(function(u){return u===s.contentPlugin})?[].concat((0,_.Z)(a),[s.contentPlugin]):(0,_.Z)(a)},[])).pipe((0,Ce.U)(function(a){return e.filter(function(s){return void 0===a.get(s.contentPlugin).handler||!a.get(s.contentPlugin).handler.isDynamic(s.settings)})}))}},{key:"dataPanes",value:function(e){return this.cpm.getPlugins(e.reduce(function(a,s){return-1===a.findIndex(function(u){return u===s.contentPlugin})?[].concat((0,_.Z)(a),[s.contentPlugin]):(0,_.Z)(a)},[])).pipe((0,Ce.U)(function(a){return e.filter(function(s){return void 0!==a.get(s.contentPlugin).handler&&a.get(s.contentPlugin).handler.isData(s.settings)})}))}},{key:"panesPlugins",value:function(e){return this.cpm.getPlugins(e.reduce(function(a,s){return-1===a.findIndex(function(u){return u===s.contentPlugin})?[].concat((0,_.Z)(a),[s.contentPlugin]):(0,_.Z)(a)},[]))}},{key:"resolvePanes",value:function(e){var a=this,s=e.panes,u=e.contexts,l=e.resolvedContext;return console.log("resolve panes"),this.panesPlugins(s).pipe((0,st.w)(function(c){return(0,$n.D)(s.reduce(function(h,C){var T=c.get(C.contentPlugin);return[].concat((0,_.Z)(h),void 0!==T.handler?[T.handler.getBindings(C.settings,"pane").pipe((0,Ce.U)(function(N){return N.map(function(F){return F.id})}))]:[(0,Le.of)([])])},[]))})).pipe((0,Ce.U)(function(c){return c.reduce(function(h,C){return[].concat((0,_.Z)(h),(0,_.Z)(C))},[])}),(0,st.w)(function(c){return a.panesPlugins(s).pipe((0,Ce.U)(function(h){return[c,h]}))}),(0,st.w)(function(c){var h=(0,g.Z)(c,2),C=h[0],T=h[1];return(0,$n.D)(s.reduce(function(N,F){var $=T.get(F.contentPlugin);return void 0!==$.handler&&$.handler.isDynamic(F.settings)?[].concat((0,_.Z)(N),[$.handler.isData(F.settings)&&-1!==C.findIndex(function(se){return se===F.name})?(0,Le.of)([]):(0,$n.D)([a.staticPanes(s),a.dataPanes(s)]).pipe((0,st.w)(function(se){var ue=(0,g.Z)(se,2),ge=ue[0],Se=ue[1];return $.handler.buildDynamicItems(F.settings,new Map([].concat((0,_.Z)(void 0===F.metadata?[]:F.metadata),[["tag",vr()],["panes",ge],["dataPanes",Se],["contexts",void 0!==u?u:[]]]))).pipe((0,Ce.U)(function(we){return a.panelHandler.fromPanes(we)}),(0,Ce.U)(function(we){return a.panelHandler.wrapPanel(we).panes}),(0,An.q)(1))}))]):""===F.name||-1===C.findIndex(function(se){return se===F.name})?[].concat((0,_.Z)(N),[(0,Le.of)([new Wr((0,b.Z)((0,b.Z)({},F),{},{contexts:[].concat((0,_.Z)(u),(0,_.Z)(F.contexts?F.contexts:[]))}))]).pipe((0,st.w)(function(se){return Or(function(){return null!=se[0].rule&&""!==se[0].rule.condition},a.rulesResolver.evaluate(se[0].rule,[].concat((0,_.Z)(u),(0,_.Z)(F.contexts?F.contexts:[]))).pipe((0,Ce.U)(function(ue){return ue?se:[]})),(0,Le.of)(se))}))]):(0,_.Z)(N)},[])).pipe((0,st.w)(function(N){return Or(function(){return 0===N.reduce(function(F,$){return[].concat((0,_.Z)(F),(0,_.Z)($))},[]).length},(0,Le.of)([N,[]]),(0,$n.D)((0,_.Z)(N.reduce(function(F,$){return[].concat((0,_.Z)(F),(0,_.Z)($.map(function(se){return se.contexts&&0!==se.contexts.length?a.inlineContextResolver.resolveAll(se.contexts).pipe((0,An.q)(1)):(0,Le.of)({}).pipe((0,An.q)(1))})))},[]))).pipe((0,Ce.U)(function(F){return[N,F.map(function($){return(0,b.Z)((0,b.Z)({},$),l)})]})))}),(0,Ce.U)(function(N){var F=(0,g.Z)(N,2),se=F[1],ue=[],ge=[];return F[0].forEach(function(Se,we){ue=[].concat((0,_.Z)(void 0===ue?[]:ue),(0,_.Z)(Se.map(function(He,ot){return new Wr((0,b.Z)((0,b.Z)({},He),{},{resolvedContext:se[ue.length+ot]}))}))),ge=[].concat((0,_.Z)(ge&&[]),(0,_.Z)(Se.map(function(){return we})))}),{resolvedPanes:ue,originMappings:ge}}))}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(ya),r.\u0275\u0275inject(CA),r.\u0275\u0275inject(zd),r.\u0275\u0275inject(pn.ContentPluginManager))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),bE=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),a=n.call(this,e),e&&(a.name=a.id,a.title=e.title,a.editorComponent=e.editorComponent?e.editorComponent:void 0,a.renderComponent=e.renderComponent?e.renderComponent:void 0,e.handler&&(a.handler=e.handler)),a}return(0,y.Z)(t)}(Rn.Plugin),CE=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(){var a;return(0,f.Z)(this,e),(a=t.call(this)).pageChange$=new ae.x,a.pageSize=20,a.dataStream=new U.X([]),a.subscription=new gI.w0,a.lastPage=0,a.paneItems=[],a}return(0,y.Z)(e,[{key:"panes",set:function(s){this.paneItems=[].concat((0,_.Z)(this.paneItems),(0,_.Z)(s)),this.dataStream.next(this.paneItems)}},{key:"connect",value:function(s){var u=this;return this.subscription.add(s.viewChange.subscribe(function(l){var c=Math.ceil((l.end+1)/u.pageSize);c>u.lastPage&&(u.lastPage=c,u.pageChange$.next(c))})),this.dataStream}},{key:"disconnect",value:function(s){this.subscription.unsubscribe()}}]),e}(Hj.DataSource);return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),Qd=(0,Bt.ZF)(zI),wE=function(n){return(0,Bt.P1)(Qd,function(t){var e=t.dataTags.findIndex(function(a){return a===n});if(e>-1)return t.datasets[e][t.datasets[e].length-1]})},T$=(0,Bt.P1)(Qd,function(o){return o.pageInfo}),I$=(0,Bt.P1)(Qd,function(o){return o.page}),O$=(0,Bt.P1)(Qd,function(o){return o.selectionPath}),YI=(0,Bt.P1)(Qd,function(o){return o.formNames}),F$=(0,Bt.P1)(Qd,function(o){return o.forms}),M$=(0,Bt.P1)(YI,F$,function(o,n,t){var e=o.findIndex(function(a){return a===t.name});if(e>-1)return n[e]}),Ja=function(){var o=function(){function n(t){var e=this;(0,f.Z)(this,n),this.store=t,this.getPageInfo$=this.store.pipe((0,Bt.Ys)(T$)),this.getPage$=this.store.pipe((0,Bt.Ys)(I$)),this.getSelectionPath$=this.store.pipe((0,Bt.Ys)(O$)),this.getFormNames$=this.store.pipe((0,Bt.Ys)(YI)),this.getForm$=function(a){return e.store.pipe((0,Bt.Ys)(M$,{name:a}))}}return(0,y.Z)(n,[{key:"loadRestData",value:function(e,a){this.store.dispatch(LI({tag:e,rest:a}))}},{key:"setPageInfo",value:function(e){this.store.dispatch(kA({info:e}))}},{key:"setPage",value:function(e){this.store.dispatch(RA({page:e}))}},{key:"setSelectionPath",value:function(e){this.store.dispatch(UI({path:e}))}},{key:"setForm",value:function(e,a){this.store.dispatch($I({name:e,form:a}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Bt.yh))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),l_=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.readUserIds=[],n&&(this.title=n.title,this.name=n.name,this.path=n.path,this.cssFile=n.cssFile,n.readUserIds&&(this.readUserIds=n.readUserIds.map(function(t){return t})))}),JI=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.label=n.label,this.name=n.name)}),eO=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.label=n.label,this.name=n.name)}),Au=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.panels=[],n&&(this.id=n.id,this.name=n.name,this.title=n.title,this.derivativeId=n.derivativeId,n.panels&&(this.panels=n.panels.map(function(t){return new N$(t)})))}),N$=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.panes=[],n&&(this.name=n.name,this.label=n.label,n.panes&&(this.panes=n.panes.map(function(t){return new V$(t)})))}),V$=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.settings=[],n&&(this.name=n.name,this.label=n.label,this.contentPlugin=n.contentPlugin,n.settings&&(this.settings=n.settings.map(function(t){return new Nt.AttributeValue(t)})))}),IA=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.name=n.name,this.field=n.field)}),B$=function(){var o=function(){function n(t,e,a,s){var u=this;(0,f.Z)(this,n),this.pageBuilderFacade=t,this.panelStateArchitectService=e,this.attributeSerializer=a,this.selectEntities=function(l){return l.entities},this.selectById=function(l){var c=l.id;return(0,Bt.P1)(u.selectEntities,function(h){return h[c]?h[c]:void 0})},this.panelPageStateService=s.getEntityCollectionService("PanelPageState")}return(0,y.Z)(n,[{key:"mergeState",value:function(e){var a=this,u=e.settings,l=e.plugin,c=e.ancestory;return(0,Le.of)(e.state).pipe((0,st.w)(function(h){return a.pageBuilderFacade.getPageInfo$.pipe((0,Ce.U)(function(C){return[h,C]}))}),(0,st.w)(function(h){var C=(0,g.Z)(h,2),T=C[0],N=C[1];return l.handler.stateDefinition(u).pipe((0,Ce.U)(function(F){return[T,N,F]}))}),(0,st.w)(function(h){var C=(0,g.Z)(h,3),T=C[0],N=C[1],F=C[2];return a.panelPageStateService.collection$.pipe((0,Bt.Ys)(a.selectById({id:N.id})),(0,Ce.U)(function($){return[T,new as($||{id:N.id,panels:[]}),F]}),(0,An.q)(1))}),(0,Ce.U)(function(h){var C=(0,g.Z)(h,3),T=C[0],N=C[1],F=C[2];a.panelStateArchitectService.buildToAncestorySpec({panelPageState:N,ancestory:(0,_.Z)(c)});var $="$."+c.map(function(ue,ge){return"".concat((ge+1)%2==0?"panes":(0===ge?"":"nestedPage.")+"panels","[").concat(ue,"]")}).join(".");return[T,N,F,(0,Ms.JSONPath)({path:$,json:N})[0]]}),(0,te.b)(function(h){var C=(0,g.Z)(h,4),T=C[0],F=C[2],$=C[3],se=$.state?$.state.root?a.attributeSerializer.deserialize($.state).root:a.attributeSerializer.deserialize($.state):{},ue=o_(se&&0!==Object.keys(se).length?se:F,T);$.state=a.attributeSerializer.serialize(ue,"root")}),(0,Ce.U)(function(h){var C=(0,g.Z)(h,4);return{paneState:C[3],pageState:C[1]}}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Ja),r.\u0275\u0275inject(D$),r.\u0275\u0275inject(Nt.AttributeSerializerService),r.\u0275\u0275inject(Dr))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),tO=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.attributeSerializer=t}return(0,y.Z)(n,[{key:"serializeForm",value:function(e){for(var a=e.panels.length,s={},u=0;u<a;u++){for(var l=e.panels[u].panes.length,c=new Map,h=0;h<l;h++){var C=this.serializeFormPane(e.panels[u].panes[h]);if(e.panels[u].panes[h].name&&null!==e.panels[u].panes[h].name&&(s[e.panels[u].panes[h].name]||e.panels[u].panes[h].name===MI(e.panels[u].panes[h].name))){c.has(e.panels[u].panes[h].name)||c.set(e.panels[u].panes[h].name,typeof s[e.panels[u].panes[h].name]<"u"?[s[e.panels[u].panes[h].name]]:[]);var T=c.get(e.panels[u].panes[h].name);c.set(e.panels[u].panes[h].name,[].concat((0,_.Z)(T),[C]))}else s=e.panels[u].panes[h].name&&""!==e.panels[u].panes[h].name?(0,b.Z)((0,b.Z)({},s),{},(0,d.Z)({},e.panels[u].panes[h].name,C)):(0,b.Z)((0,b.Z)({},s),C)}Array.from(c).forEach(function(N){var F=(0,g.Z)(N,2);return s[F[0]]=F[1]})}return s}},{key:"serializeFormPane",value:function(e){if("panel"===e.contentPlugin)return this.serializeForm(new Au(this.attributeSerializer.deserializeAsObject(e.settings,!0)));var a=this.attributeSerializer.deserializeAsObject(e.settings,!0);return void 0!==a?a.value:void 0}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Nt.AttributeSerializerService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),OA=function(){var o=function(){function n(){(0,f.Z)(this,n)}return(0,y.Z)(n,[{key:"makeJsonNode",value:function(){return{attributes:{},children:{}}}},{key:"reduceCss",value:function(e,a){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e&&e.children?Object.keys(e.children).filter(function(u){return s?0===u.indexOf(a):0!==u.indexOf(a)}).reduce(function(u,l){return(0,b.Z)((0,b.Z)({},u),{},{children:(0,b.Z)((0,b.Z)({},u.children),{},(0,d.Z)({},s?l.substr(l.indexOf(a)+a.length).trim():l,e.children[l]))})},this.makeJsonNode()):this.makeJsonNode()}},{key:"reduceSelector",value:function(e,a){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e?Object.keys(e).filter(function(u){return s?0===u.indexOf(a):0!==u.indexOf(a)}).reduce(function(u,l){return(0,b.Z)((0,b.Z)({},u),{},(0,d.Z)({},s?l.substr(l.indexOf(a)+a.length).trim():l,e[l]))},{}):{}}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}();function Z$(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"ngx-dropzone-remove-badge",1),r.\u0275\u0275listener("click",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s._remove(a))}),r.\u0275\u0275elementEnd()}}var FA=[[["ngx-dropzone-label"]]],MA=["ngx-dropzone-label"],L$=["fileInput"];function j$(o,n){1&o&&r.\u0275\u0275projection(0,2,["*ngIf","!_hasPreviews"])}var $$=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],U$=["ngx-dropzone-preview","*","ngx-dropzone-label"];function z$(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"ngx-dropzone-remove-badge",2),r.\u0275\u0275listener("click",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s._remove(a))}),r.\u0275\u0275elementEnd()}}function G$(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"video",2),r.\u0275\u0275listener("click",function(a){return a.stopPropagation()}),r.\u0275\u0275element(1,"source",3),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("src",t.sanitizedVideoSrc,r.\u0275\u0275sanitizeUrl)}}function H$(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"ngx-dropzone-remove-badge",4),r.\u0275\u0275listener("click",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s._remove(a))}),r.\u0275\u0275elementEnd()}}var nO=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["ngx-dropzone-label"]]}),o}();function Yd(o){return null!=o&&"false"!=="".concat(o)}var NA=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(t,e){1&t&&(r.\u0275\u0275namespaceSVG(),r.\u0275\u0275elementStart(0,"svg"),r.\u0275\u0275element(1,"line",0)(2,"line",1),r.\u0275\u0275elementEnd())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),o}(),Vs=function(){return(Vs=Vs||{})[Vs.BACKSPACE=8]="BACKSPACE",Vs[Vs.DELETE=46]="DELETE",Vs}(),Jd=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.sanitizer=t,this._removable=!1,this.removed=new r.EventEmitter,this.tabIndex=0}return(0,y.Z)(n,[{key:"file",get:function(){return this._file},set:function(e){this._file=e}},{key:"removable",get:function(){return this._removable},set:function(e){this._removable=Yd(e)}},{key:"keyEvent",value:function(e){switch(e.keyCode){case Vs.BACKSPACE:case Vs.DELETE:this.remove()}}},{key:"hostStyle",get:function(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}},{key:"_remove",value:function(e){e.stopPropagation(),this.remove()}},{key:"remove",value:function(){this._removable&&this.removed.next(this.file)}},{key:"readFile",value:(t=Zt((0,qe.Z)().mark(function a(){var s=this;return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",new Promise(function(c,h){var C=new FileReader;if(C.onload=function(T){c(T.target.result)},C.onerror=function(T){console.error("FileReader failed on file ".concat(s.file.name,".")),h(T)},!s.file)return h("No file to read. Please provide a file using the [file] Input property.");C.readAsDataURL(s.file)}));case 1:case"end":return l.stop()}},a)})),function e(){return t.apply(this,arguments)})}]),n;var t}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(B.DomSanitizer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(t,e){1&t&&r.\u0275\u0275listener("keyup",function(s){return e.keyEvent(s)}),2&t&&(r.\u0275\u0275hostProperty("tabindex",e.tabIndex),r.\u0275\u0275styleMap(e.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},ngContentSelectors:MA,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(t,e){1&t&&(r.\u0275\u0275projectionDef(FA),r.\u0275\u0275projection(0),r.\u0275\u0275template(1,Z$,1,0,"ngx-dropzone-remove-badge",0)),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.removable))},dependencies:[NA,P.NgIf],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),o}(),rO=function(){var o=function(){function n(){(0,f.Z)(this,n)}return(0,y.Z)(n,[{key:"parseFileList",value:function(e,a,s,u){for(var l=[],c=[],h=0;h<e.length;h++){var C=e.item(h);this.isAccepted(C,a)?s&&C.size>s?this.rejectFile(c,C,"size"):!u&&l.length>=1?this.rejectFile(c,C,"no_multiple"):l.push(C):this.rejectFile(c,C,"type")}return{addedFiles:l,rejectedFiles:c}}},{key:"isAccepted",value:function(e,a){if("*"===a)return!0;var s=a.split(",").map(function(h){return h.toLowerCase().trim()}),u=e.type.toLowerCase(),l=e.name.toLowerCase();return!!s.find(function(h){return h.endsWith("/*")?u.split("/")[0]===h.split("/")[0]:h.startsWith(".")?l.endsWith(h):h==u})}},{key:"rejectFile",value:function(e,a,s){var u=a;u.reason=s,e.push(u)}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),SE=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.service=t,this.change=new r.EventEmitter,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1}return(0,y.Z)(n,[{key:"_hasPreviews",get:function(){return!!this._previewChildren.length}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Yd(e),this._isHovered&&(this._isHovered=!1)}},{key:"multiple",get:function(){return this._multiple},set:function(e){this._multiple=Yd(e)}},{key:"maxFileSize",get:function(){return this._maxFileSize},set:function(e){this._maxFileSize=function q$(o){return isNaN(parseFloat(o))||isNaN(Number(o))?null:Number(o)}(e)}},{key:"expandable",get:function(){return this._expandable},set:function(e){this._expandable=Yd(e)}},{key:"disableClick",get:function(){return this._disableClick},set:function(e){this._disableClick=Yd(e)}},{key:"processDirectoryDrop",get:function(){return this._processDirectoryDrop},set:function(e){this._processDirectoryDrop=Yd(e)}},{key:"_onClick",value:function(){this.disableClick||this.showFileSelector()}},{key:"_onDragOver",value:function(e){this.disabled||(this.preventDefault(e),this._isHovered=!0)}},{key:"_onDragLeave",value:function(){this._isHovered=!1}},{key:"_onDrop",value:function(e){var a=this;if(!this.disabled)if(this.preventDefault(e),this._isHovered=!1,this.processDirectoryDrop&&DataTransferItem.prototype.webkitGetAsEntry){var s=e.dataTransfer.items;if(s.length>0){for(var u=[],l=[],c=0;c<s.length;c++){var h=s[c].webkitGetAsEntry();h.isFile?u.push(e.dataTransfer.files[c]):h.isDirectory&&l.push(h)}var C=new DataTransfer;if(u.forEach(function(se){C.items.add(se)}),!l.length&&C.items.length&&this.handleFileDrop(C.files),l.length){var F,T=[],N=(0,ee.Z)(l);try{for(N.s();!(F=N.n()).done;)T.push(this.extractFilesFromDirectory(F.value))}catch(se){N.e(se)}finally{N.f()}Promise.all(T).then(function(se){se.reduce(function(ue,ge){return[].concat((0,_.Z)(ue),(0,_.Z)(ge))}).forEach(function(ue){C.items.add(ue)}),a.handleFileDrop(C.files)})}}}else this.handleFileDrop(e.dataTransfer.files)}},{key:"extractFilesFromDirectory",value:function(e){function a(u){return s.apply(this,arguments)}function s(){return(s=Zt((0,qe.Z)().mark(function u(l){return(0,qe.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,new Promise(function(C,T){return l.file(C,T)});case 3:return h.abrupt("return",h.sent);case 6:h.prev=6,h.t0=h.catch(0),console.log("Error converting a fileEntry to a File: ",h.t0);case 9:case"end":return h.stop()}},u,null,[[0,6]])}))).apply(this,arguments)}return new Promise(function(u,l){var c=[],h=e.createReader();!function T(){h.readEntries(function(){var N=Zt((0,qe.Z)().mark(function F($){var se,ue,ge,Se;return(0,qe.Z)().wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:if($.length){ot.next=4;break}u(c),ot.next=25;break;case 4:se=$.filter(function(dt){return dt.isFile}),ue=(0,ee.Z)(se),ot.prev=6,ue.s();case 8:if((ge=ue.n()).done){ot.next=16;break}return Se=ge.value,ot.next=12,a(Se);case 12:c.push(ot.sent);case 14:ot.next=8;break;case 16:ot.next=21;break;case 18:ot.prev=18,ot.t0=ot.catch(6),ue.e(ot.t0);case 21:return ot.prev=21,ue.f(),ot.finish(21);case 24:T();case 25:case"end":return ot.stop()}},F,null,[[6,18,21,24]])}));return function(F){return N.apply(this,arguments)}}())}()})}},{key:"showFileSelector",value:function(){this.disabled||this._fileInput.nativeElement.click()}},{key:"_onFilesSelected",value:function(e){this.handleFileDrop(e.target.files),this._fileInput.nativeElement.value="",this.preventDefault(e)}},{key:"handleFileDrop",value:function(e){var a=this.service.parseFileList(e,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:a.addedFiles,rejectedFiles:a.rejectedFiles,source:this})}},{key:"preventDefault",value:function(e){e.preventDefault(),e.stopPropagation()}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(rO,2))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(t,e,a){var s;1&t&&r.\u0275\u0275contentQuery(a,Jd,5),2&t&&r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e._previewChildren=s)},viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(L$,7),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e._fileInput=a.first)},hostVars:8,hostBindings:function(t,e){1&t&&r.\u0275\u0275listener("click",function(){return e._onClick()})("dragover",function(s){return e._onDragOver(s)})("dragleave",function(){return e._onDragLeave()})("drop",function(s){return e._onDrop(s)}),2&t&&r.\u0275\u0275classProp("ngx-dz-disabled",e.disabled)("expandable",e.expandable)("unclickable",e.disableClick)("ngx-dz-hovered",e._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[r.\u0275\u0275ProvidersFeature([rO])],ngContentSelectors:U$,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(t,e){1&t&&(r.\u0275\u0275projectionDef($$),r.\u0275\u0275elementStart(0,"input",0,1),r.\u0275\u0275listener("change",function(s){return e._onFilesSelected(s)}),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(2,j$,1,0,"ng-content",2),r.\u0275\u0275projection(3),r.\u0275\u0275projection(4,1)),2&t&&(r.\u0275\u0275property("id",e.id)("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled),r.\u0275\u0275attribute("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-describedby",e.ariaDescribedBy),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",!e._hasPreviews))},dependencies:[P.NgIf],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),o}(),iO=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a){var s;return(0,f.Z)(this,e),(s=t.call(this,a)).defaultImgLoading="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==",s.imageSrc=s.sanitizer.bypassSecurityTrustUrl(s.defaultImgLoading),s}return(0,y.Z)(e,[{key:"file",get:function(){return this._file},set:function(s){this._file=s,this.renderImage()}},{key:"ngOnInit",value:function(){this.renderImage()}},{key:"renderImage",value:function(){var s=this;this.readFile().then(function(u){return setTimeout(function(){return s.imageSrc=u})}).catch(function(u){return console.error(u)})}}]),e}(Jd);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(B.DomSanitizer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["ngx-dropzone-image-preview"]],inputs:{file:"file"},features:[r.\u0275\u0275ProvidersFeature([{provide:Jd,useExisting:o}]),r.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:MA,decls:3,vars:2,consts:[[3,"src"],[3,"click",4,"ngIf"],[3,"click"]],template:function(t,e){1&t&&(r.\u0275\u0275projectionDef(FA),r.\u0275\u0275element(0,"img",0),r.\u0275\u0275projection(1),r.\u0275\u0275template(2,z$,1,0,"ngx-dropzone-remove-badge",1)),2&t&&(r.\u0275\u0275property("src",e.imageSrc,r.\u0275\u0275sanitizeUrl),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",e.removable))},dependencies:[NA,P.NgIf],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   img[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   img[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;border-radius:5px;opacity:.8}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),o}(),K$=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a){return(0,f.Z)(this,e),t.call(this,a)}return(0,y.Z)(e,[{key:"ngOnInit",value:function(){this.file?(this.videoSrc=URL.createObjectURL(this.file),this.sanitizedVideoSrc=this.sanitizer.bypassSecurityTrustUrl(this.videoSrc)):console.error("No file to read. Please provide a file using the [file] Input property.")}},{key:"ngOnDestroy",value:function(){URL.revokeObjectURL(this.videoSrc)}}]),e}(Jd);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(B.DomSanitizer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["ngx-dropzone-video-preview"]],features:[r.\u0275\u0275ProvidersFeature([{provide:Jd,useExisting:o}]),r.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:MA,decls:3,vars:2,consts:[["controls","",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],["controls","",3,"click"],[3,"src"],[3,"click"]],template:function(t,e){1&t&&(r.\u0275\u0275projectionDef(FA),r.\u0275\u0275template(0,G$,2,1,"video",0),r.\u0275\u0275projection(1),r.\u0275\u0275template(2,H$,1,0,"ngx-dropzone-remove-badge",1)),2&t&&(r.\u0275\u0275property("ngIf",e.sanitizedVideoSrc),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",e.removable))},dependencies:[NA,P.NgIf],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   video[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   video[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   video[_ngcontent-%COMP%]{max-height:100%;border-radius:5px}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),o}(),EE=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[[P.CommonModule]]}),o}(),W$=["treeContainer"];function X$(o,n){if(1&o&&r.\u0275\u0275element(0,"i",0),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275property("ngClass",t.getClassNames("arrowIcon"))}}function Q$(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function Y$(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,Q$,1,0,"ng-container",10),r.\u0275\u0275elementContainerEnd()),2&o){var t=n.ngIf,e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getArrowIconContext())}}function J$(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"a",9),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var u=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(u.toggleCollapse())}),r.\u0275\u0275template(1,Y$,2,2,"ng-container",3),r.\u0275\u0275elementEnd()}if(2&o){var e=r.\u0275\u0275nextContext(),a=r.\u0275\u0275reference(2);r.\u0275\u0275property("ngClass",e.getClassNames("arrowIconButton",e.data.collapsed?"collapsed":"")),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.getArrowIconTemplate())("ngIfElse",a)}}function e7(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function t7(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"div",0),r.\u0275\u0275template(2,e7,1,0,"ng-container",10),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementContainerEnd()),2&o){var t=n.ngIf,e=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",e.getClassNames("buttonGroup","rightAlign")),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getButtonGroupContext())}}function n7(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",11),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(s.addRuleSet())}),r.\u0275\u0275element(1,"i",0),r.\u0275\u0275text(2," Ruleset "),r.\u0275\u0275elementEnd()}if(2&o){var e=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("ngClass",e.getClassNames("button"))("disabled",e.disabled),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",e.getClassNames("addIcon"))}}function r7(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"button",11),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(s.removeRuleSet())}),r.\u0275\u0275element(2,"i",0),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementContainerEnd()}if(2&o){var e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",e.getClassNames("button","removeButton"))("disabled",e.disabled),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",e.getClassNames("removeIcon"))}}function a7(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",0)(1,"button",11),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.addRule())}),r.\u0275\u0275element(2,"i",0),r.\u0275\u0275text(3," Rule "),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(4,n7,3,3,"button",12),r.\u0275\u0275template(5,r7,3,3,"ng-container",13),r.\u0275\u0275elementEnd()}if(2&o){var e=r.\u0275\u0275nextContext();r.\u0275\u0275property("ngClass",e.getClassNames("buttonGroup","rightAlign")),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",e.getClassNames("button"))("disabled",e.disabled),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",e.getClassNames("addIcon")),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",e.allowRuleset),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!!e.parentValue&&e.allowRuleset)}}function o7(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function s7(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,o7,1,0,"ng-container",10),r.\u0275\u0275elementContainerEnd()),2&o){var t=n.ngIf,e=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getSwitchGroupContext())}}function u7(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",0)(1,"div",0)(2,"input",14,15),r.\u0275\u0275listener("ngModelChange",function(s){r.\u0275\u0275restoreView(t);var u=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(u.data.condition=s)}),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"label",9),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275reference(3),u=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(u.changeCondition(s.value))}),r.\u0275\u0275text(5,"AND"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(6,"div",0)(7,"input",16,17),r.\u0275\u0275listener("ngModelChange",function(s){r.\u0275\u0275restoreView(t);var u=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(u.data.condition=s)}),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"label",9),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275reference(8),u=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(u.changeCondition(s.value))}),r.\u0275\u0275text(10,"OR"),r.\u0275\u0275elementEnd()()()}if(2&o){var e=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("ngClass",e.getClassNames("switchGroup","transition")),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",e.getClassNames("switchControl")),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",e.getClassNames("switchRadio"))("ngModel",e.data.condition)("disabled",e.disabled),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngClass",e.getClassNames("switchLabel")),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngClass",e.getClassNames("switchControl")),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",e.getClassNames("switchRadio"))("ngModel",e.data.condition)("disabled",e.disabled),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngClass",e.getClassNames("switchLabel"))}}function l7(o,n){if(1&o&&r.\u0275\u0275template(0,u7,11,11,"div",8),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275property("ngIf",t.data)}}function c7(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function d7(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"div",0),r.\u0275\u0275template(2,c7,1,0,"ng-container",10),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementContainerEnd()),2&o){var t=n.ngIf,e=r.\u0275\u0275nextContext(3).$implicit,a=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",a.getClassNames("buttonGroup","rightAlign")),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",a.getRemoveButtonContext(e))}}function p7(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",0)(1,"button",11),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext(3).$implicit,u=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(u.removeRule(s,u.data))}),r.\u0275\u0275element(2,"i",0),r.\u0275\u0275elementEnd()()}if(2&o){var e=r.\u0275\u0275nextContext(5);r.\u0275\u0275property("ngClass",e.getClassNames("removeButtonSize","rightAlign")),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",e.getClassNames("button","removeButton"))("disabled",e.disabled),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",e.getClassNames("removeIcon"))}}function f7(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function m7(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,f7,1,0,"ng-container",10),r.\u0275\u0275elementContainerEnd()),2&o){var t=n.ngIf,e=r.\u0275\u0275nextContext(4).$implicit,a=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",a.getEntityContext(e))}}function h7(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div",27),r.\u0275\u0275template(1,m7,2,2,"ng-container",3),r.\u0275\u0275elementEnd()),2&o){r.\u0275\u0275nextContext();var t=r.\u0275\u0275reference(6),e=r.\u0275\u0275nextContext(4);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.getEntityTemplate())("ngIfElse",t)}}function g7(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"option",30),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("ngValue",t.value),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",t.name," ")}}function v7(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",0)(1,"select",28),r.\u0275\u0275listener("ngModelChange",function(u){r.\u0275\u0275restoreView(t);var l=r.\u0275\u0275nextContext(3).$implicit;return r.\u0275\u0275resetView(l.entity=u)})("ngModelChange",function(u){r.\u0275\u0275restoreView(t);var l=r.\u0275\u0275nextContext(3),c=l.$implicit,h=l.index,C=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(C.changeEntity(u,c,h,C.data))}),r.\u0275\u0275template(2,g7,2,2,"option",29),r.\u0275\u0275elementEnd()()}if(2&o){var e=r.\u0275\u0275nextContext(3).$implicit,a=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("ngClass",a.getClassNames("entityControlSize")),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",a.getClassNames("entityControl"))("ngModel",e.entity)("disabled",a.disabled),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",a.entities)}}function y7(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function _7(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,y7,1,0,"ng-container",10),r.\u0275\u0275elementContainerEnd()),2&o){var t=n.ngIf,e=r.\u0275\u0275nextContext(3).$implicit,a=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",a.getFieldContext(e))}}function x7(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"option",30),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("ngValue",t.value),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",t.name," ")}}function b7(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",0)(1,"select",28),r.\u0275\u0275listener("ngModelChange",function(u){r.\u0275\u0275restoreView(t);var l=r.\u0275\u0275nextContext(3).$implicit;return r.\u0275\u0275resetView(l.field=u)})("ngModelChange",function(u){r.\u0275\u0275restoreView(t);var l=r.\u0275\u0275nextContext(3).$implicit,c=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(c.changeField(u,l))}),r.\u0275\u0275template(2,x7,2,2,"option",29),r.\u0275\u0275elementEnd()()}if(2&o){var e=r.\u0275\u0275nextContext(3).$implicit,a=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("ngClass",a.getClassNames("fieldControlSize")),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",a.getClassNames("fieldControl"))("ngModel",e.field)("disabled",a.disabled),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",a.getFields(e.entity))}}function C7(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function w7(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,C7,1,0,"ng-container",10),r.\u0275\u0275elementContainerEnd()),2&o){var t=n.ngIf,e=r.\u0275\u0275nextContext(3).$implicit,a=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",a.getOperatorContext(e))}}function S7(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"option",30),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("ngValue",t),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",t," ")}}function E7(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",0)(1,"select",28),r.\u0275\u0275listener("ngModelChange",function(u){r.\u0275\u0275restoreView(t);var l=r.\u0275\u0275nextContext(3).$implicit;return r.\u0275\u0275resetView(l.operator=u)})("ngModelChange",function(){r.\u0275\u0275restoreView(t);var u=r.\u0275\u0275nextContext(3).$implicit,l=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(l.changeOperator(u))}),r.\u0275\u0275template(2,S7,2,2,"option",29),r.\u0275\u0275elementEnd()()}if(2&o){var e=r.\u0275\u0275nextContext(3).$implicit,a=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("ngClass",a.getClassNames("operatorControlSize")),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",a.getClassNames("operatorControl"))("ngModel",e.operator)("disabled",a.disabled),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",a.getOperators(e.field))}}function P7(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function A7(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,P7,1,0,"ng-container",10),r.\u0275\u0275elementContainerEnd()),2&o){var t=n.ngIf,e=r.\u0275\u0275nextContext(3).$implicit,a=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",a.getInputContext(e))}}function k7(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"input",39),r.\u0275\u0275listener("ngModelChange",function(u){r.\u0275\u0275restoreView(t);var l=r.\u0275\u0275nextContext(4).$implicit;return r.\u0275\u0275resetView(l.value=u)})("ngModelChange",function(){r.\u0275\u0275restoreView(t);var u=r.\u0275\u0275nextContext(6);return r.\u0275\u0275resetView(u.changeInput())}),r.\u0275\u0275elementEnd()}if(2&o){var e=r.\u0275\u0275nextContext(4).$implicit,a=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("ngClass",a.getClassNames("inputControl"))("ngModel",e.value)("disabled",a.disabled)}}function R7(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"input",40),r.\u0275\u0275listener("ngModelChange",function(u){r.\u0275\u0275restoreView(t);var l=r.\u0275\u0275nextContext(4).$implicit;return r.\u0275\u0275resetView(l.value=u)})("ngModelChange",function(){r.\u0275\u0275restoreView(t);var u=r.\u0275\u0275nextContext(6);return r.\u0275\u0275resetView(u.changeInput())}),r.\u0275\u0275elementEnd()}if(2&o){var e=r.\u0275\u0275nextContext(4).$implicit,a=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("ngClass",a.getClassNames("inputControl"))("ngModel",e.value)("disabled",a.disabled)}}function D7(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"input",41),r.\u0275\u0275listener("ngModelChange",function(u){r.\u0275\u0275restoreView(t);var l=r.\u0275\u0275nextContext(4).$implicit;return r.\u0275\u0275resetView(l.value=u)})("ngModelChange",function(){r.\u0275\u0275restoreView(t);var u=r.\u0275\u0275nextContext(6);return r.\u0275\u0275resetView(u.changeInput())}),r.\u0275\u0275elementEnd()}if(2&o){var e=r.\u0275\u0275nextContext(4).$implicit,a=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("ngClass",a.getClassNames("inputControl"))("ngModel",e.value)("disabled",a.disabled)}}function T7(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"input",42),r.\u0275\u0275listener("ngModelChange",function(u){r.\u0275\u0275restoreView(t);var l=r.\u0275\u0275nextContext(4).$implicit;return r.\u0275\u0275resetView(l.value=u)})("ngModelChange",function(){r.\u0275\u0275restoreView(t);var u=r.\u0275\u0275nextContext(6);return r.\u0275\u0275resetView(u.changeInput())}),r.\u0275\u0275elementEnd()}if(2&o){var e=r.\u0275\u0275nextContext(4).$implicit,a=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("ngClass",a.getClassNames("inputControl"))("ngModel",e.value)("disabled",a.disabled)}}function I7(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"option",30),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("ngValue",t.value),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",t.name," ")}}function O7(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"select",28),r.\u0275\u0275listener("ngModelChange",function(u){r.\u0275\u0275restoreView(t);var l=r.\u0275\u0275nextContext(4).$implicit;return r.\u0275\u0275resetView(l.value=u)})("ngModelChange",function(){r.\u0275\u0275restoreView(t);var u=r.\u0275\u0275nextContext(6);return r.\u0275\u0275resetView(u.changeInput())}),r.\u0275\u0275template(1,I7,2,2,"option",29),r.\u0275\u0275elementEnd()}if(2&o){var e=r.\u0275\u0275nextContext(4).$implicit,a=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("ngClass",a.getClassNames("inputControl"))("ngModel",e.value)("disabled",a.disabled),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",a.getOptions(e.field))}}function F7(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"option",30),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("ngValue",t.value),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",t.name," ")}}function M7(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"select",43),r.\u0275\u0275listener("ngModelChange",function(u){r.\u0275\u0275restoreView(t);var l=r.\u0275\u0275nextContext(4).$implicit;return r.\u0275\u0275resetView(l.value=u)})("ngModelChange",function(){r.\u0275\u0275restoreView(t);var u=r.\u0275\u0275nextContext(6);return r.\u0275\u0275resetView(u.changeInput())}),r.\u0275\u0275template(2,F7,2,2,"option",29),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementContainerEnd()}if(2&o){var e=r.\u0275\u0275nextContext(4).$implicit,a=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",a.getClassNames("inputControl"))("ngModel",e.value)("disabled",a.disabled),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",a.getOptions(e.field))}}function N7(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"input",44),r.\u0275\u0275listener("ngModelChange",function(u){r.\u0275\u0275restoreView(t);var l=r.\u0275\u0275nextContext(4).$implicit;return r.\u0275\u0275resetView(l.value=u)})("ngModelChange",function(){r.\u0275\u0275restoreView(t);var u=r.\u0275\u0275nextContext(6);return r.\u0275\u0275resetView(u.changeInput())}),r.\u0275\u0275elementEnd()}if(2&o){var e=r.\u0275\u0275nextContext(4).$implicit,a=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("ngClass",a.getClassNames("inputControl"))("ngModel",e.value)("disabled",a.disabled)}}function V7(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div",31),r.\u0275\u0275template(1,k7,1,3,"input",32),r.\u0275\u0275template(2,R7,1,3,"input",33),r.\u0275\u0275template(3,D7,1,3,"input",34),r.\u0275\u0275template(4,T7,1,3,"input",35),r.\u0275\u0275template(5,O7,2,4,"select",36),r.\u0275\u0275template(6,M7,3,4,"ng-container",37),r.\u0275\u0275template(7,N7,1,3,"input",38),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext(3).$implicit,e=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("ngClass",e.getClassNames("inputControlSize"))("ngSwitch",e.getInputType(t.field,t.operator)),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngSwitchCase","string"),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngSwitchCase","number"),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngSwitchCase","date"),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngSwitchCase","time"),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngSwitchCase","category"),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngSwitchCase","multiselect"),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngSwitchCase","boolean")}}function B7(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,d7,3,3,"ng-container",3),r.\u0275\u0275template(2,p7,3,4,"ng-template",null,21,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275template(4,h7,2,2,"div",22),r.\u0275\u0275template(5,v7,3,5,"ng-template",null,23,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275template(7,_7,2,2,"ng-container",3),r.\u0275\u0275template(8,b7,3,5,"ng-template",null,24,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275template(10,w7,2,2,"ng-container",3),r.\u0275\u0275template(11,E7,3,5,"ng-template",null,25,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275template(13,A7,2,2,"ng-container",3),r.\u0275\u0275template(14,V7,8,9,"ng-template",null,26,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementContainerEnd()),2&o){var t=r.\u0275\u0275reference(3),e=r.\u0275\u0275reference(9),a=r.\u0275\u0275reference(12),s=r.\u0275\u0275reference(15),u=r.\u0275\u0275nextContext(2).$implicit,l=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",l.getRemoveButtonTemplate())("ngIfElse",t),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngIf",null==l.entities?null:l.entities.length),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngIf",l.getFieldTemplate())("ngIfElse",e),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngIf",l.getOperatorTemplate())("ngIfElse",a),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngIf",l.findTemplateForRule(u))("ngIfElse",s)}}function Z7(o,n){if(1&o&&r.\u0275\u0275element(0,"query-builder",45),2&o){var t=r.\u0275\u0275nextContext(2).$implicit,e=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("data",t)("disabled",e.disabled)("parentTouchedCallback",e.parentTouchedCallback||e.onTouchedCallback)("parentChangeCallback",e.parentChangeCallback||e.onChangeCallback)("parentInputTemplates",e.parentInputTemplates||e.inputTemplates)("parentOperatorTemplate",e.parentOperatorTemplate||e.operatorTemplate)("parentFieldTemplate",e.parentFieldTemplate||e.fieldTemplate)("parentEntityTemplate",e.parentEntityTemplate||e.entityTemplate)("parentSwitchGroupTemplate",e.parentSwitchGroupTemplate||e.switchGroupTemplate)("parentButtonGroupTemplate",e.parentButtonGroupTemplate||e.buttonGroupTemplate)("parentRemoveButtonTemplate",e.parentRemoveButtonTemplate||e.removeButtonTemplate)("parentEmptyWarningTemplate",e.parentEmptyWarningTemplate||e.emptyWarningTemplate)("parentArrowIconTemplate",e.parentArrowIconTemplate||e.arrowIconTemplate)("parentValue",e.data)("classNames",e.classNames)("config",e.config)("allowRuleset",e.allowRuleset)("allowCollapse",e.allowCollapse)("emptyMessage",e.emptyMessage)("operatorMap",e.operatorMap)}}function L7(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function j7(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,L7,1,0,"ng-container",10),r.\u0275\u0275elementContainerEnd()),2&o){var t=r.\u0275\u0275nextContext().ngIf,e=r.\u0275\u0275nextContext(4);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getEmptyWarningContext())}}function $7(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,j7,2,2,"ng-container",13),r.\u0275\u0275elementContainerEnd()),2&o){var t=r.\u0275\u0275nextContext().ngIf;r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",t.invalid)}}function U7(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"p",0),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext(5);r.\u0275\u0275property("ngClass",t.getClassNames("emptyWarning")),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",t.emptyMessage," ")}}function z7(o,n){if(1&o&&r.\u0275\u0275template(0,U7,2,2,"p",8),2&o){var t=r.\u0275\u0275nextContext().ngIf;r.\u0275\u0275property("ngIf",t.invalid)}}function G7(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"li",0),r.\u0275\u0275template(2,B7,16,9,"ng-container",13),r.\u0275\u0275template(3,Z7,1,20,"query-builder",19),r.\u0275\u0275template(4,$7,2,1,"ng-container",3),r.\u0275\u0275template(5,z7,1,1,"ng-template",null,20,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementContainerEnd()),2&o){var t=n.ngIf,e=r.\u0275\u0275reference(6),a=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",a.getQueryItemClassName(t)),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!t.ruleset),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",t.ruleset),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",a.getEmptyWarningTemplate())("ngIfElse",e)}}var H7=function(n,t){return{ruleset:n,invalid:t}};function q7(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,G7,7,5,"ng-container",13),r.\u0275\u0275elementContainerEnd()),2&o){var t=n.$implicit,e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",r.\u0275\u0275pureFunction2(1,H7,!!t.rules,!e.config.allowEmptyRulesets&&t.rules&&0===t.rules.length))}}function K7(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"ul",0),r.\u0275\u0275template(1,q7,2,4,"ng-container",18),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275property("ngClass",t.getClassNames("tree")),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",t.data.rules)}}var W7=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.template=t});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.TemplateRef))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","queryOperator",""]]}),o}(),X7=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.template=t});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.TemplateRef))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","queryField",""]]}),o}(),Q7=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.template=t});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.TemplateRef))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","queryEntity",""]]}),o}(),Y7=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.template=t});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.TemplateRef))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","querySwitchGroup",""]]}),o}(),J7=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.template=t});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.TemplateRef))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","queryButtonGroup",""]]}),o}(),e9=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.template=t}return(0,y.Z)(n,[{key:"queryInputType",get:function(){return this._type},set:function(e){e&&(this._type=e)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.TemplateRef))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","queryInput",""]],inputs:{queryInputType:"queryInputType"}}),o}(),t9=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.template=t});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.TemplateRef))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","queryRemoveButton",""]]}),o}(),n9=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.template=t});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.TemplateRef))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","queryEmptyWarning",""]]}),o}(),r9=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.template=t});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.TemplateRef))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","queryArrowIcon",""]]}),o}(),i9={provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return VA}),multi:!0},a9={provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return VA}),multi:!0},VA=function(){var o=function(){function n(t){var e=this;(0,f.Z)(this,n),this.changeDetectorRef=t,this.defaultClassNames={arrowIconButton:"q-arrow-icon-button",arrowIcon:"q-icon q-arrow-icon",removeIcon:"q-icon q-remove-icon",addIcon:"q-icon q-add-icon",button:"q-button",buttonGroup:"q-button-group",removeButton:"q-remove-button",switchGroup:"q-switch-group",switchLabel:"q-switch-label",switchRadio:"q-switch-radio",rightAlign:"q-right-align",transition:"q-transition",collapsed:"q-collapsed",treeContainer:"q-tree-container",tree:"q-tree",row:"q-row",connector:"q-connector",rule:"q-rule",ruleSet:"q-ruleset",invalidRuleSet:"q-invalid-ruleset",emptyWarning:"q-empty-warning",fieldControl:"q-field-control",fieldControlSize:"q-control-size",entityControl:"q-entity-control",entityControlSize:"q-control-size",operatorControl:"q-operator-control",operatorControlSize:"q-control-size",inputControl:"q-input-control",inputControlSize:"q-control-size"},this.defaultOperatorMap={string:["=","!=","contains","like"],number:["=","!=",">",">=","<","<="],time:["=","!=",">",">=","<","<="],date:["=","!=",">",">=","<","<="],category:["=","!=","in","not in"],boolean:["="]},this.disabled=!1,this.data={condition:"and",rules:[]},this.allowRuleset=!0,this.allowCollapse=!1,this.emptyMessage="A ruleset cannot be empty. Please add a rule or remove it all together.",this.classNames={},this.operatorMap={},this.config={fields:{}},this.persistValueOnFieldChange=!1,this.defaultTemplateTypes=["string","number","time","date","category","boolean","multiselect"],this.defaultPersistValueTypes=["string","number","time","date","boolean"],this.defaultEmptyList=[],this.operatorsCache={},this.inputContextCache=new Map,this.operatorContextCache=new Map,this.fieldContextCache=new Map,this.entityContextCache=new Map,this.removeButtonContextCache=new Map,this.getDisabledState=function(){return e.disabled},this.fields=[],this.filterFields=[],this.entities=[]}return(0,y.Z)(n,[{key:"condintion",get:function(){var e;return null===(e=this.data)||void 0===e?void 0:e.condition}},{key:"ngOnChanges",value:function(e){var a=this.config,s=typeof a;if("object"!==s)throw new Error("Expected 'config' must be a valid object, got ".concat(s," instead."));this.fields=Object.keys(a.fields).map(function(u){var l=a.fields[u];return l.value=l.value||u,l}),this.entities=a.entities?Object.keys(a.entities).map(function(u){var l=a.entities?a.entities[u]:[];return l.value=l.value||u,l}):[],this.operatorsCache={}}},{key:"validate",value:function(e){var a={},s=[],u=!1;return!this.config.allowEmptyRulesets&&this.checkEmptyRuleInRuleset(this.data)&&(a.empty="Empty rulesets are not allowed.",u=!0),this.validateRulesInRuleset(this.data,s),s.length&&(a.rules=s,u=!0),u?a:null}},{key:"value",get:function(){return this.data},set:function(e){this.data=e||{condition:"and",rules:[]},this.handleDataChange()}},{key:"writeValue",value:function(e){this.value=e}},{key:"registerOnChange",value:function(e){var a=this;this.onChangeCallback=function(){return e(a.data)}}},{key:"registerOnTouched",value:function(e){var a=this;this.onTouchedCallback=function(){return e(a.data)}}},{key:"setDisabledState",value:function(e){this.disabled=e,this.changeDetectorRef.detectChanges()}},{key:"findTemplateForRule",value:function(e){var a=this.getInputType(e.field,e.operator);if(a){var s=this.findQueryInput(a);return s?s.template:(-1===this.defaultTemplateTypes.indexOf(a)&&console.warn("Could not find template for field with type: ".concat(a)),null)}}},{key:"findQueryInput",value:function(e){return(this.parentInputTemplates||this.inputTemplates).find(function(s){return s.queryInputType===e})}},{key:"getOperators",value:function(e){if(this.operatorsCache[e])return this.operatorsCache[e];var a=this.defaultEmptyList,s=this.config.fields[e];if(this.config.getOperators)return this.config.getOperators(e,s);var u=s.type;return s&&s.operators?a=s.operators:u?(0===(a=this.operatorMap&&this.operatorMap[u]||this.defaultOperatorMap[u]||this.defaultEmptyList).length&&console.warn("No operators found for field '".concat(e,"' with type ").concat(s.type,". ")+"Please define an 'operators' property on the field or use the 'operatorMap' binding to fix this."),s.nullable&&(a=a.concat(["is null","is not null"]))):console.warn("No 'type' property found on field: '".concat(e,"'")),this.operatorsCache[e]=a,a}},{key:"getFields",value:function(e){return this.entities.length&&e?this.fields.filter(function(a){return a&&a.entity===e}):this.fields}},{key:"getInputType",value:function(e,a){if(this.config.getInputType)return this.config.getInputType(e,a);if(!this.config.fields[e])throw new Error("No configuration for field '".concat(e,"' could be found! Please add it to config.fields."));var s=this.config.fields[e].type;switch(a){case"is null":case"is not null":return null;case"in":case"not in":return"category"===s||"boolean"===s?"multiselect":s;default:return s}}},{key:"getOptions",value:function(e){return this.config.getOptions?this.config.getOptions(e):this.config.fields[e].options||this.defaultEmptyList}},{key:"getClassNames",value:function(){for(var e=this.classNames?this.classNames:this.defaultClassNames,a=this.defaultClassNames,s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];var c=u.map(function(h){return e[h]||a[h]}).filter(function(h){return!!h});return c.length?c.join(" "):[]}},{key:"getDefaultField",value:function(e){if(e){if(void 0!==e.defaultField)return this.getDefaultValue(e.defaultField);var a=this.fields.filter(function(s){return s&&s.entity===e.value});return a&&a.length?a[0]:(console.warn("No fields found for entity '".concat(e.name,"'. ")+"A 'defaultOperator' is also not specified on the field config. Operator value will default to null."),null)}return null}},{key:"getDefaultOperator",value:function(e){if(e&&void 0!==e.defaultOperator)return this.getDefaultValue(e.defaultOperator);var a=this.getOperators(e.value);return a&&a.length?a[0]:(console.warn("No operators found for field '".concat(e.value,"'. ")+"A 'defaultOperator' is also not specified on the field config. Operator value will default to null."),null)}},{key:"addRule",value:function(e){if(!this.disabled){if(e=e||this.data,this.config.addRule)this.config.addRule(e);else{var a=this.fields[0];e.rules=e.rules.concat([{field:a.value,operator:this.getDefaultOperator(a),value:this.getDefaultValue(a.defaultValue),entity:a.entity}])}this.handleTouched(),this.handleDataChange()}}},{key:"removeRule",value:function(e,a){this.disabled||(a=a||this.data,this.config.removeRule?this.config.removeRule(e,a):a.rules=a.rules.filter(function(s){return s!==e}),this.inputContextCache.delete(e),this.operatorContextCache.delete(e),this.fieldContextCache.delete(e),this.entityContextCache.delete(e),this.removeButtonContextCache.delete(e),this.handleTouched(),this.handleDataChange())}},{key:"addRuleSet",value:function(e){this.disabled||(e=e||this.data,this.config.addRuleSet?this.config.addRuleSet(e):e.rules=e.rules.concat([{condition:"and",rules:[]}]),this.handleTouched(),this.handleDataChange())}},{key:"removeRuleSet",value:function(e,a){this.disabled||(e=e||this.data,a=a||this.parentValue,this.config.removeRuleSet?this.config.removeRuleSet(e,a):a&&(a.rules=a.rules.filter(function(s){return s!==e})),this.handleTouched(),this.handleDataChange())}},{key:"transitionEnd",value:function(e){this.treeContainer.nativeElement.style.maxHeight=null}},{key:"toggleCollapse",value:function(){var e=this;this.computedTreeContainerHeight(),setTimeout(function(){e.data.collapsed=!e.data.collapsed},100)}},{key:"computedTreeContainerHeight",value:function(){var e=this.treeContainer.nativeElement;e&&e.firstElementChild&&(e.style.maxHeight=e.firstElementChild.clientHeight+8+"px")}},{key:"changeCondition",value:function(e){this.disabled||(this.data.condition=e,this.handleTouched(),this.handleDataChange())}},{key:"changeOperator",value:function(e){this.disabled||(e.value=this.config.coerceValueForOperator?this.config.coerceValueForOperator(e.operator,e.value,e):this.coerceValueForOperator(e.operator,e.value,e),this.handleTouched(),this.handleDataChange())}},{key:"coerceValueForOperator",value:function(e,a,s){return"multiselect"!==this.getInputType(s.field,e)||Array.isArray(a)?a:[a]}},{key:"changeInput",value:function(){this.disabled||(this.handleTouched(),this.handleDataChange())}},{key:"changeField",value:function(e,a){if(!this.disabled){var s=this.inputContextCache.get(a),l=this.config.fields[e],c=this.calculateFieldChangeValue(s&&s.field,l,a.value);void 0!==c?a.value=c:delete a.value,a.operator=this.getDefaultOperator(l),this.inputContextCache.delete(a),this.operatorContextCache.delete(a),this.fieldContextCache.delete(a),this.entityContextCache.delete(a),this.getInputContext(a),this.getFieldContext(a),this.getOperatorContext(a),this.getEntityContext(a),this.handleTouched(),this.handleDataChange()}}},{key:"changeEntity",value:function(e,a,s,u){if(!this.disabled){var l=s,c=u,h=this.entities.find(function(T){return T.value===e}),C=this.getDefaultField(h);c||(l=(c=this.data).rules.findIndex(function(T){return T===a})),a.field=C.value,c.rules[l]=a,C?this.changeField(C.value,a):(this.handleTouched(),this.handleDataChange())}}},{key:"getDefaultValue",value:function(e){return"function"==typeof e?e():e}},{key:"getOperatorTemplate",value:function(){var e=this.parentOperatorTemplate||this.operatorTemplate;return e?e.template:null}},{key:"getFieldTemplate",value:function(){var e=this.parentFieldTemplate||this.fieldTemplate;return e?e.template:null}},{key:"getEntityTemplate",value:function(){var e=this.parentEntityTemplate||this.entityTemplate;return e?e.template:null}},{key:"getArrowIconTemplate",value:function(){var e=this.parentArrowIconTemplate||this.arrowIconTemplate;return e?e.template:null}},{key:"getButtonGroupTemplate",value:function(){var e=this.parentButtonGroupTemplate||this.buttonGroupTemplate;return e?e.template:null}},{key:"getSwitchGroupTemplate",value:function(){var e=this.parentSwitchGroupTemplate||this.switchGroupTemplate;return e?e.template:null}},{key:"getRemoveButtonTemplate",value:function(){var e=this.parentRemoveButtonTemplate||this.removeButtonTemplate;return e?e.template:null}},{key:"getEmptyWarningTemplate",value:function(){var e=this.parentEmptyWarningTemplate||this.emptyWarningTemplate;return e?e.template:null}},{key:"getQueryItemClassName",value:function(e){var a=this.getClassNames("row","connector","transition");return a+=" "+this.getClassNames(e.ruleset?"ruleSet":"rule"),e.invalid&&(a+=" "+this.getClassNames("invalidRuleSet")),a}},{key:"getButtonGroupContext",value:function(){return this.buttonGroupContext||(this.buttonGroupContext={addRule:this.addRule.bind(this),addRuleSet:this.allowRuleset&&this.addRuleSet.bind(this),removeRuleSet:this.allowRuleset&&this.parentValue&&this.removeRuleSet.bind(this),getDisabledState:this.getDisabledState,$implicit:this.data}),this.buttonGroupContext}},{key:"getRemoveButtonContext",value:function(e){return this.removeButtonContextCache.has(e)||this.removeButtonContextCache.set(e,{removeRule:this.removeRule.bind(this),getDisabledState:this.getDisabledState,$implicit:e}),this.removeButtonContextCache.get(e)}},{key:"getFieldContext",value:function(e){return this.fieldContextCache.has(e)||this.fieldContextCache.set(e,{onChange:this.changeField.bind(this),getFields:this.getFields.bind(this),getDisabledState:this.getDisabledState,fields:this.fields,$implicit:e}),this.fieldContextCache.get(e)}},{key:"getEntityContext",value:function(e){return this.entityContextCache.has(e)||this.entityContextCache.set(e,{onChange:this.changeEntity.bind(this),getDisabledState:this.getDisabledState,entities:this.entities,$implicit:e}),this.entityContextCache.get(e)}},{key:"getSwitchGroupContext",value:function(){return{onChange:this.changeCondition.bind(this),getDisabledState:this.getDisabledState,$implicit:this.data}}},{key:"getArrowIconContext",value:function(){return{getDisabledState:this.getDisabledState,$implicit:this.data}}},{key:"getEmptyWarningContext",value:function(){return{getDisabledState:this.getDisabledState,message:this.emptyMessage,$implicit:this.data}}},{key:"getOperatorContext",value:function(e){return this.operatorContextCache.has(e)||this.operatorContextCache.set(e,{onChange:this.changeOperator.bind(this),getDisabledState:this.getDisabledState,operators:this.getOperators(e.field),$implicit:e}),this.operatorContextCache.get(e)}},{key:"getInputContext",value:function(e){return this.inputContextCache.has(e)||this.inputContextCache.set(e,{onChange:this.changeInput.bind(this),getDisabledState:this.getDisabledState,options:this.getOptions(e.field),field:this.config.fields[e.field],$implicit:e}),this.inputContextCache.get(e)}},{key:"calculateFieldChangeValue",value:function(e,a,s){return null!=this.config.calculateFieldChangeValue?this.config.calculateFieldChangeValue(e,a,s):this.persistValueOnFieldChange&&null!=e&&null!=a&&e.type===a.type&&-1!==this.defaultPersistValueTypes.indexOf(e.type)?s:a&&void 0!==a.defaultValue?this.getDefaultValue(a.defaultValue):void 0}},{key:"checkEmptyRuleInRuleset",value:function(e){var a=this;return!e||!e.rules||0===e.rules.length||e.rules.some(function(s){return!!s.rules&&a.checkEmptyRuleInRuleset(s)})}},{key:"validateRulesInRuleset",value:function(e,a){var s=this;e&&e.rules&&e.rules.length>0&&e.rules.forEach(function(u){if(u.rules)return s.validateRulesInRuleset(u,a);if(u.field){var l=s.config.fields[u.field];if(l&&l.validator){var c=l.validator(u,e);null!=c&&a.push(c)}}})}},{key:"handleDataChange",value:function(){this.changeDetectorRef.markForCheck(),this.onChangeCallback&&this.onChangeCallback(),this.parentChangeCallback&&this.parentChangeCallback()}},{key:"handleTouched",value:function(){this.onTouchedCallback&&this.onTouchedCallback(),this.parentTouchedCallback&&this.parentTouchedCallback()}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ChangeDetectorRef))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["query-builder"]],contentQueries:function(t,e,a){var s;1&t&&(r.\u0275\u0275contentQuery(a,J7,5),r.\u0275\u0275contentQuery(a,Y7,5),r.\u0275\u0275contentQuery(a,X7,5),r.\u0275\u0275contentQuery(a,Q7,5),r.\u0275\u0275contentQuery(a,W7,5),r.\u0275\u0275contentQuery(a,t9,5),r.\u0275\u0275contentQuery(a,n9,5),r.\u0275\u0275contentQuery(a,r9,5),r.\u0275\u0275contentQuery(a,e9,5)),2&t&&(r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.buttonGroupTemplate=s.first),r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.switchGroupTemplate=s.first),r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.fieldTemplate=s.first),r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.entityTemplate=s.first),r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.operatorTemplate=s.first),r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.removeButtonTemplate=s.first),r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.emptyWarningTemplate=s.first),r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.arrowIconTemplate=s.first),r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.inputTemplates=s))},viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(W$,7),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.treeContainer=a.first)},hostVars:1,hostBindings:function(t,e){2&t&&r.\u0275\u0275attribute("query-builder-condition",e.condintion)},inputs:{disabled:"disabled",data:"data",allowRuleset:"allowRuleset",allowCollapse:"allowCollapse",emptyMessage:"emptyMessage",classNames:"classNames",operatorMap:"operatorMap",parentValue:"parentValue",config:"config",parentArrowIconTemplate:"parentArrowIconTemplate",parentInputTemplates:"parentInputTemplates",parentOperatorTemplate:"parentOperatorTemplate",parentFieldTemplate:"parentFieldTemplate",parentEntityTemplate:"parentEntityTemplate",parentSwitchGroupTemplate:"parentSwitchGroupTemplate",parentButtonGroupTemplate:"parentButtonGroupTemplate",parentRemoveButtonTemplate:"parentRemoveButtonTemplate",parentEmptyWarningTemplate:"parentEmptyWarningTemplate",parentChangeCallback:"parentChangeCallback",parentTouchedCallback:"parentTouchedCallback",persistValueOnFieldChange:"persistValueOnFieldChange",value:"value"},features:[r.\u0275\u0275ProvidersFeature([i9,a9]),r.\u0275\u0275NgOnChangesFeature],decls:13,vars:8,consts:[[3,"ngClass"],["defaultArrowIcon",""],[3,"ngClass","click",4,"ngIf"],[4,"ngIf","ngIfElse"],["defaultButtonGroup",""],["defaultSwitchGroup",""],[3,"ngClass","transitionend"],["treeContainer",""],[3,"ngClass",4,"ngIf"],[3,"ngClass","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"ngClass","disabled","click"],["type","button",3,"ngClass","disabled","click",4,"ngIf"],[4,"ngIf"],["type","radio","value","and",3,"ngClass","ngModel","disabled","ngModelChange"],["andOption",""],["type","radio","value","or",3,"ngClass","ngModel","disabled","ngModelChange"],["orOption",""],[4,"ngFor","ngForOf"],[3,"data","disabled","parentTouchedCallback","parentChangeCallback","parentInputTemplates","parentOperatorTemplate","parentFieldTemplate","parentEntityTemplate","parentSwitchGroupTemplate","parentButtonGroupTemplate","parentRemoveButtonTemplate","parentEmptyWarningTemplate","parentArrowIconTemplate","parentValue","classNames","config","allowRuleset","allowCollapse","emptyMessage","operatorMap",4,"ngIf"],["defaultEmptyWarning",""],["defaultRemoveButton",""],["class","q-inline-block-display",4,"ngIf"],["defaultEntity",""],["defaultField",""],["defaultOperator",""],["defaultInput",""],[1,"q-inline-block-display"],[3,"ngClass","ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[3,"ngClass","ngSwitch"],["type","text",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","number",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","date",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","time",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],["type","checkbox",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","text",3,"ngClass","ngModel","disabled","ngModelChange"],["type","number",3,"ngClass","ngModel","disabled","ngModelChange"],["type","date",3,"ngClass","ngModel","disabled","ngModelChange"],["type","time",3,"ngClass","ngModel","disabled","ngModelChange"],["multiple","",3,"ngClass","ngModel","disabled","ngModelChange"],["type","checkbox",3,"ngClass","ngModel","disabled","ngModelChange"],[3,"data","disabled","parentTouchedCallback","parentChangeCallback","parentInputTemplates","parentOperatorTemplate","parentFieldTemplate","parentEntityTemplate","parentSwitchGroupTemplate","parentButtonGroupTemplate","parentRemoveButtonTemplate","parentEmptyWarningTemplate","parentArrowIconTemplate","parentValue","classNames","config","allowRuleset","allowCollapse","emptyMessage","operatorMap"]],template:function(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275template(1,X$,1,1,"ng-template",null,1,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275template(3,J$,2,3,"a",2),r.\u0275\u0275template(4,t7,3,3,"ng-container",3),r.\u0275\u0275template(5,a7,6,6,"ng-template",null,4,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275template(7,s7,2,2,"ng-container",3),r.\u0275\u0275template(8,l7,1,1,"ng-template",null,5,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(10,"div",6,7),r.\u0275\u0275listener("transitionend",function(l){return e.transitionEnd(l)}),r.\u0275\u0275template(12,K7,2,2,"ul",8),r.\u0275\u0275elementEnd()),2&t){var a=r.\u0275\u0275reference(6),s=r.\u0275\u0275reference(9);r.\u0275\u0275property("ngClass",e.getClassNames("switchRow")),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngIf",e.allowCollapse),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.getButtonGroupTemplate())("ngIfElse",a),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngIf",e.getSwitchGroupTemplate())("ngIfElse",s),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngClass",e.getClassNames("treeContainer",e.data.collapsed?"collapsed":"")),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",e.data&&e.data.rules)}},dependencies:[P.NgClass,P.NgForOf,P.NgIf,P.NgTemplateOutlet,P.NgSwitch,P.NgSwitchCase,v.NgSelectOption,v.\u0275NgSelectMultipleOption,v.DefaultValueAccessor,v.NumberValueAccessor,v.CheckboxControlValueAccessor,v.SelectControlValueAccessor,v.SelectMultipleControlValueAccessor,v.RadioControlValueAccessor,v.NgControlStatus,v.NgModel,o],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .q-icon[_ngcontent-%COMP%]{font-style:normal;font-size:12px}[_nghost-%COMP%]   .q-remove-icon[_ngcontent-%COMP%]:before{content:"\\274c"}[_nghost-%COMP%]   .q-arrow-icon-button[_ngcontent-%COMP%]{float:left;margin:4px 6px 4px 0;transform:rotate(90deg);transition:linear .25s transform;cursor:pointer}[_nghost-%COMP%]   .q-arrow-icon-button.q-collapsed[_ngcontent-%COMP%]{transform:rotate(0)}[_nghost-%COMP%]   .q-arrow-icon[_ngcontent-%COMP%]:before{content:"\\25b6"}[_nghost-%COMP%]   .q-add-icon[_ngcontent-%COMP%]{color:#555}[_nghost-%COMP%]   .q-add-icon[_ngcontent-%COMP%]:before{content:"\\2795"}[_nghost-%COMP%]   .q-remove-button[_ngcontent-%COMP%]{color:#b3415d;width:31px}[_nghost-%COMP%]   .q-switch-group[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-button-group[_ngcontent-%COMP%]{font-family:Lucida Grande,Tahoma,Verdana,sans-serif;overflow:hidden}[_nghost-%COMP%]   .q-right-align[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]{margin-left:8px;padding:0 8px;background-color:#fff}[_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]:disabled{display:none}[_nghost-%COMP%]   .q-control-size[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;padding-right:10px}[_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%]{display:inline-block;padding:5px 8px;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;width:auto;min-width:180px}[_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%]:disabled{border-color:transparent}[_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%]:not([type=checkbox]){min-height:32px;-webkit-appearance:none}[_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]{float:left;margin-bottom:0;font-size:14px;line-height:30px;font-weight:400;text-align:center;text-shadow:none;border:1px solid rgba(0,0,0,.2);box-sizing:border-box}[_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f0f0f0}[_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%]{background-color:#e4e4e4;padding:0 8px}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]{position:absolute;clip:rect(0,0,0,0);height:1px;width:1px;border:0;overflow:hidden}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:checked + .q-switch-label[_ngcontent-%COMP%]{border:1px solid rgb(97,158,215);background:white;color:#3176b3}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:disabled + .q-switch-label[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:checked:disabled + .q-switch-label[_ngcontent-%COMP%]{display:initial;color:initial;cursor:default;border-color:transparent}[_nghost-%COMP%]   .q-invalid-ruleset[_ngcontent-%COMP%]{border:1px solid rgba(179,65,93,.5)!important;background:rgba(179,65,93,.1)!important}[_nghost-%COMP%]   .q-empty-warning[_ngcontent-%COMP%]{color:#8d252e;text-align:center}[_nghost-%COMP%]   .q-ruleset[_ngcontent-%COMP%]{border:1px solid #CCC}[_nghost-%COMP%]   .q-rule[_ngcontent-%COMP%]{border:1px solid #CCC;background:white}[_nghost-%COMP%]   .q-transition[_ngcontent-%COMP%]{transition:all .1s ease-in-out}[_nghost-%COMP%]   .q-tree-container[_ngcontent-%COMP%]{width:100%;overflow:hidden;transition:ease-in .25s max-height}[_nghost-%COMP%]   .q-tree-container.q-collapsed[_ngcontent-%COMP%]{max-height:0!important}[_nghost-%COMP%]   .q-tree[_ngcontent-%COMP%]{list-style:none;margin:4px 0 2px}[_nghost-%COMP%]   .q-row[_ngcontent-%COMP%]{padding:6px 8px;margin-top:6px}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:before{top:-5px;border-width:0 0 2px 2px}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:after{border-width:0 0 0 2px;top:50%}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:after{content:"";left:-12px;border-color:#ccc;border-style:solid;width:9px;height:calc(50% + 6px);position:absolute}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:last-child:after{content:none}[_nghost-%COMP%]   .q-inline-block-display[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}']}),o}(),o9=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule,v.FormsModule]}),o}();function s9(o,n){if(1&o&&r.\u0275\u0275element(0,"div",3),2&o){var t=n.index,e=r.\u0275\u0275nextContext();r.\u0275\u0275property("ngStyle",e.gridRenderer.getGridColumnStyle(t))}}function u9(o,n){if(1&o&&r.\u0275\u0275element(0,"div",4),2&o){var t=n.index,e=r.\u0275\u0275nextContext();r.\u0275\u0275property("ngStyle",e.gridRenderer.getGridRowStyle(t))}}var aO=["*"];function l9(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",8),r.\u0275\u0275listener("mousedown",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.resize.dragStartDelay(a))})("touchstart",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.resize.dragStartDelay(a))}),r.\u0275\u0275elementEnd()}}function c9(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",9),r.\u0275\u0275listener("mousedown",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.resize.dragStartDelay(a))})("touchstart",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.resize.dragStartDelay(a))}),r.\u0275\u0275elementEnd()}}function d9(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",10),r.\u0275\u0275listener("mousedown",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.resize.dragStartDelay(a))})("touchstart",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.resize.dragStartDelay(a))}),r.\u0275\u0275elementEnd()}}function p9(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",11),r.\u0275\u0275listener("mousedown",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.resize.dragStartDelay(a))})("touchstart",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.resize.dragStartDelay(a))}),r.\u0275\u0275elementEnd()}}function f9(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",12),r.\u0275\u0275listener("mousedown",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.resize.dragStartDelay(a))})("touchstart",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.resize.dragStartDelay(a))}),r.\u0275\u0275elementEnd()}}function m9(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",13),r.\u0275\u0275listener("mousedown",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.resize.dragStartDelay(a))})("touchstart",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.resize.dragStartDelay(a))}),r.\u0275\u0275elementEnd()}}function h9(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",14),r.\u0275\u0275listener("mousedown",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.resize.dragStartDelay(a))})("touchstart",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.resize.dragStartDelay(a))}),r.\u0275\u0275elementEnd()}}function g9(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",15),r.\u0275\u0275listener("mousedown",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.resize.dragStartDelay(a))})("touchstart",function(a){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.resize.dragStartDelay(a))}),r.\u0275\u0275elementEnd()}}var c_,Ol,po,d_,Bs,p_,f_,m_,h_,Hn=function(){return(Hn=Hn||{}).Fit="fit",Hn.ScrollVertical="scrollVertical",Hn.ScrollHorizontal="scrollHorizontal",Hn.Fixed="fixed",Hn.VerticalFixed="verticalFixed",Hn.HorizontalFixed="horizontalFixed",Hn}(),ku=function(){return(ku=ku||{}).Always="always",ku.OnDragAndResize="onDrag&Resize",ku.None="none",ku}(),Xn=function(){return(Xn=Xn||{}).None="none",Xn.CompactUp="compactUp",Xn.CompactLeft="compactLeft",Xn.CompactUpAndLeft="compactUp&Left",Xn.CompactLeftAndUp="compactLeft&Up",Xn.CompactRight="compactRight",Xn.CompactUpAndRight="compactUp&Right",Xn.CompactRightAndUp="compactRight&Up",Xn.CompactDown="compactDown",Xn.CompactDownAndLeft="compactDown&Left",Xn.CompactLeftAndDown="compactLeft&Down",Xn.CompactDownAndRight="compactDown&Right",Xn.CompactRightAndDown="compactRight&Down",Xn}(),mi=function(){return(mi=mi||{}).LTR="ltr",mi.RTL="rtl",mi}(),v9=function(){function o(n){(0,f.Z)(this,o),this.gridster=n}return(0,y.Z)(o,[{key:"destroy",value:function(){this.gridster=null}},{key:"checkCompact",value:function(){this.gridster.$options.compactType!==Xn.None&&(this.gridster.$options.compactType===Xn.CompactUp?this.checkCompactMovement("y",-1):this.gridster.$options.compactType===Xn.CompactLeft?this.checkCompactMovement("x",-1):this.gridster.$options.compactType===Xn.CompactUpAndLeft?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===Xn.CompactLeftAndUp?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===Xn.CompactRight?this.checkCompactMovement("x",1):this.gridster.$options.compactType===Xn.CompactUpAndRight?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===Xn.CompactRightAndUp?(this.checkCompactMovement("x",1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===Xn.CompactDown?this.checkCompactMovement("y",1):this.gridster.$options.compactType===Xn.CompactDownAndLeft?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===Xn.CompactDownAndRight?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===Xn.CompactLeftAndDown?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",1)):this.gridster.$options.compactType===Xn.CompactRightAndDown&&(this.checkCompactMovement("x",1),this.checkCompactMovement("y",1)))}},{key:"checkCompactItem",value:function(t){this.gridster.$options.compactType!==Xn.None&&(this.gridster.$options.compactType===Xn.CompactUp?this.moveTillCollision(t,"y",-1):this.gridster.$options.compactType===Xn.CompactLeft?this.moveTillCollision(t,"x",-1):this.gridster.$options.compactType===Xn.CompactUpAndLeft?(this.moveTillCollision(t,"y",-1),this.moveTillCollision(t,"x",-1)):this.gridster.$options.compactType===Xn.CompactLeftAndUp?(this.moveTillCollision(t,"x",-1),this.moveTillCollision(t,"y",-1)):this.gridster.$options.compactType===Xn.CompactUpAndRight?(this.moveTillCollision(t,"y",-1),this.moveTillCollision(t,"x",1)):this.gridster.$options.compactType===Xn.CompactDown?this.moveTillCollision(t,"y",1):this.gridster.$options.compactType===Xn.CompactDownAndLeft?(this.moveTillCollision(t,"y",1),this.moveTillCollision(t,"x",-1)):this.gridster.$options.compactType===Xn.CompactLeftAndDown?(this.moveTillCollision(t,"x",-1),this.moveTillCollision(t,"y",1)):this.gridster.$options.compactType===Xn.CompactDownAndRight?(this.moveTillCollision(t,"y",1),this.moveTillCollision(t,"x",1)):this.gridster.$options.compactType===Xn.CompactRightAndDown&&(this.moveTillCollision(t,"x",1),this.moveTillCollision(t,"y",1)))}},{key:"checkCompactMovement",value:function(t,e){var a=this,s=!1;this.gridster.grid.forEach(function(u){!1!==u.$item.compactEnabled&&a.moveTillCollision(u.$item,t,e)&&(s=!0,u.item[t]=u.$item[t],u.itemChanged())}),s&&this.checkCompact()}},{key:"moveTillCollision",value:function(t,e,a){return t[e]+=a,this.gridster.checkCollision(t)?(t[e]-=a,!1):(this.moveTillCollision(t,e,a),!0)}}]),o}(),y9={gridType:Hn.Fit,scale:1,fixedColWidth:250,fixedRowHeight:250,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,setGridSize:!1,compactType:Xn.None,mobileBreakpoint:640,useBodyForBreakpoint:!1,allowMultiLayer:!1,defaultLayerIndex:0,maxLayerIndex:2,baseLayerIndex:1,minCols:1,maxCols:100,minRows:1,maxRows:100,defaultItemCols:1,defaultItemRows:1,maxItemCols:50,maxItemRows:50,minItemCols:1,minItemRows:1,minItemArea:1,maxItemArea:2500,addEmptyRowsCount:0,rowHeightRatio:1,margin:10,outerMargin:!0,outerMarginTop:null,outerMarginRight:null,outerMarginBottom:null,outerMarginLeft:null,useTransformPositioning:!0,scrollSensitivity:10,scrollSpeed:20,initCallback:void 0,destroyCallback:void 0,gridSizeChangedCallback:void 0,itemChangeCallback:void 0,itemResizeCallback:void 0,itemInitCallback:void 0,itemRemovedCallback:void 0,itemValidateCallback:void 0,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,enableOccupiedCellDrop:!1,emptyCellClickCallback:void 0,emptyCellContextMenuCallback:void 0,emptyCellDropCallback:void 0,emptyCellDragCallback:void 0,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,draggable:{delayStart:0,enabled:!1,ignoreContentClass:"gridster-item-content",ignoreContent:!1,dragHandleClass:"drag-handler",stop:void 0,start:void 0,dropOverItems:!1,dropOverItemsCallback:void 0},resizable:{delayStart:0,enabled:!1,handles:{s:!0,e:!0,n:!0,w:!0,se:!0,ne:!0,sw:!0,nw:!0},stop:void 0,start:void 0},swap:!0,swapWhileDragging:!1,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:ku.OnDragAndResize,disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1,disableScrollHorizontal:!1,disableScrollVertical:!1,enableBoundaryControl:!1,disableAutoPositionOnConflict:!1,dirType:mi.LTR},Ma=function(){function o(){(0,f.Z)(this,o)}return(0,y.Z)(o,null,[{key:"merge",value:function(t,e,a){for(var s in e)void 0!==e[s]&&a.hasOwnProperty(s)&&("object"==typeof e[s]?(s in t||(t[s]={}),t[s]=o.merge(t[s],e[s],a[s])):t[s]=e[s]);return t}},{key:"checkTouchEvent",value:function(t){void 0===t.clientX&&t.touches&&(t.touches&&t.touches.length?(t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY):t.changedTouches&&t.changedTouches.length&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY))}},{key:"checkContentClassForEvent",value:function(t,e){if(t.$options.draggable.ignoreContent){if(!o.checkDragHandleClass(e.target,e.currentTarget,t.$options.draggable.dragHandleClass,t.$options.draggable.ignoreContentClass))return!0}else if(o.checkContentClass(e.target,e.currentTarget,t.$options.draggable.ignoreContentClass))return!0;return!1}},{key:"checkContentClassForEmptyCellClickEvent",value:function(t,e){return o.checkContentClass(e.target,e.currentTarget,t.$options.draggable.ignoreContentClass)||o.checkContentClass(e.target,e.currentTarget,t.$options.draggable.dragHandleClass)}},{key:"checkDragHandleClass",value:function(t,e,a,s){if(!t||t===e)return!1;if(t.hasAttribute("class")){var u=t.getAttribute("class").split(" ");if(u.indexOf(a)>-1)return!0;if(u.indexOf(s)>-1)return!1}return o.checkDragHandleClass(t.parentNode,e,a,s)}},{key:"checkContentClass",value:function(t,e,a){return!(!t||t===e)&&(!!(t.hasAttribute("class")&&t.getAttribute("class").split(" ").indexOf(a)>-1)||o.checkContentClass(t.parentNode,e,a))}},{key:"compareItems",value:function(t,e){return t.y>e.y?-1:t.y<e.y?1:t.x>e.x?-1:1}}]),o}(),_9=function(){function o(n){var t=this;(0,f.Z)(this,o),this.gridster=n,this.emptyCellClickCb=function(e){if(t.gridster&&!t.gridster.movingItem&&!Ma.checkContentClassForEmptyCellClickEvent(t.gridster,e)){var a=t.getValidItemFromEvent(e);a&&(t.gridster.options.emptyCellClickCallback&&t.gridster.options.emptyCellClickCallback(e,a),t.gridster.cdRef.markForCheck())}},this.emptyCellContextMenuCb=function(e){if(!t.gridster.movingItem&&!Ma.checkContentClassForEmptyCellClickEvent(t.gridster,e)){e.preventDefault(),e.stopPropagation();var a=t.getValidItemFromEvent(e);a&&(t.gridster.options.emptyCellContextMenuCallback&&t.gridster.options.emptyCellContextMenuCallback(e,a),t.gridster.cdRef.markForCheck())}},this.emptyCellDragDrop=function(e){var a=t.getValidItemFromEvent(e);a&&(t.gridster.options.emptyCellDropCallback&&t.gridster.options.emptyCellDropCallback(e,a),t.gridster.cdRef.markForCheck())},this.emptyCellDragOver=function(e){e.preventDefault(),e.stopPropagation();var a=t.getValidItemFromEvent(e);a?(e.dataTransfer&&(e.dataTransfer.dropEffect="move"),t.gridster.movingItem=a):(e.dataTransfer&&(e.dataTransfer.dropEffect="none"),t.gridster.movingItem=null),t.gridster.previewStyle()},this.emptyCellMouseDown=function(e){if(!Ma.checkContentClassForEmptyCellClickEvent(t.gridster,e)){e.preventDefault(),e.stopPropagation();var a=t.getValidItemFromEvent(e);!a||1!==e.buttons&&!(e instanceof TouchEvent)||(t.initialItem=a,t.gridster.movingItem=a,t.gridster.previewStyle(),t.gridster.zone.runOutsideAngular(function(){t.removeWindowMousemoveListenerFn=t.gridster.renderer.listen("window","mousemove",t.emptyCellMouseMove),t.removeWindowTouchmoveListenerFn=t.gridster.renderer.listen("window","touchmove",t.emptyCellMouseMove)}),t.removeWindowMouseupListenerFn=t.gridster.renderer.listen("window","mouseup",t.emptyCellMouseUp),t.removeWindowTouchendListenerFn=t.gridster.renderer.listen("window","touchend",t.emptyCellMouseUp))}},this.emptyCellMouseMove=function(e){e.preventDefault(),e.stopPropagation();var a=t.getValidItemFromEvent(e,t.initialItem);a&&(t.gridster.movingItem=a,t.gridster.previewStyle())},this.emptyCellMouseUp=function(e){t.removeWindowMousemoveListenerFn(),t.removeWindowTouchmoveListenerFn(),t.removeWindowMouseupListenerFn(),t.removeWindowTouchendListenerFn();var a=t.getValidItemFromEvent(e,t.initialItem);a&&(t.gridster.movingItem=a),t.gridster.options.emptyCellDragCallback&&t.gridster.movingItem&&t.gridster.options.emptyCellDragCallback(e,t.gridster.movingItem),setTimeout(function(){t.initialItem=null,t.gridster&&(t.gridster.movingItem=null,t.gridster.previewStyle())}),t.gridster.cdRef.markForCheck()}}return(0,y.Z)(o,[{key:"destroy",value:function(){this.gridster.previewStyle&&this.gridster.previewStyle(),this.gridster.movingItem=null,this.initialItem=this.gridster=null,this.removeDocumentDragendListenerFn&&(this.removeDocumentDragendListenerFn(),this.removeDocumentDragendListenerFn=null)}},{key:"updateOptions",value:function(){var t=this;this.gridster.$options.enableEmptyCellClick&&!this.removeEmptyCellClickListenerFn&&this.gridster.options.emptyCellClickCallback?(this.removeEmptyCellClickListenerFn=this.gridster.renderer.listen(this.gridster.el,"click",this.emptyCellClickCb),this.removeEmptyCellTouchendListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchend",this.emptyCellClickCb)):!this.gridster.$options.enableEmptyCellClick&&this.removeEmptyCellClickListenerFn&&this.removeEmptyCellTouchendListenerFn&&(this.removeEmptyCellClickListenerFn(),this.removeEmptyCellTouchendListenerFn(),this.removeEmptyCellClickListenerFn=null,this.removeEmptyCellTouchendListenerFn=null),this.gridster.$options.enableEmptyCellContextMenu&&!this.removeEmptyCellContextMenuListenerFn&&this.gridster.options.emptyCellContextMenuCallback?this.removeEmptyCellContextMenuListenerFn=this.gridster.renderer.listen(this.gridster.el,"contextmenu",this.emptyCellContextMenuCb):!this.gridster.$options.enableEmptyCellContextMenu&&this.removeEmptyCellContextMenuListenerFn&&(this.removeEmptyCellContextMenuListenerFn(),this.removeEmptyCellContextMenuListenerFn=null),this.gridster.$options.enableEmptyCellDrop&&!this.removeEmptyCellDropListenerFn&&this.gridster.options.emptyCellDropCallback?(this.removeEmptyCellDropListenerFn=this.gridster.renderer.listen(this.gridster.el,"drop",this.emptyCellDragDrop),this.gridster.zone.runOutsideAngular(function(){t.removeEmptyCellDragoverListenerFn=t.gridster.renderer.listen(t.gridster.el,"dragover",t.emptyCellDragOver)}),this.removeDocumentDragendListenerFn=this.gridster.renderer.listen("document","dragend",function(){t.gridster.movingItem=null,t.gridster.previewStyle()})):!this.gridster.$options.enableEmptyCellDrop&&this.removeEmptyCellDropListenerFn&&this.removeEmptyCellDragoverListenerFn&&this.removeDocumentDragendListenerFn&&(this.removeEmptyCellDropListenerFn(),this.removeEmptyCellDragoverListenerFn(),this.removeDocumentDragendListenerFn(),this.removeEmptyCellDragoverListenerFn=null,this.removeEmptyCellDropListenerFn=null,this.removeDocumentDragendListenerFn=null),this.gridster.$options.enableEmptyCellDrag&&!this.removeEmptyCellMousedownListenerFn&&this.gridster.options.emptyCellDragCallback?(this.removeEmptyCellMousedownListenerFn=this.gridster.renderer.listen(this.gridster.el,"mousedown",this.emptyCellMouseDown),this.removeEmptyCellTouchstartListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchstart",this.emptyCellMouseDown)):!this.gridster.$options.enableEmptyCellDrag&&this.removeEmptyCellMousedownListenerFn&&this.removeEmptyCellTouchstartListenerFn&&(this.removeEmptyCellMousedownListenerFn(),this.removeEmptyCellTouchstartListenerFn(),this.removeEmptyCellMousedownListenerFn=null,this.removeEmptyCellTouchstartListenerFn=null)}},{key:"getPixelsX",value:function(t,e){var a=this.gridster.options.scale;return a?(t.clientX-e.left)/a+this.gridster.el.scrollLeft-this.gridster.gridRenderer.getLeftMargin():t.clientX+this.gridster.el.scrollLeft-e.left-this.gridster.gridRenderer.getLeftMargin()}},{key:"getPixelsY",value:function(t,e){var a=this.gridster.options.scale;return a?(t.clientY-e.top)/a+this.gridster.el.scrollTop-this.gridster.gridRenderer.getTopMargin():t.clientY+this.gridster.el.scrollTop-e.top-this.gridster.gridRenderer.getTopMargin()}},{key:"getValidItemFromEvent",value:function(t,e){t.preventDefault(),t.stopPropagation(),Ma.checkTouchEvent(t);var a=this.gridster.el.getBoundingClientRect(),s=this.getPixelsX(t,a),u=this.getPixelsY(t,a),l={x:this.gridster.pixelsToPositionX(s,Math.floor,!0),y:this.gridster.pixelsToPositionY(u,Math.floor,!0),cols:this.gridster.$options.defaultItemCols,rows:this.gridster.$options.defaultItemRows};if(e&&(l.cols=Math.min(Math.abs(e.x-l.x)+1,this.gridster.$options.emptyCellDragMaxCols),l.rows=Math.min(Math.abs(e.y-l.y)+1,this.gridster.$options.emptyCellDragMaxRows),e.x<l.x?l.x=e.x:e.x-l.x>this.gridster.$options.emptyCellDragMaxCols-1&&(l.x=this.gridster.movingItem?this.gridster.movingItem.x:0),e.y<l.y?l.y=e.y:e.y-l.y>this.gridster.$options.emptyCellDragMaxRows-1&&(l.y=this.gridster.movingItem?this.gridster.movingItem.y:0)),this.gridster.$options.enableOccupiedCellDrop||!this.gridster.checkCollision(l))return l}}]),o}(),x9=function(){function o(n){(0,f.Z)(this,o),this.gridster=n,this.lastGridColumnStyles={},this.lastGridRowStyles={}}return(0,y.Z)(o,[{key:"destroy",value:function(){this.gridster=null}},{key:"updateItem",value:function(t,e,a){if(this.gridster.mobile)this.clearCellPosition(a,t),a.setStyle(t,"height",this.gridster.$options.keepFixedHeightInMobile?(e.rows-1)*this.gridster.$options.margin+e.rows*this.gridster.$options.fixedRowHeight+"px":e.rows*this.gridster.curWidth/e.cols+"px"),a.setStyle(t,"width",this.gridster.$options.keepFixedWidthInMobile?this.gridster.$options.fixedColWidth+"px":""),a.setStyle(t,"margin-bottom",this.gridster.$options.margin+"px"),a.setStyle(t,mi.LTR?"margin-right":"margin-left","");else{var s=Math.round(this.gridster.curColWidth*e.x),u=Math.round(this.gridster.curRowHeight*e.y),l=this.gridster.curColWidth*e.cols-this.gridster.$options.margin,c=this.gridster.curRowHeight*e.rows-this.gridster.$options.margin;this.setCellPosition(a,t,s,u),a.setStyle(t,"width",l+"px"),a.setStyle(t,"height",c+"px");var h=null,C=null;this.gridster.$options.outerMargin&&(this.gridster.rows===e.rows+e.y&&(h=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginBottom+"px":this.gridster.$options.margin+"px"),this.gridster.columns===e.cols+e.x&&(C=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginRight+"px":this.gridster.$options.margin+"px")),a.setStyle(t,"margin-bottom",h),a.setStyle(t,mi.LTR?"margin-right":"margin-left",C)}}},{key:"updateGridster",value:function(){var t="",e="",a="",s="";if(this.gridster.$options.gridType===Hn.Fit)t=Hn.Fit,e=Hn.ScrollVertical,a=Hn.ScrollHorizontal,s=Hn.Fixed;else if(this.gridster.$options.gridType===Hn.ScrollVertical)this.gridster.curRowHeight=this.gridster.curColWidth*this.gridster.$options.rowHeightRatio,t=Hn.ScrollVertical,e=Hn.Fit,a=Hn.ScrollHorizontal,s=Hn.Fixed;else if(this.gridster.$options.gridType===Hn.ScrollHorizontal){var u=this.gridster.$options.rowHeightRatio;this.gridster.curColWidth=this.gridster.curRowHeight*(u>=1?u:u+1),t=Hn.ScrollHorizontal,e=Hn.Fit,a=Hn.ScrollVertical,s=Hn.Fixed}else this.gridster.$options.gridType===Hn.Fixed?(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),t=Hn.Fixed,e=Hn.Fit,a=Hn.ScrollVertical,s=Hn.ScrollHorizontal):this.gridster.$options.gridType===Hn.VerticalFixed?(this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),t=Hn.ScrollVertical,e=Hn.Fit,a=Hn.ScrollHorizontal,s=Hn.Fixed):this.gridster.$options.gridType===Hn.HorizontalFixed&&(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),t=Hn.ScrollHorizontal,e=Hn.Fit,a=Hn.ScrollVertical,s=Hn.Fixed);this.gridster.mobile||this.gridster.$options.setGridSize&&this.gridster.$options.gridType!==Hn.Fit?this.gridster.renderer.removeClass(this.gridster.el,t):this.gridster.renderer.addClass(this.gridster.el,t),this.gridster.renderer.removeClass(this.gridster.el,e),this.gridster.renderer.removeClass(this.gridster.el,a),this.gridster.renderer.removeClass(this.gridster.el,s)}},{key:"getGridColumnStyle",value:function(t){var e={left:this.gridster.curColWidth*t,width:this.gridster.curColWidth-this.gridster.$options.margin,height:this.gridster.gridRows.length*this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};e.style=(0,b.Z)((0,b.Z)({},this.getLeftPosition(e.left)),{},{width:e.width+"px",height:e.height+"px"});var a=this.lastGridColumnStyles[t];return a&&a.left===e.left&&a.width===e.width&&a.height===e.height?a.style:(this.lastGridColumnStyles[t]=e,e.style)}},{key:"getGridRowStyle",value:function(t){var e={top:this.gridster.curRowHeight*t,width:this.gridster.gridColumns.length*this.gridster.curColWidth+this.gridster.$options.margin,height:this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};e.style=(0,b.Z)((0,b.Z)({},this.getTopPosition(e.top)),{},{width:e.width+"px",height:e.height+"px"});var a=this.lastGridRowStyles[t];return a&&a.top===e.top&&a.width===e.width&&a.height===e.height?a.style:(this.lastGridRowStyles[t]=e,e.style)}},{key:"getLeftPosition",value:function(t){var e=this.gridster.$options.dirType===mi.RTL?-t:t;return this.gridster.$options.useTransformPositioning?{transform:"translateX("+e+"px)"}:{left:this.getLeftMargin()+e+"px"}}},{key:"getTopPosition",value:function(t){return this.gridster.$options.useTransformPositioning?{transform:"translateY("+t+"px)"}:{top:this.getTopMargin()+t+"px"}}},{key:"clearCellPosition",value:function(t,e){this.gridster.$options.useTransformPositioning?t.setStyle(e,"transform",""):(t.setStyle(e,"top",""),t.setStyle(e,"left",""))}},{key:"setCellPosition",value:function(t,e,a,s){var u=this.gridster.$options.dirType===mi.RTL?-a:a;this.gridster.$options.useTransformPositioning?t.setStyle(e,"transform","translate3d("+u+"px, "+s+"px, 0)"):(t.setStyle(e,"left",this.getLeftMargin()+u+"px"),t.setStyle(e,"top",this.getTopMargin()+s+"px"))}},{key:"getLeftMargin",value:function(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginLeft?this.gridster.$options.outerMarginLeft:this.gridster.$options.margin:0}},{key:"getTopMargin",value:function(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginTop?this.gridster.$options.outerMarginTop:this.gridster.$options.margin:0}}]),o}(),b9=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.renderer=e,this.el=t.nativeElement}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.sub=this.previewStyle$.subscribe(function(a){return e.previewStyle(a)})}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"previewStyle",value:function(e){e?(this.renderer.setStyle(this.el,"display","block"),this.gridRenderer.updateItem(this.el,e,this.renderer)):this.renderer.setStyle(this.el,"display","")}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(r.Renderer2))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["gridster-preview"]],inputs:{previewStyle$:"previewStyle$",gridRenderer:"gridRenderer"},standalone:!0,features:[r.\u0275\u0275StandaloneFeature],decls:0,vars:0,template:function(t,e){},styles:["gridster-preview{position:absolute;display:none;background:rgba(0,0,0,.15)}\n"],encapsulation:2}),o}(),BA=function(){var o=function(){function n(t,e,a,s){var u=this;(0,f.Z)(this,n),this.renderer=e,this.cdRef=a,this.zone=s,this.columns=0,this.rows=0,this.gridColumns=[],this.gridRows=[],this.previewStyle$=new r.EventEmitter,this.calculateLayout$=new ae.x,this.resize$=new ae.x,this.destroy$=new ae.x,this.optionsChanged=function(){u.setOptions();for(var l=u.grid.length-1;l>=0;l--)u.grid[l].updateOptions();u.calculateLayout()},this.onResize=function(){u.el.clientWidth&&(u.options.setGridSize&&(u.renderer.setStyle(u.el,"width",""),u.renderer.setStyle(u.el,"height","")),u.setGridSize(),u.calculateLayout())},this.getNextPossiblePosition=function(l){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};-1===l.cols&&(l.cols=u.$options.defaultItemCols),-1===l.rows&&(l.rows=u.$options.defaultItemRows),u.setGridDimensions();for(var C,h=c.y||0;h<u.rows;h++)for(l.y=h,C=c.x||0;C<u.columns;C++)if(l.x=C,!u.checkCollision(l))return!0;var T=u.$options.maxRows>=u.rows+l.rows;return!(u.rows<=u.columns&&T)&&u.$options.maxCols>=u.columns+l.cols?(l.x=u.columns,l.y=0,!0):!!T&&(l.y=u.rows,l.x=0,!0)},this.getFirstPossiblePosition=function(l){var c=Object.assign({},l);return u.getNextPossiblePosition(c),c},this.getLastPossiblePosition=function(l){var c={y:0,x:0};c=u.grid.reduce(function(C,T){var N={y:T.$item.y+T.$item.rows-1,x:T.$item.x+T.$item.cols-1};return 1===Ma.compareItems(C,N)?N:C},c);var h=Object.assign({},l);return u.getNextPossiblePosition(h,c),h},this.el=t.nativeElement,this.$options=JSON.parse(JSON.stringify(y9)),this.mobile=!1,this.curWidth=0,this.curHeight=0,this.grid=[],this.curColWidth=0,this.curRowHeight=0,this.dragInProgress=!1,this.emptyCell=new _9(this),this.compact=new v9(this),this.gridRenderer=new x9(this)}return(0,y.Z)(n,[{key:"checkCollisionTwoItems",value:function(e,a){if(!(e.x<a.x+a.cols&&e.x+e.cols>a.x&&e.y<a.y+a.rows&&e.y+e.rows>a.y))return!1;if(!this.$options.allowMultiLayer)return!0;var u=this.$options.defaultLayerIndex;return(void 0===e.layerIndex?u:e.layerIndex)===(void 0===a.layerIndex?u:a.layerIndex)}},{key:"ngOnInit",value:function(){var e=this;this.options.initCallback&&this.options.initCallback(this),this.calculateLayout$.pipe((0,Ar.b)(0),(0,Qr.R)(this.destroy$)).subscribe(function(){return e.calculateLayout()}),this.resize$.pipe((0,st.w)(function(){return(0,w3.H)(100)}),(0,Qr.R)(this.destroy$)).subscribe(function(){return e.resize()})}},{key:"ngOnChanges",value:function(e){var a=this;e.options&&(this.setOptions(),this.options.api={optionsChanged:this.optionsChanged,resize:this.onResize,getNextPossiblePosition:this.getNextPossiblePosition,getFirstPossiblePosition:this.getFirstPossiblePosition,getLastPossiblePosition:this.getLastPossiblePosition,getItemComponent:function(u){return a.getItemComponent(u)}},this.columns=this.$options.minCols,this.rows=this.$options.minRows+this.$options.addEmptyRowsCount,this.setGridSize(),this.calculateLayout())}},{key:"resize",value:function(){var e,a;"fit"!==this.$options.gridType||this.mobile?(a=this.el.clientWidth,e=this.el.clientHeight):(a=this.el.offsetWidth,e=this.el.offsetHeight),(a!==this.curWidth||e!==this.curHeight)&&this.checkIfToResize()&&this.onResize()}},{key:"setOptions",value:function(){this.$options=Ma.merge(this.$options,this.options,this.$options),this.$options.disableWindowResize||this.windowResize?this.$options.disableWindowResize&&this.windowResize&&(this.windowResize(),this.windowResize=null):this.windowResize=this.renderer.listen("window","resize",this.onResize),this.emptyCell.updateOptions()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.previewStyle$.complete(),this.windowResize&&this.windowResize(),this.options&&this.options.destroyCallback&&this.options.destroyCallback(this),this.options&&this.options.api&&(this.options.api.resize=void 0,this.options.api.optionsChanged=void 0,this.options.api.getNextPossiblePosition=void 0,this.options.api=void 0),this.emptyCell.destroy(),this.emptyCell=null,this.compact.destroy(),this.compact=null}},{key:"checkIfToResize",value:function(){var e=this.el.clientWidth,a=this.el.offsetWidth,s=this.el.scrollWidth,u=this.el.clientHeight,l=this.el.offsetHeight,c=this.el.scrollHeight;return!(e<a&&c>l&&c-l<a-e||u<l&&s>a&&s-a<l-u)}},{key:"checkIfMobile",value:function(){return this.$options.useBodyForBreakpoint?this.$options.mobileBreakpoint>document.body.clientWidth:this.$options.mobileBreakpoint>this.curWidth}},{key:"setGridSize",value:function(){var a,s,e=this.el;this.$options.setGridSize||this.$options.gridType===Hn.Fit&&!this.mobile?(a=e.offsetWidth,s=e.offsetHeight):(a=e.clientWidth,s=e.clientHeight),this.curWidth=a,this.curHeight=s}},{key:"setGridDimensions",value:function(){this.setGridSize(),!this.mobile&&this.checkIfMobile()?(this.mobile=!this.mobile,this.renderer.addClass(this.el,"mobile")):this.mobile&&!this.checkIfMobile()&&(this.mobile=!this.mobile,this.renderer.removeClass(this.el,"mobile"));for(var u,e=this.$options.minRows,a=this.$options.minCols,s=this.grid.length-1;s>=0;s--)(u=this.grid[s]).notPlaced||(e=Math.max(e,u.$item.y+u.$item.rows),a=Math.max(a,u.$item.x+u.$item.cols));e+=this.$options.addEmptyRowsCount,(this.columns!==a||this.rows!==e)&&(this.columns=a,this.rows=e,this.options.gridSizeChangedCallback&&this.options.gridSizeChangedCallback(this))}},{key:"calculateLayout",value:function(){if(this.compact&&this.compact.checkCompact(),this.setGridDimensions(),this.$options.outerMargin){var e=-this.$options.margin;null!==this.$options.outerMarginLeft?(e+=this.$options.outerMarginLeft,this.renderer.setStyle(this.el,"padding-left",this.$options.outerMarginLeft+"px")):(e+=this.$options.margin,this.renderer.setStyle(this.el,"padding-left",this.$options.margin+"px")),null!==this.$options.outerMarginRight?(e+=this.$options.outerMarginRight,this.renderer.setStyle(this.el,"padding-right",this.$options.outerMarginRight+"px")):(e+=this.$options.margin,this.renderer.setStyle(this.el,"padding-right",this.$options.margin+"px")),this.curColWidth=(this.curWidth-e)/this.columns;var a=-this.$options.margin;null!==this.$options.outerMarginTop?(a+=this.$options.outerMarginTop,this.renderer.setStyle(this.el,"padding-top",this.$options.outerMarginTop+"px")):(a+=this.$options.margin,this.renderer.setStyle(this.el,"padding-top",this.$options.margin+"px")),null!==this.$options.outerMarginBottom?(a+=this.$options.outerMarginBottom,this.renderer.setStyle(this.el,"padding-bottom",this.$options.outerMarginBottom+"px")):(a+=this.$options.margin,this.renderer.setStyle(this.el,"padding-bottom",this.$options.margin+"px")),this.curRowHeight=(this.curHeight-a)/this.rows*this.$options.rowHeightRatio}else this.curColWidth=(this.curWidth+this.$options.margin)/this.columns,this.curRowHeight=(this.curHeight+this.$options.margin)/this.rows*this.$options.rowHeightRatio,this.renderer.setStyle(this.el,"padding-left","0px"),this.renderer.setStyle(this.el,"padding-right","0px"),this.renderer.setStyle(this.el,"padding-top","0px"),this.renderer.setStyle(this.el,"padding-bottom","0px");this.gridRenderer.updateGridster(),this.$options.setGridSize?(this.renderer.addClass(this.el,"gridSize"),this.mobile||(this.renderer.setStyle(this.el,"width",this.columns*this.curColWidth+this.$options.margin+"px"),this.renderer.setStyle(this.el,"height",this.rows*this.curRowHeight+this.$options.margin+"px"))):(this.renderer.removeClass(this.el,"gridSize"),this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.updateGrid();for(var u,s=this.grid.length-1;s>=0;s--)(u=this.grid[s]).setSize(),u.drag.toggle(),u.resize.toggle();this.resize$.next()}},{key:"updateGrid",value:function(){"always"!==this.$options.displayGrid||this.mobile?"onDrag&Resize"===this.$options.displayGrid&&this.dragInProgress?this.renderer.addClass(this.el,"display-grid"):("none"===this.$options.displayGrid||!this.dragInProgress||this.mobile)&&this.renderer.removeClass(this.el,"display-grid"):this.renderer.addClass(this.el,"display-grid"),this.setGridDimensions(),this.gridColumns.length=n.getNewArrayLength(this.columns,this.curWidth,this.curColWidth),this.gridRows.length=n.getNewArrayLength(this.rows,this.curHeight,this.curRowHeight),this.cdRef.markForCheck()}},{key:"addItem",value:function(e){void 0===e.$item.cols&&(e.$item.cols=this.$options.defaultItemCols,e.item.cols=e.$item.cols,e.itemChanged()),void 0===e.$item.rows&&(e.$item.rows=this.$options.defaultItemRows,e.item.rows=e.$item.rows,e.itemChanged()),-1===e.$item.x||-1===e.$item.y?this.autoPositionItem(e):this.checkCollision(e.$item)&&(this.$options.disableWarnings||(e.notPlaced=!0,console.warn("Can't be placed in the bounds of the dashboard, trying to auto position!/n"+JSON.stringify(e.item,["cols","rows","x","y"]))),this.$options.disableAutoPositionOnConflict?e.notPlaced=!0:this.autoPositionItem(e)),this.grid.push(e),this.calculateLayout$.next()}},{key:"removeItem",value:function(e){this.grid.splice(this.grid.indexOf(e),1),this.calculateLayout$.next(),this.options.itemRemovedCallback&&this.options.itemRemovedCallback(e.item,e)}},{key:"checkCollision",value:function(e){var a=!1;if(this.options.itemValidateCallback&&(a=!this.options.itemValidateCallback(e)),!a&&this.checkGridCollision(e)&&(a=!0),!a){var s=this.findItemWithItem(e);s&&(a=s)}return a}},{key:"checkGridCollision",value:function(e){var se=e.cols*e.rows;return!(e.y>-1&&e.x>-1&&e.cols+e.x<=this.$options.maxCols&&e.rows+e.y<=this.$options.maxRows&&e.cols<=(void 0===e.maxItemCols?this.$options.maxItemCols:e.maxItemCols)&&e.cols>=(void 0===e.minItemCols?this.$options.minItemCols:e.minItemCols)&&e.rows<=(void 0===e.maxItemRows?this.$options.maxItemRows:e.maxItemRows)&&e.rows>=(void 0===e.minItemRows?this.$options.minItemRows:e.minItemRows)&&(void 0===e.minItemArea?this.$options.minItemArea:e.minItemArea)<=se&&(void 0===e.maxItemArea?this.$options.maxItemArea:e.maxItemArea)>=se)}},{key:"findItemWithItem",value:function(e){for(var s,a=0;a<this.grid.length;a++)if((s=this.grid[a]).$item!==e&&this.checkCollisionTwoItems(s.$item,e))return s;return!1}},{key:"findItemsWithItem",value:function(e){for(var u,a=[],s=0;s<this.grid.length;s++)(u=this.grid[s]).$item!==e&&this.checkCollisionTwoItems(u.$item,e)&&a.push(u);return a}},{key:"autoPositionItem",value:function(e){this.getNextPossiblePosition(e.$item)?(e.notPlaced=!1,e.item.x=e.$item.x,e.item.y=e.$item.y,e.itemChanged()):(e.notPlaced=!0,this.$options.disableWarnings||console.warn("Can't be placed in the bounds of the dashboard!/n"+JSON.stringify(e.item,["cols","rows","x","y"])))}},{key:"pixelsToPositionX",value:function(e,a,s){var u=a(e/this.curColWidth);return s?u:Math.max(u,0)}},{key:"pixelsToPositionY",value:function(e,a,s){var u=a(e/this.curRowHeight);return s?u:Math.max(u,0)}},{key:"positionXToPixels",value:function(e){return e*this.curColWidth}},{key:"positionYToPixels",value:function(e){return e*this.curRowHeight}},{key:"getItemComponent",value:function(e){return this.grid.find(function(a){return a.item===e})}},{key:"checkCollisionForSwaping",value:function(e){var a=!1;if(this.options.itemValidateCallback&&(a=!this.options.itemValidateCallback(e)),!a&&this.checkGridCollision(e)&&(a=!0),!a){var s=this.findItemWithItemForSwapping(e);s&&(a=s)}return a}},{key:"findItemWithItemForSwapping",value:function(e){for(var s,a=this.grid.length-1;a>-1;a--)if((s=this.grid[a]).$item!==e&&n.checkCollisionTwoItemsForSwaping(s.$item,e))return s;return!1}},{key:"previewStyle",value:function(){this.movingItem?(this.compact&&arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.compact.checkCompactItem(this.movingItem),this.previewStyle$.next(this.movingItem)):this.previewStyle$.next(null)}}],[{key:"checkCollisionTwoItemsForSwaping",value:function(e,a){return e.x+(1===e.cols?0:1)<a.x+a.cols&&e.x+e.cols>a.x+(1===a.cols?0:1)&&e.y+(1===e.rows?0:1)<a.y+a.rows&&e.y+e.rows>a.y+(1===a.rows?0:1)}},{key:"getNewArrayLength",value:function(e,a,s){var u=Math.max(e,Math.floor(a/s));return u<0?0:Number.isFinite(u)?Math.floor(u):0}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(r.Renderer2),r.\u0275\u0275directiveInject(r.ChangeDetectorRef),r.\u0275\u0275directiveInject(r.NgZone))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["gridster"]],inputs:{options:"options"},standalone:!0,features:[r.\u0275\u0275NgOnChangesFeature,r.\u0275\u0275StandaloneFeature],ngContentSelectors:aO,decls:4,vars:4,consts:[["class","gridster-column",3,"ngStyle",4,"ngFor","ngForOf"],["class","gridster-row",3,"ngStyle",4,"ngFor","ngForOf"],[1,"gridster-preview",3,"gridRenderer","previewStyle$"],[1,"gridster-column",3,"ngStyle"],[1,"gridster-row",3,"ngStyle"]],template:function(t,e){1&t&&(r.\u0275\u0275projectionDef(),r.\u0275\u0275template(0,s9,1,1,"div",0),r.\u0275\u0275template(1,u9,1,1,"div",1),r.\u0275\u0275projection(2),r.\u0275\u0275element(3,"gridster-preview",2)),2&t&&(r.\u0275\u0275property("ngForOf",e.gridColumns),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.gridRows),r.\u0275\u0275advance(2),r.\u0275\u0275property("gridRenderer",e.gridRenderer)("previewStyle$",e.previewStyle$))},dependencies:[P.NgForOf,P.NgStyle,b9],styles:["gridster{position:relative;box-sizing:border-box;background:grey;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:block}gridster.fit{overflow-x:hidden;overflow-y:hidden}gridster.scrollVertical{overflow-x:hidden;overflow-y:auto}gridster.scrollHorizontal{overflow-x:auto;overflow-y:hidden}gridster.fixed{overflow:auto}gridster.mobile{overflow-x:hidden;overflow-y:auto}gridster.mobile gridster-item{position:relative}gridster.gridSize{height:initial;width:initial}gridster.gridSize.fit{height:100%;width:100%}gridster .gridster-column,gridster .gridster-row{position:absolute;display:none;transition:.3s;box-sizing:border-box}gridster.display-grid .gridster-column,gridster.display-grid .gridster-row{display:block}gridster .gridster-column{border-left:1px solid white;border-right:1px solid white}gridster .gridster-row{border-top:1px solid white;border-bottom:1px solid white}\n"],encapsulation:2}),o}(),oO=function(){function o(n){(0,f.Z)(this,o),this.iteration=0,this.pushedItems=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],this.pushedItemsPath=[],this.gridsterItem=n,this.gridster=n.gridster,this.tryPattern={fromEast:[this.tryWest,this.trySouth,this.tryNorth,this.tryEast],fromWest:[this.tryEast,this.trySouth,this.tryNorth,this.tryWest],fromNorth:[this.trySouth,this.tryEast,this.tryWest,this.tryNorth],fromSouth:[this.tryNorth,this.tryEast,this.tryWest,this.trySouth]},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}return(0,y.Z)(o,[{key:"destroy",value:function(){this.gridster=this.gridsterItem=null}},{key:"pushItems",value:function(t,e){if(this.gridster.$options.pushItems&&!e){this.pushedItemsOrder=[],this.iteration=0;var a=this.push(this.gridsterItem,t);return a||this.restoreTempItems(),this.pushedItemsOrder=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],a}return!1}},{key:"restoreTempItems",value:function(){for(var t=this.pushedItemsTemp.length-1;t>-1;t--)this.removeFromTempPushed(this.pushedItemsTemp[t])}},{key:"restoreItems",value:function(){for(var a,t=0,e=this.pushedItems.length;t<e;t++)(a=this.pushedItems[t]).$item.x=a.item.x||0,a.$item.y=a.item.y||0,a.setSize();this.pushedItems=[],this.pushedItemsPath=[]}},{key:"setPushedItems",value:function(){for(var a,t=0,e=this.pushedItems.length;t<e;t++)(a=this.pushedItems[t]).checkItemChanges(a.$item,a.item);this.pushedItems=[],this.pushedItemsPath=[]}},{key:"checkPushBack",value:function(){for(var t=this.pushedItems.length-1,e=!1;t>-1;t--)this.checkPushedItem(this.pushedItems[t],t)&&(e=!0);e&&this.checkPushBack()}},{key:"push",value:function(t,e){if(this.iteration>100)return console.warn("max iteration reached"),!1;if(this.gridster.checkGridCollision(t.$item)||""===e)return!1;var a=this.gridster.findItemsWithItem(t.$item),s=e===this.fromNorth||e===this.fromWest;a.sort(function(N,F){return s?F.$item.y-N.$item.y||F.$item.x-N.$item.x:N.$item.y-F.$item.y||N.$item.x-F.$item.x});for(var l,u=0,c=!0,h=[];u<a.length;u++)if((l=a[u])!==this.gridsterItem){if(!l.canBeDragged()){c=!1;break}var C=this.pushedItemsTemp.indexOf(l);if(C>-1&&this.pushedItemsTempPath[C].length>10){c=!1;break}if(this.tryPattern[e][0].call(this,l,t))this.pushedItemsOrder.push(l),h.push(l);else if(this.tryPattern[e][1].call(this,l,t))this.pushedItemsOrder.push(l),h.push(l);else if(this.tryPattern[e][2].call(this,l,t))this.pushedItemsOrder.push(l),h.push(l);else{if(!this.tryPattern[e][3].call(this,l,t)){c=!1;break}this.pushedItemsOrder.push(l),h.push(l)}}if(!c&&(u=this.pushedItemsOrder.lastIndexOf(h[0]))>-1)for(var T=this.pushedItemsOrder.length-1;T>=u;T--)l=this.pushedItemsOrder[T],this.pushedItemsOrder.pop(),this.removeFromTempPushed(l),this.removeFromPushedItem(l);return this.iteration++,c}},{key:"trySouth",value:function(t,e){return!!this.gridster.$options.pushDirections.south&&(this.addToTempPushed(t),t.$item.y=e.$item.y+e.$item.rows,this.push(t,this.fromNorth)?(t.setSize(),this.addToPushed(t),!0):(this.removeFromTempPushed(t),!1))}},{key:"tryNorth",value:function(t,e){return!!this.gridster.$options.pushDirections.north&&(this.addToTempPushed(t),t.$item.y=e.$item.y-t.$item.rows,this.push(t,this.fromSouth)?(t.setSize(),this.addToPushed(t),!0):(this.removeFromTempPushed(t),!1))}},{key:"tryEast",value:function(t,e){return!!this.gridster.$options.pushDirections.east&&(this.addToTempPushed(t),t.$item.x=e.$item.x+e.$item.cols,this.push(t,this.fromWest)?(t.setSize(),this.addToPushed(t),!0):(this.removeFromTempPushed(t),!1))}},{key:"tryWest",value:function(t,e){return!!this.gridster.$options.pushDirections.west&&(this.addToTempPushed(t),t.$item.x=e.$item.x-t.$item.cols,this.push(t,this.fromEast)?(t.setSize(),this.addToPushed(t),!0):(this.removeFromTempPushed(t),!1))}},{key:"addToTempPushed",value:function(t){var e=this.pushedItemsTemp.indexOf(t);-1===e&&(e=this.pushedItemsTemp.push(t)-1,this.pushedItemsTempPath[e]=[]),this.pushedItemsTempPath[e].push({x:t.$item.x,y:t.$item.y})}},{key:"removeFromTempPushed",value:function(t){var e=this.pushedItemsTemp.indexOf(t),a=this.pushedItemsTempPath[e].pop();a&&(t.$item.x=a.x,t.$item.y=a.y,t.setSize(),this.pushedItemsTempPath[e].length||(this.pushedItemsTemp.splice(e,1),this.pushedItemsTempPath.splice(e,1)))}},{key:"addToPushed",value:function(t){if(this.pushedItems.indexOf(t)<0)this.pushedItems.push(t),this.pushedItemsPath.push([{x:t.item.x||0,y:t.item.y||0},{x:t.$item.x,y:t.$item.y}]);else{var e=this.pushedItems.indexOf(t);this.pushedItemsPath[e].push({x:t.$item.x,y:t.$item.y})}}},{key:"removeFromPushed",value:function(t){t>-1&&(this.pushedItems.splice(t,1),this.pushedItemsPath.splice(t,1))}},{key:"removeFromPushedItem",value:function(t){var e=this.pushedItems.indexOf(t);e>-1&&(this.pushedItemsPath[e].pop(),this.pushedItemsPath.length||(this.pushedItems.splice(e,1),this.pushedItemsPath.splice(e,1)))}},{key:"checkPushedItem",value:function(t,e){for(var u,l,c,a=this.pushedItemsPath[e],s=a.length-2,h=!1;s>-1;s--)l=t.$item.x,c=t.$item.y,t.$item.x=(u=a[s]).x,t.$item.y=u.y,this.gridster.findItemWithItem(t.$item)?(t.$item.x=l,t.$item.y=c):(t.setSize(),a.splice(s+1,a.length-s-1),h=!0);return a.length<2&&this.removeFromPushed(e),h}}]),o}(),sO=50;function uO(o,n,t,e,a,s,u,l,c,h){c_=o.$options.scrollSensitivity,Ol=o.$options.scrollSpeed,d_=c,Bs=h;var C=(po=o.el).offsetWidth,N=po.scrollLeft,F=po.scrollTop,$=t-F,ue=s.clientX,ge=s.clientY;if(!o.$options.disableScrollVertical)if(u.clientY<ge&&po.offsetHeight+F-t-a<c_){if(hO(),d_&&Bs&&!Bs.south||h_)return;h_=lO(1,l,u)}else if(u.clientY>ge&&F>0&&$<c_){if(mO(),d_&&Bs&&!Bs.north||m_)return;m_=lO(-1,l,u)}else u.clientY!==ge&&LA();var we=n-N;if(!o.$options.disableScrollHorizontal)if(u.clientX<ue&&N+C-n-e<=c_){if(fO(),d_&&Bs&&!Bs.east||p_)return;p_=cO(1,l,u)}else if(u.clientX>ue&&N>0&&we<c_){if(pO(),d_&&Bs&&!Bs.west||f_)return;f_=cO(-1,l,u)}else u.clientX!==ue&&ZA()}function lO(o,n,t){var e=t.clientY;return window.setInterval(function(){(!po||-1===o&&po.scrollTop-Ol<0)&&LA(),po.scrollTop+=o*Ol,n({clientX:t.clientX,clientY:e+=o*Ol})},sO)}function cO(o,n,t){var e=t.clientX;return window.setInterval(function(){(!po||-1===o&&po.scrollLeft-Ol<0)&&ZA(),po.scrollLeft+=o*Ol,n({clientX:e+=o*Ol,clientY:t.clientY})},sO)}function dO(){ZA(),LA(),po=null}function ZA(){pO(),fO()}function LA(){hO(),mO()}function pO(){p_&&(clearInterval(p_),p_=0)}function fO(){f_&&(clearInterval(f_),f_=0)}function mO(){h_&&(clearInterval(h_),h_=0)}function hO(){m_&&(clearInterval(m_),m_=0)}var C9=function(){function o(n){(0,f.Z)(this,o),this.gridsterItem=n,this.gridster=n.gridster}return(0,y.Z)(o,[{key:"destroy",value:function(){this.gridster=this.gridsterItem=this.swapedItem=null}},{key:"swapItems",value:function(){this.gridster.$options.swap&&(this.checkSwapBack(),this.checkSwap(this.gridsterItem))}},{key:"checkSwapBack",value:function(){if(this.swapedItem){var t=this.swapedItem.$item.x,e=this.swapedItem.$item.y;this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.gridster.checkCollision(this.swapedItem.$item)?(this.swapedItem.$item.x=t,this.swapedItem.$item.y=e):(this.swapedItem.setSize(),this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.swapedItem=void 0)}}},{key:"restoreSwapItem",value:function(){this.swapedItem&&(this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.swapedItem.setSize(),this.swapedItem=void 0)}},{key:"setSwapItem",value:function(){this.swapedItem&&(this.swapedItem.checkItemChanges(this.swapedItem.$item,this.swapedItem.item),this.swapedItem=void 0)}},{key:"checkSwap",value:function(t){var e;if((e=this.gridster.$options.swapWhileDragging?this.gridster.checkCollisionForSwaping(t.$item):this.gridster.checkCollision(t.$item))&&!0!==e&&e.canBeDragged()){var a=e,s=a.$item.x,u=a.$item.y,l=t.$item.x,c=t.$item.y,h=l-s,C=c-u;a.$item.x=t.item.x-h,a.$item.y=t.item.y-C,t.$item.x=a.item.x+h,t.$item.y=a.item.y+C,this.gridster.checkCollision(a.$item)||this.gridster.checkCollision(t.$item)?(t.$item.x=l,t.$item.y=c,a.$item.x=s,a.$item.y=u):(a.setSize(),this.swapedItem=a,this.gridster.$options.swapWhileDragging&&(this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.setSwapItem()))}}}]),o}(),Ai=function(){return(Ai=Ai||{}).UP="UP",Ai.DOWN="DOWN",Ai.LEFT="LEFT",Ai.RIGHT="RIGHT",Ai}(),S9=function(){function o(n,t,e){var a=this;(0,f.Z)(this,o),this.zone=e,this.collision=!1,this.dragMove=function(s){s.stopPropagation(),s.preventDefault(),Ma.checkTouchEvent(s);var l,c,h,C,u=a.getDirections(s);a.gridster.options.enableBoundaryControl&&(u.includes(Ai.UP)&&a.gridsterItem.el.getBoundingClientRect().top<a.gridster.el.getBoundingClientRect().top+(null!==(l=a.outerMarginTop)&&void 0!==l?l:a.margin)&&(u=u.filter(function(T){return T!=Ai.UP}),s=new MouseEvent(s.type,{clientX:s.clientX,clientY:a.lastMouse.clientY})),u.includes(Ai.LEFT)&&a.gridsterItem.el.getBoundingClientRect().left<a.gridster.el.getBoundingClientRect().left+(null!==(c=a.outerMarginLeft)&&void 0!==c?c:a.margin)&&(u=u.filter(function(T){return T!=Ai.LEFT}),s=new MouseEvent(s.type,{clientX:a.lastMouse.clientX,clientY:s.clientY})),u.includes(Ai.RIGHT)&&a.gridsterItem.el.getBoundingClientRect().right>a.gridster.el.getBoundingClientRect().right-(null!==(h=a.outerMarginRight)&&void 0!==h?h:a.margin)&&(u=u.filter(function(T){return T!=Ai.RIGHT}),s=new MouseEvent(s.type,{clientX:a.lastMouse.clientX,clientY:s.clientY})),u.includes(Ai.DOWN)&&a.gridsterItem.el.getBoundingClientRect().bottom>a.gridster.el.getBoundingClientRect().bottom-(null!==(C=a.outerMarginBottom)&&void 0!==C?C:a.margin)&&(u=u.filter(function(T){return T!=Ai.DOWN}),s=new MouseEvent(s.type,{clientX:s.clientX,clientY:a.lastMouse.clientY}))),u.length&&(a.offsetLeft=a.gridster.el.scrollLeft-a.gridster.el.offsetLeft,a.offsetTop=a.gridster.el.scrollTop-a.gridster.el.offsetTop,uO(a.gridster,a.left,a.top,a.width,a.height,s,a.lastMouse,a.calculateItemPositionFromMousePosition),a.calculateItemPositionFromMousePosition(s))},this.calculateItemPositionFromMousePosition=function(s){a.gridster.options.scale?a.calculateItemPositionWithScale(s,a.gridster.options.scale):a.calculateItemPositionWithoutScale(s),a.calculateItemPosition(),a.lastMouse.clientX=s.clientX,a.lastMouse.clientY=s.clientY,a.zone.run(function(){a.gridster.updateGrid()})},this.dragStop=function(s){s.stopPropagation(),s.preventDefault(),dO(),a.cancelOnBlur(),a.mousemove(),a.mouseup(),a.mouseleave(),a.touchmove(),a.touchend(),a.touchcancel(),a.gridsterItem.renderer.removeClass(a.gridsterItem.el,"gridster-item-moving"),a.gridster.dragInProgress=!1,a.gridster.updateGrid(),a.path=[],a.gridster.options.draggable&&a.gridster.options.draggable.stop?Promise.resolve(a.gridster.options.draggable.stop(a.gridsterItem.item,a.gridsterItem,s)).then(a.makeDrag,a.cancelDrag):a.makeDrag(),setTimeout(function(){a.gridster&&(a.gridster.movingItem=null,a.gridster.previewStyle(!0))})},this.cancelDrag=function(){a.gridsterItem.$item.x=a.gridsterItem.item.x||0,a.gridsterItem.$item.y=a.gridsterItem.item.y||0,a.gridsterItem.setSize(),a.push&&a.push.restoreItems(),a.swap&&a.swap.restoreSwapItem(),a.push&&(a.push.destroy(),a.push=null),a.swap&&(a.swap.destroy(),a.swap=null)},this.makeDrag=function(){a.gridster.$options.draggable.dropOverItems&&a.gridster.options.draggable&&a.gridster.options.draggable.dropOverItemsCallback&&a.collision&&!0!==a.collision&&a.collision.$item&&a.gridster.options.draggable.dropOverItemsCallback(a.gridsterItem.item,a.collision.item,a.gridster),a.collision=!1,a.gridsterItem.setSize(),a.gridsterItem.checkItemChanges(a.gridsterItem.$item,a.gridsterItem.item),a.push&&a.push.setPushedItems(),a.swap&&a.swap.setSwapItem(),a.push&&(a.push.destroy(),a.push=null),a.swap&&(a.swap.destroy(),a.swap=null)},this.dragStartDelay=function(s){if(!s.target.classList.contains("gridster-item-resizable-handler")&&!Ma.checkContentClassForEvent(a.gridster,s))if(Ma.checkTouchEvent(s),a.gridster.$options.draggable.delayStart)var l=setTimeout(function(){a.dragStart(s),se()},a.gridster.$options.draggable.delayStart),c=a.gridsterItem.renderer.listen("document","mouseup",se),h=a.gridsterItem.renderer.listen("document","mouseleave",se),C=a.gridsterItem.renderer.listen("window","blur",se),T=a.gridsterItem.renderer.listen("document","touchmove",function $(ue){Ma.checkTouchEvent(ue),(Math.abs(ue.clientX-s.clientX)>9||Math.abs(ue.clientY-s.clientY)>9)&&se()}),N=a.gridsterItem.renderer.listen("document","touchend",se),F=a.gridsterItem.renderer.listen("document","touchcancel",se);else a.dragStart(s);function se(){clearTimeout(l),C(),c(),h(),T(),N(),F()}},this.gridsterItem=n,this.gridster=t,this.lastMouse={clientX:0,clientY:0},this.path=[]}return(0,y.Z)(o,[{key:"destroy",value:function(){this.gridster.previewStyle&&this.gridster.previewStyle(!0),this.gridsterItem=this.gridster=this.collision=null,this.mousedown&&(this.mousedown(),this.touchstart())}},{key:"dragStart",value:function(t){var e=this;t.which&&1!==t.which||(this.gridster.options.draggable&&this.gridster.options.draggable.start&&this.gridster.options.draggable.start(this.gridsterItem.item,this.gridsterItem,t),t.stopPropagation(),t.preventDefault(),this.zone.runOutsideAngular(function(){e.mousemove=e.gridsterItem.renderer.listen("document","mousemove",e.dragMove),e.touchmove=e.gridster.renderer.listen(e.gridster.el,"touchmove",e.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-moving"),this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.left=this.gridsterItem.left-this.margin,this.top=this.gridsterItem.top-this.margin,this.originalClientX=t.clientX,this.originalClientY=t.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.diffLeft=this.gridster.$options.dirType===mi.RTL?t.clientX-this.gridster.el.scrollWidth+this.gridsterItem.left:t.clientX+this.offsetLeft-this.margin-this.left,this.diffTop=t.clientY+this.offsetTop-this.margin-this.top,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(!0),this.push=new oO(this.gridsterItem),this.swap=new C9(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid(),this.path.push({x:this.gridsterItem.item.x||0,y:this.gridsterItem.item.y||0}))}},{key:"calculateItemPositionWithScale",value:function(t,e){this.left=this.gridster.$options.dirType===mi.RTL?this.gridster.el.scrollWidth-this.originalClientX+(t.clientX-this.originalClientX)/e+this.diffLeft:this.originalClientX+(t.clientX-this.originalClientX)/e+this.offsetLeft-this.diffLeft,this.top=this.originalClientY+(t.clientY-this.originalClientY)/e+this.offsetTop-this.diffTop}},{key:"calculateItemPositionWithoutScale",value:function(t){this.left=this.gridster.$options.dirType===mi.RTL?this.gridster.el.scrollWidth-t.clientX+this.diffLeft:t.clientX+this.offsetLeft-this.diffLeft,this.top=t.clientY+this.offsetTop-this.diffTop}},{key:"calculateItemPosition",value:function(){if(this.gridster.movingItem=this.gridsterItem.$item,this.positionX=this.gridster.pixelsToPositionX(this.left,Math.round),this.positionY=this.gridster.pixelsToPositionY(this.top,Math.round),this.positionXBackup=this.gridsterItem.$item.x,this.positionYBackup=this.gridsterItem.$item.y,this.gridsterItem.$item.x=this.positionX,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.x=this.positionXBackup),this.gridsterItem.$item.y=this.positionY,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.y=this.positionYBackup),this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,this.top),this.positionXBackup!==this.gridsterItem.$item.x||this.positionYBackup!==this.gridsterItem.$item.y){var t=this.path[this.path.length-1],e="";t.x<this.gridsterItem.$item.x?e=this.push.fromWest:t.x>this.gridsterItem.$item.x?e=this.push.fromEast:t.y<this.gridsterItem.$item.y?e=this.push.fromNorth:t.y>this.gridsterItem.$item.y&&(e=this.push.fromSouth),this.push.pushItems(e,this.gridster.$options.disablePushOnDrag),this.swap.swapItems(),this.collision=this.gridster.checkCollision(this.gridsterItem.$item),this.collision?(this.gridsterItem.$item.x=this.positionXBackup,this.gridsterItem.$item.y=this.positionYBackup,this.gridster.$options.draggable.dropOverItems&&!0!==this.collision&&this.collision.$item&&(this.gridster.movingItem=null)):this.path.push({x:this.gridsterItem.$item.x,y:this.gridsterItem.$item.y}),this.push.checkPushBack()}else this.collision=!1;this.gridster.previewStyle(!0)}},{key:"toggle",value:function(){var t=this.gridsterItem.canBeDragged();!this.enabled&&t?(this.enabled=!this.enabled,this.mousedown=this.gridsterItem.renderer.listen(this.gridsterItem.el,"mousedown",this.dragStartDelay),this.touchstart=this.gridsterItem.renderer.listen(this.gridsterItem.el,"touchstart",this.dragStartDelay)):this.enabled&&!t&&(this.enabled=!this.enabled,this.mousedown(),this.touchstart())}},{key:"getDirections",value:function(t){var e=[];return 0===this.lastMouse.clientX&&0===this.lastMouse.clientY&&(this.lastMouse.clientY=t.clientY,this.lastMouse.clientX=t.clientX),this.lastMouse.clientY>t.clientY&&e.push(Ai.UP),this.lastMouse.clientY<t.clientY&&e.push(Ai.DOWN),this.lastMouse.clientX<t.clientX&&e.push(Ai.RIGHT),this.lastMouse.clientX>t.clientX&&e.push(Ai.LEFT),e}}]),o}(),E9=function(){function o(n){(0,f.Z)(this,o),this.pushedItems=[],this.pushedItemsPath=[],this.gridsterItem=n,this.gridster=n.gridster,this.tryPattern={fromEast:this.tryWest,fromWest:this.tryEast,fromNorth:this.trySouth,fromSouth:this.tryNorth},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}return(0,y.Z)(o,[{key:"destroy",value:function(){this.gridster=this.gridsterItem=null}},{key:"pushItems",value:function(t){return!!this.gridster.$options.pushResizeItems&&this.push(this.gridsterItem,t)}},{key:"restoreItems",value:function(){for(var a,t=0,e=this.pushedItems.length;t<e;t++)(a=this.pushedItems[t]).$item.x=a.item.x||0,a.$item.y=a.item.y||0,a.$item.cols=a.item.cols||1,a.$item.row=a.item.row||1,a.setSize();this.pushedItems=[],this.pushedItemsPath=[]}},{key:"setPushedItems",value:function(){for(var a,t=0,e=this.pushedItems.length;t<e;t++)(a=this.pushedItems[t]).checkItemChanges(a.$item,a.item);this.pushedItems=[],this.pushedItemsPath=[]}},{key:"checkPushBack",value:function(){for(var t=this.pushedItems.length-1,e=!1;t>-1;t--)this.checkPushedItem(this.pushedItems[t],t)&&(e=!0);e&&this.checkPushBack()}},{key:"push",value:function(t,e){var a=this.gridster.checkCollision(t.$item);if(a&&!0!==a&&a!==this.gridsterItem&&a.canBeResized()){if(this.tryPattern[e].call(this,a,t,e))return!0}else if(!1===a)return!0;return!1}},{key:"trySouth",value:function(t,e,a){var s=t.$item.y,u=t.$item.rows;return t.$item.y=e.$item.y+e.$item.rows,t.$item.rows=u+s-t.$item.y,this.gridster.checkCollisionTwoItems(t.$item,e.$item)||this.gridster.checkGridCollision(t.$item)?(t.$item.y=s,t.$item.rows=u,!1):(t.setSize(),this.addToPushed(t),this.push(e,a),!0)}},{key:"tryNorth",value:function(t,e,a){var s=t.$item.rows;return t.$item.rows=e.$item.y-t.$item.y,this.gridster.checkCollisionTwoItems(t.$item,e.$item)||this.gridster.checkGridCollision(t.$item)?(t.$item.rows=s,!1):(t.setSize(),this.addToPushed(t),this.push(e,a),!0)}},{key:"tryEast",value:function(t,e,a){var s=t.$item.x,u=t.$item.cols;return t.$item.x=e.$item.x+e.$item.cols,t.$item.cols=u+s-t.$item.x,this.gridster.checkCollisionTwoItems(t.$item,e.$item)||this.gridster.checkGridCollision(t.$item)?(t.$item.x=s,t.$item.cols=u,!1):(t.setSize(),this.addToPushed(t),this.push(e,a),!0)}},{key:"tryWest",value:function(t,e,a){var s=t.$item.cols;return t.$item.cols=e.$item.x-t.$item.x,this.gridster.checkCollisionTwoItems(t.$item,e.$item)||this.gridster.checkGridCollision(t.$item)?(t.$item.cols=s,!1):(t.setSize(),this.addToPushed(t),this.push(e,a),!0)}},{key:"addToPushed",value:function(t){if(this.pushedItems.indexOf(t)<0)this.pushedItems.push(t),this.pushedItemsPath.push([{x:t.item.x||0,y:t.item.y||0,cols:t.item.cols||0,rows:t.item.rows||0},{x:t.$item.x,y:t.$item.y,cols:t.$item.cols,rows:t.$item.rows}]);else{var e=this.pushedItems.indexOf(t);this.pushedItemsPath[e].push({x:t.$item.x,y:t.$item.y,cols:t.$item.cols,rows:t.$item.rows})}}},{key:"removeFromPushed",value:function(t){t>-1&&(this.pushedItems.splice(t,1),this.pushedItemsPath.splice(t,1))}},{key:"checkPushedItem",value:function(t,e){for(var u,l,c,h,C,a=this.pushedItemsPath[e],s=a.length-2;s>-1;s--)l=t.$item.x,c=t.$item.y,h=t.$item.cols,C=t.$item.rows,t.$item.x=(u=a[s]).x,t.$item.y=u.y,t.$item.cols=u.cols,t.$item.rows=u.rows,this.gridster.findItemWithItem(t.$item)?(t.$item.x=l,t.$item.y=c,t.$item.cols=h,t.$item.rows=C):(t.setSize(),a.splice(s+1,a.length-1-s));return a.length<2&&(this.removeFromPushed(e),!0)}}]),o}(),P9=function(){function o(n,t,e){var a=this;(0,f.Z)(this,o),this.zone=e,this.directionFunction=null,this.dragMove=function(s){if(null===a.directionFunction)throw new Error("The `directionFunction` has not been set before calling `dragMove`.");s.stopPropagation(),s.preventDefault(),Ma.checkTouchEvent(s),a.offsetTop=a.gridster.el.scrollTop-a.gridster.el.offsetTop,a.offsetLeft=a.gridster.el.scrollLeft-a.gridster.el.offsetLeft,uO(a.gridster,a.left,a.top,a.width,a.height,s,a.lastMouse,a.directionFunction,!0,a.resizeEventScrollType);var u=a.gridster.options.scale||1;a.directionFunction({clientX:a.originalClientX+(s.clientX-a.originalClientX)/u,clientY:a.originalClientY+(s.clientY-a.originalClientY)/u}),a.lastMouse.clientX=s.clientX,a.lastMouse.clientY=s.clientY,a.zone.run(function(){a.gridster.updateGrid()})},this.dragStop=function(s){s.stopPropagation(),s.preventDefault(),dO(),a.mousemove(),a.mouseup(),a.mouseleave(),a.cancelOnBlur(),a.touchmove(),a.touchend(),a.touchcancel(),a.gridster.dragInProgress=!1,a.gridster.updateGrid(),a.gridster.options.resizable&&a.gridster.options.resizable.stop?Promise.resolve(a.gridster.options.resizable.stop(a.gridsterItem.item,a.gridsterItem,s)).then(a.makeResize,a.cancelResize):a.makeResize(),setTimeout(function(){a.gridsterItem.renderer.removeClass(a.gridsterItem.el,"gridster-item-resizing"),a.gridster&&(a.gridster.movingItem=null,a.gridster.previewStyle())})},this.cancelResize=function(){a.gridsterItem.$item.cols=a.gridsterItem.item.cols||1,a.gridsterItem.$item.rows=a.gridsterItem.item.rows||1,a.gridsterItem.$item.x=a.gridsterItem.item.x||0,a.gridsterItem.$item.y=a.gridsterItem.item.y||0,a.gridsterItem.setSize(),a.push.restoreItems(),a.pushResize.restoreItems(),a.push.destroy(),a.push=null,a.pushResize.destroy(),a.pushResize=null},this.makeResize=function(){a.gridsterItem.setSize(),a.gridsterItem.checkItemChanges(a.gridsterItem.$item,a.gridsterItem.item),a.push.setPushedItems(),a.pushResize.setPushedItems(),a.push.destroy(),a.push=null,a.pushResize.destroy(),a.pushResize=null},this.handleNorth=function(s){if(a.top=s.clientY+a.offsetTop-a.diffTop,a.height=a.bottom-a.top,a.minHeight>a.height?(a.height=a.minHeight,a.top=a.bottom-a.minHeight):a.gridster.options.enableBoundaryControl&&(a.top=Math.max(0,a.top),a.height=a.bottom-a.top),a.newPosition=a.gridster.pixelsToPositionY(a.top+(a.gridster.options.pushItems?a.margin:0),Math.floor),a.gridsterItem.$item.y!==a.newPosition){if(a.itemBackup[1]=a.gridsterItem.$item.y,a.itemBackup[3]=a.gridsterItem.$item.rows,a.gridsterItem.$item.rows+=a.gridsterItem.$item.y-a.newPosition,a.gridsterItem.$item.y=a.newPosition,a.pushResize.pushItems(a.pushResize.fromSouth),a.push.pushItems(a.push.fromSouth,a.gridster.$options.disablePushOnResize),a.gridster.checkCollision(a.gridsterItem.$item))return a.gridsterItem.$item.y=a.itemBackup[1],a.gridsterItem.$item.rows=a.itemBackup[3],a.top=a.gridster.positionYToPixels(a.gridsterItem.$item.y),a.setItemTop(a.gridster.positionYToPixels(a.gridsterItem.$item.y)),void a.setItemHeight(a.gridster.positionYToPixels(a.gridsterItem.$item.rows)-a.margin);a.gridster.previewStyle(),a.pushResize.checkPushBack(),a.push.checkPushBack()}a.setItemTop(a.top),a.setItemHeight(a.height)},this.handleWest=function(s){if(a.left=(a.gridster.$options.dirType===mi.RTL?a.originalClientX+(a.originalClientX-s.clientX):s.clientX)+a.offsetLeft-a.diffLeft,a.width=a.right-a.left,a.minWidth>a.width?(a.width=a.minWidth,a.left=a.right-a.minWidth):a.gridster.options.enableBoundaryControl&&(a.left=Math.max(0,a.left),a.width=a.right-a.left),a.newPosition=a.gridster.pixelsToPositionX(a.left+(a.gridster.options.pushItems?a.margin:0),Math.floor),a.gridsterItem.$item.x!==a.newPosition){if(a.itemBackup[0]=a.gridsterItem.$item.x,a.itemBackup[2]=a.gridsterItem.$item.cols,a.gridsterItem.$item.cols+=a.gridsterItem.$item.x-a.newPosition,a.gridsterItem.$item.x=a.newPosition,a.pushResize.pushItems(a.pushResize.fromEast),a.push.pushItems(a.push.fromEast,a.gridster.$options.disablePushOnResize),a.gridster.checkCollision(a.gridsterItem.$item))return a.gridsterItem.$item.x=a.itemBackup[0],a.gridsterItem.$item.cols=a.itemBackup[2],a.left=a.gridster.positionXToPixels(a.gridsterItem.$item.x),a.setItemLeft(a.gridster.positionXToPixels(a.gridsterItem.$item.x)),void a.setItemWidth(a.gridster.positionXToPixels(a.gridsterItem.$item.cols)-a.margin);a.gridster.previewStyle(),a.pushResize.checkPushBack(),a.push.checkPushBack()}a.setItemLeft(a.left),a.setItemWidth(a.width)},this.handleSouth=function(s){if(a.height=s.clientY+a.offsetTop-a.diffBottom-a.top,a.minHeight>a.height&&(a.height=a.minHeight),a.bottom=a.top+a.height,a.gridster.options.enableBoundaryControl){var u,l=null!==(u=a.outerMarginBottom)&&void 0!==u?u:a.margin,c=a.gridster.el.getBoundingClientRect();a.bottom=Math.min(a.bottom,c.bottom-c.top-2*l),a.height=a.bottom-a.top}if(a.newPosition=a.gridster.pixelsToPositionY(a.bottom+(a.gridster.options.pushItems?0:a.margin),Math.ceil),a.gridsterItem.$item.y+a.gridsterItem.$item.rows!==a.newPosition){if(a.itemBackup[3]=a.gridsterItem.$item.rows,a.gridsterItem.$item.rows=a.newPosition-a.gridsterItem.$item.y,a.pushResize.pushItems(a.pushResize.fromNorth),a.push.pushItems(a.push.fromNorth,a.gridster.$options.disablePushOnResize),a.gridster.checkCollision(a.gridsterItem.$item))return a.gridsterItem.$item.rows=a.itemBackup[3],void a.setItemHeight(a.gridster.positionYToPixels(a.gridsterItem.$item.rows)-a.margin);a.gridster.previewStyle(),a.pushResize.checkPushBack(),a.push.checkPushBack()}a.setItemHeight(a.height)},this.handleEast=function(s){if(a.width=(a.gridster.$options.dirType===mi.RTL?a.originalClientX+(a.originalClientX-s.clientX):s.clientX)+a.offsetLeft-a.diffRight-a.left,a.minWidth>a.width&&(a.width=a.minWidth),a.right=a.left+a.width,a.gridster.options.enableBoundaryControl){var l,c=null!==(l=a.outerMarginRight)&&void 0!==l?l:a.margin,h=a.gridster.el.getBoundingClientRect();a.right=Math.min(a.right,h.right-h.left-2*c),a.width=a.right-a.left}if(a.newPosition=a.gridster.pixelsToPositionX(a.right+(a.gridster.options.pushItems?0:a.margin),Math.ceil),a.gridsterItem.$item.x+a.gridsterItem.$item.cols!==a.newPosition){if(a.itemBackup[2]=a.gridsterItem.$item.cols,a.gridsterItem.$item.cols=a.newPosition-a.gridsterItem.$item.x,a.pushResize.pushItems(a.pushResize.fromWest),a.push.pushItems(a.push.fromWest,a.gridster.$options.disablePushOnResize),a.gridster.checkCollision(a.gridsterItem.$item))return a.gridsterItem.$item.cols=a.itemBackup[2],void a.setItemWidth(a.gridster.positionXToPixels(a.gridsterItem.$item.cols)-a.margin);a.gridster.previewStyle(),a.pushResize.checkPushBack(),a.push.checkPushBack()}a.setItemWidth(a.width)},this.handleNorthWest=function(s){a.handleNorth(s),a.handleWest(s)},this.handleNorthEast=function(s){a.handleNorth(s),a.handleEast(s)},this.handleSouthWest=function(s){a.handleSouth(s),a.handleWest(s)},this.handleSouthEast=function(s){a.handleSouth(s),a.handleEast(s)},this.gridsterItem=n,this.gridster=t,this.lastMouse={clientX:0,clientY:0},this.itemBackup=[0,0,0,0],this.resizeEventScrollType={west:!1,east:!1,north:!1,south:!1}}return(0,y.Z)(o,[{key:"destroy",value:function(){var t;null===(t=this.gridster)||void 0===t||t.previewStyle(),this.gridster=this.gridsterItem=null}},{key:"dragStart",value:function(t){var e=this;if(!t.which||1===t.which){this.gridster.options.resizable&&this.gridster.options.resizable.start&&this.gridster.options.resizable.start(this.gridsterItem.item,this.gridsterItem,t),t.stopPropagation(),t.preventDefault(),this.zone.runOutsideAngular(function(){e.mousemove=e.gridsterItem.renderer.listen("document","mousemove",e.dragMove),e.touchmove=e.gridster.renderer.listen(e.gridster.el,"touchmove",e.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-resizing"),this.lastMouse.clientX=t.clientX,this.lastMouse.clientY=t.clientY,this.left=this.gridsterItem.left,this.top=this.gridsterItem.top,this.originalClientX=t.clientX,this.originalClientY=t.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.bottom=this.gridsterItem.top+this.gridsterItem.height,this.right=this.gridsterItem.left+this.gridsterItem.width,this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.diffLeft=t.clientX+this.offsetLeft-this.left,this.diffRight=t.clientX+this.offsetLeft-this.right,this.diffTop=t.clientY+this.offsetTop-this.top,this.diffBottom=t.clientY+this.offsetTop-this.bottom,this.minHeight=this.gridster.positionYToPixels(this.gridsterItem.$item.minItemRows||this.gridster.$options.minItemRows)-this.margin,this.minWidth=this.gridster.positionXToPixels(this.gridsterItem.$item.minItemCols||this.gridster.$options.minItemCols)-this.margin,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(),this.push=new oO(this.gridsterItem),this.pushResize=new E9(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid();var a=t.target.classList;a.contains("handle-n")?(this.resizeEventScrollType.north=!0,this.directionFunction=this.handleNorth):a.contains("handle-w")?this.gridster.$options.dirType===mi.RTL?(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):a.contains("handle-s")?(this.resizeEventScrollType.south=!0,this.directionFunction=this.handleSouth):a.contains("handle-e")?this.gridster.$options.dirType===mi.RTL?(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):a.contains("handle-nw")?this.gridster.$options.dirType===mi.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):a.contains("handle-ne")?this.gridster.$options.dirType===mi.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):a.contains("handle-sw")?this.gridster.$options.dirType===mi.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):a.contains("handle-se")&&(this.gridster.$options.dirType===mi.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast))}}},{key:"toggle",value:function(){this.resizeEnabled=this.gridsterItem.canBeResized(),this.resizableHandles=this.gridsterItem.getResizableHandles()}},{key:"dragStartDelay",value:function(t){var e=this;if(Ma.checkTouchEvent(t),this.gridster.$options.resizable.delayStart)var a=setTimeout(function(){e.dragStart(t),F()},this.gridster.$options.resizable.delayStart),s=this.zone.runOutsideAngular(function(){return{cancelMouse:e.gridsterItem.renderer.listen("document","mouseup",F),cancelMouseLeave:e.gridsterItem.renderer.listen("document","mouseleave",F),cancelOnBlur:e.gridsterItem.renderer.listen("window","blur",F),cancelTouchMove:e.gridsterItem.renderer.listen("document","touchmove",N),cancelTouchEnd:e.gridsterItem.renderer.listen("document","touchend",F),cancelTouchCancel:e.gridsterItem.renderer.listen("document","touchcancel",F)}}),u=s.cancelMouse,l=s.cancelMouseLeave,c=s.cancelOnBlur,h=s.cancelTouchMove,C=s.cancelTouchEnd,T=s.cancelTouchCancel;else this.dragStart(t);function N($){Ma.checkTouchEvent($),(Math.abs($.clientX-t.clientX)>9||Math.abs($.clientY-t.clientY)>9)&&F()}function F(){clearTimeout(a),c(),u(),l(),h(),C(),T()}}},{key:"setItemTop",value:function(t){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,t)}},{key:"setItemLeft",value:function(t){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,t,this.top)}},{key:"setItemHeight",value:function(t){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"height",t+"px")}},{key:"setItemWidth",value:function(t){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"width",t+"px")}}]),o}(),A9=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.renderer=a,this.zone=s,this.itemInit=new r.EventEmitter,this.itemChange=new r.EventEmitter,this.itemResize=new r.EventEmitter,this.el=t.nativeElement,this.$item={cols:-1,rows:-1,x:-1,y:-1},this.gridster=e,this.drag=new S9(this,e,this.zone),this.resize=new P9(this,e,this.zone)}return(0,y.Z)(n,[{key:"zIndex",get:function(){return this.getLayerIndex()+this.gridster.$options.baseLayerIndex}},{key:"ngOnInit",value:function(){this.gridster.addItem(this)}},{key:"ngOnChanges",value:function(e){e.item&&(this.updateOptions(),this.init||this.gridster.calculateLayout$.next()),e.item&&e.item.previousValue&&this.setSize()}},{key:"updateOptions",value:function(){this.$item=Ma.merge(this.$item,this.item,{cols:void 0,rows:void 0,x:void 0,y:void 0,layerIndex:void 0,dragEnabled:void 0,resizeEnabled:void 0,compactEnabled:void 0,maxItemRows:void 0,minItemRows:void 0,maxItemCols:void 0,minItemCols:void 0,maxItemArea:void 0,minItemArea:void 0,resizableHandles:{s:void 0,e:void 0,n:void 0,w:void 0,se:void 0,ne:void 0,sw:void 0,nw:void 0}})}},{key:"ngOnDestroy",value:function(){this.gridster.removeItem(this),this.drag.destroy(),this.resize.destroy(),this.gridster=this.drag=this.resize=null}},{key:"setSize",value:function(){this.renderer.setStyle(this.el,"display",this.notPlaced?"":"block"),this.gridster.gridRenderer.updateItem(this.el,this.$item,this.renderer),this.updateItemSize()}},{key:"updateItemSize",value:function(){var a=this.$item.x*this.gridster.curColWidth,s=this.$item.cols*this.gridster.curColWidth-this.gridster.$options.margin,u=this.$item.rows*this.gridster.curRowHeight-this.gridster.$options.margin;this.top=this.$item.y*this.gridster.curRowHeight,this.left=a,!this.init&&s>0&&u>0&&(this.init=!0,this.item.initCallback&&this.item.initCallback(this.item,this),this.gridster.options.itemInitCallback&&this.gridster.options.itemInitCallback(this.item,this),this.itemInit.next({item:this.item,itemComponent:this}),this.gridster.$options.scrollToNewItems&&this.el.scrollIntoView(!1)),(s!==this.width||u!==this.height)&&(this.width=s,this.height=u,this.gridster.options.itemResizeCallback&&this.gridster.options.itemResizeCallback(this.item,this),this.itemResize.next({item:this.item,itemComponent:this}))}},{key:"itemChanged",value:function(){this.gridster.options.itemChangeCallback&&this.gridster.options.itemChangeCallback(this.item,this),this.itemChange.next({item:this.item,itemComponent:this})}},{key:"checkItemChanges",value:function(e,a){e.rows===a.rows&&e.cols===a.cols&&e.x===a.x&&e.y===a.y||(this.gridster.checkCollision(this.$item)?(this.$item.x=a.x||0,this.$item.y=a.y||0,this.$item.cols=a.cols||1,this.$item.rows=a.rows||1,this.setSize()):(this.item.cols=this.$item.cols,this.item.rows=this.$item.rows,this.item.x=this.$item.x,this.item.y=this.$item.y,this.gridster.calculateLayout$.next(),this.itemChanged()))}},{key:"canBeDragged",value:function(){var e=this.gridster.$options.draggable.enabled;return!this.gridster.mobile&&e&&(void 0===this.$item.dragEnabled?e:this.$item.dragEnabled)}},{key:"canBeResized",value:function(){var e=this.gridster.$options.resizable.enabled;return!this.gridster.mobile&&e&&(void 0===this.$item.resizeEnabled?e:this.$item.resizeEnabled)}},{key:"getResizableHandles",value:function(){var e=this.gridster.$options.resizable.handles,a=this.$item.resizableHandles;return void 0===a?e:(0,b.Z)((0,b.Z)({},e),a)}},{key:"bringToFront",value:function(e){if(!(e&&e<=0)){var a=this.getLayerIndex(),s=this.gridster.$options.maxLayerIndex;if(a<s){var u=e?a+e:s;this.item.layerIndex=this.$item.layerIndex=u>s?s:u}}}},{key:"sendToBack",value:function(e){if(!(e&&e<=0)){var a=this.getLayerIndex();if(a>0){var s=e?a-e:0;this.item.layerIndex=this.$item.layerIndex=s<0?0:s}}}},{key:"getLayerIndex",value:function(){return void 0!==this.item.layerIndex?this.item.layerIndex:void 0!==this.gridster.$options.defaultLayerIndex?this.gridster.$options.defaultLayerIndex:0}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(BA),r.\u0275\u0275directiveInject(r.Renderer2),r.\u0275\u0275directiveInject(r.NgZone))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["gridster-item"]],hostVars:2,hostBindings:function(t,e){2&t&&r.\u0275\u0275styleProp("z-index",e.zIndex)},inputs:{item:"item"},outputs:{itemInit:"itemInit",itemChange:"itemChange",itemResize:"itemResize"},standalone:!0,features:[r.\u0275\u0275NgOnChangesFeature,r.\u0275\u0275StandaloneFeature],ngContentSelectors:aO,decls:9,vars:8,consts:[["class","gridster-item-resizable-handler handle-s",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-e",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-n",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-w",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-se",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-ne",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-sw",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-nw",3,"mousedown","touchstart",4,"ngIf"],[1,"gridster-item-resizable-handler","handle-s",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-e",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-n",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-w",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-se",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-ne",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-sw",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-nw",3,"mousedown","touchstart"]],template:function(t,e){1&t&&(r.\u0275\u0275projectionDef(),r.\u0275\u0275projection(0),r.\u0275\u0275template(1,l9,1,0,"div",0),r.\u0275\u0275template(2,c9,1,0,"div",1),r.\u0275\u0275template(3,d9,1,0,"div",2),r.\u0275\u0275template(4,p9,1,0,"div",3),r.\u0275\u0275template(5,f9,1,0,"div",4),r.\u0275\u0275template(6,m9,1,0,"div",5),r.\u0275\u0275template(7,h9,1,0,"div",6),r.\u0275\u0275template(8,g9,1,0,"div",7)),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",(null==e.resize.resizableHandles?null:e.resize.resizableHandles.s)&&e.resize.resizeEnabled),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",(null==e.resize.resizableHandles?null:e.resize.resizableHandles.e)&&e.resize.resizeEnabled),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",(null==e.resize.resizableHandles?null:e.resize.resizableHandles.n)&&e.resize.resizeEnabled),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",(null==e.resize.resizableHandles?null:e.resize.resizableHandles.w)&&e.resize.resizeEnabled),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",(null==e.resize.resizableHandles?null:e.resize.resizableHandles.se)&&e.resize.resizeEnabled),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",(null==e.resize.resizableHandles?null:e.resize.resizableHandles.ne)&&e.resize.resizeEnabled),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",(null==e.resize.resizableHandles?null:e.resize.resizableHandles.sw)&&e.resize.resizeEnabled),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",(null==e.resize.resizableHandles?null:e.resize.resizableHandles.nw)&&e.resize.resizeEnabled))},dependencies:[P.NgIf],styles:["gridster-item{box-sizing:border-box;z-index:1;position:absolute;overflow:hidden;transition:.3s;display:none;background:white;-webkit-user-select:text;user-select:text}gridster-item.gridster-item-moving{cursor:move}gridster-item.gridster-item-resizing,gridster-item.gridster-item-moving{transition:0s;z-index:2;box-shadow:0 0 5px 5px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.gridster-item-resizable-handler{position:absolute;z-index:2}.gridster-item-resizable-handler.handle-n{cursor:ns-resize;height:10px;right:0;top:0;left:0}.gridster-item-resizable-handler.handle-e{cursor:ew-resize;width:10px;bottom:0;right:0;top:0}.gridster-item-resizable-handler.handle-s{cursor:ns-resize;height:10px;right:0;bottom:0;left:0}.gridster-item-resizable-handler.handle-w{cursor:ew-resize;width:10px;left:0;top:0;bottom:0}.gridster-item-resizable-handler.handle-ne{cursor:ne-resize;width:10px;height:10px;right:0;top:0}.gridster-item-resizable-handler.handle-nw{cursor:nw-resize;width:10px;height:10px;left:0;top:0}.gridster-item-resizable-handler.handle-se{cursor:se-resize;width:0;height:0;right:0;bottom:0;border-style:solid;border-width:0 0 10px 10px;border-color:transparent}.gridster-item-resizable-handler.handle-sw{cursor:sw-resize;width:10px;height:10px;left:0;bottom:0}gridster-item:hover .gridster-item-resizable-handler.handle-se{border-color:transparent transparent #ccc}\n"],encapsulation:2}),o}(),gO=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({}),o}(),g_=S(28972),_a=S(75376),Fl=S(51372),ep=S(55198),k9=S(97040),tp=S(93168),PE=["innerGridItem"];function R9(o,n){1&o&&r.\u0275\u0275elementContainer(0)}var Ml=function(n){return{i:n}};function D9(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div",2)(1,"p",4),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",5),r.\u0275\u0275template(4,R9,1,0,"ng-container",6),r.\u0275\u0275elementEnd()()),2&o){var t=n.index,e=r.\u0275\u0275nextContext().index,a=r.\u0275\u0275nextContext();r.\u0275\u0275property("fxFlex",a.dashboard[a.itemIndex(e,t)].cols),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate3("row: ",e," | column: ",t," | size: ",a.dashboard[a.itemIndex(e,t)].cols,""),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngStyle",a.gridItemInnerStyles(e,t)),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",a.innerGridItemTmpl)("ngTemplateOutletContext",r.\u0275\u0275pureFunction1(7,Ml,a.itemIndex(e,t)))}}var T9=function(){return{height:"100%"}};function I9(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div",2)(1,"div",3),r.\u0275\u0275template(2,D9,5,9,"div",1),r.\u0275\u0275elementEnd()()),2&o){var t=n.index,e=r.\u0275\u0275nextContext();r.\u0275\u0275property("fxFlex",e.rowFlex(t)),r.\u0275\u0275advance(1),r.\u0275\u0275property("fxLayout",e.rowDirection(t))("ngStyle",r.\u0275\u0275pureFunction0(4,T9)),r.\u0275\u0275advance(1),r.\u0275\u0275property("for",e.totalColumns(t))}}var jA=["gridItemActions"],$A=["extraActions"],vO=["mainControls"],yO=["itemHeader"];function O9(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function F9(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function M9(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function N9(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"gridster-item",8)(1,"div",9)(2,"div",10,11),r.\u0275\u0275template(4,F9,1,0,"ng-container",12),r.\u0275\u0275elementStart(5,"button",13),r.\u0275\u0275listener("mousedown",function(){var c=r.\u0275\u0275restoreView(t).index,h=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(h.removeItem(c))})("touchstart",function(){var c=r.\u0275\u0275restoreView(t).index,h=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(h.removeItem(c))}),r.\u0275\u0275text(6,"Delete"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(7,"div",14),r.\u0275\u0275template(8,M9,1,0,"ng-container",12),r.\u0275\u0275elementEnd()()()}if(2&o){var e=n.$implicit,a=n.index,s=r.\u0275\u0275nextContext();r.\u0275\u0275property("item",e),r.\u0275\u0275advance(2),r.\u0275\u0275property("hidden",!s.displayItemHeader),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngTemplateOutlet",s.gridItemActionsTmpl)("ngTemplateOutletContext",r.\u0275\u0275pureFunction1(6,Ml,a)),r.\u0275\u0275advance(4),r.\u0275\u0275property("ngTemplateOutlet",s.innerGridItemTmpl)("ngTemplateOutletContext",r.\u0275\u0275pureFunction1(8,Ml,a))}}function V9(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function B9(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function Z9(o,n){1&o&&r.\u0275\u0275elementContainer(0)}var _O=function(){return{i:0}};function L9(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function j9(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function $9(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function U9(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"as-split-area",15)(1,"div",16)(2,"div",17,18),r.\u0275\u0275template(4,j9,1,0,"ng-container",19),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"div",20),r.\u0275\u0275template(6,$9,1,0,"ng-container",19),r.\u0275\u0275elementEnd()()()),2&o){var t=n.index,e=r.\u0275\u0275nextContext().index,a=r.\u0275\u0275nextContext();r.\u0275\u0275property("size",a.itemSize(e,t)),r.\u0275\u0275advance(2),r.\u0275\u0275property("hidden",!a.displayItemHeader),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngTemplateOutlet",a.gridItemActionsTmpl)("ngTemplateOutletContext",r.\u0275\u0275pureFunction1(6,Ml,a.itemIndex(e,t))),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngTemplateOutlet",a.innerGridItemTmpl)("ngTemplateOutletContext",r.\u0275\u0275pureFunction1(8,Ml,a.itemIndex(e,t)))}}function z9(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",6)(1,"div",7)(2,"button",8)(3,"mat-icon"),r.\u0275\u0275text(4,"menu"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(5,"mat-menu",null,9)(7,"button",10),r.\u0275\u0275listener("mousedown",function(){var c=r.\u0275\u0275restoreView(t).index,h=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(h.addColumn(c))}),r.\u0275\u0275text(8,"Add Column"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"button",10),r.\u0275\u0275listener("mousedown",function(){var c=r.\u0275\u0275restoreView(t).index,h=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(h.layoutSettings("row",c))}),r.\u0275\u0275text(10,"Layout Settings"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(11,"button",11),r.\u0275\u0275listener("mousedown",function(){var c=r.\u0275\u0275restoreView(t).index,h=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(h.removeRow(c))}),r.\u0275\u0275text(12,"Delete"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(13,"div",12)(14,"as-split",13),r.\u0275\u0275listener("dragEnd",function(l){var h=r.\u0275\u0275restoreView(t).index,C=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(C.dragEnd(h,l))}),r.\u0275\u0275template(15,U9,7,10,"as-split-area",14),r.\u0275\u0275elementEnd()()()}if(2&o){var e=n.index,a=r.\u0275\u0275reference(6),s=r.\u0275\u0275nextContext();r.\u0275\u0275advance(2),r.\u0275\u0275property("matMenuTriggerFor",a),r.\u0275\u0275advance(13),r.\u0275\u0275property("for",s.totalColumns(e))}}function G9(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",6),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.login())}),r.\u0275\u0275text(1,"login"),r.\u0275\u0275elementEnd()}}var H9=function(n){return[n,"manage"]};function q9(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div",7)(1,"a",8),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd()()),2&o){var t=n.$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275property("routerLink",r.\u0275\u0275pureFunction1(2,H9,t.path)),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.path)}}var K9=["*"];function W9(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"li")(1,"button",15),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.submit())}),r.\u0275\u0275text(2,"Save"),r.\u0275\u0275elementEnd()()}}function X9(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"li")(1,"button",16),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.onPropertiesClick())}),r.\u0275\u0275text(2,"Properties"),r.\u0275\u0275elementEnd()()}}function Q9(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"li")(1,"button",16),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.onDeleteClick())}),r.\u0275\u0275text(2,"Delete"),r.\u0275\u0275elementEnd()()}}function Y9(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"li")(1,"button",16),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.onRulesClick())}),r.\u0275\u0275text(2,"Rules"),r.\u0275\u0275elementEnd()()}}function J9(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"li")(1,"button",17),r.\u0275\u0275listener("mousedown",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.onPersistenceClick())}),r.\u0275\u0275text(2,"Persistence"),r.\u0275\u0275elementEnd()()}}function eU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"li")(1,"button",17),r.\u0275\u0275listener("mousedown",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.onInteractionsClick())}),r.\u0275\u0275text(2,"Interactions"),r.\u0275\u0275elementEnd()()}}function tU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"li")(1,"button",18),r.\u0275\u0275listener("mousedown",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.applyStyle(0))})("touchstart",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.applyStyle(0))}),r.\u0275\u0275text(2,"Apply Style"),r.\u0275\u0275elementEnd()()}}function nU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"li")(1,"button",18),r.\u0275\u0275listener("mousedown",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.removeStyle(0))})("touchstart",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.removeStyle(0))}),r.\u0275\u0275text(2,"Remove Style"),r.\u0275\u0275elementEnd()()}}function rU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",35),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t),r.\u0275\u0275nextContext(2);var a=r.\u0275\u0275reference(2);return r.\u0275\u0275resetView(a.toggle())}),r.\u0275\u0275elementStart(1,"mat-icon"),r.\u0275\u0275text(2,"menu"),r.\u0275\u0275elementEnd()()}}function iU(o,n){1&o&&(r.\u0275\u0275elementStart(0,"mat-icon"),r.\u0275\u0275text(1,"arrow_drop_down"),r.\u0275\u0275elementEnd())}function aU(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"button",36),r.\u0275\u0275template(1,iU,2,0,"mat-icon",4),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext(2),e=r.\u0275\u0275reference(29);r.\u0275\u0275property("matMenuTriggerFor",e),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",t.nested)}}function oU(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function sU(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,oU,1,0,"ng-container",23),r.\u0275\u0275elementContainerEnd()),2&o){var t=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",t.contextsMenuTpl)}}function uU(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div",37),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.editor.panelStyleTitle(0))}}function lU(o,n){1&o&&r.\u0275\u0275element(0,"span",38)}function cU(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function dU(o,n){1&o&&(r.\u0275\u0275elementStart(0,"div",39),r.\u0275\u0275text(1,"Quell"),r.\u0275\u0275elementEnd())}function pU(o,n){if(1&o&&(r.\u0275\u0275template(0,rU,3,0,"button",19),r.\u0275\u0275template(1,aU,2,2,"button",20),r.\u0275\u0275elementStart(2,"div"),r.\u0275\u0275template(3,sU,2,1,"ng-container",4),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(4,uU,2,1,"div",21),r.\u0275\u0275template(5,lU,1,0,"span",22),r.\u0275\u0275template(6,cU,1,0,"ng-container",23),r.\u0275\u0275elementStart(7,"div",24)(8,"mat-form-field")(9,"mat-select",25)(10,"mat-option",26),r.\u0275\u0275text(11,"page"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(12,"mat-option",27),r.\u0275\u0275text(13,"form"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(14,"mat-option",28),r.\u0275\u0275text(15,"json"),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275elementStart(16,"div",29)(17,"mat-form-field")(18,"mat-select",30)(19,"mat-option",31),r.\u0275\u0275text(20,"grid"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(21,"mat-option",32),r.\u0275\u0275text(22,"gridless"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(23,"mat-option",33),r.\u0275\u0275text(24,"split"),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275template(25,dU,2,0,"div",34)),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275property("ngIf",!t.nested),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",t.nested),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",t.savable),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",t.editor.hasPanelStyle(0)&&t.nested),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",t.nested),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",t.extraActionsAreaTmpl),r.\u0275\u0275advance(19),r.\u0275\u0275property("ngIf",!t.nested)}}function fU(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div",37),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.editor.panelStyleTitle(0))}}function mU(o,n){if(1&o&&r.\u0275\u0275template(0,fU,2,1,"div",21),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275property("ngIf",t.editor.hasPanelStyle(0)&&!t.nested)}}function hU(o,n){1&o&&r.\u0275\u0275elementContainer(0)}var UA=function(n,t){return{i:n,j:t}};function gU(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div",43),r.\u0275\u0275template(1,hU,1,0,"ng-container",44),r.\u0275\u0275elementEnd()),2&o){var t=n.index,e=r.\u0275\u0275nextContext().i,a=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",a.editablePaneTpl)("ngTemplateOutletContext",r.\u0275\u0275pureFunction2(2,UA,e,t))}}function vU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"ngx-dropzone",40),r.\u0275\u0275listener("change",function(u){var c=r.\u0275\u0275restoreView(t).i,h=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(h.editor.onFileChange(u,c))})("cdkDropListDropped",function(u){r.\u0275\u0275restoreView(t);var l=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(l.editor.onDrop(u))}),r.\u0275\u0275elementStart(1,"div",null,41),r.\u0275\u0275template(3,gU,2,5,"div",42),r.\u0275\u0275elementEnd()()}if(2&o){var e=n.i,a=r.\u0275\u0275nextContext();r.\u0275\u0275property("cdkDropListData",e)("multiple",!0)("disableClick",!0),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngForOf",a.editor.panelPanes(e).controls)}}function yU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",15),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.submit())}),r.\u0275\u0275text(1,"Save"),r.\u0275\u0275elementEnd()}}function _U(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",16),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.onPropertiesClick())}),r.\u0275\u0275text(1,"Properties"),r.\u0275\u0275elementEnd()}}function xU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",16),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.onDeleteClick())}),r.\u0275\u0275text(1,"Delete"),r.\u0275\u0275elementEnd()}}function bU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",16),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.onRulesClick())}),r.\u0275\u0275text(1,"Rules"),r.\u0275\u0275elementEnd()}}function CU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",17),r.\u0275\u0275listener("mousedown",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.onPersistenceClick())}),r.\u0275\u0275text(1,"Persistence"),r.\u0275\u0275elementEnd()}}function wU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",17),r.\u0275\u0275listener("mousedown",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.onInteractionsClick())}),r.\u0275\u0275text(1,"Interactions"),r.\u0275\u0275elementEnd()}}function SU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",18),r.\u0275\u0275listener("mousedown",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.applyStyle(0))})("touchstart",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.applyStyle(0))}),r.\u0275\u0275text(1,"Apply Style"),r.\u0275\u0275elementEnd()}}function EU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",18),r.\u0275\u0275listener("mousedown",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.removeStyle(0))})("touchstart",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.removeStyle(0))}),r.\u0275\u0275text(1,"Remove Style"),r.\u0275\u0275elementEnd()}}function PU(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function AU(o,n){if(1&o&&r.\u0275\u0275template(0,PU,1,0,"ng-container",2),2&o){var t=n.i,e=r.\u0275\u0275nextContext();r.\u0275\u0275property("ngTemplateOutlet",e.renderPanelTpl)("ngTemplateOutletContext",r.\u0275\u0275pureFunction1(2,Ml,t))}}function kU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"li")(1,"button",16),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.submit())}),r.\u0275\u0275text(2,"Save"),r.\u0275\u0275elementEnd()()}}function RU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"li")(1,"button",17),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.onRulesClick())}),r.\u0275\u0275text(2,"Rules"),r.\u0275\u0275elementEnd()()}}function DU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"li")(1,"button",5),r.\u0275\u0275listener("mousedown",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.onPersistenceClick())}),r.\u0275\u0275text(2,"Persistence"),r.\u0275\u0275elementEnd()()}}function TU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"li")(1,"button",5),r.\u0275\u0275listener("mousedown",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.onInteractionsClick())}),r.\u0275\u0275text(2,"Interactions"),r.\u0275\u0275elementEnd()()}}function IU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"li")(1,"button",17),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.onDeleteClick())}),r.\u0275\u0275text(2,"Delete"),r.\u0275\u0275elementEnd()()}}function OU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",32),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t),r.\u0275\u0275nextContext(2);var a=r.\u0275\u0275reference(2);return r.\u0275\u0275resetView(a.toggle())}),r.\u0275\u0275elementStart(1,"mat-icon"),r.\u0275\u0275text(2,"menu"),r.\u0275\u0275elementEnd()()}}function FU(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"button",33)(1,"mat-icon"),r.\u0275\u0275text(2,"menu"),r.\u0275\u0275elementEnd()()),2&o){r.\u0275\u0275nextContext(2);var t=r.\u0275\u0275reference(30);r.\u0275\u0275property("matMenuTriggerFor",t)}}function MU(o,n){1&o&&r.\u0275\u0275element(0,"span",34)}function NU(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function VU(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,NU,1,0,"ng-container",30),r.\u0275\u0275elementContainerEnd()),2&o){var t=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",t.contextsMenuTpl)}}function BU(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function ZU(o,n){1&o&&(r.\u0275\u0275elementStart(0,"div",35),r.\u0275\u0275text(1,"Quell"),r.\u0275\u0275elementEnd())}function LU(o,n){if(1&o&&(r.\u0275\u0275template(0,OU,3,0,"button",18),r.\u0275\u0275template(1,FU,3,1,"button",19),r.\u0275\u0275template(2,MU,1,0,"span",20),r.\u0275\u0275elementStart(3,"div"),r.\u0275\u0275template(4,VU,2,1,"ng-container",4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"div",21)(6,"mat-form-field")(7,"mat-select",22)(8,"mat-option",23),r.\u0275\u0275text(9,"page"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(10,"mat-option",24),r.\u0275\u0275text(11,"form"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(12,"mat-option",25),r.\u0275\u0275text(13,"json"),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275elementStart(14,"div",26)(15,"mat-form-field")(16,"mat-select",27)(17,"mat-option",28),r.\u0275\u0275text(18,"gridless"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(19,"mat-option",29),r.\u0275\u0275text(20,"split"),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275template(21,BU,1,0,"ng-container",30),r.\u0275\u0275template(22,ZU,2,0,"div",31)),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275property("ngIf",!t.nested),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",t.nested),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",t.nested),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",t.savable),r.\u0275\u0275advance(17),r.\u0275\u0275property("ngTemplateOutlet",t.extraActionsAreaTmpl),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!t.nested)}}function jU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",42),r.\u0275\u0275listener("mousedown",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext().i,s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.editor.applyStyle(a))})("touchstart",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext().i,s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.editor.applyStyle(a))}),r.\u0275\u0275text(1,"Apply Style"),r.\u0275\u0275elementEnd()}}function $U(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",42),r.\u0275\u0275listener("mousedown",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext().i,s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.editor.removeStyle(a))})("touchstart",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext().i,s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.editor.removeStyle(a))}),r.\u0275\u0275text(1,"Remove Style"),r.\u0275\u0275elementEnd()}}function UU(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div",43),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext().i,e=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(e.editor.panelStyleTitle(t))}}function zU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",36)(1,"mat-icon"),r.\u0275\u0275text(2,"arrow_drop_down"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(3,"mat-menu",null,37)(5,"button",5),r.\u0275\u0275listener("mousedown",function(){var c=r.\u0275\u0275restoreView(t).i;r.\u0275\u0275nextContext();var h=r.\u0275\u0275reference(22);return r.\u0275\u0275resetView(h.layoutSettings("column",c))}),r.\u0275\u0275text(6,"Layout Settings"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(7,"button",38),r.\u0275\u0275listener("mousedown",function(){var c=r.\u0275\u0275restoreView(t).i,h=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(h.editor.addContent(c))})("touchstart",function(){var c=r.\u0275\u0275restoreView(t).i,h=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(h.editor.addContent(c))}),r.\u0275\u0275text(8,"Add Content"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"button",38),r.\u0275\u0275listener("mousedown",function(){var c=r.\u0275\u0275restoreView(t).i,h=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(h.editor.editPanelProps(c))})("touchstart",function(){var c=r.\u0275\u0275restoreView(t).i,h=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(h.editor.editPanelProps(c))}),r.\u0275\u0275text(10,"Props"),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(11,jU,2,0,"button",39),r.\u0275\u0275template(12,$U,2,0,"button",39),r.\u0275\u0275elementStart(13,"button",40),r.\u0275\u0275listener("mousedown",function(){var c=r.\u0275\u0275restoreView(t).i;r.\u0275\u0275nextContext();var h=r.\u0275\u0275reference(22);return r.\u0275\u0275resetView(h.removeColumn2(c))})("touchstart",function(){var c=r.\u0275\u0275restoreView(t).i;r.\u0275\u0275nextContext();var h=r.\u0275\u0275reference(22);return r.\u0275\u0275resetView(h.removeColumn2(c))}),r.\u0275\u0275text(14,"Delete"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275template(15,UU,2,1,"div",41)}if(2&o){var e=n.i,a=r.\u0275\u0275reference(4),s=r.\u0275\u0275nextContext();r.\u0275\u0275property("matMenuTriggerFor",a),r.\u0275\u0275advance(11),r.\u0275\u0275property("ngIf",!s.editor.hasPanelStyle(e)),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",s.editor.hasPanelStyle(e)),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngIf",s.editor.hasPanelStyle(e))}}function GU(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function HU(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div",47),r.\u0275\u0275template(1,GU,1,0,"ng-container",48),r.\u0275\u0275elementEnd()),2&o){var t=n.index,e=r.\u0275\u0275nextContext().i,a=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",a.editablePaneTpl)("ngTemplateOutletContext",r.\u0275\u0275pureFunction2(2,UA,e,t))}}function qU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"ngx-dropzone",44),r.\u0275\u0275listener("change",function(u){var c=r.\u0275\u0275restoreView(t).i,h=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(h.editor.onFileChange(u,c))})("cdkDropListDropped",function(u){r.\u0275\u0275restoreView(t);var l=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(l.editor.onDrop(u))}),r.\u0275\u0275elementStart(1,"div",null,45),r.\u0275\u0275template(3,HU,2,5,"div",46),r.\u0275\u0275elementEnd()()}if(2&o){var e=n.i,a=r.\u0275\u0275nextContext();r.\u0275\u0275property("cdkDropListData",e)("multiple",!0)("disableClick",!0),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngForOf",a.editor.panelPanes(e).controls)}}function KU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",16),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.submit())}),r.\u0275\u0275text(1,"Save"),r.\u0275\u0275elementEnd()}}function WU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",17),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.onRulesClick())}),r.\u0275\u0275text(1,"Rules"),r.\u0275\u0275elementEnd()}}function XU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",5),r.\u0275\u0275listener("mousedown",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.onPersistenceClick())}),r.\u0275\u0275text(1,"Persistence"),r.\u0275\u0275elementEnd()}}function QU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",5),r.\u0275\u0275listener("mousedown",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.onInteractionsClick())}),r.\u0275\u0275text(1,"Interactions"),r.\u0275\u0275elementEnd()}}function YU(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",17),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.editor.onDeleteClick())}),r.\u0275\u0275text(1,"Delete"),r.\u0275\u0275elementEnd()}}function JU(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function ez(o,n){if(1&o&&r.\u0275\u0275template(0,JU,1,0,"ng-container",2),2&o){var t=n.i,e=r.\u0275\u0275nextContext();r.\u0275\u0275property("ngTemplateOutlet",e.renderPanelTpl)("ngTemplateOutletContext",r.\u0275\u0275pureFunction1(2,Ml,t))}}var mz=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.attributeMatcher=t,this.dashboard=[],this.layoutSetting=new br,this.rowSettings=[],this.columnSettings=[]}return(0,y.Z)(n,[{key:"totalRows",get:function(){return 0==this.dashboard.length?0:this.dashboard.reduce(function(e,a){return a.y>e?a.y:e},0)+1}},{key:"direction",get:function(){var e=this.attributeMatcher.getComputedValue("direction",this.layoutSetting?this.layoutSetting.settings:[]);return!e||"column"!==e.trim()&&"row"!==e.trim()?"column":e}},{key:"ngOnInit",value:function(){console.log(this.dashboard)}},{key:"itemIndex",value:function(e,a){return this.dashboard.findIndex(function(s){return s.y===e&&s.x===a})}},{key:"totalColumns",value:function(e){return this.dashboard.reduce(function(a,s){return s.y===e?a+1:a},0)}},{key:"rowDirection",value:function(e){var a=this.attributeMatcher.getComputedValue("direction",this.rowSettings&&this.rowSettings[e]?this.rowSettings[e].settings:[]);return!a||"column"!==a.trim()&&"row"!==a.trim()?"row":a}},{key:"rowFlex",value:function(e){var a=this;return["flexGrow","flexShrink","flexBasis"].map(function(c){return a.attributeMatcher.getComputedValue(c,a.rowSettings&&a.rowSettings[e]?a.rowSettings[e].settings:[])}).map(function(c){return null!=c&&""!==c&&""!==c.trim()?"".concat(c.trim()):""}).join(" ")}},{key:"gridItemInnerStyles",value:function(e,a){var s=this.itemIndex(e,a);return{height:this.calculateHeight(this.attributeMatcher.getComputedValue("height",this.columnSettings&&this.columnSettings[s]?this.columnSettings[s].settings:[]))}}},{key:"calculateHeight",value:function(e){return null!=e?e.trim():"auto"}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Nt.AttributeMatcherService))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-flex-layout"]],contentQueries:function(t,e,a){var s;1&t&&r.\u0275\u0275contentQuery(a,PE,5),2&t&&r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.innerGridItemTmpl=s.first)},inputs:{dashboard:"dashboard",layoutSetting:"layoutSetting",rowSettings:"rowSettings",columnSettings:"columnSettings"},decls:2,vars:2,consts:[["fxFill","",3,"fxLayout"],[3,"fxFlex",4,"for"],[3,"fxFlex"],[3,"fxLayout","ngStyle"],["hidden",""],[1,"grid-item-inner",3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275template(1,I9,3,5,"div",1),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("fxLayout",e.direction),r.\u0275\u0275advance(1),r.\u0275\u0275property("for",e.totalRows))},dependencies:[P.NgTemplateOutlet,P.NgStyle,Wt,Mo,In,$e,Vn.ForDirective]}),o}(),xO=function(){var o=function(){function n(){(0,f.Z)(this,n),this.itemAdded=new r.EventEmitter,this.itemRemoved=new r.EventEmitter,this.dashboard=[],this.displayMainControls=!0,this.displayItemHeader=!0,this.itemHeights=[],this.rows=0}return(0,y.Z)(n,[{key:"grid",get:function(){return this.dashboard}},{key:"cumulativeHeight",get:function(){var e=this,a=[];return this.heightsMatrix.forEach(function(s){a.push(e.itemHeights.reduce(function(u,l){return l>u?l:u}))}),a.reduce(function(s,u){return s+u})}},{key:"heightsMatrix",get:function(){var e=this;return this.dashboard.reduce(function(a,s,u){return a[s.y]=void 0!==a[s.y]?[].concat((0,_.Z)(a[s.y]),[e.itemHeights[u]]):[e.itemHeights[u]],a},[])}},{key:"ngOnInit",value:function(){}},{key:"removeItem",value:function(e){this.dashboard.splice(e,1),this.itemHeights.splice(e,1),this.itemRemoved.emit(e)}},{key:"addColumn",value:function(){console.log("add column grid"),this.dashboard.push({cols:1,rows:1,y:0,x:this.dashboard.length}),this.itemAdded.emit()}},{key:"addRow",value:function(){this.dashboard.push({cols:1,rows:1,y:this.rows++,x:0}),this.itemAdded.emit()}},{key:"setItemContentHeight",value:function(e,a){this.itemHeights[e]=a+(this.displayItemHeader?this.itemHeaderHeight(e):0),this.refreshGridHeight()}},{key:"refreshGridHeight",value:function(){this.gridHeight=this.cumulativeHeight+16*this.gridster.rows}},{key:"itemHeaderHeight",value:function(e){return this.itemHeaders.find(function(a,s){return s===e}).nativeElement.offsetHeight}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-grid-layout"]],contentQueries:function(t,e,a){var s;1&t&&(r.\u0275\u0275contentQuery(a,jA,5),r.\u0275\u0275contentQuery(a,PE,5),r.\u0275\u0275contentQuery(a,$A,5)),2&t&&(r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.gridItemActionsTmpl=s.first),r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.innerGridItemTmpl=s.first),r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.extraActionsTmpl=s.first))},viewQuery:function(t,e){var a;1&t&&(r.\u0275\u0275viewQuery(BA,5),r.\u0275\u0275viewQuery(vO,5),r.\u0275\u0275viewQuery(yO,5)),2&t&&(r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.gridster=a.first),r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.mainControls=a.first),r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.itemHeaders=a))},inputs:{dashboard:"dashboard",displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",options:"options"},outputs:{itemAdded:"itemAdded",itemRemoved:"itemRemoved"},decls:11,vars:6,consts:[[1,"layout-wrapper"],[1,"main-controls",3,"hidden"],["mainControls",""],["type","button",3,"mousedown"],[4,"ngTemplateOutlet"],[1,"layout-inner"],[3,"options"],[3,"item",4,"ngFor","ngForOf"],[3,"item"],["fxLayout","column","fxFill",""],["fxFlex","0 1 auto",1,"grid-item-header",3,"hidden"],["itemHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",1,"delete",3,"mousedown","touchstart"],["fxFlex","",1,"grid-item-inner"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div",1,2)(3,"button",3),r.\u0275\u0275listener("mousedown",function(){return e.addColumn()}),r.\u0275\u0275text(4,"Add Column"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"button",3),r.\u0275\u0275listener("mousedown",function(){return e.addRow()}),r.\u0275\u0275text(6,"Add Row"),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(7,O9,1,0,"ng-container",4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(8,"div",5)(9,"gridster",6),r.\u0275\u0275template(10,N9,9,10,"gridster-item",7),r.\u0275\u0275elementEnd()()()),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("hidden",!e.displayMainControls),r.\u0275\u0275advance(6),r.\u0275\u0275property("ngTemplateOutlet",e.extraActionsTmpl),r.\u0275\u0275advance(1),r.\u0275\u0275styleProp("height",e.gridHeight,"px"),r.\u0275\u0275advance(1),r.\u0275\u0275property("options",e.options),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.dashboard))},dependencies:[P.NgForOf,P.NgTemplateOutlet,Wt,Mo,In,BA,A9],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-inner[_ngcontent-%COMP%]{height:100%}.grid-item-header[_ngcontent-%COMP%]{background-color:#ccc;padding:.5em}button.delete[_ngcontent-%COMP%]{float:right}.main-controls[_ngcontent-%COMP%]{background-color:#fff;padding:.5em}"]}),o}(),bO=function(){var o=function(){function n(){(0,f.Z)(this,n),this.displayMainControls=!0,this.displayItemHeader=!0,this.nested=!1}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-gridless-layout"]],contentQueries:function(t,e,a){var s;1&t&&(r.\u0275\u0275contentQuery(a,jA,5),r.\u0275\u0275contentQuery(a,PE,5),r.\u0275\u0275contentQuery(a,$A,5)),2&t&&(r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.gridItemActionsTmpl=s.first),r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.innerGridItemTmpl=s.first),r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.extraActionsTmpl=s.first))},hostVars:2,hostBindings:function(t,e){2&t&&r.\u0275\u0275classProp("is-nested",e.nested)},inputs:{displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",nested:"nested"},decls:11,vars:9,consts:[[1,"layout-wrapper"],[1,"main-controls",3,"hidden"],["mainControls",""],[4,"ngTemplateOutlet"],[1,"layout-inner"],["fxLayout","column","fxFill",""],["fxFlex","0 1 auto",1,"grid-item-header",3,"hidden"],["itemHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxFlex","",1,"grid-item-inner"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div",1,2),r.\u0275\u0275template(3,V9,1,0,"ng-container",3),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"div",4)(5,"div",5)(6,"div",6,7),r.\u0275\u0275template(8,B9,1,0,"ng-container",8),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"div",9),r.\u0275\u0275template(10,Z9,1,0,"ng-container",8),r.\u0275\u0275elementEnd()()()()),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("hidden",!e.displayMainControls),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngTemplateOutlet",e.extraActionsTmpl),r.\u0275\u0275advance(3),r.\u0275\u0275property("hidden",!e.displayItemHeader),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngTemplateOutlet",e.gridItemActionsTmpl)("ngTemplateOutletContext",r.\u0275\u0275pureFunction0(7,_O)),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngTemplateOutlet",e.innerGridItemTmpl)("ngTemplateOutletContext",r.\u0275\u0275pureFunction0(8,_O)))},dependencies:[P.NgTemplateOutlet,Wt,Mo,In],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-inner[_ngcontent-%COMP%]{height:100%}.is-nested[_nghost-%COMP%]   .layout-wrapper[_ngcontent-%COMP%]{padding:0 .25em;border:1px solid #ccc}.main-controls[_ngcontent-%COMP%]{display:flex;padding:0;align-items:baseline;border-bottom:1px solid #ccc;margin-bottom:.25em}.grid-item-header[_ngcontent-%COMP%]{padding:0;display:flex;align-items:baseline}"]}),o}(),hz=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.fb=t,this.settingValues=[],this.layoutForm=this.fb.group({settings:this.fb.control("")}),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"attributes",get:function(){return this.layout.settings.has(this.type)?this.layout.settings.get(this.type):[]}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(e){e&&this.layoutForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.layoutForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.layoutForm.disable():this.layoutForm.enable()}},{key:"validate",value:function(e){return this.layoutForm.valid?null:{invalidForm:{valid:!1,message:"layout is invalid"}}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-layout-form"]],inputs:{layout:"layout",type:"type",settingValues:"settingValues"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"attributes","attributeValues"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275element(1,"classifieds-ui-attributes-builder",1),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.layoutForm),r.\u0275\u0275advance(1),r.\u0275\u0275property("attributes",e.attributes)("attributeValues",e.settingValues))},dependencies:[v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,Nt.AttributesBuilderComponent]}),o}(),gz=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.data=t,this.dialogRef=e,this.valueComputerService=a,this.fb=s,this.settingValues=[],this.dialogForm=this.fb.group({layout:this.fb.control("")})}return(0,y.Z)(n,[{key:"attrValues",get:function(){return""===this.dialogForm.get("layout").value?this.settingValues:this.dialogForm.get("layout").value.settings.map(function(e){return new Nt.AttributeValue(e)})}},{key:"ngOnInit",value:function(){this.layout=this.data.layout,this.type=this.data.type,this.settingValues=this.data.settingValues}},{key:"submit",value:function(){console.log(this.attrValues);var e=this.valueComputerService.compute(this.attrValues);this.dialogRef.close(e)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(Yt.MatLegacyDialogRef),r.\u0275\u0275directiveInject(Nt.ValueComputerService),r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-layout-dialog"]],decls:6,vars:5,consts:[[1,"layout-form",3,"formGroup","ngSubmit"],["formControlName","layout",3,"layout","type","settingValues"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"form",0),r.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),r.\u0275\u0275elementStart(1,"mat-dialog-content"),r.\u0275\u0275element(2,"druid-layout-form",1),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"mat-dialog-actions")(4,"button",2),r.\u0275\u0275text(5,"Save"),r.\u0275\u0275elementEnd()()()),2&t&&(r.\u0275\u0275property("formGroup",e.dialogForm),r.\u0275\u0275advance(2),r.\u0275\u0275property("layout",e.layout)("type",e.type)("settingValues",e.settingValues),r.\u0275\u0275advance(2),r.\u0275\u0275property("disabled",!e.dialogForm.valid))},dependencies:[v.\u0275NgNoValidate,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,pi.MatLegacyButton,Yt.MatLegacyDialogClose,Yt.MatLegacyDialogContent,Yt.MatLegacyDialogActions,hz]}),o}(),AE=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s){return(0,f.Z)(this,e),t.call(this,a,s)}return(0,y.Z)(e,[{key:"pluginDef",value:function(){return(0,Le.of)(new Rn.PluginDef({name:"layout"}))}}]),e}(Rn.BasePluginManager);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Rn.PluginConfigurationManager),r.\u0275\u0275inject(Vn.ModuleLoaderService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),CO=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.el=t,this.dialog=e,this.lpm=a,this.itemAdded=new r.EventEmitter,this.itemRemoved=new r.EventEmitter,this.dashboard=[],this.displayMainControls=!0,this.displayItemHeader=!0,this.nested=!1,this.layoutSettingChange=new r.EventEmitter,this.rowSettingsChange=new r.EventEmitter,this.columnSettingsChange=new r.EventEmitter,this.rows=0,this.sizes=[]}return(0,y.Z)(n,[{key:"totalRows",get:function(){return 0==this.dashboard.length?0:this.dashboard.reduce(function(e,a){return a.y>e?a.y:e},0)+1}},{key:"ngOnInit",value:function(){if(0===this.dashboard.length)this.addRow();else{for(var e=0;e<this.totalRows;e++){var a=this.totalColumns(e);this.sizes.push([]);for(var s=0;s<a;s++){var u=this.itemIndex(e,s);this.sizes[e].push(this.dashboard[u].cols)}}if(this.totalRows!==this.rowSettings.length&&0===this.rowSettings.length){for(var l=[],c=0;c<this.totalRows;c++)l.push(new br);this.rowSettings=l,this.rowSettingsChange.emit(this.rowSettings)}for(var h=0,C=0;C<this.totalRows;C++)h+=this.totalColumns(C);if(h!==this.columnSettings.length&&0===this.columnSettings.length){for(var T=[],N=0;N<this.totalRows;N++)for(var F=0;F<this.totalColumns(N);F++)T.push(new br);this.columnSettings=T,this.columnSettingsChange.emit(this.columnSettings)}}}},{key:"removeRow",value:function(e){for(var a=this.dashboard.reduce(function(h,C,T){return[].concat((0,_.Z)(h),(0,_.Z)(C.y===e?[T]:[]))},[]),s=a.length,u=0,l=0;l<s;l++)this.dashboard.splice(a[l]-u,1),this.rowSettings.splice(e,1),u++,this.itemRemoved.emit(a[l]),this.rowSettingsChange.emit(this.rowSettings);s=this.dashboard.length;for(var c=0;c<s;c++)this.dashboard[c].y>e&&(this.dashboard[c].y=this.dashboard[c].y-1)}},{key:"removeColumn",value:function(e,a){var s=this.itemIndex(e,a);this.dashboard.splice(s,1),this.itemRemoved.emit(s)}},{key:"removeColumn2",value:function(e){this.dashboard.splice(e,1),this.itemRemoved.emit(e)}},{key:"addRow",value:function(){this.sizes.push([]),this.rowSettings=[].concat((0,_.Z)(this.rowSettings.map(function(e){return new br(e)})),[new br]),this.addColumn(0===this.totalRows?0:this.totalRows),this.rowSettingsChange.emit(this.rowSettings)}},{key:"addColumn",value:function(e){var a=this,s=this.totalColumns(e),u=0===s?100:100/(s+1);this.sizes[e][s]=u,this.dashboard.push({cols:u,rows:1,y:e,x:s}),this.itemAdded.emit(),setTimeout(function(){return a.resetGutter()})}},{key:"dragEnd",value:function(e,a){var s=a.sizes,u=this.dashboard.length,l=0;this.sizes[e]=(0,_.Z)(s);for(var c=this.dashboard.map(function(C){return(0,b.Z)({},C)}),h=0;h<u;h++)this.dashboard[h].y===e&&(c[h].cols=s[l],l+=1);this.dashboard=c}},{key:"itemIndex",value:function(e,a){return this.dashboard.findIndex(function(s){return s.y===e&&s.x===a})}},{key:"itemSize",value:function(e,a){return this.dashboard[this.itemIndex(e,a)].cols}},{key:"totalColumns",value:function(e){return this.dashboard.reduce(function(a,s){return s.y===e?a+1:a},0)}},{key:"resetGutter",value:function(){this.el.nativeElement.querySelectorAll(".as-split-gutter").forEach(function(e){e.style.height="auto"})}},{key:"settingValues",value:function(e,a){switch(e){case"column":return this.columnSettings[a].settings;case"row":return this.rowSettings[a].settings;case"global":return this.layoutSetting.settings;default:return[]}}},{key:"layoutSettings",value:function(e,a){var s=this;this.lpm.getPlugin("split").pipe((0,st.w)(function(u){return s.dialog.open(gz,{data:{layout:u,type:e,settingValues:s.settingValues(e,a)}}).afterClosed()}),(0,Q.h)(function(u){return!!u})).subscribe(function(u){switch(e){case"column":s.columnSettings=s.columnSettings.map(function(l,c){return new br(c===a?{settings:u.map(function(h){return new Nt.AttributeValue(h)})}:l)}),console.log(s.columnSettings),s.columnSettingsChange.emit(s.columnSettings);break;case"row":s.rowSettings=s.rowSettings.map(function(l,c){return new br(c===a?{settings:u.map(function(h){return new Nt.AttributeValue(h)})}:l)}),console.log(s.rowSettings),s.rowSettingsChange.emit(s.rowSettings);break;case"global":s.layoutSetting=new br({settings:u.map(function(l){return new Nt.AttributeValue(l)})}),s.layoutSettingChange.emit(s.layoutSetting)}})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(Yt.MatLegacyDialog),r.\u0275\u0275directiveInject(AE))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-split-layout"]],contentQueries:function(t,e,a){var s;1&t&&(r.\u0275\u0275contentQuery(a,jA,5),r.\u0275\u0275contentQuery(a,PE,5),r.\u0275\u0275contentQuery(a,$A,5)),2&t&&(r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.gridItemActionsTmpl=s.first),r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.innerGridItemTmpl=s.first),r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.extraActionsTmpl=s.first))},viewQuery:function(t,e){var a;1&t&&(r.\u0275\u0275viewQuery(vO,5),r.\u0275\u0275viewQuery(yO,5),r.\u0275\u0275viewQuery(Xy,5)),2&t&&(r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.mainControls=a.first),r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.itemHeaders=a),r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.splitAreas=a))},hostVars:2,hostBindings:function(t,e){2&t&&r.\u0275\u0275classProp("is-nested",e.nested)},inputs:{dashboard:"dashboard",displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",nested:"nested",layoutSetting:"layoutSetting",rowSettings:"rowSettings",columnSettings:"columnSettings"},outputs:{itemAdded:"itemAdded",itemRemoved:"itemRemoved",layoutSettingChange:"layoutSettingChange",rowSettingsChange:"rowSettingsChange",columnSettingsChange:"columnSettingsChange"},decls:6,vars:3,consts:[[1,"layout-wrapper"],[1,"main-controls",3,"hidden"],["mainControls",""],[4,"ngTemplateOutlet"],[1,"layout-inner"],["class","rows-wrapper",4,"for"],[1,"rows-wrapper"],[1,"row-controls"],["mat-button","","type","button",3,"matMenuTriggerFor"],["rowActions","matMenu"],["type","button","mat-menu-item","",3,"mousedown"],["type","button","mat-menu-item","",1,"remove-row",3,"mousedown"],[1,"rows-inner"],["unit","percent","direction","horizontal",3,"dragEnd"],[3,"size",4,"for"],[3,"size"],["fxLayout","column","fxFill",""],[1,"grid-item-header",3,"hidden"],["itemHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxFlex","",1,"grid-item-inner"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div",1,2),r.\u0275\u0275template(3,L9,1,0,"ng-container",3),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"div",4),r.\u0275\u0275template(5,z9,16,2,"div",5),r.\u0275\u0275elementEnd()()),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("hidden",!e.displayMainControls),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngTemplateOutlet",e.extraActionsTmpl),r.\u0275\u0275advance(2),r.\u0275\u0275property("for",e.totalRows))},dependencies:[P.NgTemplateOutlet,pi.MatLegacyButton,g_.MatIcon,_a.MatLegacyMenu,_a.MatLegacyMenuItem,_a.MatLegacyMenuTrigger,Wt,Mo,In,Wy,Xy,Vn.ForDirective],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-inner[_ngcontent-%COMP%]{height:100%}.grid-item-header[_ngcontent-%COMP%]{padding:0;display:flex;align-items:baseline}button.delete[_ngcontent-%COMP%]{float:right}.main-controls[_ngcontent-%COMP%]{display:flex;padding:0;align-items:baseline}.rows-inner[_ngcontent-%COMP%]{height:auto;background-color:#fff}.row-controls[_ngcontent-%COMP%]{background-color:gray;padding:0}.remove-row[_ngcontent-%COMP%]{float:right}.is-nested[_nghost-%COMP%]   .layout-wrapper[_ngcontent-%COMP%]{padding:0 .25em;border:1px solid #ccc}.mat-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0;color:#fff}.mat-menu-trigger[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:rotate(-90deg)}"]}),o}(),wO=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;if((0,f.Z)(this,t),(a=n.call(this,e)).settings=new Map,e.settings){var s=[];a.renderer=e.renderer,a.editor=e.editor,e.settings.forEach(function(u,l){s.push([l,u.map(function(c){return new Nt.Attribute(c)})])}),a.settings=new Map(s)}return a}return(0,y.Z)(t)}(Rn.Plugin),SO=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.siteName=t,this.authFacade=e,this.controlContainer=a,this.close=new r.EventEmitter,this.panelPageListItemsService=s.getEntityCollectionService("PanelPageListItem")}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){this.panelPageListItems$=this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')))),this.isAuthenticated$=this.authFacade.getUser$.pipe((0,Ce.U)(function(e){return!!e}))}},{key:"login",value:function(){this.authFacade.login()}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Vn.SITE_NAME),r.\u0275\u0275directiveInject(_i),r.\u0275\u0275directiveInject(v.ControlContainer),r.\u0275\u0275directiveInject(Dr))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-layout-sidenav"]],outputs:{close:"close"},ngContentSelectors:K9,decls:12,vars:6,consts:[[1,"close-wrapper"],[3,"click"],["type","button","class","login","mat-button","",3,"click",4,"ngIf"],[1,"viewport-container"],["appendOnly","","itemSize","48",1,"viewport"],["class","pp-item",4,"cdkVirtualFor","cdkVirtualForOf"],["type","button","mat-button","",1,"login",3,"click"],[1,"pp-item"],[3,"routerLink"]],template:function(t,e){1&t&&(r.\u0275\u0275projectionDef(),r.\u0275\u0275elementStart(0,"div",0)(1,"mat-icon",1),r.\u0275\u0275listener("click",function(){return e.close.emit()}),r.\u0275\u0275text(2,"close"),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(3,G9,2,0,"button",2),r.\u0275\u0275pipe(4,"async"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(5,"mat-divider"),r.\u0275\u0275projection(6),r.\u0275\u0275element(7,"mat-divider"),r.\u0275\u0275elementStart(8,"div",3)(9,"cdk-virtual-scroll-viewport",4),r.\u0275\u0275template(10,q9,3,4,"div",5),r.\u0275\u0275pipe(11,"async"),r.\u0275\u0275elementEnd()()),2&t&&(r.\u0275\u0275advance(3),r.\u0275\u0275property("ngIf",!r.\u0275\u0275pipeBind1(4,2,e.isAuthenticated$)),r.\u0275\u0275advance(7),r.\u0275\u0275property("cdkVirtualForOf",r.\u0275\u0275pipeBind1(11,4,e.panelPageListItems$)))},dependencies:[P.NgIf,dr.RouterLink,pi.MatLegacyButton,k9.MatDivider,g_.MatIcon,tp.CdkFixedSizeVirtualScroll,tp.CdkVirtualForOf,tp.CdkVirtualScrollViewport,P.AsyncPipe],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}.close-wrapper[_ngcontent-%COMP%]{padding:16px 16px 0;position:relative}.login[_ngcontent-%COMP%]{position:absolute;top:7px;right:5px}.pp-item[_ngcontent-%COMP%]{line-height:48px}.viewport[_ngcontent-%COMP%]{height:100%;width:300px}.viewport-container[_ngcontent-%COMP%]{flex:1;padding:0 0 0 16px;box-sizing:border-box}"]}),o}(),vz=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s,u,l){var c;return(0,f.Z)(this,e),(c=t.call(this,u)).siteName=a,c.authFacade=s,c.controlContainer=u,c.panelPageListItemsService=l.getEntityCollectionService("PanelPageListItem"),c}return(0,y.Z)(e,[{key:"ngOnInit",value:function(){this.panelPageListItems$=this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')))),this.isAuthenticated$=this.authFacade.getUser$.pipe((0,Ce.U)(function(s){return!!s}))}},{key:"login",value:function(){this.authFacade.login()}}]),e}(qI);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Vn.SITE_NAME),r.\u0275\u0275directiveInject(_i),r.\u0275\u0275directiveInject(v.ControlContainer),r.\u0275\u0275directiveInject(Dr))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-gridless-layout-editor"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:42,vars:19,consts:[["autosize","",3,"hasBackdrop"],["fixedInViewport","","mode","over"],["drawer",""],[3,"close"],[4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown","touchstart"],["cdkDropListGroup","",3,"formGroup","nested"],["extraActions",""],["gridItemActions",""],["innerGridItem",""],["topActions","matMenu"],["mat-menu-item","","type","submit",3,"click",4,"ngIf"],["type","button","mat-menu-item","",3,"click",4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown",4,"ngIf"],["mat-menu-item","","type","button",3,"mousedown","touchstart",4,"ngIf"],["mat-menu-item","","type","submit",3,"click"],["type","button","mat-menu-item","",3,"click"],["type","button","mat-menu-item","",3,"mousedown"],["mat-menu-item","","type","button",3,"mousedown","touchstart"],["mat-button","","type","button","class","drawer-trigger",3,"click",4,"ngIf"],["mat-button","","type","button",3,"matMenuTriggerFor",4,"ngIf"],["class","style-title",4,"ngIf"],["class","spacer",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"display-type"],["required","","formControlName","displayType"],["value","page"],["value","form"],["value","json"],[1,"layout-type"],["required","","formControlName","layoutType"],["value","grid"],["value","gridless"],["value","split"],["class","brand",4,"ngIf"],["mat-button","","type","button",1,"drawer-trigger",3,"click"],["mat-button","","type","button",3,"matMenuTriggerFor"],[1,"style-title"],[1,"spacer"],[1,"brand"],["cdkDropList","",1,"panel-dropzone",3,"cdkDropListData","multiple","disableClick","change","cdkDropListDropped"],["panes",""],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){if(1&t){var a=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"druid-layout-sidenav",3),r.\u0275\u0275listener("close",function(){r.\u0275\u0275restoreView(a);var u=r.\u0275\u0275reference(2);return r.\u0275\u0275resetView(u.toggle())}),r.\u0275\u0275elementStart(4,"nav")(5,"ul"),r.\u0275\u0275template(6,W9,3,0,"li",4),r.\u0275\u0275template(7,X9,3,0,"li",4),r.\u0275\u0275template(8,Q9,3,0,"li",4),r.\u0275\u0275template(9,Y9,3,0,"li",4),r.\u0275\u0275template(10,J9,3,0,"li",4),r.\u0275\u0275template(11,eU,3,0,"li",4),r.\u0275\u0275elementStart(12,"li")(13,"button",5),r.\u0275\u0275listener("mousedown",function(){return e.editor.addContent(0)})("touchstart",function(){return e.editor.addContent(0)}),r.\u0275\u0275text(14,"Add Content"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(15,"li")(16,"button",5),r.\u0275\u0275listener("mousedown",function(){return e.editor.editPanelProps(0)})("touchstart",function(){return e.editor.editPanelProps(0)}),r.\u0275\u0275text(17,"Props"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275template(18,tU,3,0,"li",4),r.\u0275\u0275template(19,nU,3,0,"li",4),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275elementStart(20,"mat-sidenav-content")(21,"classifieds-ui-gridless-layout",6),r.\u0275\u0275template(22,pU,26,7,"ng-template",null,7,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275template(24,mU,1,1,"ng-template",null,8,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275template(26,vU,4,4,"ng-template",null,9,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(28,"mat-menu",null,10),r.\u0275\u0275template(30,yU,2,0,"button",11),r.\u0275\u0275template(31,_U,2,0,"button",12),r.\u0275\u0275template(32,xU,2,0,"button",12),r.\u0275\u0275template(33,bU,2,0,"button",12),r.\u0275\u0275template(34,CU,2,0,"button",13),r.\u0275\u0275template(35,wU,2,0,"button",13),r.\u0275\u0275elementStart(36,"button",5),r.\u0275\u0275listener("mousedown",function(){return e.editor.addContent(0)})("touchstart",function(){return e.editor.addContent(0)}),r.\u0275\u0275text(37,"Add Content"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(38,"button",5),r.\u0275\u0275listener("mousedown",function(){return e.editor.editPanelProps(0)})("touchstart",function(){return e.editor.editPanelProps(0)}),r.\u0275\u0275text(39,"Props"),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(40,SU,2,0,"button",14),r.\u0275\u0275template(41,EU,2,0,"button",14),r.\u0275\u0275elementEnd()}2&t&&(r.\u0275\u0275property("hasBackdrop",!1),r.\u0275\u0275advance(6),r.\u0275\u0275property("ngIf",e.savable),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.savable||e.nested),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.nested),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.nested),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.savable),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.savable),r.\u0275\u0275advance(7),r.\u0275\u0275property("ngIf",!e.editor.hasPanelStyle(0)),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.editor.hasPanelStyle(0)),r.\u0275\u0275advance(2),r.\u0275\u0275property("formGroup",e.controlContainer.control)("nested",e.nested),r.\u0275\u0275advance(9),r.\u0275\u0275property("ngIf",e.savable),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.savable||e.nested),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.nested),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.nested),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.savable),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.savable),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngIf",!e.editor.hasPanelStyle(0)),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.editor.hasPanelStyle(0)))},dependencies:[P.NgForOf,P.NgIf,P.NgTemplateOutlet,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,Fl.CdkDropList,Fl.CdkDropListGroup,Fl.CdkDrag,bi.MatLegacyOption,pi.MatLegacyButton,g_.MatIcon,En.MatLegacyFormField,_a.MatLegacyMenu,_a.MatLegacyMenuItem,_a.MatLegacyMenuTrigger,Fi.MatLegacySelect,ep.MatSidenav,ep.MatSidenavContainer,ep.MatSidenavContent,SE,bO,SO],styles:[".layout-type[_ngcontent-%COMP%]     .mat-form-field-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.layout-type[_ngcontent-%COMP%]     .mat-form-field-infix, .display-type[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none;padding:0;margin:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field, .display-type[_ngcontent-%COMP%]     .mat-form-field{width:70px}.layout-type[_ngcontent-%COMP%]     .mat-select-value, .display-type[_ngcontent-%COMP%]     .mat-select-value{text-align:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-underline, .display-type[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.mat-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}.cdk-drag[_ngcontent-%COMP%]{padding:.25em}.brand[_ngcontent-%COMP%]{font-family:sans-serif;text-align:right;flex:1;letter-spacing:.2em;font-weight:lighter;color:#c82913}.spacer[_ngcontent-%COMP%]{flex:1}.style-title[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:500;text-transform:lowercase;color:#000}.mat-icon[_ngcontent-%COMP%]{color:#000}.drawer-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}"]}),o}(),yz=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a){var s;return(0,f.Z)(this,e),(s=t.call(this,a)).controlContainer=a,s}return(0,y.Z)(e,[{key:"ngOnInit",value:function(){}}]),e}(KI);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.ControlContainer,8))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-gridless-layout-renderer"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[[3,"displayMainControls","displayItemHeader"],["innerGridItem",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"classifieds-ui-gridless-layout",0),r.\u0275\u0275template(1,AU,1,4,"ng-template",null,1,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementEnd()),2&t&&r.\u0275\u0275property("displayMainControls",e.displayMainControls)("displayItemHeader",e.displayItemHeader)},dependencies:[P.NgTemplateOutlet,bO],styles:["[_nghost-%COMP%]{height:100%}"]}),o}(),_z=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a){var s;return(0,f.Z)(this,e),(s=t.call(this,a)).controlContainer=a,s}return(0,y.Z)(e,[{key:"gridItems",get:function(){return this.dashboard.map(function(s,u){return(0,b.Z)((0,b.Z)({},s),{},{cols:Math.floor(s.cols),weight:u})})}},{key:"ngOnInit",value:function(){}}]),e}(qI);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-split-layout-editor"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:42,vars:17,consts:[["autosize","",3,"hasBackdrop"],["fixedInViewport","","mode","over"],["drawer",""],[3,"close"],[4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown"],["type","button","mat-menu-item","",3,"click"],["cdkDropListGroup","",3,"nested","formGroup","dashboard","layoutSetting","rowSettings","columnSettings","itemAdded","itemRemoved","layoutSettingChange","rowSettingsChange","columnSettingsChange"],["splitLayout",""],["extraActions",""],["gridItemActions",""],["innerGridItem",""],["topActions","matMenu"],["mat-menu-item","","type","submit",3,"click",4,"ngIf"],["mat-menu-item","","type","button",3,"click",4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown",4,"ngIf"],["mat-menu-item","","type","submit",3,"click"],["mat-menu-item","","type","button",3,"click"],["mat-button","","type","button","class","drawer-trigger",3,"click",4,"ngIf"],["mat-button","","type","button",3,"matMenuTriggerFor",4,"ngIf"],["class","spacer",4,"ngIf"],[1,"display-type"],["required","","formControlName","displayType"],["value","page"],["value","form"],["value","json"],[1,"layout-type"],["required","","formControlName","layoutType"],["value","gridless"],["value","split"],[4,"ngTemplateOutlet"],["class","brand",4,"ngIf"],["mat-button","","type","button",1,"drawer-trigger",3,"click"],["mat-button","","type","button",3,"matMenuTriggerFor"],[1,"spacer"],[1,"brand"],["mat-button","","type","button",1,"panel-actions-btn",3,"matMenuTriggerFor"],["panelActions","matMenu"],["type","button","mat-menu-item","",3,"mousedown","touchstart"],["mat-menu-item","","type","button",3,"mousedown","touchstart",4,"ngIf"],["type","button","mat-menu-item","",1,"delete",3,"mousedown","touchstart"],["class","style-title",4,"ngIf"],["mat-menu-item","","type","button",3,"mousedown","touchstart"],[1,"style-title"],["cdkDropList","",1,"panel-dropzone",3,"cdkDropListData","multiple","disableClick","change","cdkDropListDropped"],["panes",""],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){if(1&t){var a=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"druid-layout-sidenav",3),r.\u0275\u0275listener("close",function(){r.\u0275\u0275restoreView(a);var u=r.\u0275\u0275reference(2);return r.\u0275\u0275resetView(u.toggle())}),r.\u0275\u0275elementStart(4,"nav")(5,"ul"),r.\u0275\u0275template(6,kU,3,0,"li",4),r.\u0275\u0275elementStart(7,"li")(8,"button",5),r.\u0275\u0275listener("mousedown",function(){r.\u0275\u0275restoreView(a);var u=r.\u0275\u0275reference(22);return r.\u0275\u0275resetView(u.addRow())}),r.\u0275\u0275text(9,"Add Row"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(10,"li")(11,"button",6),r.\u0275\u0275listener("click",function(){return e.editor.onPropertiesClick()}),r.\u0275\u0275text(12,"Props"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(13,"li")(14,"button",5),r.\u0275\u0275listener("mousedown",function(){r.\u0275\u0275restoreView(a);var u=r.\u0275\u0275reference(22);return r.\u0275\u0275resetView(u.layoutSettings("global"))}),r.\u0275\u0275text(15,"Layout Settings"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275template(16,RU,3,0,"li",4),r.\u0275\u0275template(17,DU,3,0,"li",4),r.\u0275\u0275template(18,TU,3,0,"li",4),r.\u0275\u0275template(19,IU,3,0,"li",4),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275elementStart(20,"mat-sidenav-content")(21,"classifieds-ui-split-layout",7,8),r.\u0275\u0275listener("itemAdded",function(){return e.editor.onItemAdded()})("itemRemoved",function(u){return e.editor.onItemRemoved(u)})("layoutSettingChange",function(u){return e.editor.onLayoutSettingChange(u)})("rowSettingsChange",function(u){return e.editor.onRowSettingsChange(u)})("columnSettingsChange",function(u){return e.editor.onColumnSettingsChange(u)}),r.\u0275\u0275template(23,LU,23,6,"ng-template",null,9,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275template(25,zU,16,4,"ng-template",null,10,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275template(27,qU,4,4,"ng-template",null,11,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(29,"mat-menu",null,12),r.\u0275\u0275template(31,KU,2,0,"button",13),r.\u0275\u0275elementStart(32,"button",5),r.\u0275\u0275listener("mousedown",function(){r.\u0275\u0275restoreView(a);var u=r.\u0275\u0275reference(22);return r.\u0275\u0275resetView(u.addRow())}),r.\u0275\u0275text(33,"Add Row"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(34,"button",6),r.\u0275\u0275listener("click",function(){return e.editor.onPropertiesClick()}),r.\u0275\u0275text(35,"Props"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(36,"button",5),r.\u0275\u0275listener("mousedown",function(){r.\u0275\u0275restoreView(a);var u=r.\u0275\u0275reference(22);return r.\u0275\u0275resetView(u.layoutSettings("global"))}),r.\u0275\u0275text(37,"Layout Settings"),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(38,WU,2,0,"button",14),r.\u0275\u0275template(39,XU,2,0,"button",15),r.\u0275\u0275template(40,QU,2,0,"button",15),r.\u0275\u0275template(41,YU,2,0,"button",14),r.\u0275\u0275elementEnd()}2&t&&(r.\u0275\u0275property("hasBackdrop",!1),r.\u0275\u0275advance(6),r.\u0275\u0275property("ngIf",e.savable),r.\u0275\u0275advance(10),r.\u0275\u0275property("ngIf",e.nested),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.savable),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.savable),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.nested),r.\u0275\u0275advance(2),r.\u0275\u0275property("nested",e.nested)("formGroup",e.controlContainer.control)("dashboard",e.dashboard)("layoutSetting",e.layoutSetting)("rowSettings",e.rowSettings)("columnSettings",e.columnSettings),r.\u0275\u0275advance(10),r.\u0275\u0275property("ngIf",e.savable),r.\u0275\u0275advance(7),r.\u0275\u0275property("ngIf",e.nested),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.savable),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.savable),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.nested))},dependencies:[P.NgForOf,P.NgIf,P.NgTemplateOutlet,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,Fl.CdkDropList,Fl.CdkDropListGroup,Fl.CdkDrag,bi.MatLegacyOption,pi.MatLegacyButton,g_.MatIcon,En.MatLegacyFormField,_a.MatLegacyMenu,_a.MatLegacyMenuItem,_a.MatLegacyMenuTrigger,Fi.MatLegacySelect,ep.MatSidenav,ep.MatSidenavContainer,ep.MatSidenavContent,SE,CO,SO],styles:[".layout-type[_ngcontent-%COMP%]     .mat-form-field-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.layout-type[_ngcontent-%COMP%]     .mat-form-field-infix, .display-type[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none;padding:0;margin:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field, .display-type[_ngcontent-%COMP%]     .mat-form-field{width:70px}.layout-type[_ngcontent-%COMP%]     .mat-select-value, .display-type[_ngcontent-%COMP%]     .mat-select-value{text-align:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-underline, .display-type[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.mat-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}.cdk-drag[_ngcontent-%COMP%]{padding:.25em}.panel-actions-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:rotate(-90deg)}.brand[_ngcontent-%COMP%]{font-family:sans-serif;text-align:right;flex:1;letter-spacing:.2em;font-weight:lighter;color:#c82913}.spacer[_ngcontent-%COMP%]{flex:1}.style-title[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:500;text-transform:lowercase;color:#000}.drawer-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}"]}),o}(),xz=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a){var s;return(0,f.Z)(this,e),(s=t.call(this,a)).controlContainer=a,s}return(0,y.Z)(e,[{key:"ngOnInit",value:function(){}}]),e}(KI);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.ControlContainer,8))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-flex-layout-renderer"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[[3,"dashboard","layoutSetting","rowSettings","columnSettings"],["innerGridItem",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"classifieds-ui-flex-layout",0),r.\u0275\u0275template(1,ez,1,4,"ng-template",null,1,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementEnd()),2&t&&r.\u0275\u0275property("dashboard",null==e.panelPage?null:e.panelPage.gridItems)("layoutSetting",e.panelPage.layoutSetting)("rowSettings",e.panelPage.rowSettings)("columnSettings",e.columnSettings)},dependencies:[P.NgTemplateOutlet,mz],encapsulation:2}),o}(),bz=function(){var n=new Map([["row",[new Nt.Attribute({name:"flexGrow",type:Nt.AttributeTypes.Text,label:"Flex Grow",required:!1,widget:"text",options:{},attributes:[]}),new Nt.Attribute({name:"flexShrink",type:Nt.AttributeTypes.Text,label:"Flex Shrink",required:!1,widget:"text",options:{},attributes:[]}),new Nt.Attribute({name:"flexBasis",type:Nt.AttributeTypes.Text,label:"Flex Basis",required:!1,widget:"text",options:{},attributes:[]}),new Nt.Attribute({name:"height",type:Nt.AttributeTypes.Text,label:"Height",required:!1,widget:"text",options:{},attributes:[]}),new Nt.Attribute({name:"direction",type:Nt.AttributeTypes.Text,label:"Direction",required:!1,widget:"text",options:{},attributes:[]})]],["column",[new Nt.Attribute({name:"height",type:Nt.AttributeTypes.Text,label:"Height",required:!1,widget:"text",options:{},attributes:[]})]],["global",[new Nt.Attribute({name:"direction",type:Nt.AttributeTypes.Text,label:"Direction",required:!1,widget:"text",options:{},attributes:[]})]]]);return new wO({id:"split",title:"Split",editor:_z,renderer:xz,settings:n})},EO=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),[bz(),new wO({id:"gridless",title:"Gridless",editor:vz,renderer:yz,settings:new Map})].forEach(function(e){t.register(e)})});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(AE))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule,v.FormsModule,dr.RouterModule,v.ReactiveFormsModule,Oi.MaterialModule,oi,sE,gO,EE,Vn.UtilsModule,Hy,Nt.AttributesModule]}),o}();function wz(o,n){if(1&o&&r.\u0275\u0275element(0,"ngx-json-viewer",12),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275property("json",t.jsonData)("expanded",!1)}}var kE=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.params=[],n&&(this.url=n.url,this.method=n.method?n.method:void 0,void 0!==n.renderer&&(this.renderer=new cA(n.renderer)),void 0!==n.params&&(this.params=n.params.map(function(t){return new Mi(t)})),n.body&&(this.body=new El(n.body)))}),v_=function(){var o=function(){function n(t,e,a){var s=this;(0,f.Z)(this,n),this.fb=t,this.datasourceApi=e,this.tokenizerService=a,this.dataChange=new r.EventEmitter,this.contexts=[],this.sourceForm=this.fb.group({url:this.fb.control("",v.Validators.required),params:this.fb.control([]),body:this.fb.control(""),method:this.fb.control("get",[v.Validators.required])}),this.restSource$=new U.X(new kE),this.componentDestroyed=new ae.x,this.refreshData$=new ae.x,this.refreshSubscription=this.refreshData$.pipe((0,Ce.U)(function(){return s.generateUrl()}),(0,te.b)(function(u){return console.log(u)}),(0,Q.h)(function(u){return u&&""!==u.trim()}),(0,st.w)(function(u){return s.datasourceApi.getData(u).pipe((0,si.K)(function(l){return console.log(l),(0,Le.of)([])}))}),(0,Qr.R)(this.componentDestroyed)).subscribe(function(u){s.jsonData=u,s.dataChange.emit(u)}),this.urlChangeSub=this.sourceForm.get("url").valueChanges.pipe((0,Ar.b)(500),(0,Q.h)(function(u){return u&&""!==u.trim()}),(0,Ce.U)(function(u){return[u,u.indexOf("?")]}),(0,Ce.U)(function(u){var l=(0,g.Z)(u,2),c=l[0],h=l[1];return[h>-1?c.substring(0,h):c,h>-1?c.substring(h+1):""]})).subscribe(function(u){var l=(0,g.Z)(u,2),h=l[1],C=l[0].split("/").reduce(function(N,F,$){return 0===F.indexOf(":")?(0,b.Z)((0,b.Z)({},N),{},(0,d.Z)({},F.substr(1),F)):N},{}),T=(0,b.Z)((0,b.Z)({},C),Fa.parse(h));s.paramsParsed=T}),this.restSourceSub=this.restSource$.pipe((0,te.b)(function(u){u?(s.sourceForm.get("url").setValue(u.url),s.sourceForm.get("method").setValue(u.method?u.method:""),s.sourceForm.get("body").setValue(u.body?(0,b.Z)((0,b.Z)({},u.body),{},{jsScript:""}):"")):(s.sourceForm.get("url").setValue(""),s.sourceForm.get("method").setValue(""),s.sourceForm.get("body").setValue(""))})).subscribe(),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"restSource",set:function(e){this.restSource$.next(e)}},{key:"ngOnInit",value:function(){var e=this;this.sourceForm.valueChanges.pipe((0,Ar.b)(1e3)).subscribe(function(){console.log("refresh data"),e.refreshData$.next(void 0)})}},{key:"ngOnDestroy",value:function(){this.componentDestroyed.next(void 0),this.componentDestroyed.complete()}},{key:"writeValue",value:function(e){e&&this.sourceForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.sourceForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.sourceForm.disable():this.sourceForm.enable()}},{key:"validate",value:function(e){return this.sourceForm.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}},{key:"generateUrl",value:function(){console.log("generate url");for(var e=this.sourceForm.get("url").value,a=e?e.split("?",2):["",""],s=(0,g.Z)(a,2),u=s[0],l=s[1],c=Fa.parse(l),h={},C=u.split("/"),T=C.length,N=[],F=0,$=0;$<T;$++)if(0===C[$].indexOf(":")){if(!this.sourceForm.get("params").value[F])return"";var se=this.sourceForm.get("params").value[F].mapping;N.push("static"===se.value.type?se.value.value:se.value.testValue),F++}else N.push(C[$]);for(var ue in c)if("string"==typeof c[ue]&&c[ue].indexOf(":")>-1){if(!this.sourceForm.get("params").value[F])return"";var ge=this.sourceForm.get("params").value[F].mapping;h[ue]="static"===ge.type?ge.value:ge.testValue,F++}var Se=N.join("/")+(""!==l?"?"+Fa.stringify((0,b.Z)((0,b.Z)({},c),h)):"");return console.log(Se),Se}},{key:"onDataChange",value:function(e){this.tokens=this.tokenizerService.generateGenericTokens(e[0])}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(iI),r.\u0275\u0275directiveInject(Pr))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rest-source-form"]],inputs:{restSource:"restSource",contexts:"contexts"},outputs:{dataChange:"dataChange"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:19,vars:7,consts:[["direction","horizontal",3,"formGroup"],["as-split-area","","size","50"],["required","","formControlName","method"],["value","get"],["value","post"],["value","put"],["value","delete"],["matInput","","placeholder","Url","formControlName","url","required",""],["formControlName","body","rows","10","cols","40",3,"rootForm","tokens"],["formControlName","params",3,"params","paramValues","contexts"],["size","50"],[3,"json","expanded",4,"ngIf"],[3,"json","expanded"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"as-split",0)(1,"div",1)(2,"div")(3,"mat-form-field")(4,"mat-select",2)(5,"mat-option",3),r.\u0275\u0275text(6,"GET"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(7,"mat-option",4),r.\u0275\u0275text(8,"POST"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"mat-option",5),r.\u0275\u0275text(10,"PUT"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(11,"mat-option",6),r.\u0275\u0275text(12,"DELETE"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(13,"mat-form-field"),r.\u0275\u0275element(14,"input",7),r.\u0275\u0275elementEnd()(),r.\u0275\u0275element(15,"classifieds-ui-snippet-form",8)(16,"classifieds-ui-params-form",9),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(17,"as-split-area",10),r.\u0275\u0275template(18,wz,1,2,"ngx-json-viewer",11),r.\u0275\u0275elementEnd()()),2&t&&(r.\u0275\u0275property("formGroup",e.sourceForm),r.\u0275\u0275advance(15),r.\u0275\u0275property("rootForm",!1)("tokens",e.tokens),r.\u0275\u0275advance(1),r.\u0275\u0275property("params",e.paramsParsed)("paramValues",e.restSource$.value.params)("contexts",e.contexts),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",e.jsonData))},dependencies:[P.NgIf,v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,bi.MatLegacyOption,En.MatLegacyFormField,Hr.MatLegacyInput,Fi.MatLegacySelect,Wy,Xy,r0,mE,e_]}),o}(),Sz=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.attributeSerializer=t,this.controlContainer=e,this.contexts=[]}return(0,y.Z)(n,[{key:"settings",set:function(e){this.restSource=e?new kE(this.attributeSerializer.deserializeAsObject(e)):void 0}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Nt.AttributeSerializerService),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rest-datasource"]],inputs:{settings:"settings",contexts:"contexts"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"restSource","contexts"]],template:function(t,e){1&t&&(r.\u0275\u0275elementContainerStart(0,0),r.\u0275\u0275element(1,"classifieds-ui-rest-source-form",1),r.\u0275\u0275elementContainerEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.controlContainer.control),r.\u0275\u0275advance(1),r.\u0275\u0275property("restSource",e.restSource)("contexts",e.contexts))},dependencies:[v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,v_],encapsulation:2}),o}(),y_=function(n){var h,t=n.method,e=n.url,a=n.data,s=n.options,u=n.params,l=n.http;if(a instanceof Error)return(0,Le.of)([]);switch(t){case"DELETE":h=l.delete(e,s),u.has("saveDelay")&&(h=h.pipe((0,Rr.g)(+u.get("saveDelay"))));break;case"GET":var C=u.has("suffix")?e+u.get("suffix"):e;h=l.get(C,s),u.has("getDelay")&&(h=h.pipe((0,Rr.g)(+u.get("getDelay"))));break;case"POST":h=l.post(e,a,s),u.has("saveDelay")&&(h=h.pipe((0,Rr.g)(+u.get("saveDelay"))));break;case"PUT":h=l.put(e,a,s),u.has("saveDelay")&&(h=h.pipe((0,Rr.g)(+u.get("saveDelay"))));break;default:var T=new Error("Unimplemented HTTP method, "+t);h=(0,$a._)(T)}return u.has("timeout")&&(h=h.pipe((0,Wi.V)(+u.get("timeout")+ +u.get("saveDelay")))),h.pipe((0,si.K)(function(){return(0,Le.of)([])}))},PO=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.attrbuteSerializer=t,this.http=e,this.snippetParserService=a,this.urlGenerator=s}return(0,y.Z)(n,[{key:"fetchDataset",value:function(e){var a=this,s=e.settings,u=e.metadata;return(0,Le.of)(new pr).pipe((0,te.b)(function(){return console.log("START rest fetch")}),(0,Ce.U)(function(){return a.attrbuteSerializer.deserializeAsObject(s)}),(0,Ce.U)(function(l){return new kE(l)}),(0,st.w)(function(l){return a.urlGenerator.getUrl(l.url,l.params,u).pipe((0,Ce.U)(function(c){return new kE((0,b.Z)((0,b.Z)({},l),{},{url:c}))}))}),(0,Q.h)(function(l){return l.url&&""!==l.url.trim()&&l.url.indexOf("http")>-1}),(0,st.w)(function(l){return y_({url:l.url,method:"POST"===l.method.toUpperCase()?"POST":"GET",http:a.http,params:new Map}).pipe((0,si.K)(function(){return(0,Le.of)([])}),(0,Ce.U)(function(c){return Array.isArray(c)?c:[c]}),(0,Ce.U)(function(c){return new pr({results:c})}))}),(0,te.b)(function(){return console.log("END rest fetch")}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Nt.AttributeSerializerService),r.\u0275\u0275inject(O.HttpClient),r.\u0275\u0275inject(z3),r.\u0275\u0275inject(n_))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),AO=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a){var s;return(0,f.Z)(this,e),(s=t.call(this,a)).pluralizer2=a,s}return(0,y.Z)(e,[{key:"getResourceUrls",value:function(s,u){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?u:ac(u);return{entityResourceUrl:"".concat(c,"/").concat(s,"/").toLowerCase(),collectionResourceUrl:"".concat(c,"/").concat(this.pluralizer2.pluralize(s),"/").toLowerCase()}}}]),e}(A0);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(uu))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),Az=function(){var o=(0,y.Z)(function n(t,e,a,s,u,l,c,h,C){(0,f.Z)(this,n),t.register(function(n,t,e){return new ns({id:"rest",title:"Rest",editor:Sz,fetch:function(s){return n.fetchDataset({settings:s.settings,metadata:s.metadata})},editorOptions:function(){return(0,Le.of)(new hE({fullscreen:!0}))},getBindings:function(s){var u=s.settings;return(0,Le.of)([]).pipe((0,Ce.U)(function(){return e.deserializeAsObject(u)}),(0,Ce.U)(function(c){return new Os(c)}),(0,st.w)(function(c){return t.extractContexts(c.params)}),(0,Ce.U)(function(c){return c.map(function(h){return new pn.ContentBinding({id:h,type:"context"})})}))}})}(e,a,s)),u.register(function(n,t,e,a){return new Kd({id:"rest",title:"Rest",create:function(u){var l=u.object,c=u.params;return(0,Le.of)({success:!1}).pipe((0,st.w)(function(){return n.paramValues(new Map(Object.keys(c).map(function(h){return[h,c[h]]})))}),(0,st.w)(function(h){return y_({method:"POST",url:e.entityResource(h.get("entityName"),h.has("root")?h.get("root"):a.root?a.root:"api",!0),data:l||new Error("No entity to add"),params:h,http:t})}),(0,Ce.U)(function(){return{success:!0,entity:l}}))},read:function(u){return Qa(u),(0,Le.of)({success:!1})},update:function(u){var l=u.object,c=u.identity,h=u.params,C=u.parentObject;return(0,Le.of)({success:!1}).pipe((0,st.w)(function(){return c({object:l,parentObject:C})}),(0,st.w)(function(T){var N=T.identity;return n.paramValues(new Map(Object.keys(h).map(function(F){return[F,h[F]]}))).pipe((0,Ce.U)(function(F){return{identity:N,options:F}}))}),(0,st.w)(function(T){var N=T.identity,F=T.options;return y_({method:"PUT",url:e.entityResource(F.get("entityName"),F.has("root")?F.get("root"):a.root?a.root:"api",!0)+"".concat(N),data:l||new Error("No entity to add"),params:F,http:t})}),(0,Ce.U)(function(){return{success:!0,entity:l}}))},delete:function(u){return Qa(u),(0,Le.of)({success:!1})},query:function(u){var l=u.params,c=u.rule;return(0,Le.of)({success:!1}).pipe((0,st.w)(function(){return n.paramValues(new Map(Object.keys(l).map(function(h){return[h,l[h]]})))}),(0,st.w)(function(h){return new W.y(function(C){var T=c?c.conditions.all.reduce(function(F,$){return[].concat((0,_.Z)(F),(0,_.Z)($.any.filter(function(se){return"identity"!==se.fact}).map(function(se){return"".concat(se.path.substr(2),"=").concat(se.value)})))},[]):[],N=c?c.conditions.all.reduce(function(F,$){return F||$.any.find(function(se){return"identity"===se.fact})},void 0):void 0;C.next({identityFact:N,options:h,query:T.length>0?new O.HttpParams({fromString:T.join("&")}):void 0,path:N?N.value:""}),C.complete()})}),(0,st.w)(function(h){var C=h.options,T=h.query,N=h.path,F=h.identityFact;return Or(function(){return!!F},y_({method:"GET",url:e.entityResource(C.get("entityName"),C.has("root")?C.get("root"):a.root?a.root:"api",!0)+N,options:{params:T},params:C,http:t}).pipe((0,Ce.U)(function($){return{success:!0,entities:Array.isArray($)?$:[$]}})),y_({method:"GET",url:e.collectionResource(C.get("entityName"),C.has("root")?C.get("root"):a.root?a.root:"api")+N,options:{params:T},params:C,http:t}).pipe((0,Ce.U)(function($){return{success:!0,entities:$}})))}))}})}(l,c,h,C))});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(co),r.\u0275\u0275inject(PO),r.\u0275\u0275inject(yA),r.\u0275\u0275inject(Nt.AttributeSerializerService),r.\u0275\u0275inject(Pu),r.\u0275\u0275inject(Ts),r.\u0275\u0275inject(O.HttpClient),r.\u0275\u0275inject(AO),r.\u0275\u0275inject(xs))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({providers:[PO,AO],imports:[P.CommonModule,v.FormsModule,v.ReactiveFormsModule,Oi.MaterialModule,sE,hs,aA,Al,Hy,a_,wu]}),o}(),__=S(87260),zA=S(38369),kz=S(39663),Rz=S(10420),kO=S(1817),RO=S(96607),Tz=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({}),o}(),np=function(n){var t=n.selector,a=n.document.createDocumentFragment();if(!t||-1!==t.indexOf("undefined"))return!1;try{a.querySelector(t)}catch{return!1}return!0},Iz=/\/\*[\s\S]*?\*\//g,Oz=/([^\:]+):([^\;]*);/,Fz=/(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+\;(?!\s*\*\/))/gim,RE=function(n){return typeof n>"u"||0==n.length||null==n},Mz={ordered:!1,comments:!1,stripComments:!1,split:!1},Nz=function(){var o=function(){function n(t){var e=this;(0,f.Z)(this,n),this.document=t,this.mutate$=new ae.x,this.mutated$=new ae.x,this.mutateSub=this.mutate$.pipe((0,Q.h)(function(a){var s=a.record;return"attributes"===s.type&&"style"===s.attributeName&&!!s.target}),(0,Ar.b)(2e3),(0,st.w)(function(a){return e.mapRecord({record:a.record,overlay:a.overlay})}),(0,te.b)(function(a){return e.mutated$.next({stylesheet:a.stylesheet})})).subscribe()}return(0,y.Z)(n,[{key:"stylize",value:function(e){var a=this,s=e.targetNode,u=new Map;new MutationObserver(function(h){h.forEach(function(C){a.mutate$.next({record:C,overlay:u})})}).observe(s,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"],attributeOldValue:!0})}},{key:"mapRecord",value:function(e){var a=this,s=e.record,u=e.overlay;return new W.y(function(l){var c=RO.default(s.target),h=a.toJSON("".concat(c," { ").concat(s.oldValue," }")),C=h.children[c]?Object.keys(h.children[c].attributes).reduce(function(se,ue){return(0,b.Z)((0,b.Z)({},se),{},(0,d.Z)({},Tl(ue.replace("-","_"),!1),h.children[c].attributes[ue]))},{}):void 0,T=Object.keys(s.target.style).reduce(function(se,ue){return!Number.isNaN(parseInt(ue))&&s.target.style.hasOwnProperty(Tl(s.target.style[ue].replace("-","_"),!1))?(0,b.Z)((0,b.Z)({},se),{},(0,d.Z)({},Tl(s.target.style[ue].replace("-","_"),!1),s.target.style[Tl(s.target.style[ue].replace("-","_"),!1)])):se},{}),N=o_(C,T);u.set(c,N);var F=[];u.forEach(function(se,ue){var Se=ue.split(" ").reduce(function(ot,dt,Ot){return-1!==dt.indexOf(".pane-")||-1!==dt.indexOf(".panel-")?{selector:[].concat((0,_.Z)(ot.selector),[dt.replace(/^(.*?)(\.pane-|\.panel-page|\.panel-)([0-9]*)(.*?)$/,"$2$3")]),chars:ot.chars+dt.length,lastIndex:ot.chars+Ot+dt.length}:(0,b.Z)((0,b.Z)({},ot),{},{chars:ot.chars+dt.length})},{selector:[],chars:0,lastIndex:0});if(0!==Se.selector.length){var we=(Se.selector.join(" ")+" "+ue.slice(Se.lastIndex).split(">").join("")).replace(/(\.ng\-[a-zA-Z0-9_-]*)/gm,"").trim();0===we.indexOf(".panel-page")&&(we=we.substr(12).trim()),np({selector:we,document:a.document})&&F.push(we+" { "+Object.keys(se).reduce(function(ot,dt){return dt.match(/^[a-zA-Z-]*$/gm)?"".concat(ot).concat(function Yj(o){return o.replace(/_/g,"-")}(function s_(o){var n=""+o;return n=n.replace(new RegExp("(?:([A-Za-z\\d])|^)("+is().acronymRegex.source+")(?=\\b|[^a-z])","g"),function(t,e,a){return(e||"")+(e?"_":"")+a.toLowerCase()}),(n=(n=(n=n.replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2")).replace(/([a-z\d])([A-Z])/g,"$1_$2")).replace(/-/g,"_")).toLowerCase()}(dt)),": ").concat(se[dt],";"):ot},"")+" }")}});var $=F.join("\n");l.next({stylesheet:$}),l.complete()})}},{key:"toJSON",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mz,h={children:{},attributes:{}},C=null,T=0;for(a.stripComments&&(a.comments=!1,e=e.replace(Iz,""));null!=(C=Fz.exec(e));)if(!RE(C[1])&&a.comments)h[T++]=C[1].trim();else if(RE(C[2])){if(!RE(C[3]))return h;if(!RE(C[4])){var Se=C[4].trim(),we=Oz.exec(Se);if(we){var He=we[1].trim(),ot=we[2].trim();if(a.ordered)h[T++]={name:He,value:ot,type:"attr"};else if(He in h.attributes){var dt=h.attributes[He];dt instanceof Array||(h.attributes[He]=[dt]),h.attributes[He].push(ot)}else h.attributes[He]=ot}else h[T++]=Se}}else{var N=C[2].trim(),F=this.toJSON(e,a);if(a.ordered)h[T++]={name:N,value:F,type:"rule"};else{var $=a.split?N.split(","):[N];for(var se in $){var ue=$[se].trim();if(ue in h.children)for(var ge in F.attributes)h.children[ue].attributes[ge]=F.attributes[ge];else h.children[ue]=F}}}return h}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(P.DOCUMENT))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),xa=function(){return(xa=xa||{})[xa.KEEP=0]="KEEP",xa[xa.ADD=1]="ADD",xa[xa.REMOVE=2]="REMOVE",xa}(),Vz=function(){var o=function(){function n(t){var e=this;(0,f.Z)(this,n),this.document=t,this.mutate=new ae.x,this.mutated$=new ae.x,this.mutateub=this.mutate.pipe((0,Q.h)(function(a){var s=a.record;return"attributes"===s.type&&"class"===s.attributeName&&!!s.target}),(0,Ar.b)(2e3),(0,st.w)(function(a){var u=a.overlay;return e.mapRecord({record:a.record,overlay:u,originals:a.originals}).pipe((0,si.K)(function(c){return(0,Le.of)({classes:u})}))}),(0,te.b)(function(a){return e.mutated$.next({classes:a.classes})})).subscribe()}return(0,y.Z)(n,[{key:"classify",value:function(e){var a=this,s=e.targetNode,u=new Map,l=new Map;new MutationObserver(function(C){C.forEach(function(T){a.mutate.next({record:T,overlay:u,originals:l})})}).observe(s,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["class"],attributeOldValue:!0})}},{key:"mapRecord",value:function(e){var a=this,s=e.record,u=e.overlay,l=e.originals;return new W.y(function(c){var h=RO.default(s.target),C="",T=s.oldValue.split(" ").map(function(we){return we.trim()}),F=h.split(" ").reduce(function(we,He,ot){return-1!==He.indexOf(".pane-")||-1!==He.indexOf(".panel-")?{selector:[].concat((0,_.Z)(we.selector),[He.replace(/^(.*?)(\.pane-|\.panel-page|\.panel-)([0-9]*)(.*?)$/,"$2$3")]),chars:we.chars+He.length,lastIndex:we.chars+ot+He.length}:(0,b.Z)((0,b.Z)({},we),{},{chars:we.chars+He.length})},{selector:[],chars:0,lastIndex:0});if(0!==F.selector.length){var $=h.substring(F.lastIndex).split(">").map(function(we){return we.trim()}).filter(function(we){return""!==we}).map(function(we,He){var ot=we.indexOf("."),dt=-1===ot?$:we.substring(0,ot),pt=(-1===ot?[]:we.substring(ot+1).split(".")).filter(function(Lt){return void 0!==T.find(function($t){return Lt===$t})});return(0===He?" > ":"")+dt+(0===pt.length?"":"."+pt.join("."))});0===(C=(F.selector.join(" ")+$.join(" > ")).replace(/(\.ng\-[a-zA-Z0-9_-]*)/gm,"")).indexOf(".panel-page")&&(C=C.substr(12).trim())}if(np({selector:C,document:a.document})){l.has(C)||l.set(C,new Set(T));var ue=s.target.classList,ge=new Map(Array.from(ue.values()).map(function(we){return["".concat(we),!l.has(C)||!l.get(C).has("".concat(we))&&0!=="".concat(we).indexOf("ng-")&&0!=="".concat(we).indexOf("mat-")?xa.ADD:xa.KEEP]})),Se=Array.from(l.get(C)).reduce(function(we,He){return[-1===Array.from(ue.values()).findIndex(function(ot){return ot===He})?He:void 0]},[]).filter(function(we){return void 0!==we});0!==Se.length&&Se.forEach(function(we){return ge.set(we,xa.REMOVE)}),0===ge.size&&u.has(C)?u.delete(C):0!==ge.size&&u.set(C,ge),c.next({classes:u}),c.complete()}else c.error(new Error('Selector invalid "'+C+'"')),c.complete()})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(P.DOCUMENT))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}();function Bz(o,n){}function Zz(o,n){if(1&o&&r.\u0275\u0275element(0,"classifieds-ui-panel-page",4),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275property("panelPage",t.panelPage)("nested",!0)("contexts",t.contexts)("css",t.filteredCss)("listeners",t.filteredListeners)("ancestory",t.ancestoryWithSelf)}}function Lz(o,n){if(1&o&&r.\u0275\u0275element(0,"classifieds-ui-panel-page",5),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275property("id",t.linkedPageId)("nested",!0)("contexts",t.contexts)("ancestory",t.ancestoryWithSelf)}}function jz(o,n){if(1&o&&r.\u0275\u0275element(0,"classifieds-ui-panel-page",4),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275property("panelPage",t.embedPanel)("nested",!0)("contexts",t.contexts)("css",t.filteredCss)("listeners",t.filteredListeners)("ancestory",t.ancestoryWithSelf)}}var $z=["panes"];function Uz(o,n){}function zz(o,n){if(1&o&&r.\u0275\u0275element(0,"classifieds-ui-render-pane",8),2&o){var t=n.$implicit,e=n.index,a=r.\u0275\u0275nextContext(3),s=r.\u0275\u0275reference(1);r.\u0275\u0275property("formControlName",e)("pluginName",t.contentPlugin)("settings",t.settings)("name",t.name)("label",t.label)("originPane",a.panel.panes[a.originMappings[e]])("contexts",t.contexts)("displayType",a.displayType)("resolvedContext",t.resolvedContext)("indexPosition",e)("css",a.filteredCss)("listeners",a.filteredListeners)("ancestory",a.ancestoryWithSelf$.value)("panes",s)("originPanes",a.originPanes)}}function Gz(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0)(1)(2,6),r.\u0275\u0275template(3,zz,1,15,"classifieds-ui-render-pane",7),r.\u0275\u0275elementContainerEnd()()()),2&o){var t=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(3),r.\u0275\u0275property("ngForOf",t.resolvedPanes)}}function Hz(o,n){if(1&o&&r.\u0275\u0275element(0,"classifieds-ui-render-pane",10),2&o){var t=n.$implicit,e=n.index,a=r.\u0275\u0275nextContext(3),s=r.\u0275\u0275reference(1);r.\u0275\u0275property("pluginName",t.contentPlugin)("settings",t.settings)("name",t.name)("label",t.label)("originPane",a.panel.panes[a.originMappings[e]])("contexts",t.contexts)("linkedPageId",t.linkedPageId)("displayType",a.displayType)("resolvedContext",t.resolvedContext)("indexPosition",e)("css",a.filteredCss)("listeners",a.filteredListeners)("ancestory",a.ancestoryWithSelf$.value)("panes",s)("originPanes",a.originPanes)}}function qz(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,Hz,1,15,"classifieds-ui-render-pane",9),r.\u0275\u0275elementContainerEnd()),2&o){var t=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",t.resolvedPanes)}}function Kz(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0)(1,4),r.\u0275\u0275template(2,Gz,4,1,"ng-container",5),r.\u0275\u0275template(3,qz,2,1,"ng-container",5),r.\u0275\u0275elementContainerEnd()()),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("ngSwitch",t.displayType),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngSwitchCase","form"),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngSwitchCase","page")}}var Wz=["renderPanelTpl"];function Xz(o,n){}function Qz(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",4),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.submit())}),r.\u0275\u0275text(1,"Submit"),r.\u0275\u0275elementEnd()}}function Yz(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0,0)(1,5),r.\u0275\u0275element(2,"classifieds-ui-render-panel",6),r.\u0275\u0275elementContainerEnd()()),2&o){var t=n.i,e=r.\u0275\u0275nextContext();r.\u0275\u0275property("formGroup",e.pageForm),r.\u0275\u0275advance(2),r.\u0275\u0275property("formControlName",t)("panel",e.panelPageCached.panels[t])("nested",e.nested$.value)("contexts",e.contexts$.value)("resolvedContext",e.resolvedContext)("contextsChanged",e.contextsChanged)("displayType",e.panelPageCached.displayType)("indexPosition",t)("css",e.filteredCss)("listeners",e.filteredListeners)("ancestory",e.ancestory$.value)}}var DE=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.viewContainerRef=t});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ViewContainerRef))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiPaneContentHost",""]]}),o}(),DO=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.viewContainerRef=t});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ViewContainerRef))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiLayoutRendererHost",""]]}),o}(),Zs=function(){function o(n,t,e,a,s,u,l,c,h,C,T,N,F,$,se,ue,ge,Se,we,He,ot,dt,Ot,pt,Lt,$t,tn){var Gt=this;(0,f.Z)(this,o),this.platformId=n,this.mediaSettings=t,this.routerStore=e,this.fb=a,this.el=s,this.inlineContextResolver=u,this.pageBuilderFacade=l,this.cpm=c,this.cxm=h,this.lpm=C,this.componentFactoryResolver=T,this.styleLoader=N,this.http=F,this.cssHelper=$,this.attributeSerializer=se,this.formService=ue,this.panelsContextService=ge,this.asyncApiCallHelperSvc=Se,this.crudDataHelperService=we,this.entityDefinitionService=He,this.ngZone=ot,this.persistService=dt,this.stylizerService=Ot,this.classifyService=pt,this.fileService=Lt,this.authFacade=$t,this.resolvedContext={},this.contextsChanged=[],this.persistenceEnabled=!1,this.onInit$=new ae.x,this.afterViewInit$=new ae.x,this.afterContentInit$=new ae.x,this.renderLayout$=new ae.x,this.id$=new U.X(void 0),this.panelPage$=new U.X(void 0),this.nested$=new U.X(!1),this.ancestory$=new U.X([]),this.contexts$=new U.X([]),this.instanceUniqueIdentity=vr(),this.isStable=!1,this.managedCssCache="",this.managedClassesCache={},this.filteredListeners=[],this.css$=new U.X({css:this.cssHelper.makeJsonNode(),classes:{}}),this.cssSub=this.css$.subscribe(function(Ut){Gt.nested$.value&&console.log("filtered css nested",Ut),Gt.filteredCss=Ut}),this.listeners$=new U.X([]),this.listenersSub=this.listeners$.pipe((0,te.b)(function(Ut){Gt.filteredListeners=Ut})).subscribe(),this.settingsFormArray=this.fb.array([]),this.pageForm=this.fb.group({panels:this.fb.array([])}),this.bridgeSub=this.pageForm.valueChanges.pipe((0,Q.h)(function(){return Gt.nested$.value}),(0,Ar.b)(500)).subscribe(function(Ut){console.log("write page"),console.log(Ut),Gt.settingsFormArray.clear();var qt=Gt.attributeSerializer.convertToGroup(Gt.attributeSerializer.serialize(Ut,"value").attributes[0]);Gt.settingsFormArray.push(qt),console.log(qt.value)}),this.idOrPanelPageSub=(0,Sr.a)([this.id$,this.panelPage$]).pipe((0,xu.x)(),(0,Ce.U)(function(Ut){var qt=(0,g.Z)(Ut,2);return{id:qt[0],panelPage:qt[1]}}),(0,Q.h)(function(Ut){return!!Ut.id||!!Ut.panelPage}),(0,st.w)(function(Ut){var qt=Ut.id;return Or(function(){return!qt},(0,Le.of)({panelPage:Ut.panelPage}),new W.y(function(Er){var ca=Gt.entityDefinitionService.getDefinition("PanelPage").metadata;return Gt.crudDataHelperService.evaluateCollectionPlugins({query:"identity=".concat(qt),plugins:ca.crud,op:"query"}).pipe((0,Ce.U)(function(ss){return ss&&0!==ss.length?ss[0]:void 0}),(0,te.b)(function(ss){Er.next({panelPage:ss}),Er.complete()})).subscribe()}))}),(0,st.w)(function(Ut){var qt=Ut.panelPage;return Gt.cpm.getPlugins(qt.panels.reduce(function(qn,Er){return Er.panes.forEach(function(ca){qn.includes(ca.contentPlugin)||qn.push(ca.contentPlugin)}),qn},[])).pipe((0,Ce.U)(function(){return{panelPage:qt}}))}),(0,st.w)(function(Ut){var qt=Ut.panelPage;return Or(function(){return!Gt.nested$.value},
/*!this.nested ? this.panelsContextService.allActivePageContexts({ panelPage: p }).pipe(
                  map(paneContexts => [p, isDynamic, paneContexts])
                ): of([p, isDynamic, []]),*/
Gt.panelsContextService.allActivePageContexts({panelPage:qt}).pipe((0,Ce.U)(function(qn){return{panelPage:qt,contexts:Array.from(qn)}})),(0,Le.of)({panelPage:qt,contexts:[]}))}),(0,te.b)(function(Ut){var qt=Ut.panelPage,qn=Ut.contexts;Gt.hookupFormChange({panelPage:qt}),Gt.populatePanelsFormArray({panelPage:qt}),Gt.panelPageCached=qt,Gt.persistenceEnabled=qt.persistence&&qt.persistence.dataduct&&qt.persistence.dataduct.plugin&&""!==qt.persistence.dataduct.plugin,Gt.filteredListeners=qt.interactions&&qt.interactions.interactions&&qt.interactions.interactions.listeners?qt.interactions.interactions.listeners:[],Gt.renderLayout$.next(qt),Gt.contexts$.next([].concat((0,_.Z)(qt.contexts?qt.contexts.map(function(Er){return new la(Er)}):[]),(0,_.Z)(qn))),Gt.hookupCss({file:qt.cssFile?qt.cssFile.trim():void 0}),console.log("cached panel page: ".concat(qt.id))})).subscribe(),this.hookupContextSub=(0,Sr.a)(this.contexts$,this.afterContentInit$).pipe((0,Ce.U)(function(Ut){return(0,g.Z)(Ut,1)[0]}),(0,st.w)(function(Ut){return Gt.inlineContextResolver.resolveMerged(Ut,"panelpage:".concat(vr())).pipe((0,st.w)(function(qt){return Gt.cxm.getPlugins().pipe((0,Ce.U)(function(qn){return{contexts:Ut,resolvedContext:qt,globalPlugins:Array.from(qn.values()).filter(function(Er){return!0===Er.global})}}))}),(0,An.q)(1))}),(0,te.b)(function(){Gt.resolveSub&&Gt.resolveSub.unsubscribe()}),(0,te.b)(function(Ut){var qt=Ut.contexts,Er=Ut.globalPlugins;Gt.resolvedContext=Ut.resolvedContext;var ca=new ae.x;if((0,P.isPlatformServer)(Gt.platformId))var ss=setInterval(function(){0===o.registredContextListeners.size&&(ca.next(),ca.complete(),clearInterval(ss))},1e3);Gt.resolveSub=Gt.inlineContextResolver.resolveMergedSingle(qt).pipe((0,__.T)(Er.length+(qt?qt.length:0)),(0,te.b)(function(){return o.registredContextListeners.add(Gt.instanceUniqueIdentity)}),(0,te.b)(function(Ru){return console.log("buffer",Ru)}),function Dz(o){for(var n,t,e=arguments.length,a=new Array(e>1?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];var u=null!==(n=(0,Rz.yG)(a))&&void 0!==n?n:eu.z,l=null!==(t=a[0])&&void 0!==t?t:null,c=a[1]||1/0;return(0,gs.e)(function(h,C){var T=[],N=!1,F=function(ge){var Se=ge.buffer;ge.subs.unsubscribe(),(0,kz.P)(T,ge),C.next(Se),N&&$()},$=function(){if(T){var ge=new gI.w0;C.add(ge);var we={buffer:[],subs:ge};T.push(we),(0,kO.f)(ge,u,function(){return F(we)},o)}};null!==l&&l>=0?(0,kO.f)(C,u,$,l,!0):N=!0,$();var se=(0,ma.x)(C,function(ue){var we,ge=T.slice(),Se=(0,ee.Z)(ge);try{for(Se.s();!(we=Se.n()).done;){var He=we.value,ot=He.buffer;ot.push(ue),c<=ot.length&&F(He)}}catch(dt){Se.e(dt)}finally{Se.f()}},function(){for(;T?.length;)C.next(T.shift().buffer);se?.unsubscribe(),C.complete(),C.unsubscribe()},void 0,function(){return T=null});h.subscribe(se)})}(1),(0,te.b)(function(Ru){0===Ru.length&&o.registredContextListeners.delete(Gt.instanceUniqueIdentity)}),(0,Q.h)(function(Ru){return 0!==Ru.length}),(0,te.b)(function(Ru){Gt.contextsChanged=Ru.reduce(function(BE,fk){var ZE=(0,g.Z)(fk,2)[0];return[].concat((0,_.Z)(BE),(0,_.Z)(BE.includes(ZE)?[]:[ZE]))},[]),Gt.resolvedContext=Ru.reduce(function(BE,fk){var S_=(0,g.Z)(fk,2),ZE=S_[0],dF=S_[1];return(0,b.Z)((0,b.Z)({},BE),{},(0,d.Z)({},ZE,dF))},Gt.resolvedContext)}),(0,te.b)(function(){return o.registredContextListeners.delete(Gt.instanceUniqueIdentity)}),(0,P.isPlatformServer)(Gt.platformId)?(0,Qr.R)(ca):(0,te.b)(function(){})).subscribe()})).subscribe(),this.renderLayoutSub=(0,Sr.a)([this.renderLayout$,this.afterViewInit$]).pipe((0,Rr.g)(1),(0,Ce.U)(function(Ut){return{panelPage:(0,g.Z)(Ut,1)[0]}}),(0,st.w)(function(Ut){var qt=Ut.panelPage;return Gt.lpm.getPlugin(qt.layoutType).pipe((0,Ce.U)(function(qn){return{panelPage:qt,plugin:qn}}))}),(0,te.b)(function(){return console.log("start render layout")}),(0,Ce.U)(function(Ut){return{panelPage:Ut.panelPage,plugin:Ut.plugin,viewContainerRef:Gt.layoutRendererHost.viewContainerRef}}),(0,te.b)(function(Ut){return Ut.viewContainerRef.clear()}),(0,Ce.U)(function(Ut){return{panelPage:Ut.panelPage,layoutRendererRef:Ut.viewContainerRef.createComponent(Ut.plugin.renderer)}}),(0,te.b)(function(Ut){return Gt.layoutRendererRef=Ut.layoutRendererRef}),(0,te.b)(function(Ut){var qt=Ut.layoutRendererRef,qn=Ut.panelPage;qt.instance.renderPanelTpl=Gt.renderPanelTpl,qt.instance.panelPage=qn}),(0,te.b)(function(){return console.log("end render layout")})).subscribe(),this.stylizerSub=this.afterViewInit$.pipe((0,Q.h)(function(){return(0,P.isPlatformBrowser)(Gt.platformId)}),(0,te.b)(function(){Gt.stylizerService.stylize({targetNode:Gt.el.nativeElement})})).subscribe(),this.classifySub=this.afterViewInit$.pipe((0,Q.h)(function(){return(0,P.isPlatformBrowser)(Gt.platformId)}),(0,te.b)(function(){Gt.classifyService.classify({targetNode:Gt.el.nativeElement})})).subscribe(),this.stylizerMutatedSub=(0,P.isPlatformBrowser)(this.platformId)?this.stylizerService.mutated$.pipe((0,Ar.b)(2e3),(0,__.T)(1),(0,st.w)(function(Ut){var qt=Ut.stylesheet;return Gt.authFacade.getUser$.pipe((0,Ce.U)(function(qn){return{stylesheet:qt,isAuthenticated:!!qn}}))}),(0,Q.h)(function(Ut){return Ut.isAuthenticated}),(0,te.b)(function(Ut){console.log("merged css",Ut.stylesheet)}),(0,Q.h)(function(){return!!Gt.panelPageCached&&!!Gt.panelPageCached.id}),(0,st.w)(function(Ut){var qt=Ut.stylesheet;return Gt.isStable?(0,Le.of)({stylesheet:qt}):Gt.ngZone.onStable.asObservable().pipe((0,Ce.U)(function(){return{stylesheet:qt}}),(0,An.q)(1))}),(0,Ce.U)(function(Ut){var qt=Ut.stylesheet;return{stylesheet:(Gt.managedCssCache&&""!==Gt.managedCssCache.trim()?Gt.managedCssCache+"\n":"")+qt}}),(0,Zi.b)(function(Ut){return Gt.fileService.bulkUpload({nocache:!0,files:[new File([Ut.stylesheet],"panelpage__".concat(Gt.panelPageCached.id,".css"))],fileNameOverride:"panelpage__".concat(Gt.panelPageCached.id,".css")})}),(0,te.b)(function(){console.log("stylesheet saved.")})).subscribe():void 0,this.classifyMutatedSub=(0,P.isPlatformBrowser)(this.platformId)?this.classifyService.mutated$.pipe((0,Ar.b)(2e3),(0,__.T)(1),(0,st.w)(function(Ut){var qt=Ut.classes;return Gt.authFacade.getUser$.pipe((0,Ce.U)(function(qn){return{classes:qt,isAuthenticated:!!qn}}))}),(0,Q.h)(function(Ut){return Ut.isAuthenticated}),(0,te.b)(function(Ut){console.log("merged classes",Ut.classes)}),(0,Q.h)(function(){return!!Gt.panelPageCached&&!!Gt.panelPageCached.id}),(0,st.w)(function(Ut){var qt=Ut.classes;return Gt.isStable?(0,Le.of)({classes:qt}):Gt.ngZone.onStable.asObservable().pipe((0,Ce.U)(function(){return{classes:qt}}),(0,An.q)(1))}),(0,Ce.U)(function(Ut){var qt=Ut.classes;return{classes:Array.from(qt.keys()).reduce(function(qn,Er){return(0,b.Z)((0,b.Z)({},qn),{},(0,d.Z)({},Er,Array.from(qt.get(Er).keys()).filter(function(ca){return qt.get(Er).get(ca)!==xa.KEEP}).reduce(function(ca,ss){return(0,b.Z)((0,b.Z)({},ca),{},(0,d.Z)({},ss,qt.get(Er).get(ss)))},{})))},{})}}),(0,Ce.U)(function(Ut){return{classes:o_(Gt.managedClassesCache,Ut.classes)}}),(0,Ce.U)(function(Ut){return{json:JSON.stringify(Ut.classes)}}),(0,Zi.b)(function(Ut){return Gt.fileService.bulkUpload({nocache:!0,files:[new File([Ut.json],"panelpage__".concat(Gt.panelPageCached.id,"__classes.json"))],fileNameOverride:"panelpage__".concat(Gt.panelPageCached.id,"__classes.json")})}),(0,te.b)(function(){console.log("classes saved.")})).subscribe():void 0,this.onStableSub=this.ngZone.onStable.asObservable().pipe((0,te.b)(function(){return Gt.isStable=!0})).subscribe(),this.onUnstableSub=this.ngZone.onUnstable.asObservable().pipe((0,te.b)(function(){return Gt.isStable=!1})).subscribe(),this.onTouched=function(){},this.panelPageService=tn.getEntityCollectionService("PanelPage"),this.panelPageFormService=tn.getEntityCollectionService("PanelPageForm"),this.panelPageStateService=tn.getEntityCollectionService("PanelPageState")}return(0,y.Z)(o,[{key:"id",set:function(t){this.id$.next(t)}},{key:"panelPage",set:function(t){this.panelPage$.next(t)}},{key:"nested",set:function(t){this.nested$.next(t)}},{key:"contexts",set:function(t){this.contexts$.next(t)}},{key:"ancestory",set:function(t){this.ancestory$.next(t)}},{key:"css",set:function(t){this.css$.next(t)}},{key:"listeners",set:function(t){this.listeners$.next(t)}},{key:"panelsArray",get:function(){return this.pageForm.get("panels")}},{key:"ngOnInit",value:function(){this.onInit$.next(void 0)}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(void 0)}},{key:"ngOnDestroy",value:function(){o.registredContextListeners.delete(this.instanceUniqueIdentity)}},{key:"populatePanelsFormArray",value:function(t){var e=this,a=t.panelPage;this.panelsArray.clear(),a.panels.forEach(function(){e.panelsArray.push(e.fb.control(""))})}},{key:"hookupFormChange",value:function(t){var e=this,a=t.panelPage;this.pageForm.valueChanges.pipe((0,Ar.b)(100),(0,Q.h)(function(){return void 0!==a&&"form"===a.displayType})).subscribe(function(s){var u=new Au((0,b.Z)((0,b.Z)({},s),{},{name:a.name,title:a.title,derivativeId:a.id}));e.pageBuilderFacade.setForm(a.name,u)})}},{key:"hookupCss",value:function(t){var e=this;(0,$n.D)([(0,Le.of)(void 0),(0,Le.of)(void 0),(0,Le.of)(void 0),this.panelPageCached.id?this.http.get("".concat(this.mediaSettings.imageUrl,"/media/panelpage__").concat(this.panelPageCached.id,"__classes.json")).pipe((0,si.K)(function(){return(0,Le.of)(void 0)}),(0,fi.d)(void 0)):(0,Le.of)(void 0)]).pipe((0,te.b)(function(s){var u=(0,g.Z)(s,4),l=u[0],c=u[1],h=u[2],C=u[3];console.log("fetched managed panelpage css and class files");var T={};e.managedCssCache="",e.managedClassesCache=C,l&&(T=o_(T,l)),c&&(e.managedCssCache=h,T=o_(T,c)),e.filteredCss={css:T,classes:C}})).subscribe()}},{key:"submit",value:function(){if(this.pageForm.valid){var t=new Au((0,b.Z)({},this.pageForm.value)),e=this.formService.serializeForm(t);console.log(t),console.log(this.formService.serializeForm(t)),console.log("form data",e),this.persistService.persist({data:e,persistence:this.panelPageCached.persistence}).subscribe(function(){console.log("persisted data")})}else console.log("detected form invalid")}},{key:"writeValue",value:function(t){t&&this.settingsFormArray.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.settingsFormArray.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.settingsFormArray.disable():this.settingsFormArray.enable()}},{key:"validate",value:function(t){var e=this;return this.settingsFormArray.statusChanges.pipe((0,uE.O)(this.settingsFormArray.status),(0,Q.h)(function(a){return"PENDING"!==a}),(0,Ar.b)(1),(0,An.q)(1),(0,Ce.U)(function(a){return e.settingsFormArray.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}))}}]),o}();Zs.registredContextListeners=new Set,Zs.\u0275fac=function(n){return new(n||Zs)(r.\u0275\u0275directiveInject(r.PLATFORM_ID),r.\u0275\u0275directiveInject(rE),r.\u0275\u0275directiveInject(Bt.yh),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(zd),r.\u0275\u0275directiveInject(Ja),r.\u0275\u0275directiveInject(pn.ContentPluginManager),r.\u0275\u0275directiveInject(Su),r.\u0275\u0275directiveInject(AE),r.\u0275\u0275directiveInject(r.ComponentFactoryResolver),r.\u0275\u0275directiveInject(Vn.StyleLoaderService),r.\u0275\u0275directiveInject(O.HttpClient),r.\u0275\u0275directiveInject(OA),r.\u0275\u0275directiveInject(Nt.AttributeSerializerService),r.\u0275\u0275directiveInject(tO),r.\u0275\u0275directiveInject(XI),r.\u0275\u0275directiveInject(Vn.AsyncApiCallHelperService),r.\u0275\u0275directiveInject(i_),r.\u0275\u0275directiveInject(Qi),r.\u0275\u0275directiveInject(r.NgZone),r.\u0275\u0275directiveInject(Dj),r.\u0275\u0275directiveInject(Nz),r.\u0275\u0275directiveInject(Vz),r.\u0275\u0275directiveInject(iE),r.\u0275\u0275directiveInject(_i),r.\u0275\u0275directiveInject(Dr))},Zs.\u0275cmp=r.\u0275\u0275defineComponent({type:Zs,selectors:[["classifieds-ui-panel-page"]],viewQuery:function(n,t){var e;1&n&&(r.\u0275\u0275viewQuery(xO,5),r.\u0275\u0275viewQuery(Wz,7),r.\u0275\u0275viewQuery(DO,5)),2&n&&(r.\u0275\u0275queryRefresh(e=r.\u0275\u0275loadQuery())&&(t.gridLayout=e.first),r.\u0275\u0275queryRefresh(e=r.\u0275\u0275loadQuery())&&(t.renderPanelTpl=e.first),r.\u0275\u0275queryRefresh(e=r.\u0275\u0275loadQuery())&&(t.layoutRendererHost=e.first))},hostVars:2,hostBindings:function(n,t){2&n&&r.\u0275\u0275classProp("panel-page",!0)},inputs:{id:"id",panelPage:"panelPage",nested:"nested",contexts:"contexts",ancestory:"ancestory",css:"css",listeners:"listeners",resolvedContext:"resolvedContext"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return Zs}),multi:!0},{provide:v.NG_ASYNC_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return Zs}),multi:!0}])],decls:6,vars:2,consts:[[3,"formGroup"],["classifiedsUiLayoutRendererHost",""],["type","button",3,"click",4,"ngIf"],["renderPanelTpl",""],["type","button",3,"click"],["formArrayName","panels"],[3,"formControlName","panel","nested","contexts","resolvedContext","contextsChanged","displayType","indexPosition","css","listeners","ancestory"]],template:function(n,t){1&n&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275elementContainerStart(1),r.\u0275\u0275template(2,Xz,0,0,"ng-template",1),r.\u0275\u0275elementContainerEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(3,Qz,2,0,"button",2),r.\u0275\u0275template(4,Yz,3,12,"ng-template",null,3,r.\u0275\u0275templateRefExtractor)),2&n&&(r.\u0275\u0275property("formGroup",t.pageForm),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngIf",t.persistenceEnabled))},dependencies:function(){return[P.NgIf,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,v.FormArrayName,Jz,DO]},styles:["[_nghost-%COMP%]     gridster{background-color:#fff}[_nghost-%COMP%]     gridster-item{background-color:#fff}"]});var x_=function(){var o=function(){function n(t,e,a,s,u,l,c,h,C,T,N){var F=this;(0,f.Z)(this,n),this.document=t,this.platformId=e,this.el=a,this.renderer2=s,this.componentFactoryResolver=u,this.panelHandler=l,this.fb=c,this.cpm=h,this.cssHelper=C,this.paneStateService=T,this.settings=[],this.ancestory=[],this.panes=[],this.originPanes=[],this.afterContentInit$=new ae.x,this.resolvedContext$=new U.X({}),this.schedulePluginChange=new ae.x,this.ancestoryWithSelf=[],this.filteredListeners=[],this.css$=new U.X({css:this.cssHelper.makeJsonNode(),classes:{}}),this.cssSub=(0,Sr.a)([this.css$,this.afterContentInit$,this.schedulePluginChange]).pipe((0,Ce.U)(function($){return(0,g.Z)($,1)[0]}),(0,Ce.U)(function($){return{css:F.cssHelper.reduceCss($.css,".pane-".concat(F.indexPosition)),classes:F.cssHelper.reduceSelector($.classes,".pane-".concat(F.indexPosition))}}),(0,Ce.U)(function($){var se=$.css,ue=$.classes;return[F.cssHelper.reduceCss(se,".panel-page",!1),F.cssHelper.reduceCss(se,".panel-page"),F.cssHelper.reduceSelector(ue,".panel-page",!1),F.cssHelper.reduceSelector(ue,".panel-page")]}),(0,te.b)(function($){var se=(0,g.Z)($,4);return F.filteredCss={css:se[1],classes:se[3]}}),(0,Ce.U)(function($){var se=(0,g.Z)($,4);return{css:se[0],classes:se[2]}}),(0,Ce.U)(function($){var ue=$.classes;return{css:{children:Object.keys($.css.children).reduce(function(we,He){return(0,b.Z)((0,b.Z)({},we),0===He.indexOf(">")?(0,d.Z)({},F.ancestoryWithSelf.map(function(ot,dt){return(dt+1)%2==0?".pane-".concat(ot):".panel-".concat(ot)}).join(" ")+" "+He,ue[He]):(0,d.Z)({},He,ue[He]))},{})},classes:Object.keys(ue).reduce(function(we,He){return(0,b.Z)((0,b.Z)({},we),0===He.indexOf(">")?(0,d.Z)({},F.ancestoryWithSelf.map(function(ot,dt){return(dt+1)%2==0?".pane-".concat(ot):".panel-".concat(ot)}).join(" ")+" "+He,ue[He]):(0,d.Z)({},He,ue[He]))},{})}}),(0,Rr.g)(500)).subscribe(function($){var se=$.css,ue=$.classes;console.log("reduced classes",ue);var ge=Object.keys(se.children).filter(function(we){return""===we||np({selector:we,document:F.document})}),Se=Object.keys(ue).filter(function(we){return""===we||np({selector:we,document:F.document})});Se.forEach(function(we,He){for(var ot=""===we?[F.el.nativeElement]:-1!==we.indexOf(">")?F.document.querySelectorAll(we):F.el.nativeElement.querySelectorAll(we),dt=ot.length,Ot=0;Ot<dt;Ot++)for(var pt=ue[Se[He]],Lt=Object.keys(pt),$t=Lt.length,tn=0;tn<$t;tn++)ot[Ot]&&(pt[Lt[tn]]===xa.REMOVE?(console.log("remove class ".concat(Lt[tn])),F.renderer2.removeClass(ot[Ot],Lt[tn])):(console.log("add class ".concat(Lt[tn])),F.renderer2.addClass(ot[Ot],Lt[tn])))}),ge.forEach(function(we){console.log("search: ".concat(we));for(var He=""===we?[F.el.nativeElement]:-1!==we.indexOf(">")?F.document.querySelectorAll(we):F.el.nativeElement.querySelectorAll(we),ot=He.length,dt=Object.keys(se.children[we].attributes),Ot=function($t){He[$t]&&dt.forEach(function(tn){console.log("".concat(we," { ").concat(tn,": ").concat(se.children[we].attributes[tn],"; }"));var Gt=Tl(tn.replace("-","_"),!1);F.renderer2.setStyle(He[$t],Gt,se.children[we].attributes[tn])})},pt=0;pt<ot;pt++)Ot(pt)})}),this.listeners$=new U.X([]),this.listenersSub=(0,Sr.a)([this.listeners$,this.schedulePluginChange]).pipe((0,Ce.U)(function($){return(0,g.Z)($,1)[0]}),(0,te.b)(function($){console.log("pane listeners",$)})).subscribe(),this.paneForm=this.fb.group({contentPlugin:this.fb.control("",v.Validators.required),name:this.fb.control(""),label:this.fb.control(""),settings:this.fb.control("")}),this.paneFormSub=this.paneForm.valueChanges.subscribe(function($){console.log("pane form value plugin: ".concat(F.pluginName)),console.log($)}),this.scheduleStateChange$=new ae.x,this.scheduleStateChangeSub=this.scheduleStateChange$.pipe((0,st.w)(function($){return F.paneStateService.mergeState({state:$.state,ancestory:(0,_.Z)(F.ancestoryWithSelf),settings:F.settings,plugin:F.contentPlugin})})).subscribe(function($){F.panelPageStateService.upsert($.pageState)}),this.onTouched=function(){},this.pluginChangeSub=this.schedulePluginChange.pipe((0,Q.h)(function(){return F.pluginName&&null!==F.pluginName&&""!==F.pluginName}),(0,st.w)(function(){return F.cpm.getPlugin(F.pluginName)})).subscribe(function($){F.contentPlugin=$,F.paneForm.get("contentPlugin").setValue($.name),F.paneForm.get("name").setValue(F.name),F.paneForm.get("label").setValue(F.label),"panel"===F.pluginName?F.resolveNestedPanelPage():F.renderPaneContent()}),this.embedPanelSub=this.resolvedContext$.pipe((0,Ce.U)(function($){$&&$._root&&!F.linkedPageId&&0===F.settings.length&&(F.embedPanel=new ri($._root))})).subscribe(),this.panelPageStateService=N.getEntityCollectionService("PanelPageState")}return(0,y.Z)(n,[{key:"resolvedContext",set:function(e){this.resolvedContext$.next(e)}},{key:"css",set:function(e){this.css$.next(e)}},{key:"listeners",set:function(e){this.listeners$.next(e)}},{key:"indexPositionClass",get:function(){return"pane-".concat(this.indexPosition)}},{key:"dynamicPanel",get:function(){return new ri(this.resolvedContext._root)}},{key:"ngOnInit",value:function(){this.ancestoryWithSelf=[].concat((0,_.Z)(this.ancestory?this.ancestory:[]),(0,_.Z)(null!=this.indexPosition?[this.indexPosition]:[])),this.schedulePluginChange.next(void 0)}},{key:"ngOnChanges",value:function(e){if(e.ancestory||e.indexPosition){var a=[].concat((0,_.Z)(e.ancestory.currentValue?e.ancestory.currentValue:this.ancestory?this.ancestory:[]),(0,_.Z)(null!=e.indexPosition.currentValue?[e.indexPosition.currentValue]:this.indexPosition?[this.indexPosition]:[]));(a.length!==this.ancestoryWithSelf.length||0!==this.ancestoryWithSelf.filter(function(s,u){return a[u]!==s}).length)&&(this.ancestoryWithSelf=a)}this.schedulePluginChange.next(void 0)}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(void 0)}},{key:"writeValue",value:function(e){e&&this.paneForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.paneForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.paneForm.disable():this.paneForm.enable()}},{key:"validate",value:function(e){var a=this;return this.paneForm.statusChanges.pipe((0,uE.O)(this.paneForm.status),(0,Q.h)(function(s){return"PENDING"!==s}),(0,Ar.b)(1),(0,An.q)(1),(0,Ce.U)(function(s){return a.paneForm.valid?null:{invalidForm:{invalidForm:{valid:!1,message:"pane is invalid"}}}}))}},{key:"resolveNestedPanelPage",value:function(){var e=this;this.panelHandler.toObject(this.settings).subscribe(function(a){e.panelPage=new ri((0,b.Z)((0,b.Z)({},a),{},{contexts:e.contexts}))})}},{key:"renderPaneContent",value:function(){var e=this,a=this.componentFactoryResolver.resolveComponentFactory(this.contentPlugin.renderComponent),s=this.contentPaneHost.viewContainerRef;s.clear(),this.componentRef=s.createComponent(a),this.componentRef.instance.settings=this.settings,this.componentRef.instance.name=this.name,this.componentRef.instance.label=this.label,this.componentRef.instance.panes=this.panes,this.componentRef.instance.originPanes=this.originPanes,this.componentRef.instance.contexts=this.contexts.map(function(u){return new la(u)}),this.componentRef.instance.displayType=this.displayType,this.componentRef.instance.resolvedContext=this.resolvedContext$.value,this.componentRef.instance.ancestory=this.ancestoryWithSelf,this.componentRef.instance.state&&this.contentPlugin.handler&&this.contentPlugin.handler.stateDefinition(this.settings).pipe((0,An.q)(1)).subscribe(function(u){e.componentRef.instance.state=u||{}}),this.componentRef.instance.stateChange&&this.componentRef.instance.stateChange.subscribe(function(u){e.scheduleStateChange$.next({state:u})})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(P.DOCUMENT),r.\u0275\u0275directiveInject(r.PLATFORM_ID),r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(r.Renderer2),r.\u0275\u0275directiveInject(r.ComponentFactoryResolver),r.\u0275\u0275directiveInject(ya),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(pn.ContentPluginManager),r.\u0275\u0275directiveInject(OA),r.\u0275\u0275directiveInject(B$),r.\u0275\u0275directiveInject(Dr))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-render-pane"]],viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(DE,7),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.contentPaneHost=a.first)},hostVars:5,hostBindings:function(t,e){2&t&&(r.\u0275\u0275attribute("data-index",e.indexPosition),r.\u0275\u0275classMap(e.indexPositionClass),r.\u0275\u0275classProp("pane",!0))},inputs:{pluginName:"pluginName",settings:"settings",linkedPageId:"linkedPageId",contexts:"contexts",originPane:"originPane",displayType:"displayType",name:"name",label:"label",indexPosition:"indexPosition",ancestory:"ancestory",panes:"panes",originPanes:"originPanes",resolvedContext:"resolvedContext",css:"css",listeners:"listeners"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_ASYNC_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}]),r.\u0275\u0275NgOnChangesFeature],decls:6,vars:4,consts:[["fxFlex","",3,"formGroup"],["classifiedsUiPaneContentHost",""],["fxFlex","","formControlName","settings",3,"panelPage","nested","contexts","css","listeners","ancestory",4,"ngIf"],["fxFlex","","formControlName","settings",3,"id","nested","contexts","ancestory",4,"ngIf"],["fxFlex","","formControlName","settings",3,"panelPage","nested","contexts","css","listeners","ancestory"],["fxFlex","","formControlName","settings",3,"id","nested","contexts","ancestory"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275elementContainerStart(1),r.\u0275\u0275template(2,Bz,0,0,"ng-template",1),r.\u0275\u0275elementContainerEnd(),r.\u0275\u0275template(3,Zz,1,6,"classifieds-ui-panel-page",2),r.\u0275\u0275template(4,Lz,1,4,"classifieds-ui-panel-page",3),r.\u0275\u0275template(5,jz,1,6,"classifieds-ui-panel-page",2),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.paneForm),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngIf","panel"==e.pluginName&&!e.linkedPageId&&0!==e.settings.length),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","panel"==e.pluginName&&e.linkedPageId),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","panel"==e.pluginName&&!e.linkedPageId&&0===e.settings.length))},dependencies:[P.NgIf,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,DE,Zs],styles:["[_nghost-%COMP%]{height:100%}"]}),o}(),Jz=function(){var o=function(){function n(t,e,a,s,u,l,c,h,C,T){var N=this;(0,f.Z)(this,n),this.platformId=t,this.document=e,this.hostEl=a,this.renderer2=s,this.componentFactoryResolver=u,this.fb=l,this.panelResolverService=c,this.spm=h,this.cssHelper=C,this.styleResolverService=T,this.nested=!1,this.resolvedContext={},this.heightChange=new r.EventEmitter,this.panelForm=this.fb.group({name:this.fb.control(""),label:this.fb.control(""),panes:this.fb.array([])}),this.panelFormSub=this.panelForm.valueChanges.subscribe(function(F){console.log("paneL form value"),console.log(F)}),this.filteredListeners=[],this.afterContentInit$=new ae.x,this.schedulePanelRender=new ae.x,this.rendered$=new ae.x,this.css$=new U.X({css:this.cssHelper.makeJsonNode(),classes:{}}),this.cssSub=(0,Sr.a)([this.css$,this.afterContentInit$,this.rendered$]).pipe((0,te.b)(function(F){var $=(0,g.Z)(F,1);return console.log("css node",$[0].css)}),(0,Ce.U)(function(F){return(0,g.Z)(F,1)[0]}),(0,Ce.U)(function(F){return{css:N.cssHelper.reduceCss(F.css,".panel-".concat(N.indexPosition$.value)),classes:N.cssHelper.reduceSelector(F.classes,".panel-".concat(N.indexPosition$.value))}}),(0,Ce.U)(function(F){var $=F.css,se=F.classes;return[N.cssHelper.reduceCss($,".pane-",!1),$,N.cssHelper.reduceSelector(se,".pane-",!1),se]}),(0,te.b)(function(F){var $=(0,g.Z)(F,4);return N.filteredCss={css:$[1],classes:$[3]}}),(0,Ce.U)(function(F){var $=(0,g.Z)(F,3);return{css:$[0],classes:$[2]}}),(0,Ce.U)(function(F){var se=F.classes;return{css:{children:Object.keys(F.css.children).reduce(function(Se,we){return(0,b.Z)((0,b.Z)({},Se),0===we.indexOf(">")?(0,d.Z)({},N.ancestoryWithSelf$.value.map(function(He,ot){return(ot+1)%2==0?".pane-".concat(He):".panel-".concat(He)}).join(" ")+" "+we,se[we]):(0,d.Z)({},we,se[we]))},{})},classes:Object.keys(se).reduce(function(Se,we){return(0,b.Z)((0,b.Z)({},Se),0===we.indexOf(">")?(0,d.Z)({},N.ancestoryWithSelf$.value.map(function(He,ot){return(ot+1)%2==0?".pane-".concat(He):".panel-".concat(He)}).join(" ")+" "+we,se[we]):(0,d.Z)({},we,se[we]))},{})}}),(0,Rr.g)(1)).subscribe(function(F){var $=F.css,se=F.classes;console.log("classes",se);var ue=Object.keys($.children).filter(function(Se){return""===Se||np({selector:Se,document:N.document})}),ge=Object.keys(se).filter(function(Se){return""===Se||np({selector:Se,document:N.document})});ge.forEach(function(Se,we){for(var He=""===Se?[N.hostEl.nativeElement]:-1!==Se.indexOf(">")?N.document.querySelectorAll(Se):N.hostEl.nativeElement.querySelectorAll(Se),ot=He.length,dt=0;dt<ot;dt++)for(var Ot=se[ge[we]],pt=Object.keys(Ot),Lt=pt.length,$t=0;$t<Lt;$t++)He[dt]&&(Ot[pt[$t]]===xa.REMOVE?(console.log("remove class ".concat(pt[$t])),N.renderer2.removeClass(He[dt],pt[$t])):(console.log("add class ".concat(pt[$t])),N.renderer2.addClass(He[dt],pt[$t])))}),ue.forEach(function(Se){console.log("search: ".concat(Se));for(var we=""===Se?[N.hostEl.nativeElement]:-1!==Se.indexOf(">")?N.document.querySelectorAll(Se):N.hostEl.nativeElement.querySelectorAll(Se),He=we.length,ot=Object.keys($.children[Se].attributes),dt=function(Lt){we[Lt]&&ot.forEach(function($t){console.log("".concat(Se," { ").concat($t,": ").concat($.children[Se].attributes[$t],"; }"));var tn=Tl($t.replace("-","_"),!1);N.renderer2.setStyle(we[Lt],tn,$.children[Se].attributes[$t])})},Ot=0;Ot<He;Ot++)dt(Ot)})}),this.listeners$=new U.X([]),this.listenersSub=this.listeners$.pipe((0,te.b)(function(F){console.log("panel listeners",F),N.filteredListeners=F})).subscribe(),this.scheduleRender=new ae.x,this.scheduleRenderSub=this.scheduleRender.pipe((0,te.b)(function(){return console.log("schdule renderer before [".concat(N.panel.name,"]"))}),(0,st.w)(function(F){var $=(0,g.Z)(F,3),se=$[0];return N.panelResolverService.resolvePanes({panes:se,contexts:$[1],resolvedContext:$[2]}).pipe((0,Ce.U)(function(Se){return{resolvedPanes:Se.resolvedPanes,originMappings:Se.originMappings,panes:se}}))}),(0,st.w)(function(F){var $=F.panes;return N.styleResolverService.alterResolvedPanes({panel:N.panel,resolvedPanes:F.resolvedPanes,originMappings:F.originMappings}).pipe((0,Ce.U)(function(ge){return{panes:$,resolvedPanes:ge.resolvedPanes,originMappings:ge.originMappings}}))}),(0,te.b)(function(){return console.log("schdule renderer after [".concat(N.panel.name,"]"))})).subscribe(function(F){var $=F.panes,se=F.resolvedPanes,ue=F.originMappings;console.log("render panel: ".concat(N.panel.name)),N.resolvedPanes=se,N.originPanes=$,N.originMappings=ue,N.populatePanesFormArray(),void 0!==N.stylePlugin?N.renderPanelContent():N.rendered$.next(void 0)}),this.schduleContextChange=new ae.x,this.schedulePanelRenderSub=this.schedulePanelRender.pipe((0,st.w)(function(F){return N.spm.getPlugin(F)})).subscribe(function(F){var $=N.componentFactoryResolver.resolveComponentFactory(F.renderComponent),se=N.panelHost.viewContainerRef;se.clear();var ue=se.createComponent($);N.componentRef=ue,ue.instance.settings=N.panel.settings,ue.instance.panes=N.resolvedPanes,ue.instance.originPanes=N.panel.panes,ue.instance.originMappings=N.originMappings,ue.instance.contexts=N.contexts.map(function(ge){return new la(ge)}),ue.instance.displayType=N.displayType,ue.instance.ancestory=N.ancestoryWithSelf$.value,ue.instance.resolvedContext=N.resolvedContext,ue.instance.panel=N.panel,ue.instance.indexPosition=N.indexPosition$.value,N.rendered$.next(void 0)}),this.originMappings=[],this.resolvedContexts=[],this.ancestoryWithSelf$=new U.X([]),this.ancestory$=new U.X([]),this.indexPosition$=new U.X(void 0),this.onTouched=function(){},this.ancestorySub=(0,Sr.a)([this.ancestory$,this.indexPosition$]).pipe((0,te.b)(function(F){var $=(0,g.Z)(F,2),ue=$[1];N.ancestoryWithSelf$.next([].concat((0,_.Z)($[0]),[ue]))})).subscribe(),this.counter=n.COUNTER++}return(0,y.Z)(n,[{key:"contextChanged",set:function(e){}},{key:"contextsChanged",set:function(e){var a=this;e.map(function(s){return a.schduleContextChange.next(s)})}},{key:"indexPosition",set:function(e){this.indexPosition$.next(e)}},{key:"ancestory",set:function(e){this.ancestory$.next(e)}},{key:"css",set:function(e){this.css$.next(e)}},{key:"listeners",set:function(e){this.listeners$.next(e)}},{key:"indexPositionClass",get:function(){return"panel-".concat(this.indexPosition$.value)}},{key:"panesArray",get:function(){return this.panelForm.get("panes")}},{key:"ngOnInit",value:function(){var e=this;this.stylePlugin=void 0!==this.panel.stylePlugin&&""!==this.panel.stylePlugin?this.panel.stylePlugin:void 0,void 0!==this.panel&&void 0!==this.panelHost&&(console.log("panel render init [".concat(this.panel.name)),this.panelResolverService.usedContexts(this.panel.panes).pipe((0,Ce.U)(function(a){return a.filter(function(s){return"_page"!==s&&"_root"!==s&&"."!==s&&0!==s.indexOf("panestate-"+e.ancestoryWithSelf$.value.join("-"))})}),(0,te.b)(function(a){return console.log("contexts [".concat(e.panel.name,"]: ").concat(a.join(",")))}),(0,st.w)(function(a){return e.schduleContextChange.pipe((0,te.b)(function(s){return console.log("detected change [".concat(e.panel.name,"]: ").concat(s))}),(0,Ce.U)(function(s){return[a,s]}))}),(0,te.b)(function(a){var s=(0,g.Z)(a,2),u=s[0],l=s[1];return console.log("detected change [".concat(e.panel.name,"]: ").concat(l," : ctx: ").concat(u.join(",")))}),(0,Q.h)(function(a){var s=(0,g.Z)(a,2),u=s[0],l=s[1];return Array.isArray(u)&&-1!==u.findIndex(function(c){return c===l})}),(0,Ar.b)(100)).subscribe(function(a){var s=(0,g.Z)(a,2),u=s[0],l=s[1];console.log("Context changed [".concat(e.panel.name,"]: ").concat(l)),console.log("contexts detected [".concat(e.panel.name,"]: ").concat(u.join(","))),e.scheduleRender.next([e.panel.panes,e.contexts,e.resolvedContext])}))}},{key:"ngOnChanges",value:function(e){this.stylePlugin=void 0!==this.panel.stylePlugin&&""!==this.panel.stylePlugin?this.panel.stylePlugin:void 0,e.resolvedContext&&void 0===e.resolvedContext.previousValue&&this.scheduleRender.next([this.panel.panes,this.contexts,this.resolvedContext])}},{key:"ngAfterViewInit",value:function(){}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(void 0)}},{key:"writeValue",value:function(e){e&&this.panelForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.panelForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.panelForm.disable():this.panelForm.enable()}},{key:"validate",value:function(e){var a=this;return this.panelForm.statusChanges.pipe((0,uE.O)(this.panelForm.status),(0,Q.h)(function(s){return"PENDING"!==s}),(0,Ar.b)(1),(0,An.q)(1),(0,Ce.U)(function(s){return a.panelForm.valid?null:{invalidForm:{valid:!1,message:"panel are invalid"}}}))}},{key:"populatePanesFormArray",value:function(){var e=this;this.panesArray.clear(),this.resolvedPanes.forEach(function(a,s){e.panesArray.push(e.fb.control(""))})}},{key:"renderPanelContent",value:function(){this.schedulePanelRender.next(this.stylePlugin)}}]),n}();return o.COUNTER=0,o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.PLATFORM_ID),r.\u0275\u0275directiveInject(P.DOCUMENT),r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(r.Renderer2),r.\u0275\u0275directiveInject(r.ComponentFactoryResolver),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(TA),r.\u0275\u0275directiveInject(Xd),r.\u0275\u0275directiveInject(OA),r.\u0275\u0275directiveInject(QI))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-render-panel"]],viewQuery:function(t,e){var a;1&t&&(r.\u0275\u0275viewQuery(DE,7),r.\u0275\u0275viewQuery($z,7),r.\u0275\u0275viewQuery(x_,5)),2&t&&(r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.panelHost=a.first),r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.paneContainer=a.first),r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.renderedPanes=a))},hostVars:5,hostBindings:function(t,e){2&t&&(r.\u0275\u0275attribute("data-index",e.indexPosition$.value),r.\u0275\u0275classMap(e.indexPositionClass),r.\u0275\u0275classProp("panel",!0))},inputs:{panel:"panel",contexts:"contexts",nested:"nested",displayType:"displayType",resolvedContext:"resolvedContext",contextChanged:"contextChanged",contextsChanged:"contextsChanged",indexPosition:"indexPosition",ancestory:"ancestory",css:"css",listeners:"listeners"},outputs:{heightChange:"heightChange"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_ASYNC_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}]),r.\u0275\u0275NgOnChangesFeature],decls:5,vars:2,consts:[[1,"render-panel",3,"formGroup"],["panes",""],["classifiedsUiPaneContentHost",""],[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["formArrayName","panes"],[3,"formControlName","pluginName","settings","name","label","originPane","contexts","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes",4,"ngFor","ngForOf"],[3,"formControlName","pluginName","settings","name","label","originPane","contexts","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes"],[3,"pluginName","settings","name","label","originPane","contexts","linkedPageId","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes",4,"ngFor","ngForOf"],[3,"pluginName","settings","name","label","originPane","contexts","linkedPageId","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0,1),r.\u0275\u0275elementContainerStart(2),r.\u0275\u0275template(3,Uz,0,0,"ng-template",2),r.\u0275\u0275elementContainerEnd(),r.\u0275\u0275template(4,Kz,4,3,"ng-container",3),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.panelForm),r.\u0275\u0275advance(4),r.\u0275\u0275property("ngIf",!e.stylePlugin&&e.resolvedPanes))},dependencies:[P.NgForOf,P.NgIf,P.NgSwitch,P.NgSwitchCase,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,v.FormArrayName,DE,x_],styles:["[_nghost-%COMP%]{height:100%}.render-panel[_ngcontent-%COMP%]{height:100%}"]}),o}(),GA=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),t.register(new wI({id:"panels_form_submit",title:"Submit Panels Form"})),t.register(new wI({id:"panels_dialog",title:"Open Panels Dialog"}))});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(CI))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule,v.FormsModule,Vn.UtilsModule,v.ReactiveFormsModule,DA,EO]}),o}(),Nl={},b_={},TO={},IO=!1;function nG(o,n){return HA.apply(this,arguments)}function HA(){return HA=Zt((0,qe.Z)().mark(function o(n,t){var e,s;return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return e=b_[n],l.next=3,e.get(t);case 3:return s=(0,l.sent)(),l.abrupt("return",s);case 6:case"end":return l.stop()}},o)})),HA.apply(this,arguments)}function OO(o,n){return qA.apply(this,arguments)}function qA(){return qA=Zt((0,qe.Z)().mark(function o(n,t){return(0,qe.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!TO[t]){a.next=2;break}return a.abrupt("return",n);case 2:if(IO){a.next=6;break}return a.next=5,S.I("default");case 5:IO=!0;case 6:return a.next=8,n.init(S.S.default);case 8:return TO[t]=!0,a.abrupt("return",n);case 10:case"end":return a.stop()}},o)})),qA.apply(this,arguments)}function KA(o,n){return WA.apply(this,arguments)}function WA(){return WA=Zt((0,qe.Z)().mark(function o(n,t){var e,a,s;return(0,qe.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if("string"!=typeof n){l.next=7;break}return e=n,l.next=4,FO(e,t);case 4:case 11:return l.abrupt("return",l.sent);case 7:if("script"!==n.type){l.next=14;break}return a=n,l.next=11,FO(a.remoteEntry,a.remoteName);case 14:if("module"!==n.type){l.next=18;break}return s=n,l.next=18,rG(s.remoteEntry);case 18:case"end":return l.stop()}},o)})),WA.apply(this,arguments)}function rG(o){return XA.apply(this,arguments)}function XA(){return XA=Zt((0,qe.Z)().mark(function o(n){return(0,qe.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!b_[n]){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return e.next=4,import(n).then(function(a){OO(a,n),b_[n]=a});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},o)})),XA.apply(this,arguments)}function FO(o,n){return QA.apply(this,arguments)}function QA(){return QA=Zt((0,qe.Z)().mark(function o(n,t){return(0,qe.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(s,u){if(b_[t])s();else{var l=document.createElement("script");l.src=n,l.onerror=u,l.onload=function(){var c=window[t];OO(c,t),b_[t]=c,s()},document.body.appendChild(l)}}));case 1:case"end":return a.stop()}},o)})),QA.apply(this,arguments)}function rp(o,n){return YA.apply(this,arguments)}function YA(){return YA=Zt((0,qe.Z)().mark(function o(n,t){var e,a,s,u,l,c;return(0,qe.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if((u="string"==typeof n?{type:"manifest",remoteName:n,exposedModule:t}:n).type||(l=Object.keys(Nl).length>0,u.type=l?"manifest":"script"),"manifest"!==u.type){C.next=10;break}if(c=Nl[u.remoteName]){C.next=6;break}throw new Error("Manifest does not contain "+u.remoteName);case 6:u={type:c.type,exposedModule:u.exposedModule,remoteEntry:c.remoteEntry,remoteName:"script"===c.type?u.remoteName:void 0},s=c.remoteEntry,C.next=11;break;case 10:s=u.remoteEntry;case 11:if("script"===u.type?(e={type:"script",remoteEntry:u.remoteEntry,remoteName:u.remoteName},a=u.remoteName):"module"===u.type&&(e={type:"module",remoteEntry:u.remoteEntry},a=u.remoteEntry),!s){C.next=15;break}return C.next=15,KA(e);case 15:return C.next=17,nG(a,u.exposedModule);case 17:return C.abrupt("return",C.sent);case 18:case"end":return C.stop()}},o)})),YA.apply(this,arguments)}var TE=S(52090),IE=S(44039),VO=S(43516),os=S(21669);function oG(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"a",4),r.\u0275\u0275listener("click",function(){var u=r.\u0275\u0275restoreView(t).$implicit,l=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(l.onEntitySelected(u.value))}),r.\u0275\u0275elementStart(1,"span",5),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd()()}if(2&o){var e=n.$implicit;r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(e.value.title)}}function sG(o,n){}function uG(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"classifieds-ui-dynamic-content-viewer",1),r.\u0275\u0275listener("docRendered",function(){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.onDocRendered())}),r.\u0275\u0275pipe(1,"async"),r.\u0275\u0275elementEnd()}if(2&o){var e=r.\u0275\u0275nextContext();r.\u0275\u0275property("content",r.\u0275\u0275pipeBind1(1,1,e.content$))}}function lG(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"classifieds-ui-dynamic-content-viewer",1),r.\u0275\u0275listener("docRendered",function(){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.onDocRendered())}),r.\u0275\u0275pipe(1,"async"),r.\u0275\u0275elementEnd()}if(2&o){var e=r.\u0275\u0275nextContext();r.\u0275\u0275property("content",r.\u0275\u0275pipeBind1(1,1,e.content$))}}function cG(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"a",4),r.\u0275\u0275listener("click",function(){var u=r.\u0275\u0275restoreView(t).$implicit,l=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(l.onStyleSelected(u.value))}),r.\u0275\u0275elementStart(1,"span",5),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd()()}if(2&o){var e=n.$implicit;r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(e.value.title)}}function dG(o,n){}var pG=["contentEditor"];function fG(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function mG(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",19),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(a.onOverrideClick())}),r.\u0275\u0275text(1,"Override"),r.\u0275\u0275elementEnd()}}function hG(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",19),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext(2);return r.\u0275\u0275resetView(a.onRemoveOverrideClick())}),r.\u0275\u0275text(1,"Remove Override"),r.\u0275\u0275elementEnd()}}function gG(o,n){}var OE=function(n){return{settings:n}},vG=function(n){return{visible:n}};function yG(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",9)(1,"div",10)(2,"div",11)(3,"button",12)(4,"mat-icon"),r.\u0275\u0275text(5,"more_vert"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(6,"mat-expansion-panel",13),r.\u0275\u0275listener("afterCollapse",function(){r.\u0275\u0275restoreView(t);var l=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(l.onAfterCollapse())})("afterExpand",function(){r.\u0275\u0275restoreView(t);var l=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(l.onAfterExpand())}),r.\u0275\u0275elementStart(7,"mat-expansion-panel-header")(8,"mat-panel-title"),r.\u0275\u0275text(9),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(10,"div",14)(11,"ul"),r.\u0275\u0275template(12,fG,1,0,"ng-container",15),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(13,"div",16),r.\u0275\u0275template(14,mG,2,0,"button",17),r.\u0275\u0275template(15,hG,2,0,"button",17),r.\u0275\u0275elementContainerStart(16),r.\u0275\u0275template(17,gG,0,0,"ng-template",18),r.\u0275\u0275elementContainerEnd(),r.\u0275\u0275elementEnd()()()()}if(2&o){var e=r.\u0275\u0275nextContext(),a=r.\u0275\u0275reference(6),s=r.\u0275\u0275reference(2);r.\u0275\u0275advance(3),r.\u0275\u0275property("matMenuTriggerFor",a),r.\u0275\u0275advance(6),r.\u0275\u0275textInterpolate2("",e.contentPlugin.title," : ",e.name,""),r.\u0275\u0275advance(1),r.\u0275\u0275property("hidden",e.preview),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngTemplateOutlet",s)("ngTemplateOutletContext",r.\u0275\u0275pureFunction1(9,OE,e.settings)),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",r.\u0275\u0275pureFunction1(11,vG,e.preview)),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.displayOverride&&!e.hasOverride),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.displayOverride&&e.hasOverride)}}function _G(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"span"),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"attribute"),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext().$implicit,e=r.\u0275\u0275nextContext().settings;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind2(2,1,e,t.name))}}function xG(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function bG(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"ul"),r.\u0275\u0275template(1,xG,1,0,"ng-container",15),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275nextContext(2);var e=r.\u0275\u0275reference(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",r.\u0275\u0275pureFunction1(2,OE,t.attributes))}}function CG(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"li"),r.\u0275\u0275text(1),r.\u0275\u0275template(2,_G,3,4,"span",21),r.\u0275\u0275template(3,bG,2,4,"ul",21),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit,e=r.\u0275\u0275nextContext().settings;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",t.displayName,": "),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!t.attributes||0==t.attributes.length),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.attributes&&t.attributes.length>0)}}function wG(o,n){1&o&&r.\u0275\u0275template(0,CG,4,3,"li",20),2&o&&r.\u0275\u0275property("ngForOf",n.settings)}function SG(o,n){}function EG(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",22)(1,"classifieds-ui-content-editor",23,24),r.\u0275\u0275listener("nestedUpdate",function(s){r.\u0275\u0275restoreView(t);var u=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(u.onNestedUpdate(s))})("delete",function(){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.onDeleteClick())})("rules",function(){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.onRulesClick())})("props",function(){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.onPropsClick())}),r.\u0275\u0275template(3,SG,0,0,"ng-template",null,25,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementEnd()()}if(2&o){var e=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("panelPage",e.panelPage)("savable",!1)("nested",!0)("locked",e.locked)("contexts",e.contexts)("rootContext",e.rootContext)("ancestory",e.paneAncestoryWithSelf)}}function PG(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",26),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.onPreviewClick())}),r.\u0275\u0275text(1,"Preview"),r.\u0275\u0275elementEnd()}if(2&o){var e=r.\u0275\u0275nextContext();r.\u0275\u0275property("disabled",e.locked)}}function AG(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",27),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.onDisablePreviewClick())}),r.\u0275\u0275text(1,"Disable Preview"),r.\u0275\u0275elementEnd()}}var kG=["extraActionsArea"],RG=["contextsMenuTpl"],DG=["editablePaneTpl"],TG=["panes"];function IG(o,n){}var BO=function(n){return{nested:n}};function OG(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"form",7),r.\u0275\u0275listener("ngSubmit",function(){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.submit())}),r.\u0275\u0275elementContainerStart(1),r.\u0275\u0275template(2,IG,0,0,"ng-template",8),r.\u0275\u0275elementContainerEnd(),r.\u0275\u0275elementEnd()}if(2&o){var e=r.\u0275\u0275nextContext();r.\u0275\u0275property("formGroup",e.contentForm)("ngClass",r.\u0275\u0275pureFunction1(2,BO,e.nested))}}function FG(o,n){}function MG(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div",9),r.\u0275\u0275elementContainerStart(1),r.\u0275\u0275template(2,FG,0,0,"ng-template",8),r.\u0275\u0275elementContainerEnd(),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275property("formGroup",t.contentForm)("ngClass",r.\u0275\u0275pureFunction1(2,BO,t.nested))}}function NG(o,n){1&o&&r.\u0275\u0275element(0,"div",12)}function VG(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"classifieds-ui-editable-pane",10),r.\u0275\u0275listener("delete",function(){var l=r.\u0275\u0275restoreView(t),c=l.i,h=l.j,C=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(C.onDeletePane(c,h))})("rules",function(){var l=r.\u0275\u0275restoreView(t),c=l.i,h=l.j,C=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(C.onRulesPane(c,h))})("nestedUpdate",function(l){var c=r.\u0275\u0275restoreView(t),h=c.i,C=c.j,T=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(T.onNestedUpdate(l,h,C))})("rendererOverride",function(){var l=r.\u0275\u0275restoreView(t),c=l.i,h=l.j,C=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(C.onOverrideRenderer(c,h))})("removeRendererOverride",function(){var l=r.\u0275\u0275restoreView(t),c=l.i,h=l.j,C=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(C.onRemoveOverrideRenderer(c,h))})("edit",function(){var l=r.\u0275\u0275restoreView(t),c=l.i,h=l.j,C=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(C.onPaneEdit(c,h))})("props",function(){var l=r.\u0275\u0275restoreView(t),c=l.i,h=l.j,C=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(C.editPaneProps(c,h))})("delete",function(){var l=r.\u0275\u0275restoreView(t),c=l.i,h=l.j,C=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(C.onPaneDelete(c,h))}),r.\u0275\u0275template(1,NG,1,0,"div",11),r.\u0275\u0275elementEnd()}if(2&o){var e=n.i,a=n.j,s=r.\u0275\u0275nextContext();r.\u0275\u0275property("panelIndex",e)("paneIndex",a)("name",s.panelPaneName(e,a))("label",s.panelPaneLabel(e,a))("locked",s.panelPaneLocked(e,a))("contexts",s.contexts)("pluginName",s.panelPanePlugin(e,a))("settings",s.panelPaneSettings(e,a))("ancestory",s.ancestory)}}function BG(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"button",13),r.\u0275\u0275text(1,"( x )"),r.\u0275\u0275elementEnd()),2&o){r.\u0275\u0275nextContext();var t=r.\u0275\u0275reference(8);r.\u0275\u0275property("matMenuTriggerFor",t)}}function ZG(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",5),r.\u0275\u0275listener("click",function(){var u=r.\u0275\u0275restoreView(t).$implicit,l=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(l.onEditContext(u.name))}),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()}if(2&o){var e=n.$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(e.name)}}function LG(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"a",1),r.\u0275\u0275listener("click",function(){var u=r.\u0275\u0275restoreView(t).$implicit,l=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(l.onItemSelect(u.value))}),r.\u0275\u0275elementStart(1,"span",2),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd()()}if(2&o){var e=n.$implicit;r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(e.value.name)}}function jG(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function $G(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"span"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1("",t.displayName,": ")}}function UG(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"span"),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"attribute"),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext().$implicit,e=r.\u0275\u0275nextContext().settings;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind2(2,1,e,t.name))}}function zG(o,n){1&o&&r.\u0275\u0275elementContainer(0)}function GG(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div"),r.\u0275\u0275template(1,zG,1,0,"ng-container",4),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275nextContext(2);var e=r.\u0275\u0275reference(3);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",r.\u0275\u0275pureFunction1(2,OE,t.attributes))}}function HG(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div"),r.\u0275\u0275template(1,$G,2,1,"span",2),r.\u0275\u0275template(2,UG,3,4,"span",2),r.\u0275\u0275template(3,GG,2,4,"div",2),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",0==t.attributes.length),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",0==t.attributes.length),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",t.attributes.length>0)}}function qG(o,n){1&o&&r.\u0275\u0275template(0,HG,4,3,"div",6),2&o&&r.\u0275\u0275property("ngForOf",n.settings)}function KG(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div"),r.\u0275\u0275template(1,jG,1,0,"ng-container",4),r.\u0275\u0275template(2,qG,1,1,"ng-template",null,5,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275reference(3),e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",r.\u0275\u0275pureFunction1(2,OE,e.attributeValues))}}function WG(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div",7),r.\u0275\u0275element(1,"classifieds-ui-attributes-builder",8),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("formGroup",t.controlContainer.control),r.\u0275\u0275advance(1),r.\u0275\u0275property("attributes",t.attributes)("attributeValues",t.attributeValues)}}function XG(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div"),r.\u0275\u0275template(1,KG,4,4,"div",2),r.\u0275\u0275template(2,WG,2,3,"div",3),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","page"==t.displayType),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","form"==t.displayType)}}function QG(o,n){if(1&o&&r.\u0275\u0275element(0,"classifieds-ui-snippet-pane-renderer",9),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275property("settings",t.rendererSettings)("tokens",t.tokens)}}function YG(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"ngx-dropzone-image-preview",2),r.\u0275\u0275listener("removed",function(s){r.\u0275\u0275restoreView(t);var u=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(u.onRemoveMedia(s))}),r.\u0275\u0275elementStart(1,"ngx-dropzone-label"),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd()()}if(2&o){var e=r.\u0275\u0275nextContext();r.\u0275\u0275property("removable",!0)("file",e.media),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate2("",e.media.name," (",e.media.type,")")}}var JG=["img"];function eH(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",26),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("value",t),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t)}}function tH(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div")(1,"mat-form-field",23)(2,"mat-label"),r.\u0275\u0275text(3,"Pane"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"mat-select",24),r.\u0275\u0275template(5,eH,2,2,"mat-option",25),r.\u0275\u0275elementEnd()()()),2&o){var t=n.index,e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("formGroupName",t),r.\u0275\u0275advance(4),r.\u0275\u0275property("ngForOf",e.panes)}}function nH(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",20)(1,"button",21),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(s.addPane())}),r.\u0275\u0275text(2,"Add Pane"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div"),r.\u0275\u0275template(4,tH,6,2,"div",22),r.\u0275\u0275elementEnd()()}if(2&o){var e=r.\u0275\u0275nextContext();r.\u0275\u0275advance(4),r.\u0275\u0275property("ngForOf",e.bindings.controls)}}function rH(o,n){1&o&&(r.\u0275\u0275elementStart(0,"div",27)(1,"mat-form-field"),r.\u0275\u0275element(2,"input",28),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"mat-form-field"),r.\u0275\u0275element(4,"input",29),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"mat-form-field"),r.\u0275\u0275element(6,"input",30),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(7,"div")(8,"mat-checkbox",31),r.\u0275\u0275text(9,"Multiple"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(10,"mat-form-field"),r.\u0275\u0275element(11,"input",32),r.\u0275\u0275elementEnd()())}function iH(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",7),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("value",t.value),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.label)}}function aH(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"mat-form-field")(2,"mat-label"),r.\u0275\u0275text(3),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"mat-select",5),r.\u0275\u0275template(5,iH,2,2,"mat-option",6),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementContainerEnd()),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(t.label),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",t.options)}}function oH(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-radio-button",7),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("value",t.value),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.label)}}function sH(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"div")(2,"label"),r.\u0275\u0275text(3),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"mat-radio-group",5),r.\u0275\u0275template(5,oH,2,2,"mat-radio-button",6),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementContainerEnd()),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(t.label),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",t.options)}}function uH(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div")(1,"div",9)(2,"mat-checkbox",10),r.\u0275\u0275text(3),r.\u0275\u0275elementEnd()()()),2&o){var t=n.$implicit,e=n.index;r.\u0275\u0275advance(1),r.\u0275\u0275property("formGroupName",e),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(t.label)}}function lH(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"div")(2,"div",1),r.\u0275\u0275template(3,uH,4,2,"div",8),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementContainerEnd()),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(3),r.\u0275\u0275property("ngForOf",t.options)}}function cH(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",7),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("value",t),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.label)}}function dH(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"mat-form-field"),r.\u0275\u0275element(2,"input",11),r.\u0275\u0275elementStart(3,"mat-autocomplete",12,13),r.\u0275\u0275listener("optionSelected",function(u){r.\u0275\u0275restoreView(t);var l=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(l.onOptionSelected(u))}),r.\u0275\u0275template(5,cH,2,2,"mat-option",6),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementContainerEnd()}if(2&o){var e=r.\u0275\u0275reference(4),a=r.\u0275\u0275nextContext();r.\u0275\u0275advance(2),r.\u0275\u0275property("placeholder",a.label)("matAutocomplete",e),r.\u0275\u0275advance(1),r.\u0275\u0275property("displayWith",a.displayAuto),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",a.options)}}function pH(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",8),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("value",t.name),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.name)}}function fH(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",5),r.\u0275\u0275element(1,"druid-panels-panelpage-linkedlist",6),r.\u0275\u0275elementStart(2,"button",3),r.\u0275\u0275listener("click",function(){var l=r.\u0275\u0275restoreView(t).index,c=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(c.onRemoveMapping(l))}),r.\u0275\u0275text(3,"Remove"),r.\u0275\u0275elementEnd()()}if(2&o){var e=n.index,a=r.\u0275\u0275nextContext();r.\u0275\u0275property("formGroupName",e),r.\u0275\u0275advance(1),r.\u0275\u0275property("panes",a.panes)}}function mH(o,n){if(1&o&&r.\u0275\u0275element(0,"classifieds-ui-render-pane",4),2&o){var t=r.\u0275\u0275nextContext().index,e=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("pluginName",e.panes[2*t].contentPlugin)("settings",e.panes[2*t].settings)("contexts",e.panes[2*t].contexts)}}function hH(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-tab"),r.\u0275\u0275template(1,mH,1,3,"ng-template",3),r.\u0275\u0275element(2,"classifieds-ui-render-pane",4),r.\u0275\u0275elementEnd()),2&o){var t=n.index,e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(2),r.\u0275\u0275property("pluginName",e.panes[2*t+1].contentPlugin)("settings",e.panes[2*t+1].settings)("contexts",e.panes[2*t+1].contexts)}}function gH(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-tab-group",1),r.\u0275\u0275template(1,hH,3,3,"mat-tab",2),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("for",t.panes.length/2)}}function vH(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-tab",6),r.\u0275\u0275element(1,"classifieds-ui-render-pane",4),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275property("pluginName",t.contentPlugin)("settings",t.settings)("contexts",t.contexts)}}function yH(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-tab-group",1),r.\u0275\u0275template(1,vH,2,3,"mat-tab",5),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",t.panes)}}function _H(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"div",2),r.\u0275\u0275element(1,"classifieds-ui-render-pane",3),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275property("pluginName",t.contentPlugin)("settings",t.settings)("contexts",t.contexts)("resolvedContext",t.resolvedContext)}}function xH(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"th",7),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t)}}function bH(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"td",8),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit,e=r.\u0275\u0275nextContext().$implicit,a=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(a.rowData(e,t))}}function CH(o,n){1&o&&(r.\u0275\u0275elementContainerStart(0,4),r.\u0275\u0275template(1,xH,2,1,"th",5),r.\u0275\u0275template(2,bH,2,1,"td",6),r.\u0275\u0275elementContainerEnd()),2&o&&r.\u0275\u0275property("matColumnDef",n.$implicit)}function wH(o,n){1&o&&r.\u0275\u0275element(0,"tr",9)}function SH(o,n){1&o&&r.\u0275\u0275element(0,"tr",10)}var uk,EH={GridLayout:{entityName:"GridLayout"},PanelPageForm:{crud:{panelpageform_serialize:{plugins:{idb_keyval:{params:{prefix:"panelpageform__"}}}}}}},FE=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.viewContainerRef=t});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ViewContainerRef))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiContentSelectionHost",""]]}),o}(),PH=function(){var o=function(){function n(t,e,a,s,u,l){(0,f.Z)(this,n),this.data=t,this.bottomSheetRef=e,this.dialog=a,this.componentFactoryResolver=s,this.fb=u,this.contentPluginManager=l,this.selectedIndex=0}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){this.contentPlugins=this.contentPluginManager.getPlugins()}},{key:"onEntitySelected",value:function(e){var a=this;this.plugin=e,void 0!==this.plugin.selectionComponent?(this.selectedIndex=1,this.renderSelectionComponent()):void 0!==this.plugin.editorComponent?(this.bottomSheetRef.dismiss(),e.handler?this.plugin.handler.editorOptions([]).subscribe(function(u){a.dialog.open(a.plugin.editorComponent,(0,b.Z)({data:{panelFormGroup:a.data.panelForm,panelIndex:a.data.panelIndex,pane:void 0,paneIndex:void 0,contexts:a.data.contexts,contentAdded:a.data.contentAdded,plugin:e}},u.fullscreen?{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%"}:{}))}):this.dialog.open(this.plugin.editorComponent,{data:{panelFormGroup:this.data.panelForm,panelIndex:this.data.panelIndex,pane:void 0,paneIndex:void 0,contexts:this.data.contexts,contentAdded:this.data.contentAdded}})):this.data.panelForm.get("panes").push(this.fb.group({contentPlugin:this.fb.control(this.plugin.id),name:this.fb.control(""),label:this.fb.control(""),settings:this.fb.array([])}))}},{key:"renderSelectionComponent",value:function(){var e=this.componentFactoryResolver.resolveComponentFactory(this.plugin.selectionComponent),a=this.selectionHost.viewContainerRef;a.clear();var s=a.createComponent(e);s.instance.panelFormGroup=this.data.panelForm,s.instance.contexts=this.data.contexts}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Dl.MAT_BOTTOM_SHEET_DATA),r.\u0275\u0275directiveInject(Dl.MatBottomSheetRef),r.\u0275\u0275directiveInject(Yt.MatLegacyDialog),r.\u0275\u0275directiveInject(r.ComponentFactoryResolver),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(pn.ContentPluginManager))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-content-selector"]],viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(FE,7),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.selectionHost=a.first)},decls:10,vars:6,consts:[[1,"content-selector-wrapper"],[3,"selectedIndex"],["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["classifiedsUiContentSelectionHost",""],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab")(3,"mat-nav-list"),r.\u0275\u0275template(4,oG,3,1,"a",2),r.\u0275\u0275pipe(5,"keyvalue"),r.\u0275\u0275pipe(6,"async"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(7,"mat-tab"),r.\u0275\u0275elementContainerStart(8),r.\u0275\u0275template(9,sG,0,0,"ng-template",3),r.\u0275\u0275elementContainerEnd(),r.\u0275\u0275elementEnd()()()),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("selectedIndex",e.selectedIndex),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(5,2,r.\u0275\u0275pipeBind1(6,4,e.contentPlugins))))},dependencies:[P.NgForOf,vE.MatLine,Eu.MatLegacyNavList,Eu.MatLegacyListItem,rs.MatLegacyTabGroup,rs.MatLegacyTab,FE,P.AsyncPipe,P.KeyValuePipe],styles:[".content-selector-wrapper[_ngcontent-%COMP%]     .mat-tab-header{display:none}"]}),o}(),Vl=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.attributeSerializer=t,this.tokenizrService=e,this.types=["text/markdown","text/html"]}return(0,y.Z)(n,[{key:"handleFile",value:function(e){var a=this;return new W.y(function(s){var u=new FileReader;u.onload=function(){s.next(a.buildSettings(new El({contentType:e.type,content:"".concat(u.result)}))),s.complete()},u.readAsText(e)})}},{key:"handlesType",value:function(e){return void 0!==this.types.find(function(a){return a===e})}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(e){return(0,Le.of)(!1)}},{key:"isDynamic",value:function(e){return!1}},{key:"isData",value:function(e){return!1}},{key:"getBindings",value:function(e,a,s){var u=this;return"context"===a?this.toObject(e).pipe((0,Ce.U)(function(l){return u.tokenizrService.discoverTokens(l.content).map(function(h){return new pn.ContentBinding({id:h,type:"context"})})})):(0,Le.of)([])}},{key:"fetchDynamicData",value:function(e,a){return(0,Le.of)(new pr)}},{key:"buildDynamicItems",value:function(e,a){return(0,Le.of)([])}},{key:"toObject",value:function(e){return(0,Le.of)(new El(this.attributeSerializer.deserializeAsObject(e)))}},{key:"buildSettings",value:function(e){return this.attributeSerializer.serialize(e,"root").attributes}},{key:"stateDefinition",value:function(e){return(0,Le.of)({})}},{key:"editorOptions",value:function(e){return(0,Le.of)(new pn.ContentPluginEditorOptions({fullscreen:!0}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Nt.AttributeSerializerService),r.\u0275\u0275inject(Pr))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),ZO=function(){var o=function(){function n(t,e,a,s){var u=this;(0,f.Z)(this,n),this.hostEl=t,this.handler=e,this.tokenizerService=a,this.markdownService=s,this.contexts=[],this.afterContentInit$=new ae.x,this.content="",this.content$=new U.X(""),this.settings$=new U.X([]),this.snippet$=new U.X(void 0),this.resolvedContext$=new U.X(void 0),this.docRendered$=new ae.x,this.contentSub=(0,Sr.a)([this.afterContentInit$,this.content$,this.snippet$,this.docRendered$]).subscribe(function(l){var T=(0,g.Z)(l,3)[2];T&&T.jsScript&&""!==T.jsScript&&setTimeout(function(){return u.appendScript(T.jsScript)})}),this.renderContentSub=(0,Sr.a)([this.settings$,this.resolvedContext$]).pipe((0,st.w)(function(l){var c=(0,g.Z)(l,2);return u.handler.toObject(c[0])}),(0,st.w)(function(l){return u.resolveContexts().pipe((0,Ce.U)(function(c){return[l,c]}))})).subscribe(function(l){var c=(0,g.Z)(l,2),h=c[0],C=c[1];void 0!==C&&(u.tokens=C),u.contentType=h.contentType,u.snippet$.next(h);var T=u.replaceTokens(h.content),N=h.contentType&&-1!==h.contentType.indexOf("markdown")?u.markdownService.parse(T):T;u.content$.next(N)})}return(0,y.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"resolvedContext",set:function(e){this.resolvedContext$.next(e)}},{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){console.log("pane changed")}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(),this.afterContentInit$.complete()}},{key:"replaceTokens",value:function(e){return void 0!==this.tokens&&this.tokens.forEach(function(a,s){e=e.split("[".concat(s,"]")).join("".concat(a))}),e}},{key:"resolveContexts",value:function(){var e=this;return new W.y(function(a){var s=new Map;if(e.resolvedContext$.value)for(var u in e.resolvedContext$.value)s=new Map([].concat((0,_.Z)(s),(0,_.Z)(e.tokenizerService.generateGenericTokens(e.resolvedContext$.value[u],"_root"===u?"":u))));a.next(s),a.complete()})}},{key:"appendScript",value:function(e){var a=document.createElement("script");a.type="text/javascript",a.appendChild(document.createTextNode(e)),this.hostEl.nativeElement.appendChild(a),console.log("add script")}},{key:"onDocRendered",value:function(){this.docRendered$.next(void 0)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(Vl),r.\u0275\u0275directiveInject(Pr),r.\u0275\u0275directiveInject(fE))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-snippet-pane-renderer"]],inputs:{settings:"settings",contexts:"contexts",tokens:"tokens",resolvedContext:"resolvedContext"},features:[r.\u0275\u0275NgOnChangesFeature],decls:2,vars:2,consts:[[3,"content","docRendered",4,"ngIf"],[3,"content","docRendered"]],template:function(t,e){1&t&&(r.\u0275\u0275template(0,uG,2,3,"classifieds-ui-dynamic-content-viewer",0),r.\u0275\u0275template(1,lG,2,3,"classifieds-ui-dynamic-content-viewer",0)),2&t&&(r.\u0275\u0275property("ngIf","text/markdown"==e.contentType),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","text/html"==e.contentType))},dependencies:[P.NgIf,Vn.DynamicContentViewer,P.AsyncPipe]}),o}(),Bl=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.snippetHandler=t}return(0,y.Z)(n,[{key:"handleFile",value:function(e){return(0,Le.of)([])}},{key:"handlesType",value:function(e){return!1}},{key:"implementsRendererOverride",value:function(){return!0}},{key:"hasRendererOverride",value:function(e){return this.rendererSnippet(e).pipe((0,Ce.U)(function(a){return void 0!==a}))}},{key:"isDynamic",value:function(e){return!1}},{key:"isData",value:function(e){return!1}},{key:"fetchDynamicData",value:function(e,a){return(0,Le.of)(new pr)}},{key:"buildDynamicItems",value:function(e,a){return(0,Le.of)([])}},{key:"getBindings",value:function(e,a,s){return(0,Le.of)([])}},{key:"valueSettings",value:function(e){var a=[];return e.forEach(function(s){"value"===s.name&&a.push(s)}),a}},{key:"rendererSnippet",value:function(e){var s,a=this;return e.forEach(function(u){"_renderer"===u.name&&(s=a.snippetHandler.toObject(u.attributes))}),void 0!==s?s:(0,Le.of)(void 0)}},{key:"rendererOverrideSettings",value:function(e){return[new Nt.AttributeValue({name:"_renderer",type:Nt.AttributeTypes.Complex,displayName:"Renderer Override",value:void 0,computedValue:void 0,intValue:0,attributes:this.snippetHandler.buildSettings(e)})]}},{key:"widgetSettings",value:function(e){return[new Nt.AttributeValue({name:"widget",type:e.schema.type,displayName:"Widget",value:e.name,computedValue:e.name,intValue:0,attributes:[]})]}},{key:"stateDefinition",value:function(e){return(0,Le.of)({})}},{key:"editorOptions",value:function(e){return(0,Le.of)(new pn.ContentPluginEditorOptions)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Vl))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),AH=function(){var o=function(){function n(t,e,a,s,u){(0,f.Z)(this,n),this.data=t,this.dialogRef=e,this.tokenizerService=a,this.handler=s,this.fb=u}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){this.tokens=this.tokenizerService.generateTokens(this.data.pane.settings)}},{key:"submitted",value:function(e){this.replaceRenderer(e),this.dialogRef.close()}},{key:"replaceRenderer",value:function(e){var a,s=this.handler.rendererOverrideSettings(e)[0],u=this.convertToGroup(s),l=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("settings");l.controls.forEach(function(c,h){"_renderer"===c.get("name").value&&(a=h)}),void 0!==a?(l.insert(a,u),l.removeAt(a+1)):l.push(u)}},{key:"convertToGroup",value:function(e){var a=this,s=this.fb.group({name:new v.UntypedFormControl(e.name,v.Validators.required),type:new v.UntypedFormControl(e.type,v.Validators.required),displayName:new v.UntypedFormControl(e.displayName,v.Validators.required),value:new v.UntypedFormControl(e.value,v.Validators.required),computedValue:new v.UntypedFormControl(e.value,v.Validators.required),attributes:new v.UntypedFormArray([])});return e.attributes&&e.attributes.length>0&&e.attributes.forEach(function(u){s.get("attributes").push(a.convertToGroup(u))}),s}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(Yt.MatLegacyDialogRef),r.\u0275\u0275directiveInject(Pr),r.\u0275\u0275directiveInject(Bl),r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rendering-editor"]],decls:2,vars:1,consts:[[3,"tokens","submitted"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"classifieds-ui-snippet-form",0),r.\u0275\u0275listener("submitted",function(s){return e.submitted(s)}),r.\u0275\u0275element(1,"classifieds-ui-snippet-form"),r.\u0275\u0275elementEnd()),2&t&&r.\u0275\u0275property("tokens",e.tokens)},dependencies:[mE]}),o}(),kH=function(){var o=function(){function n(t,e,a,s,u,l){(0,f.Z)(this,n),this.data=t,this.spm=e,this.bottomSheetRef=a,this.dialog=s,this.componentFactoryResolver=u,this.fb=l,this.selectedIndex=0}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){this.stylePlugins=this.spm.getPlugins()}},{key:"onStyleSelected",value:function(e){this.plugin=e,void 0!==this.plugin.editorComponent?(this.bottomSheetRef.dismiss(),this.data.panelForm.get("stylePlugin").setValue(this.plugin.name),this.data.panelForm.get("styleTitle").setValue(this.plugin.title),this.data.panelForm.get("settings").clear(),this.dialog.open(this.plugin.editorComponent,{data:{panelFormGroup:this.data.panelForm,panelIndex:this.data.panelIndex,contexts:this.data.contexts}})):(this.data.panelForm.get("stylePlugin").setValue(this.plugin.name),this.data.panelForm.get("styleTitle").setValue(this.plugin.title),this.data.panelForm.get("settings").clear(),this.bottomSheetRef.dismiss())}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Dl.MAT_BOTTOM_SHEET_DATA),r.\u0275\u0275directiveInject(Xd),r.\u0275\u0275directiveInject(Dl.MatBottomSheetRef),r.\u0275\u0275directiveInject(Yt.MatLegacyDialog),r.\u0275\u0275directiveInject(r.ComponentFactoryResolver),r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-style-selector"]],viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(FE,7),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.selectionHost=a.first)},decls:10,vars:6,consts:[[1,"style-selector-wrapper"],[3,"selectedIndex"],["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["classifiedsUiContentSelectionHost",""],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab")(3,"mat-nav-list"),r.\u0275\u0275template(4,cG,3,1,"a",2),r.\u0275\u0275pipe(5,"keyvalue"),r.\u0275\u0275pipe(6,"async"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(7,"mat-tab"),r.\u0275\u0275elementContainerStart(8),r.\u0275\u0275template(9,dG,0,0,"ng-template",3),r.\u0275\u0275elementContainerEnd(),r.\u0275\u0275elementEnd()()()),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("selectedIndex",e.selectedIndex),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(5,2,r.\u0275\u0275pipeBind1(6,4,e.stylePlugins))))},dependencies:[P.NgForOf,vE.MatLine,Eu.MatLegacyNavList,Eu.MatLegacyListItem,rs.MatLegacyTabGroup,rs.MatLegacyTab,FE,P.AsyncPipe,P.KeyValuePipe],styles:[".style-selector-wrapper[_ngcontent-%COMP%]     .mat-tab-header{display:none}"]}),o}(),RH=function(){var o=function(){function n(t,e,a,s,u){(0,f.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=a,this.inlineContextResolver=s,this.rulesParser=u,this.rulesForm=this.fb.group({rules:this.fb.control("")}),this.config={fields:{}}}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.inlineContextResolver.resolveMerged(this.data.contexts).subscribe(function(a){var s={};for(var u in a)e.rulesParser.buildFields(a[u],u).forEach(function(l,c){s[c]=l});e.config=(0,b.Z)((0,b.Z)({},e.config),{},{fields:s}),void 0!==e.data.rule&&e.rulesForm.get("rules").setValue(e.data.rule)})}},{key:"submit",value:function(){console.log("the rules"),console.log(this.rulesForm.get("rules").value),this.dialogRef.close(this.rulesForm.get("rules").value)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(Yt.MatLegacyDialogRef),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(zd),r.\u0275\u0275directiveInject(PI))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rules-dialog"]],decls:6,vars:3,consts:[[1,"rest-form",3,"formGroup","ngSubmit"],["formControlName","rules",3,"config"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"form",0),r.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),r.\u0275\u0275elementStart(1,"mat-dialog-content"),r.\u0275\u0275element(2,"query-builder",1),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"mat-dialog-actions")(4,"button",2),r.\u0275\u0275text(5,"Save"),r.\u0275\u0275elementEnd()()()),2&t&&(r.\u0275\u0275property("formGroup",e.rulesForm),r.\u0275\u0275advance(2),r.\u0275\u0275property("config",e.config),r.\u0275\u0275advance(2),r.\u0275\u0275property("disabled",!e.rulesForm.valid))},dependencies:[v.\u0275NgNoValidate,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,pi.MatLegacyButton,Yt.MatLegacyDialogClose,Yt.MatLegacyDialogContent,Yt.MatLegacyDialogActions,VA]}),o}(),DH=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=a,this.propertiesForm=this.fb.group({name:this.fb.control(this.data.props.name),title:this.fb.control(this.data.props.title),path:this.fb.control(this.data.props.path),cssFile:this.fb.control(this.data.props.cssFile),readUserIds:this.fb.array([this.fb.group({userId:this.fb.control(this.data.props.readUserIds&&this.data.props.readUserIds.length>0?this.data.props.readUserIds[0]:"")})])})}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){this.dialogRef.close(new l_((0,b.Z)((0,b.Z)({},this.propertiesForm.value),{},{readUserIds:this.propertiesForm.value.readUserIds.map(function(e){return e.userId})})))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(Yt.MatLegacyDialogRef),r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-properties-dialog"]],decls:18,vars:2,consts:[[1,"properties-form",3,"formGroup","ngSubmit"],[1,"content-inner"],["fxLayout","column"],["matInput","","formControlName","name","placeholder","Name"],["matInput","","formControlName","title","placeholder","Title"],["matInput","","formControlName","path","placeholder","Path"],["matInput","","formControlName","cssFile","placeholder","Css File"],["formArrayName","readUserIds"],["formGroupName","0"],["matInput","","formControlName","userId","placeholder","Read User Id"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"form",0),r.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),r.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2)(4,"mat-form-field"),r.\u0275\u0275element(5,"input",3),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(6,"mat-form-field"),r.\u0275\u0275element(7,"input",4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(8,"mat-form-field"),r.\u0275\u0275element(9,"input",5),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(10,"mat-form-field"),r.\u0275\u0275element(11,"input",6),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(12,"mat-form-field",7)(13,"div",8),r.\u0275\u0275element(14,"input",9),r.\u0275\u0275elementEnd()()()()(),r.\u0275\u0275elementStart(15,"mat-dialog-actions")(16,"button",10),r.\u0275\u0275text(17,"Save"),r.\u0275\u0275elementEnd()()()),2&t&&(r.\u0275\u0275property("formGroup",e.propertiesForm),r.\u0275\u0275advance(16),r.\u0275\u0275property("disabled",!e.propertiesForm.valid))},dependencies:[v.\u0275NgNoValidate,v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,v.FormGroupName,v.FormArrayName,pi.MatLegacyButton,Yt.MatLegacyDialogClose,Yt.MatLegacyDialogContent,Yt.MatLegacyDialogActions,En.MatLegacyFormField,Hr.MatLegacyInput,Wt]}),o}(),LO=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=a,this.contextForm=this.fb.group({context:this.fb.control("")}),this.context=t.context}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var e=this;this.data.context&&setTimeout(function(){e.contextFormComp.contextForm.setValue({name:e.data.context.name,plugin:e.data.context.plugin}),"rest"===e.data.context.plugin?setTimeout(function(){e.contextFormComp.componentRef.instance.restSourceFormComp.restSource={url:e.data.context.rest.url,params:e.data.context.rest.params}}):"datasource"===e.data.context.plugin&&setTimeout(function(){e.contextFormComp.componentRef.instance.datasourceFormComp.datasource=e.data.context.datasource})})}},{key:"submit",value:function(){""!==this.contextForm.get("context").value.name?this.dialogRef.close(new la(this.contextForm.get("context").value)):this.dialogRef.close()}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(Yt.MatLegacyDialogRef),r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-dialog"]],viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(dI,5),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.contextFormComp=a.first)},decls:6,vars:3,consts:[[1,"context-form",3,"formGroup","ngSubmit"],["formControlName","context",3,"context"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"form",0),r.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),r.\u0275\u0275elementStart(1,"mat-dialog-content"),r.\u0275\u0275element(2,"classifieds-ui-context-form",1),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"mat-dialog-actions")(4,"button",2),r.\u0275\u0275text(5,"Save"),r.\u0275\u0275elementEnd()()()),2&t&&(r.\u0275\u0275property("formGroup",e.contextForm),r.\u0275\u0275advance(2),r.\u0275\u0275property("context",e.context),r.\u0275\u0275advance(2),r.\u0275\u0275property("disabled",!e.contextForm.valid))},dependencies:[v.\u0275NgNoValidate,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,pi.MatLegacyButton,Yt.MatLegacyDialogClose,Yt.MatLegacyDialogContent,Yt.MatLegacyDialogActions,dI]}),o}(),TH=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=a,this.propsForm=this.fb.group({name:this.fb.control(this.data.props.name),label:this.fb.control(this.data.props.label)})}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){this.dialogRef.close(new JI(this.propsForm.value))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(Yt.MatLegacyDialogRef),r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-panel-props-dialog"]],decls:11,vars:2,consts:[[1,"props-form",3,"formGroup","ngSubmit"],[1,"content-inner"],["fxLayout","column"],["matInput","","formControlName","name","placeholder","Name"],["matInput","","formControlName","label","placeholder","Label"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"form",0),r.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),r.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2)(4,"mat-form-field"),r.\u0275\u0275element(5,"input",3),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(6,"mat-form-field"),r.\u0275\u0275element(7,"input",4),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275elementStart(8,"mat-dialog-actions")(9,"button",5),r.\u0275\u0275text(10,"Save"),r.\u0275\u0275elementEnd()()()),2&t&&(r.\u0275\u0275property("formGroup",e.propsForm),r.\u0275\u0275advance(9),r.\u0275\u0275property("disabled",!e.propsForm.valid))},dependencies:[v.\u0275NgNoValidate,v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,pi.MatLegacyButton,Yt.MatLegacyDialogClose,Yt.MatLegacyDialogContent,Yt.MatLegacyDialogActions,En.MatLegacyFormField,Hr.MatLegacyInput,Wt]}),o}(),IH=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=a,this.propsForm=this.fb.group({name:this.fb.control(this.data.props.name),label:this.fb.control(this.data.props.label)})}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){this.dialogRef.close(new eO(this.propsForm.value))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(Yt.MatLegacyDialogRef),r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-pane-props-dialog"]],decls:11,vars:2,consts:[[1,"props-form",3,"formGroup","ngSubmit"],[1,"content-inner"],["fxLayout","column"],["matInput","","formControlName","name","placeholder","Name"],["matInput","","formControlName","label","placeholder","Label"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"form",0),r.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),r.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2)(4,"mat-form-field"),r.\u0275\u0275element(5,"input",3),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(6,"mat-form-field"),r.\u0275\u0275element(7,"input",4),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275elementStart(8,"mat-dialog-actions")(9,"button",5),r.\u0275\u0275text(10,"Save"),r.\u0275\u0275elementEnd()()()),2&t&&(r.\u0275\u0275property("formGroup",e.propsForm),r.\u0275\u0275advance(9),r.\u0275\u0275property("disabled",!e.propsForm.valid))},dependencies:[v.\u0275NgNoValidate,v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,pi.MatLegacyButton,Yt.MatLegacyDialogClose,Yt.MatLegacyDialogContent,Yt.MatLegacyDialogActions,En.MatLegacyFormField,Hr.MatLegacyInput,Wt]}),o}(),jO=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.viewContainerRef=t});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ViewContainerRef))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiLayoutEditorHost",""]]}),o}(),$O=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.viewContainerRef=t});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ViewContainerRef))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","classifiedsUiPaneContentHost",""]]}),o}(),rk=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.entityServices=t,this.attributeSerializer=e}return(0,y.Z)(n,[{key:"entityCollectionService",get:function(){return this.entityServices.getEntityCollectionService("PanelPageState")}},{key:"resolve",value:function(e,a){var T,F,s=this,u=function(T){return T.entities},h="$."+a.selectionPath.map(function(C,T){return"".concat((T+1)%2==0?"panes":(0===T?"":"nestedPage.")+"panels","[").concat(C,"]")}).join(".");return this.entityCollectionService.collection$.pipe((0,Bt.Ys)((F=(T={id:a.id,path:h}).path,(0,Bt.P1)(function(T){var N=T.id;return(0,Bt.P1)(u,function(F){return F[N]?F[N]:void 0})}({id:T.id}),function($){return(0,Ms.JSONPath)({path:F,json:$})}))),(0,Ce.U)(function(C){return C&&Array.isArray(C)&&0!==C.length?C[0]:s.defaultPaneState(a.value?a.value:{})}),(0,Ce.U)(function(C){return s.attributeSerializer.deserialize(C.state)}),(0,Ce.U)(function(C){return C?C.root?C.root:C:{}}),(0,te.b)(function(C){console.log("resolved panestate[id=".concat(a.id,"]").concat(h)),console.log(C)}))}},{key:"defaultPaneState",value:function(e){return new Ya({state:this.attributeSerializer.serialize(e,"root")})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Dr),r.\u0275\u0275inject(Nt.AttributeSerializerService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),UO=function(){var o=function(){function n(t,e,a){var s=this;(0,f.Z)(this,n),this.componentFactoryResolver=t,this.panelHandler=e,this.cpm=a,this.settings=[],this.locked=!1,this.contexts=[],this.edit=new r.EventEmitter,this.props=new r.EventEmitter,this.delete=new r.EventEmitter,this.rules=new r.EventEmitter,this.rendererOverride=new r.EventEmitter,this.removeRendererOverride=new r.EventEmitter,this.nestedUpdate=new r.EventEmitter,this.heightChange=new r.EventEmitter,this.displayOverride=!1,this.hasOverride=!1,this.preview=!1,this.schedulePluginChange=new ae.x,this.pluginChangeSub=this.schedulePluginChange.pipe((0,st.w)(function(u){return s.cpm.getPlugin(s.pluginName).pipe((0,st.w)(function(l){return l.handler.hasRendererOverride(s.settings).pipe((0,Ce.U)(function(c){return[u,l,c]}))}))})).subscribe(function(u){var l=(0,g.Z)(u,3),c=l[0],h=l[1],C=l[2];s.contentPlugin=h,s.displayOverride=h.handler.implementsRendererOverride(),s.hasOverride=!!C,c&&"panel"===s.pluginName&&s.panelHandler.toObject(s.settings).subscribe(function(T){s.panelPage=T})}),this.ancestory$=new ae.x,this.panelIndex$=new ae.x,this.paneIndex$=new ae.x,this.paneAncestoryWithSelf=[],this.paneAncestoryWithSelfSub=(0,Sr.a)([this.ancestory$,this.panelIndex$,this.paneIndex$]).pipe((0,Ce.U)(function(u){var l=(0,g.Z)(u,3),h=l[1],C=l[2];return[].concat((0,_.Z)(l[0]),[h,C])})).subscribe(function(u){s.paneAncestoryWithSelf=u})}return(0,y.Z)(n,[{key:"panelIndex",set:function(e){this.panelIndex$.next(e)}},{key:"paneIndex",set:function(e){this.paneIndex$.next(e)}},{key:"ancestory",set:function(e){this.ancestory$.next(e)}},{key:"ngOnInit",value:function(){this.schedulePluginChange.next(!0),console.log("here 1")}},{key:"ngOnChanges",value:function(e){this.schedulePluginChange.next(!1),console.log("here 2"),console.log(e)}},{key:"onEditClick",value:function(){this.edit.emit()}},{key:"onPropsClick",value:function(){this.props.emit()}},{key:"onRulesClick",value:function(){this.rules.emit()}},{key:"onDeleteClick",value:function(){this.delete.emit()}},{key:"onPreviewClick",value:function(){var e=this;this.preview=!0,void 0!==this.contentPaneHost&&this.renderPaneContent(),setTimeout(function(){return e.heightChange.emit()})}},{key:"onOverrideClick",value:function(){this.rendererOverride.emit()}},{key:"onRemoveOverrideClick",value:function(){this.removeRendererOverride.emit()}},{key:"onNestedUpdate",value:function(e){this.nestedUpdate.emit(e)}},{key:"onDisablePreviewClick",value:function(){var e=this;this.preview=!1,void 0!==this.contentPaneHost&&this.contentPaneHost.viewContainerRef.clear(),setTimeout(function(){return e.heightChange.emit()})}},{key:"onAfterCollapse",value:function(){this.heightChange.emit()}},{key:"onAfterExpand",value:function(){this.heightChange.emit()}},{key:"renderPaneContent",value:function(){var e=this.componentFactoryResolver.resolveComponentFactory(this.contentPlugin.renderComponent),a=this.contentPaneHost.viewContainerRef;a.clear(),a.createComponent(e).instance.settings=this.settings}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ComponentFactoryResolver),r.\u0275\u0275directiveInject(ya),r.\u0275\u0275directiveInject(pn.ContentPluginManager))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-editable-pane"]],viewQuery:function(t,e){var a;1&t&&(r.\u0275\u0275viewQuery($O,5),r.\u0275\u0275viewQuery(pG,5)),2&t&&(r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.contentPaneHost=a.first),r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.contentEditor=a.first))},inputs:{pluginName:"pluginName",settings:"settings",name:"name",label:"label",panelIndex:"panelIndex",paneIndex:"paneIndex",locked:"locked",rootContext:"rootContext",contexts:"contexts",ancestory:"ancestory"},outputs:{edit:"edit",props:"props",delete:"delete",rules:"rules",rendererOverride:"rendererOverride",removeRendererOverride:"removeRendererOverride",nestedUpdate:"nestedUpdate",heightChange:"heightChange"},features:[r.\u0275\u0275NgOnChangesFeature],decls:17,vars:6,consts:[["class","editable-pane-wrapper",4,"ngIf","ngIfElse"],["settingsTmpl",""],["nestedPanelTpl",""],["paneMenu","matMenu"],["type","button","mat-menu-item","",3,"disabled","click"],["type","button","mat-menu-item","",3,"click"],["mat-menu-item","","type","button",3,"disabled","click",4,"ngIf"],["mat-menu-item","","type","button",3,"click",4,"ngIf"],["type","button","mat-menu-item","",1,"delete",3,"click"],[1,"editable-pane-wrapper"],["fxLayout","row",1,"inner-pane-wrapper"],[1,"pane-menu-trigger-wrapper"],["mat-button","","type","button",3,"matMenuTriggerFor"],["fxFlex","",3,"afterCollapse","afterExpand"],[3,"hidden"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"preview-area",3,"ngClass"],["class","override","type","button",3,"click",4,"ngIf"],["classifiedsUiPaneContentHost",""],["type","button",1,"override",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"nested-panel-wrapper"],[3,"panelPage","savable","nested","locked","contexts","rootContext","ancestory","nestedUpdate","delete","rules","props"],["contentEditor",""],["extraActionsArea",""],["mat-menu-item","","type","button",3,"disabled","click"],["mat-menu-item","","type","button",3,"click"]],template:function(t,e){if(1&t&&(r.\u0275\u0275template(0,yG,18,13,"div",0),r.\u0275\u0275template(1,wG,1,1,"ng-template",null,1,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275template(3,EG,5,7,"ng-template",null,2,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementStart(5,"mat-menu",null,3)(7,"button",4),r.\u0275\u0275listener("click",function(){return e.onEditClick()}),r.\u0275\u0275text(8,"Edit"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"button",4),r.\u0275\u0275listener("click",function(){return e.onPropsClick()}),r.\u0275\u0275text(10,"Props"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(11,"button",5),r.\u0275\u0275listener("click",function(){return e.onRulesClick()}),r.\u0275\u0275text(12,"Rules"),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(13,PG,2,1,"button",6),r.\u0275\u0275template(14,AG,2,0,"button",7),r.\u0275\u0275elementStart(15,"button",8),r.\u0275\u0275listener("click",function(){return e.onDeleteClick()}),r.\u0275\u0275text(16,"Delete"),r.\u0275\u0275elementEnd()()),2&t){var a=r.\u0275\u0275reference(4);r.\u0275\u0275property("ngIf","panel"!=e.pluginName||e.locked)("ngIfElse",a),r.\u0275\u0275advance(7),r.\u0275\u0275property("disabled",e.locked),r.\u0275\u0275advance(2),r.\u0275\u0275property("disabled",e.locked&&0!==e.settings.length),r.\u0275\u0275advance(4),r.\u0275\u0275property("ngIf",!e.preview),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.preview)}},dependencies:function(){return[P.NgClass,P.NgForOf,P.NgIf,P.NgTemplateOutlet,pi.MatLegacyButton,zA.MatExpansionPanel,zA.MatExpansionPanelHeader,zA.MatExpansionPanelTitle,g_.MatIcon,_a.MatLegacyMenu,_a.MatLegacyMenuItem,_a.MatLegacyMenuTrigger,Wt,In,Io,ik,$O,Nt.AttributePipe]},styles:[".editable-pane-wrapper[_ngcontent-%COMP%]{margin-bottom:.25em;border-radius:4px;padding-left:.25em;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.nested-panel-wrapper[_ngcontent-%COMP%]{margin-bottom:.25em}.inner-pane-wrapper[_ngcontent-%COMP%]{padding:0}.pane-header[_ngcontent-%COMP%]{background-color:#ccc;padding:0}.mat-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}button.delete[_ngcontent-%COMP%]{float:right}.preview-area[_ngcontent-%COMP%]{display:none;position:relative}.preview-area.visible[_ngcontent-%COMP%]{display:block;height:300px;overflow-y:scroll;border:1px solid black;padding:.5em}.panel-name[_ngcontent-%COMP%]{float:right;padding-right:.5em}.pane-menu-trigger-wrapper[_ngcontent-%COMP%]{display:flex}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 1em 0 .25em}"]}),o}(),ik=function(){var o=function(){function n(t,e,a,s,u,l,c,h,C,T,N,F,$,se){var ue=this;(0,f.Z)(this,n),this.siteName=t,this.cpm=e,this.spm=a,this.lpm=s,this.cxtm=u,this.fb=l,this.bs=c,this.dialog=h,this.panelHandler=C,this.tokenizerService=T,this.componentFactoryResolver=N,this.pageBuilderFacade=F,this.paneStateContextResolver=$,this.panelsContextService=se,this.submitted=new r.EventEmitter,this.nestedUpdate=new r.EventEmitter,this.delete=new r.EventEmitter,this.rules=new r.EventEmitter,this.props=new r.EventEmitter,this.savable=!0,this.nested=!1,this.locked=!1,this.pageBuilder=!1,this.contexts=[],this.contentAdded=new ae.x,this.contentAdddedSub=this.contentAdded.subscribe(function(ge){var Se=(0,g.Z)(ge,2);ue.resolvePaneContexts(Se[0],Se[1])}),this.dashboard=[],this.pageProperties=new l_,this.persistence=new Hd,this.interactions=new Rl,this.layoutSetting=new br,this.rowSettings=[],this.ancestory$=new U.X([]),this.onTouched=function(){},this.contentForm=this.fb.group({name:this.fb.control(""),title:this.fb.control(""),layoutType:this.fb.control("split",v.Validators.required),displayType:this.fb.control("page",v.Validators.required),panels:this.fb.array([])}),this.options={gridType:Hn.Fit,displayGrid:ku.Always,pushItems:!0,draggable:{enabled:!0},resizable:{enabled:!0},mobileBreakpoint:0,itemChangeCallback:function(Se,we){},itemInitCallback:function(Se,we){if(ue.nested&&0!==Se.y){var He=ue.gridLayout.grid.findIndex(function(ot){return ot.x===Se.x&&ot.y===Se.y&&ot.cols===Se.cols&&ot.rows===Se.rows});0===ue.panelPanes(He).length&&ue.gridLayout.setItemContentHeight(He,200)}}},this.ancestorySub=this.ancestory$.pipe((0,Q.h)(function(){return!!ue.layoutEditorRef})).subscribe(function(ge){ue.layoutEditorRef.instance.ancestory=ge})}return(0,y.Z)(n,[{key:"ancestory",get:function(){return this.ancestory$.value},set:function(e){this.ancestory$.next(e)}},{key:"panels",get:function(){return this.contentForm.get("panels")}},{key:"layoutType",get:function(){return this.contentForm.get("layoutType")}},{key:"displayType",get:function(){return this.contentForm.get("displayType")}},{key:"columnSettings",get:function(){for(var e=this.panels.length,a=[],s=0;s<e;s++)a=[].concat((0,_.Z)(a),[new br(this.panels.at(s).get("columnSetting").value)]);return a}},{key:"ngOnInit",value:function(){var e=this;this.contentForm.valueChanges.pipe((0,Q.h)(function(){return e.nested}),(0,Ar.b)(500)).subscribe(function(){e.nestedUpdate.emit(e.packageFormData())}),this.contentForm.get("layoutType").valueChanges.pipe((0,Q.h)(function(a){return"gridless"===a}),(0,Rr.g)(1)).subscribe(function(a){0===e.panels.length&&e.panels.push(e.fb.group({name:new v.UntypedFormControl(""),label:new v.UntypedFormControl(""),stylePlugin:new v.UntypedFormControl(""),styleTitle:new v.UntypedFormControl(""),settings:new v.UntypedFormArray([]),panes:e.fb.array([]),columnSetting:e.fb.group({settings:e.fb.array([])})}))}),this.contentForm.valueChanges.pipe((0,Q.h)(function(){return!e.nested}),(0,Ar.b)(500)).subscribe(function(){var a=e.packageFormData();e.pageBuilderFacade.setPage(a)})}},{key:"ngAfterViewInit",value:function(){var e=this;this.layoutType.valueChanges.pipe((0,Q.h)(function(){return!!e.layoutEditorHost})).subscribe(function(a){e.renderEditorLayout(a)}),this.layoutType.value&&this.renderEditorLayout(this.layoutType.value)}},{key:"ngAfterContentInit",value:function(){var e=this;setTimeout(function(){e.panelPage||e.contentForm.get("layoutType").setValue("split")},1e3)}},{key:"ngOnChanges",value:function(e){var a=this;e.panelPage&&e.panelPage.previousValue!==e.panelPage.currentValue&&(this.panels.clear(),this.panelPageId=e.panelPage.currentValue.panelPageId,this.dashboard=e.panelPage.currentValue.gridItems.map(function(s){return Object.assign({},s)}),this.layoutType.setValue(e.panelPage.currentValue.layoutType),this.layoutSetting=new br(e.panelPage.currentValue.layoutSetting),this.rowSettings=e.panelPage.currentValue.rowSettings?e.panelPage.currentValue.rowSettings.map(function(s){return new br(s)}):[],this.persistence=e.panelPage.currentValue.persistence?new Hd(e.panelPage.currentValue.persistence):new Hd,this.interactions=e.panelPage.currentValue.interactions?new Rl(e.panelPage.currentValue.interactions):new Rl,this.nested?(this.pageProperties=new l_({name:e.panelPage.currentValue.name,title:e.panelPage.currentValue.title,path:"",readUserIds:[],cssFile:""}),this.contentForm.get("name").setValue(e.panelPage.currentValue.name),this.contentForm.get("title").setValue(e.panelPage.currentValue.title)):(this.pageProperties=new l_({name:e.panelPage.currentValue.name,title:e.panelPage.currentValue.title,path:e.panelPage.currentValue.path,readUserIds:e.panelPage.currentValue.entityPermissions.readUserIds,cssFile:e.panelPage.currentValue.cssFile}),this.contexts=e.panelPage.currentValue.contexts),e.panelPage.currentValue.panels.forEach(function(s,u){var l;a.panels.push(a.fb.group({name:new v.UntypedFormControl(s.name),label:new v.UntypedFormControl(s.label),stylePlugin:new v.UntypedFormControl(s.stylePlugin),styleTitle:new v.UntypedFormControl(""),settings:a.fb.array(void 0!==s.settings?s.settings.map(function(l){return a.convertToGroup(l)}):[]),panes:a.fb.array([]),columnSetting:a.fb.group({settings:a.fb.array(s.columnSetting?s.columnSetting.settings.map(function(l){return a.convertToGroup(l)}):[])})})),s.stylePlugin&&""!==s.stylePlugin&&a.spm.getPlugin(s.stylePlugin).subscribe(function(l){a.panels.at(u).get("styleTitle").setValue(l.title)}),a.nested&&a.panelPanes(a.panels.length-1).valueChanges.pipe((0,Ar.b)(5),(0,Rr.g)(1)).subscribe((l=a.panels.length-1,function(){if(void 0!==a.gridLayout){var c=a.paneContainers.find(function(h,C){return C===l});a.gridLayout.setItemContentHeight(l,c.nativeElement.offsetHeight)}})),s.panes.forEach(function(l,c){a.panels.at(u).get("panes").push(a.fb.group({contentPlugin:l.contentPlugin,name:new v.UntypedFormControl(l.name),label:new v.UntypedFormControl(l.label),locked:new v.UntypedFormControl(l.locked),linkedPageId:new v.UntypedFormControl(l.linkedPageId),rule:new v.UntypedFormControl(l.rule&&null!==l.rule?(0,b.Z)((0,b.Z)({},l.rule),{},{rules:l.rule.rules&&Array.isArray(l.rule.rules)?l.rule.rules:[]}):{condition:"",rules:[]}),settings:new v.UntypedFormArray(l.settings.map(function(h){return a.convertToGroup(h)}))})),setTimeout(function(){return a.resolvePaneContexts(u,c)})})}),this.layoutEditorRef&&(this.layoutEditorRef.instance.layoutSetting=this.layoutSetting,this.layoutEditorRef.instance.rowSettings=this.rowSettings,this.layoutEditorRef.instance.columnSettings=this.columnSettings))}},{key:"addContent",value:function(e){var a=this;console.log(this.panels.at(e)),this.pageBuilderFacade.getPage$.pipe((0,st.w)(function(s){return a.panelsContextService.allActivePageContexts({panelPage:s})}),(0,An.q)(1)).subscribe(function(s){a.bs.open(PH,{data:{panelForm:a.panels.at(e),panelIndex:e,contexts:[].concat((0,_.Z)(a.rootContext?[a.rootContext]:[]),(0,_.Z)(a.contexts),(0,_.Z)(s))}})})}},{key:"editPanelProps",value:function(e){var a=this.panels.at(e).get("name"),s=this.panels.at(e).get("label");this.dialog.open(TH,{data:{props:new JI({name:a.value,label:s.value})}}).afterClosed().subscribe(function(u){u&&(a.setValue(u.name),s.setValue(u.label))})}},{key:"editPaneProps",value:function(e,a){var s=this.panelPane(e,a).get("name"),u=this.panelPane(e,a).get("label");this.dialog.open(IH,{data:{props:new eO({name:s.value,label:u.value})}}).afterClosed().subscribe(function(l){l&&(s.setValue(l.name),u.setValue(l.label))})}},{key:"applyStyle",value:function(e){this.bs.open(kH,{data:{panelForm:this.panels.controls[e],panelIndex:e,contexts:this.contexts}})}},{key:"removeStyle",value:function(e){this.panels.controls[e].get("stylePlugin").setValue(""),this.panels.controls[e].get("styleTitle").setValue("")}},{key:"onItemAdded",value:function(){var e=this;console.log("item added"),this.panels.push(this.fb.group({name:new v.UntypedFormControl(""),label:new v.UntypedFormControl(""),stylePlugin:new v.UntypedFormControl(""),styleTitle:new v.UntypedFormControl(""),settings:new v.UntypedFormArray([]),panes:this.fb.array([]),columnSetting:this.fb.group({settings:this.fb.array([])})})),this.nested&&void 0!==this.gridLayout&&setTimeout(function(){e.paneContainers.forEach(function(a,s){e.gridLayout.setItemContentHeight(s,a.nativeElement.offsetHeight)})}),this.panelPanes(this.panels.length-1).valueChanges.pipe((0,Q.h)(function(){return e.nested&&void 0!==e.gridLayout}),(0,Ar.b)(5),(0,Rr.g)(1)).subscribe(function(a){return function(){var s=e.paneContainers.find(function(u,l){return l===a});e.gridLayout.setItemContentHeight(a,s.nativeElement.offsetHeight)}}(this.panels.length-1)),this.layoutEditorRef&&(this.layoutEditorRef.instance.columnSettings=this.columnSettings)}},{key:"onItemRemoved",value:function(e){var a=this;this.panels.removeAt(e),this.nested&&void 0!==this.gridLayout&&setTimeout(function(){a.paneContainers.forEach(function(s,u){a.gridLayout.setItemContentHeight(u,s.nativeElement.offsetHeight)})}),this.layoutEditorRef&&(this.layoutEditorRef.instance.columnSettings=this.columnSettings)}},{key:"onDrop",value:function(e){console.log(e);var a=+e.container.data,s=+e.previousContainer.data;if(a===s){for(var u=e.currentIndex>e.previousIndex?1:-1,l=e.previousIndex,c=e.currentIndex,h=this.panelPanes(a).at(l),C=l;C*u<c*u;C+=u){var T=this.panelPanes(a).at(C+u);this.panelPanes(a).setControl(C,T)}this.panelPanes(a).setControl(c,h)}else{var N=this.panelPanes(s).at(e.previousIndex);this.panelPanes(s).removeAt(e.previousIndex),this.panelPanes(a).insert(e.currentIndex,N)}}},{key:"onOverrideRenderer",value:function(e,a){var s=new Wr(this.panelPane(e,a).value);this.dialog.open(AH,{data:{panelFormGroup:this.panels.at(e),paneIndex:a,pane:s}})}},{key:"onRemoveOverrideRenderer",value:function(e,a){var u,s=this.panelPane(e,a).get("settings");s.controls.forEach(function(l,c){"_renderer"===l.get("name").value&&(u=c)}),void 0!==u&&s.removeAt(u)}},{key:"onNestedUpdate",value:function(e,a,s){var u=this,l=this.panelHandler.buildSettings(e),c=this.panelPane(a,s).get("settings");c.clear(),l.forEach(function(h){return c.push(u.convertToGroup(h))})}},{key:"onPaneHeightChange",value:function(e){if(this.nested&&this.gridLayout){var a=this.paneContainers.find(function(s,u){return u===e});this.gridLayout.setItemContentHeight(e,a.nativeElement.offsetHeight)}}},{key:"onDeleteClick",value:function(){this.delete.emit()}},{key:"onRulesClick",value:function(){this.rules.emit()}},{key:"onPropertiesClick",value:function(){var e=this;this.props.emit(),this.dialog.open(DH,{data:{props:this.pageProperties}}).afterClosed().subscribe(function(a){a&&(e.pageProperties=new l_((0,b.Z)({},a)),e.contentForm.get("name").setValue(a.name),e.contentForm.get("title").setValue(a.title))})}},{key:"onRulesPane",value:function(e,a){var s=this,u=new Wr(this.panelPane(e,a).value),l=""!==this.panelPane(e,a).get("rule").value?this.panelPane(e,a).get("rule").value:void 0,c=this.editablePanes.filter(function(T,N){return T.name===u.name}),C=(0,g.Z)(c,1)[0];this.pageBuilderFacade.getPage$.pipe((0,te.b)(function(){s.pageBuilderFacade.setSelectionPath([].concat((0,_.Z)(s.ancestory),[e,a]))}),(0,st.w)(function(T){return s.panelsContextService.allActivePageContexts({panelPage:T})}),(0,st.w)(function(T){return s.dialog.open(RH,{data:{rule:l,contexts:[].concat((0,_.Z)(C.rootContext?[C.rootContext]:s.rootContext?[s.rootContext]:[]),(0,_.Z)(s.contexts),(0,_.Z)(T))}}).afterClosed()}),(0,An.q)(1)).subscribe(function(T){s.panelPane(e,a).get("rule").setValue(T||l||void 0)})}},{key:"onDeletePane",value:function(e,a){console.log("delete nested pane: ".concat(e," | ").concat(a))}},{key:"onAddContextClick",value:function(){var e=this,a=this.packageFormData();this.pageBuilderFacade.setPage(a),this.dialog.open(LO,{data:{}}).afterClosed().subscribe(function(s){s&&(e.contexts=[].concat((0,_.Z)(e.contexts),[s]))})}},{key:"onEditContext",value:function(e){var a=this,s=this.contexts.find(function(l){return l.name===e});if(console.log(s),s){var u=this.packageFormData();this.pageBuilderFacade.setPage(u),this.dialog.open(LO,{data:{context:s}}).afterClosed().subscribe(function(l){l&&(a.contexts=a.contexts.map(function(c){return c.name===e?new la(l):c}))})}}},{key:"onLayoutSettingChange",value:function(e){this.layoutSetting=new br(e),this.nested&&this.nestedUpdate.emit(this.packageFormData()),this.layoutEditorRef&&(this.layoutEditorRef.instance.layoutSetting=this.layoutSetting)}},{key:"onRowSettingsChange",value:function(e){this.rowSettings=e.map(function(a){return new br(a)}),this.nested&&this.nestedUpdate.emit(this.packageFormData()),this.layoutEditorRef&&(this.layoutEditorRef.instance.rowSettings=this.rowSettings)}},{key:"onColumnSettingsChange",value:function(e){for(var a=this.panels.length,s=0;s<a;s++){this.panels.at(s).get("columnSetting").get("settings").clear();for(var u=0;u<e[s].settings.length;u++)this.panels.at(s).get("columnSetting").get("settings").push(this.convertToGroup(e[s].settings[u]))}this.nested&&this.nestedUpdate.emit(this.packageFormData()),this.layoutEditorRef&&(this.layoutEditorRef.instance.columnSettings=this.columnSettings)}},{key:"submit",value:function(){this.submitted.emit(this.packageFormData())}},{key:"packageFormData",value:function(){var a=new ri({id:this.panelPageId,title:this.pageProperties.title,name:this.pageProperties.name,site:this.siteName,path:this.pageProperties.path,cssFile:this.pageProperties.cssFile,displayType:this.displayType.value,layoutType:this.layoutType.value,gridItems:this.layoutEditorRef.instance.gridItems,contexts:this.contexts,panels:this.panels.value,layoutSetting:new br(this.layoutSetting),rowSettings:this.rowSettings.map(function(s){return new br(s)}),persistence:this.persistence,interactions:this.interactions,entityPermissions:{readUserIds:this.pageProperties.readUserIds,writeUserIds:[],deleteUserIds:[]}});return console.log(a),a}},{key:"syncNestedPanelPages",value:function(){var e=this;console.log("sync nested"),this.editablePanes.forEach(function(a){if(void 0!==a.contentEditor){var s=e.panelHandler.buildSettings(a.contentEditor.packageFormData()),u=e.panelPane(a.panelIndex,a.paneIndex).get("settings");u.clear(),s.forEach(function(l){return u.push(e.convertToGroup(l))})}})}},{key:"resolvePaneContexts",value:function(e,a){var s=this,u=new Wr(this.panelPane(e,a).value),l=this.panelPanes(e).controls;this.cpm.getPlugin(u.contentPlugin).pipe((0,Q.h)(function(c){return void 0!==c.handler&&c.handler.isDynamic(u.settings)}),(0,st.w)(function(c){return c.handler.fetchDynamicData(u.settings,new Map([["tag",vr()],["contexts",(0,_.Z)(s.contexts)]])).pipe((0,Ce.U)(function(h){return new la({name:"_root",adaptor:"data",data:0!==h.length?h.results[0]:{}})}),(0,st.w)(function(h){return c.handler.getBindings(u.settings,"pane").pipe((0,Ce.U)(function(C){return[h,C.map(function(T){return l.findIndex(function(N){return new Wr(N.value).name===T.id})})]}))}))})).subscribe(function(c){var h=(0,g.Z)(c,2),C=h[0],T=h[1];s.editablePanes.forEach(function(N,F){T.findIndex(function($){return $===F})>-1&&(N.rootContext=C)})})}},{key:"onPersistenceClick",value:function(){var e=this;this.dialog.open(kj,{data:{persistence:this.persistence,contexts:this.contexts}}).afterClosed().subscribe(function(a){console.log("persistence closed",a),e.persistence=a||e.persistence})}},{key:"onInteractionsClick",value:function(){var e=this;this.dialog.open(Fj,(0,b.Z)({data:{interactions:this.interactions,contexts:this.contexts}},{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%"})).afterClosed().subscribe(function(a){console.log("interactions closed",a),e.interactions=a||e.interactions})}},{key:"panelPanes",value:function(e){return this.panels.at(e).get("panes")}},{key:"panelPane",value:function(e,a){return this.panelPanes(e).at(a)}},{key:"panelPanePlugin",value:function(e,a){return this.panelPane(e,a).get("contentPlugin").value}},{key:"panelPaneSettings",value:function(e,a){return this.panelPane(e,a).get("settings").value}},{key:"panelPaneName",value:function(e,a){return this.panelPane(e,a).get("name").value}},{key:"panelPaneLabel",value:function(e,a){return this.panelPane(e,a).get("label").value}},{key:"panelPaneLocked",value:function(e,a){if(this.locked)return this.locked;var s=this.panelPane(e,a).get("locked");return null!==s&&s.value}},{key:"panelPaneIsNested",value:function(e,a){return"panel"===this.panelPanePlugin(e,a)}},{key:"panelPanePanelPage",value:function(e,a){var s;return this.panelHandler.toObject(this.panelPaneSettings(e,a)).subscribe(function(u){s=u}),s}},{key:"hasPanelStyle",value:function(e){return void 0!==this.panels.at(e).get("stylePlugin").value&&""!==this.panels.at(e).get("stylePlugin").value}},{key:"panelStyleTitle",value:function(e){return this.panels.at(e).get("styleTitle").value}},{key:"onPaneEdit",value:function(e,a){var s=this,u=new Wr(this.panelPane(e,a).value),l=this.panelPanePlugin(e,a),c=this.editablePanes.filter(function(T,N){return T.name===u.name}),C=(0,g.Z)(c,1)[0];this.cpm.getPlugin(l).pipe((0,Q.h)(function(T){return void 0!==T.editorComponent}),(0,st.w)(function(T){return s.pageBuilderFacade.getPage$.pipe((0,st.w)(function(N){return s.panelsContextService.allActivePageContexts({panelPage:N}).pipe((0,Ce.U)(function(F){return[T,F]}),(0,An.q)(1))}),(0,An.q)(1))}),(0,st.w)(function(T){var N=(0,g.Z)(T,2),F=N[0],$=N[1];return F.handler?F.handler.editorOptions(u.settings).pipe((0,Ce.U)(function(se){return[F,$,se]})):(0,Le.of)([F,$,new pn.ContentPluginEditorOptions])})).subscribe(function(T){var N=(0,g.Z)(T,3),$=N[1],se=N[2];s.dialog.open(N[0].editorComponent,(0,b.Z)({data:{panelFormGroup:s.panels.at(e),panelIndex:e,paneIndex:a,contexts:[].concat((0,_.Z)(C.rootContext?[C.rootContext]:s.rootContext?[s.rootContext]:[]),(0,_.Z)(s.contexts),(0,_.Z)($)),contentAdded:s.contentAdded,pane:u}},se.fullscreen?{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%"}:{})).afterClosed().subscribe(function(){s.resolvePaneContexts(e,a)})})}},{key:"onPaneDelete",value:function(e,a){this.panelPanes(e).removeAt(a)}},{key:"onFileChange",value:function(e,a){var s=this,u=e.addedFiles[0];this.cpm.getPlugins().pipe((0,Ce.U)(function(l){return Array.from(l.values()).filter(function(c){return void 0!==c.handler}).find(function(c){return c.handler.handlesType(u.type)})}),(0,Q.h)(function(l){return void 0!==l})).subscribe(function(l){l.handler.handleFile(u).subscribe(function(c){s.panelPanes(a).push(s.fb.group({contentPlugin:l.id,name:new v.UntypedFormControl(""),label:new v.UntypedFormControl(""),settings:s.fb.array(c.map(function(h){return s.fb.group({name:new v.UntypedFormControl(h.name,v.Validators.required),type:new v.UntypedFormControl(h.type,v.Validators.required),displayName:new v.UntypedFormControl(h.displayName,v.Validators.required),value:new v.UntypedFormControl(h.value,v.Validators.required),computedValue:new v.UntypedFormControl(h.value,v.Validators.required)})}))}))})})}},{key:"writeValue",value:function(e){e&&this.contentForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.contentForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.contentForm.disable():this.contentForm.enable()}},{key:"validate",value:function(e){return this.contentForm.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}},{key:"convertToGroup",value:function(e){var a=this,s=this.fb.group({name:new v.UntypedFormControl(e.name,v.Validators.required),type:new v.UntypedFormControl(e.type,v.Validators.required),displayName:new v.UntypedFormControl(e.displayName,v.Validators.required),value:new v.UntypedFormControl(e.value,v.Validators.required),computedValue:new v.UntypedFormControl(e.value,v.Validators.required),attributes:new v.UntypedFormArray([])});return e.attributes&&e.attributes.length>0&&e.attributes.forEach(function(u){s.get("attributes").push(a.convertToGroup(u))}),s}},{key:"renderEditorLayout",value:function(e){var a=this;console.log("render editor layout ".concat(e)),this.lpm.getPlugin(e).subscribe(function(s){var u=a.componentFactoryResolver.resolveComponentFactory(s.editor),l=a.layoutEditorHost.viewContainerRef;l.clear(),a.layoutEditorRef=l.createComponent(u),a.layoutEditorRef.instance.savable=a.savable,a.layoutEditorRef.instance.nested=a.nested,a.layoutEditorRef.instance.ancestory=a.ancestory,a.layoutEditorRef.instance.editor=a,a.layoutEditorRef.instance.extraActionsAreaTmpl=a.extraActionsAreaTmpl,a.layoutEditorRef.instance.contextsMenuTpl=a.contextsMenuTpl,a.layoutEditorRef.instance.editablePaneTpl=a.editablePaneTpl,a.layoutEditorRef.instance.dashboard=a.dashboard,a.layoutEditorRef.instance.layoutSetting=a.layoutSetting,a.layoutEditorRef.instance.rowSettings=a.rowSettings,a.layoutEditorRef.instance.columnSettings=a.columnSettings})}},{key:"updateEditorLayoutVars",value:function(){this.layoutEditorRef.instance.savable=this.savable,this.layoutEditorRef.instance.nested=this.nested,this.layoutEditorRef.instance.ancestory=this.ancestory,this.layoutEditorRef.instance.editor=this,this.layoutEditorRef.instance.extraActionsAreaTmpl=this.extraActionsAreaTmpl,this.layoutEditorRef.instance.contextsMenuTpl=this.contextsMenuTpl,this.layoutEditorRef.instance.editablePaneTpl=this.editablePaneTpl,this.layoutEditorRef.instance.dashboard=this.dashboard,this.layoutEditorRef.instance.layoutSetting=this.layoutSetting,this.layoutEditorRef.instance.rowSettings=this.rowSettings,this.layoutEditorRef.instance.columnSettings=this.columnSettings}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Vn.SITE_NAME),r.\u0275\u0275directiveInject(pn.ContentPluginManager),r.\u0275\u0275directiveInject(Xd),r.\u0275\u0275directiveInject(AE),r.\u0275\u0275directiveInject(Su),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Dl.MatBottomSheet),r.\u0275\u0275directiveInject(Yt.MatLegacyDialog),r.\u0275\u0275directiveInject(ya),r.\u0275\u0275directiveInject(Pr),r.\u0275\u0275directiveInject(r.ComponentFactoryResolver),r.\u0275\u0275directiveInject(Ja),r.\u0275\u0275directiveInject(rk),r.\u0275\u0275directiveInject(XI))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-content-editor"]],contentQueries:function(t,e,a){var s;1&t&&r.\u0275\u0275contentQuery(a,kG,5),2&t&&r.\u0275\u0275queryRefresh(s=r.\u0275\u0275loadQuery())&&(e.extraActionsAreaTmpl=s.first)},viewQuery:function(t,e){var a;1&t&&(r.\u0275\u0275viewQuery(xO,5),r.\u0275\u0275viewQuery(CO,5),r.\u0275\u0275viewQuery(jO,5),r.\u0275\u0275viewQuery(RG,7),r.\u0275\u0275viewQuery(DG,7),r.\u0275\u0275viewQuery(TG,5),r.\u0275\u0275viewQuery(UO,5)),2&t&&(r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.gridLayout=a.first),r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.splitLayout=a.first),r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.layoutEditorHost=a.first),r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.contextsMenuTpl=a.first),r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.editablePaneTpl=a.first),r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.paneContainers=a),r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.editablePanes=a))},inputs:{panelPage:"panelPage",savable:"savable",nested:"nested",locked:"locked",pageBuilder:"pageBuilder",contexts:"contexts",rootContext:"rootContext",ancestory:"ancestory"},outputs:{submitted:"submitted",nestedUpdate:"nestedUpdate",delete:"delete",rules:"rules",props:"props"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}]),r.\u0275\u0275NgOnChangesFeature],decls:12,vars:3,consts:[["class","content-editor-wrapper",3,"formGroup","ngClass","ngSubmit",4,"ngIf","ngIfElse"],["nestedTpl",""],["editablePaneTpl",""],["contextsMenuTpl",""],["contextMenu","matMenu"],["type","button","mat-menu-item","",3,"click"],["type","button","mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"content-editor-wrapper",3,"formGroup","ngClass","ngSubmit"],["classifiedsUiLayoutEditorHost",""],[1,"content-editor-wrapper",3,"formGroup","ngClass"],[1,"editable-pane",3,"panelIndex","paneIndex","name","label","locked","contexts","pluginName","settings","ancestory","delete","rules","nestedUpdate","rendererOverride","removeRendererOverride","edit","props"],["class","custom-placeholder",4,"cdkDragPlaceholder"],[1,"custom-placeholder"],["type","button","mat-menu-item","",1,"context-button",3,"matMenuTriggerFor"]],template:function(t,e){if(1&t&&(r.\u0275\u0275template(0,OG,3,4,"form",0),r.\u0275\u0275template(1,MG,3,4,"ng-template",null,1,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275template(3,VG,2,9,"ng-template",null,2,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275template(5,BG,2,1,"ng-template",null,3,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementStart(7,"mat-menu",null,4)(9,"button",5),r.\u0275\u0275listener("click",function(){return e.onAddContextClick()}),r.\u0275\u0275text(10,"define variable"),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(11,ZG,2,1,"button",6),r.\u0275\u0275elementEnd()),2&t){var a=r.\u0275\u0275reference(2);r.\u0275\u0275property("ngIf",!e.nested&&!e.pageBuilder)("ngIfElse",a),r.\u0275\u0275advance(11),r.\u0275\u0275property("ngForOf",e.contexts)}},dependencies:[P.NgClass,P.NgForOf,P.NgIf,v.\u0275NgNoValidate,v.NgControlStatusGroup,v.FormGroupDirective,Fl.CdkDragPlaceholder,_a.MatLegacyMenu,_a.MatLegacyMenuItem,_a.MatLegacyMenuTrigger,Io,jO,UO],styles:[".content-editor-wrapper[_ngcontent-%COMP%]{height:100%}.panel-inner[_ngcontent-%COMP%]{padding:1em}.content-editor-wrapper[_ngcontent-%COMP%]     ngx-dropzone{height:100%;display:block;padding:0;border:none}.content-editor-wrapper.nested[_ngcontent-%COMP%]     .grid-item-header{border-bottom:1px solid white}.layout-type[_ngcontent-%COMP%], .display-type[_ngcontent-%COMP%]{float:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:1.5em}.layout-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.layout-type[_ngcontent-%COMP%]     .mat-form-field-infix, .display-type[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none;padding:0;margin:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field, .display-type[_ngcontent-%COMP%]     .mat-form-field{width:85px}.layout-type[_ngcontent-%COMP%]     .mat-select-value, .display-type[_ngcontent-%COMP%]     .mat-select-value{text-align:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-underline, .display-type[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .main-controls{background-color:#ccc}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .layout-inner{background-color:#ccc;padding:.75em}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .editable-pane-wrapper{border:none;margin-bottom:0}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .pane-header{background-color:#fff}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .nested-panel-wrapper{padding:.75em;margin-bottom:0}.custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;transition:transform .25s cubic-bezier(0,0,.2,1)}.context-button[_ngcontent-%COMP%]{font-style:italic;font-family:serif;font-weight:bolder;font-size:medium}"]}),o}(),OH=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.data=t,this.fb=e,this.handler=a}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){var e=this;void 0!==this.data.pane&&this.handler.toObject(this.data.pane.settings).subscribe(function(a){e.snippet=a})}},{key:"onSubmit",value:function(e){if(void 0===this.data.paneIndex)this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"snippet",name:new v.UntypedFormControl(""),label:new v.UntypedFormControl(""),rule:new v.UntypedFormControl(""),settings:new v.UntypedFormArray(this.buildSettings(e))}));else{var a=this.data.panelFormGroup.get("panes").at(this.data.paneIndex);a.get("settings").clear(),this.buildSettings(e).forEach(function(s){a.get("settings").push(s)})}}},{key:"buildSettings",value:function(e){return[this.fb.group({name:new v.UntypedFormControl("contentType",v.Validators.required),type:new v.UntypedFormControl(Nt.AttributeTypes.Text,v.Validators.required),displayName:new v.UntypedFormControl("Content Type",v.Validators.required),value:new v.UntypedFormControl(e.contentType,v.Validators.required),computedValue:new v.UntypedFormControl(e.contentType,v.Validators.required)}),this.fb.group({name:new v.UntypedFormControl("content",v.Validators.required),type:new v.UntypedFormControl(Nt.AttributeTypes.Text,v.Validators.required),displayName:new v.UntypedFormControl("Content",v.Validators.required),value:new v.UntypedFormControl(e.content,v.Validators.required),computedValue:new v.UntypedFormControl(e.content,v.Validators.required)}),this.fb.group({name:new v.UntypedFormControl("jsScript",v.Validators.required),type:new v.UntypedFormControl(Nt.AttributeTypes.Text,v.Validators.required),displayName:new v.UntypedFormControl("jsScript",v.Validators.required),value:new v.UntypedFormControl(e.jsScript),computedValue:new v.UntypedFormControl(e.jsScript)})]}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Vl))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-snippet-editor2"]],decls:1,vars:1,consts:[[3,"snippet","submitted"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"classifieds-ui-snippet-form",0),r.\u0275\u0275listener("submitted",function(s){return e.onSubmit(s)}),r.\u0275\u0275elementEnd()),2&t&&r.\u0275\u0275property("snippet",e.snippet)},dependencies:[mE]}),o}(),ME=function(){var o=function(){function n(t,e,a,s,u,l,c){var h=this;(0,f.Z)(this,n),this.route=t,this.pageBuilderFacade=e,this.routerStore=a,this.asyncApiCallHelperSvc=s,this.crudDataHelperService=u,this.entityDefinitionService=l,this.paramMapSub=this.route.paramMap.pipe((0,te.b)(function(){return console.log("param map panelPageId")}),(0,Ce.U)(function(C){return C.get("panelPageId")}),(0,Q.h)(function(C){return void 0!==C}),(0,st.w)(function(){return h.route.data}),(0,Pa.M)(this.routerStore.pipe((0,Bt.Ys)(t_(function(C){return C.router}).selectCurrentRoute),(0,Ce.U)(function(C){return C.params}),(0,An.q)(1))),(0,te.b)(function(C){var T=(0,g.Z)(C,2),N=T[0],F=T[1];console.log("route page"),h.pageBuilderFacade.setPageInfo(new u_({id:N.panelPageListItem.id,realPath:"/pages/panelpage/"+N.panelPageListItem.id,path:N.panelPageListItem.path,args:F})),h.panelPageId=N.panelPageListItem.id})).subscribe(),this.panelPageService=c.getEntityCollectionService("PanelPage")}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){var e=this,s=t_(function(u){return u.router}).selectCurrentRoute;this.route.paramMap.pipe((0,te.b)(function(){return console.log("param map page builder facade info")}),(0,Pa.M)(this.pageBuilderFacade.getPageInfo$),(0,Q.h)(function(u){var l=(0,g.Z)(u,2),c=l[0],h=l[1];return void 0!==h&&void 0!==c.get("panelPageId")&&c.get("panelPageId")===h.id}),(0,st.w)(function(u){var h=(0,g.Z)(u,2)[1];return e.routerStore.pipe((0,Bt.Ys)(s),(0,Ce.U)(function(C){return[h,C.params]}),(0,An.q)(1))})).subscribe(function(u){var l=(0,g.Z)(u,2),h=l[1];e.pageBuilderFacade.setPageInfo(new u_((0,b.Z)((0,b.Z)({},l[0]),{},{args:h})))})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(dr.ActivatedRoute),r.\u0275\u0275directiveInject(Ja),r.\u0275\u0275directiveInject(Bt.yh),r.\u0275\u0275directiveInject(Vn.AsyncApiCallHelperService),r.\u0275\u0275directiveInject(i_),r.\u0275\u0275directiveInject(Qi),r.\u0275\u0275directiveInject(Dr))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-panel-page-router"]],decls:1,vars:1,consts:[[3,"id"]],template:function(t,e){1&t&&r.\u0275\u0275element(0,"classifieds-ui-panel-page",0),2&t&&r.\u0275\u0275property("id",e.panelPageId)},dependencies:[Zs]}),o}(),FH=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.panelPageService=t.getEntityCollectionService("PanelPage"),this.panelPageListItemService=t.getEntityCollectionService("PanelPageListItem")}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){console.log("here")}},{key:"onSubmit",value:function(e){console.log("create panel page",e),e.id=vr(),this.panelPageService.add(e).subscribe(function(){console.log("panel page created")})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Dr))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-create-panel-page"]],decls:1,vars:0,consts:[[3,"submitted"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"classifieds-ui-content-editor",0),r.\u0275\u0275listener("submitted",function(s){return e.onSubmit(s)}),r.\u0275\u0275elementEnd())},dependencies:[ik]}),o}(),NE=function(){var o=function(){function n(t,e,a,s,u){(0,f.Z)(this,n),this.route=t,this.pageBuilderFacade=e,this.routerStore=a,this.moduleLoader=s,this.panelPageService=u.getEntityCollectionService("PanelPage"),this.panelPageListItemService=u.getEntityCollectionService("PanelPageListItem")}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.pipe((0,Ce.U)(function(a){return a.get("panelPageId")}),(0,Q.h)(function(a){return void 0!==a}),(0,xu.x)(),(0,st.w)(function(a){return e.panelPageService.getByKey(a)}),(0,st.w)(function(a){return a?(0,$n.D)(a.contexts.filter(function(s){return"module"===s.plugin}).map(function(s){return e.moduleLoader.loadModule(function(){return rp({type:"module",remoteEntry:s.data.remoteEntry,exposedModule:s.data.exposedModule}).then(function(u){return u[s.data.moduleName]})})})).pipe((0,Rr.g)(1),(0,Ce.U)(function(){return a}),(0,fi.d)(a)):(0,Le.of)(a)}),(0,st.w)(function(a){return e.routerStore.pipe((0,Bt.Ys)(t_(function(s){return s.router}).selectCurrentRoute),(0,Ce.U)(function(s){return[a,s.params]}),(0,An.q)(1))}),(0,te.b)(function(a){var s=(0,g.Z)(a,2),u=s[0],l=s[1];return e.pageBuilderFacade.setPageInfo(new u_({id:u.id,realPath:"/pages/panelpage/".concat(u.id),path:u.path,args:l}))})).subscribe(function(a){var u=(0,g.Z)(a,1)[0];console.log(u),e.panelPage=u})}},{key:"onSubmit",value:function(e){console.log("submitted"),this.panelPageService.update(new ri((0,b.Z)((0,b.Z)({},e),{},{id:this.panelPage.id}))).subscribe(function(){alert("panel page updated")})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(dr.ActivatedRoute),r.\u0275\u0275directiveInject(Ja),r.\u0275\u0275directiveInject(Bt.yh),r.\u0275\u0275directiveInject(Vn.ModuleLoaderService),r.\u0275\u0275directiveInject(Dr))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-edit-panel-page"]],decls:1,vars:1,consts:[[3,"panelPage","submitted"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"classifieds-ui-content-editor",0),r.\u0275\u0275listener("submitted",function(s){return e.onSubmit(s)}),r.\u0275\u0275elementEnd()),2&t&&r.\u0275\u0275property("panelPage",e.panelPage)},dependencies:[ik]}),o}(),MH=function(){var o=function(){function n(t,e,a,s,u,l){(0,f.Z)(this,n),this.bottomSheetRef=t,this.handler=e,this.fb=a,this.dialog=s,this.cpm=u,this.wpm=l}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){this.attributeWidgets=this.wpm.getPlugins()}},{key:"onItemSelect",value:function(e){var a=this;console.log(e),this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"attribute",name:new v.UntypedFormControl(""),label:new v.UntypedFormControl(""),rule:new v.UntypedFormControl(""),settings:this.fb.array(this.handler.widgetSettings(e).map(function(c){return a.fb.group({name:new v.UntypedFormControl(c.name,v.Validators.required),type:new v.UntypedFormControl(c.type,v.Validators.required),displayName:new v.UntypedFormControl(c.displayName,v.Validators.required),value:new v.UntypedFormControl(c.value,v.Validators.required),computedValue:new v.UntypedFormControl(c.computedValue,v.Validators.required)})}))}));var s=this.panelFormGroup.get("panes"),u=s.length-1,l=new Wr(s.at(u).value);this.cpm.getPlugin("attribute").subscribe(function(c){a.dialog.open(c.editorComponent,{data:{panelFormGroup:a.panelFormGroup,pane:l,paneIndex:u}})}),this.bottomSheetRef.dismiss()}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Dl.MatBottomSheetRef),r.\u0275\u0275directiveInject(Bl),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Yt.MatLegacyDialog),r.\u0275\u0275directiveInject(pn.ContentPluginManager),r.\u0275\u0275directiveInject(Nt.WidgetPluginManager))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-attribute-selector"]],inputs:{panelFormGroup:"panelFormGroup"},decls:4,vars:5,consts:[["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"mat-nav-list"),r.\u0275\u0275template(1,LG,3,1,"a",0),r.\u0275\u0275pipe(2,"keyvalue"),r.\u0275\u0275pipe(3,"async"),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(2,1,r.\u0275\u0275pipeBind1(3,3,e.attributeWidgets))))},dependencies:[P.NgForOf,vE.MatLine,Eu.MatLegacyNavList,Eu.MatLegacyListItem,P.AsyncPipe,P.KeyValuePipe]}),o}(),NH=function(){var o=function(){function n(t,e,a,s,u){(0,f.Z)(this,n),this.data=t,this.dialogRef=a,this.fb=s,this.handler=u,this.attributes=[],this.attributeValues=[],this.attributesFormGroup=this.fb.group({name:new v.UntypedFormControl(""),label:new v.UntypedFormControl(""),attributes:new v.UntypedFormControl("")});var l=this.data.pane.settings.find(function(c){return"widget"===c.name});this.widget=e.find(function(c){return c.name===l.value})}return(0,y.Z)(n,[{key:"name",get:function(){return this.attributesFormGroup.get("name")}},{key:"label",get:function(){return this.attributesFormGroup.get("label")}},{key:"ngOnInit",value:function(){var e=this.data.pane.settings.find(function(u){return"value"===u.name});this.attributes=[new Nt.Attribute((0,b.Z)((0,b.Z)({},this.widget.schema),{},{widget:this.widget.name,label:"Value",name:"value"}))];var a=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("name").value,s=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("label").value;this.attributesFormGroup.get("name").setValue(a),this.attributesFormGroup.get("label").setValue(s),void 0!==e?(this.attributeValues=this.handler.valueSettings(this.data.pane.settings),console.log(this.attributeValues)):this.attributeValues=[new Nt.AttributeValue({name:"value",type:this.widget.schema.type,displayName:"Value",value:"",computedValue:"",intValue:0,attributes:[]})]}},{key:"submit",value:function(){var e=this,a=this.name.value,s=this.label.value;this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("name").setValue(a),this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("label").setValue(s);var u=new Wr({name:a,label:s,contentPlugin:"attribute",settings:""===this.attributesFormGroup.get("attributes").value?[]:this.attributesFormGroup.get("attributes").value});0!==u.settings.length?this.handler.rendererSnippet(this.data.pane.settings).subscribe(function(l){var c=void 0!==l?e.handler.rendererOverrideSettings(l):[],h=e.data.panelFormGroup.get("panes").at(e.data.paneIndex).get("settings");h.clear(),[].concat((0,_.Z)(e.handler.widgetSettings(e.widget)),(0,_.Z)(u.settings),(0,_.Z)(c)).forEach(function(C){return h.push(e.convertToGroup(C))}),e.dialogRef.close()}):this.dialogRef.close()}},{key:"convertToGroup",value:function(e){var a=this,s=this.fb.group({name:new v.UntypedFormControl(e.name,v.Validators.required),type:new v.UntypedFormControl(e.type,v.Validators.required),displayName:new v.UntypedFormControl(e.displayName,v.Validators.required),value:new v.UntypedFormControl(e.value,v.Validators.required),computedValue:new v.UntypedFormControl(e.value,v.Validators.required),attributes:new v.UntypedFormArray([])});return e.attributes&&e.attributes.length>0&&e.attributes.forEach(function(u){s.get("attributes").push(a.convertToGroup(u))}),s}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(Nt.ATTRIBUTE_WIDGET),r.\u0275\u0275directiveInject(Yt.MatLegacyDialogRef),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Bl))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-attribute-editor"]],decls:10,vars:3,consts:[[3,"formGroup","ngSubmit"],["fxLayout","column"],["matInput","","placeholder","Name","formControlName","name"],["matInput","","placeholder","Label","formControlName","label"],["formControlName","attributes",3,"attributes","attributeValues"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"form",0),r.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),r.\u0275\u0275elementStart(1,"mat-dialog-content",1)(2,"mat-form-field"),r.\u0275\u0275element(3,"input",2),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"mat-form-field"),r.\u0275\u0275element(5,"input",3),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(6,"classifieds-ui-attributes-builder",4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(7,"mat-dialog-actions")(8,"button",5),r.\u0275\u0275text(9,"Save"),r.\u0275\u0275elementEnd()()()),2&t&&(r.\u0275\u0275property("formGroup",e.attributesFormGroup),r.\u0275\u0275advance(6),r.\u0275\u0275property("attributes",e.attributes)("attributeValues",e.attributeValues))},dependencies:[v.\u0275NgNoValidate,v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,pi.MatLegacyButton,Yt.MatLegacyDialogClose,Yt.MatLegacyDialogContent,Yt.MatLegacyDialogActions,En.MatLegacyFormField,Hr.MatLegacyInput,Wt,Nt.AttributesBuilderComponent]}),o}(),VH=function(){var o=function(){function n(t,e,a,s,u){(0,f.Z)(this,n),this.widgets=t,this.handler=e,this.tokenizerService=a,this.fb=s,this.controlContainer=u,this.settings=[],this.appearance="legacy",this.attributes=[]}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.attributes=[new Nt.Attribute((0,b.Z)((0,b.Z)({},this.widgets.find(function(a){return a.name===e.settings.find(function(s){return"widget"===s.name}).value}).schema),{},{name:"value",label:"Value"}))],this.attributeValues=this.handler.valueSettings(this.settings),this.tokens=this.tokenizerService.generateTokens(this.attributeValues),this.handler.rendererSnippet(this.settings).subscribe(function(a){e.rendererOverride=a,void 0!==a&&(e.rendererSettings=e.handler.rendererOverrideSettings(a)[0].attributes)})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Nt.ATTRIBUTE_WIDGET),r.\u0275\u0275directiveInject(Bl),r.\u0275\u0275directiveInject(Pr),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(v.ControlContainer,8))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-attribute-pane-renderer"]],inputs:{settings:"settings",appearance:"appearance",name:"name",label:"label",displayType:"displayType"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["overrideTpl",""],[4,"ngIf"],[3,"formGroup",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["settingsTmpl",""],[4,"ngFor","ngForOf"],[3,"formGroup"],["formControlName","settings",3,"attributes","attributeValues"],[3,"settings","tokens"]],template:function(t,e){if(1&t&&(r.\u0275\u0275template(0,XG,3,2,"div",0),r.\u0275\u0275template(1,QG,1,2,"ng-template",null,1,r.\u0275\u0275templateRefExtractor)),2&t){var a=r.\u0275\u0275reference(2);r.\u0275\u0275property("ngIf",!e.rendererOverride)("ngIfElse",a)}},dependencies:[P.NgForOf,P.NgIf,P.NgTemplateOutlet,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,Nt.AttributesBuilderComponent,ZO,Nt.AttributePipe],styles:[".override[_ngcontent-%COMP%]{position:absolute;top:.5em;right:.5em}"]}),o}(),ip=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.filesService=t,this.attributeSerializer=e,this.types=["image/png","image/jpg","image/jpeg","image/gif"]}return(0,y.Z)(n,[{key:"handleFile",value:function(e){var a=this;return this.filesService.bulkUpload({files:[e]}).pipe((0,Ce.U)(function(s){return a.buildSettings(s[0])}))}},{key:"handlesType",value:function(e){return void 0!==this.types.find(function(a){return a===e})}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(e){return(0,Le.of)(!1)}},{key:"isDynamic",value:function(e){return!1}},{key:"isData",value:function(e){return!1}},{key:"buildDynamicItems",value:function(e,a){return(0,Le.of)([])}},{key:"fetchDynamicData",value:function(e,a){return(0,Le.of)(new pr)}},{key:"getBindings",value:function(e,a,s){return(0,Le.of)([])}},{key:"toObject",value:function(e){return(0,Le.of)(this.attributeSerializer.deserializeAsObject(e))}},{key:"buildSettings",value:function(e){return e.fileName="placeholdername",this.attributeSerializer.serialize(e,"root").attributes}},{key:"stateDefinition",value:function(e){return(0,Le.of)({mediaLoading:"y",mediaLoaded:"n",loadError:"n",loadDuration:"y"})}},{key:"editorOptions",value:function(e){return(0,Le.of)(new pn.ContentPluginEditorOptions)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(iE),r.\u0275\u0275inject(Nt.AttributeSerializerService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),BH=function(){var o=function(){function n(t,e,a,s,u){(0,f.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=a,this.filesService=s,this.handler=u,this.mediaTypes=".png,.jpg,.jpeg,.gif,.svg"}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){var e=this;void 0!==this.data.pane&&this.handler.toObject(this.data.pane.settings).pipe((0,st.w)(function(a){return e.filesService.convertToFiles([a])})).subscribe(function(a){e.media=a[0]})}},{key:"onSelectMedia",value:function(e){var a=this;this.media=e.addedFiles[0],this.handler.handleFile(this.media).subscribe(function(s){void 0===a.data.paneIndex&&a.data.panelFormGroup.get("panes").push(a.fb.group({contentPlugin:"media",name:new v.UntypedFormControl(""),label:new v.UntypedFormControl(""),rule:new v.UntypedFormControl(""),settings:new v.UntypedFormArray(s.map(function(u){return a.fb.group({name:new v.UntypedFormControl(u.name,v.Validators.required),type:new v.UntypedFormControl(u.type,v.Validators.required),displayName:new v.UntypedFormControl(u.displayName,v.Validators.required),value:new v.UntypedFormControl(u.value,v.Validators.required),computedValue:new v.UntypedFormControl(u.value,v.Validators.required)})}))})),a.dialogRef.close()})}},{key:"onRemoveMedia",value:function(e){this.media=void 0}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(Yt.MatLegacyDialogRef),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(iE),r.\u0275\u0275directiveInject(ip))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-media-editor"]],decls:4,vars:3,consts:[[3,"multiple","accept","change"],[3,"removable","file","removed",4,"ngIf"],[3,"removable","file","removed"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"ngx-dropzone",0),r.\u0275\u0275listener("change",function(s){return e.onSelectMedia(s)}),r.\u0275\u0275elementStart(1,"ngx-dropzone-label"),r.\u0275\u0275text(2,"Drag and Drop Media Here"),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(3,YG,3,4,"ngx-dropzone-image-preview",1),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("multiple",!1)("accept",e.mediaTypes),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngIf",e.media))},dependencies:[P.NgIf,SE,nO,iO]}),o}(),ZH=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.mediaSettings=t,this.handler=e,this.attributeSerializer=a,this.settings=[],this.ancestory=[],this.state={},this.stateChange=new r.EventEmitter,this.panelPageStateService=s.getEntityCollectionService("PanelPageState")}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){var e=this;console.log("media ancestory is"),console.log(this.ancestory),console.log("my state is:"),console.log(this.state),this.mediaBaseUrl=this.mediaSettings.imageUrl,this.handler.toObject(this.settings).subscribe(function(a){e.mediaFile=a})}},{key:"ngAfterViewInit",value:function(){var e=this;this.image.nativeElement.onload=function(){console.log("image loaded"),e.stateChange.emit({mediaLoading:"n"})}}},{key:"ngOnChanges",value:function(){var e=this;this.mediaBaseUrl=this.mediaSettings.imageUrl,this.handler.toObject(this.settings).subscribe(function(a){e.mediaFile=a})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(rE),r.\u0275\u0275directiveInject(ip),r.\u0275\u0275directiveInject(Nt.AttributeSerializerService),r.\u0275\u0275directiveInject(Dr))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-media-pane-renderer"]],viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(JG,7),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.image=a.first)},inputs:{settings:"settings",ancestory:"ancestory",state:"state"},outputs:{stateChange:"stateChange"},features:[r.\u0275\u0275NgOnChangesFeature],decls:2,vars:2,consts:[[3,"src"],["img",""]],template:function(t,e){1&t&&r.\u0275\u0275element(0,"img",0,1),2&t&&r.\u0275\u0275propertyInterpolate2("src","",e.mediaBaseUrl,"/",e.mediaFile.path,"",r.\u0275\u0275sanitizeUrl)},styles:["img[_ngcontent-%COMP%]{max-width:100%}"]}),o}(),C_=function(){var o=function(){function n(t,e,a,s,u,l,c,h,C){(0,f.Z)(this,n),this.siteName=t,this.snippetHandler=e,this.pageBuilderFacade=a,this.store=s,this.tokenizerService=u,this.panelHandler=l,this.urlGeneratorService=c,this.attributeSerializer=h,this.rulesResolver=C}return(0,y.Z)(n,[{key:"handleFile",value:function(e){return(0,Le.of)([])}},{key:"handlesType",value:function(e){return!1}},{key:"implementsRendererOverride",value:function(){return!0}},{key:"hasRendererOverride",value:function(e){return(0,Le.of)(!1)}},{key:"isDynamic",value:function(e){return["snippet","pane"].indexOf(this.getRenderType(e))>-1}},{key:"isData",value:function(e){return!1}},{key:"fetchDynamicData",value:function(e,a){var s=this,u=new ae.x;return this.toObject(e).pipe((0,st.w)(function(l){return s.urlGeneratorService.getUrl(l.url,l.params,a).pipe((0,Ce.U)(function(c){return[l,c]}))})).subscribe(function(l){var c=(0,g.Z)(l,2),h=c[0],C=c[1];s.pageBuilderFacade.loadRestData("".concat(a.get("tag")),new Os((0,b.Z)((0,b.Z)({},h),{},{url:C}))),s.store.pipe((0,Bt.Ys)(wE("".concat(a.get("tag")))),(0,Q.h)(function(T){return void 0!==T})).subscribe(function(T){u.next(T),u.complete()})}),u}},{key:"buildDynamicItems",value:function(e,a){var s=this,u=new ae.x;return console.log("build dynamic items rest"),this.toObject(e).pipe((0,st.w)(function(l){return s.urlGeneratorService.getUrl(l.url,l.params,a).pipe((0,Ce.U)(function(c){return[l,c]}))})).subscribe(function(l){var c=(0,g.Z)(l,2),h=c[0],C=c[1];console.log("Load in rest data"),s.pageBuilderFacade.loadRestData("".concat(a.get("tag")),new Os((0,b.Z)((0,b.Z)({},h),{},{url:C}))),s.store.pipe((0,Bt.Ys)(wE("".concat(a.get("tag")))),(0,Q.h)(function(T){return void 0!==T}),(0,st.w)(function(T){return s.getBindings(e,"pane").pipe((0,Ce.U)(function(N){return[T,N]}))}),(0,st.w)(function(T){var N=(0,g.Z)(T,2),F=N[0],$=N[1];return Or(function(){return 0!==F.results.length&&$.length>0},new W.y(function(se){(0,$n.D)(F.results.map(function(ue){return(0,wA.D)($).pipe((0,Ce.U)(function(ge){return a.get("panes").find(function(Se){return Se.name===ge.id})}),(0,st.w)(function(ge){return Or(function(){return ge.rule&&null!==ge.rule&&""!==ge.rule.condition},s.rulesResolver.evaluate(ge.rule,[].concat((0,_.Z)(a.get("contexts")),(0,_.Z)(void 0!==ge.contexts?ge.contexts:[]),[new la({name:"_root",adaptor:"data",data:ue})])).pipe((0,Ce.U)(function(Se){return[ge,Se]})),(0,Le.of)(!1).pipe((0,Ce.U)(function(Se){return[ge,Se]})))}),(0,Q.h)(function(ge){return(0,g.Z)(ge,2)[1]}),(0,Ce.U)(function(ge){return(0,g.Z)(ge,2)[0].name}),(0,fi.d)($[0].id),(0,An.q)(1))})).pipe((0,Ce.U)(function(ue){return[F,ue]})).subscribe(function(ue){se.next(ue),se.complete()})}),new W.y(function(se){se.next([F]),se.complete()}))}),(0,Ce.U)(function(T){var N=(0,g.Z)(T,2),$=N[1];return N[0].results.map("pane"===h.renderer.type?function(se,ue){var ge=a.get("panes").find(function(we){return we.name===$[ue]}),Se=vr();return new Wr((0,b.Z)((0,b.Z)({},ge),{},{rule:void 0,label:Se,contexts:[].concat((0,_.Z)(a.get("contexts")),[new la({name:"_root",adaptor:"data",data:se})])}))}:function(se){return new Wr({contentPlugin:"snippet",name:vr(),label:void 0,contexts:[].concat((0,_.Z)(a.get("contexts")),[new la({name:"_root",adaptor:"data",data:se})]),settings:s.snippetHandler.buildSettings((0,b.Z)((0,b.Z)({},h.renderer.data),{},{content:h.renderer.data.content}))})})}),(0,Ce.U)(function(T){return new Ns({stylePlugin:void 0,settings:[],panes:T,columnSetting:new br})}),(0,Ce.U)(function(T){return s.panelHandler.buildSettings(new ri({id:void 0,layoutType:"grid",displayType:"page",site:s.siteName,gridItems:[],layoutSetting:new br,rowSettings:[],panels:[T]}))})).subscribe(function(T){u.next(T.find(function(N){return"panels"===N.name}).attributes[0].attributes.find(function(N){return"panes"===N.name}).attributes),u.complete()})}),u}},{key:"buildSelectOptionItems",value:function(e,a){var s=this;return this.toObject(e).pipe((0,st.w)(function(u){return s.urlGeneratorService.getUrl(u.url,u.params,a).pipe((0,Ce.U)(function(l){return[u,l]}))}),(0,Ce.U)(function(u){var l=(0,g.Z)(u,2),h=l[1];return new Os((0,b.Z)((0,b.Z)({},l[0]),{},{url:h}))})).subscribe(function(u){s.pageBuilderFacade.loadRestData("".concat(a.get("tag")),u)}),this.store.pipe((0,Bt.Ys)(wE("".concat(a.get("tag")))),(0,Q.h)(function(u){return void 0!==u}),(0,Ce.U)(function(u){return[u,u.results.map(function(l){return s.tokenizerService.generateGenericTokens(l)})]}),(0,Ce.U)(function(u){var l=(0,g.Z)(u,2);return[l[0],l[1],new oI(JSON.parse(a.get("snippet").content))]}),(0,Ce.U)(function(u){var l=(0,g.Z)(u,3),c=l[0],C=l[2];return l[1].map(function(T,N){return new aI({dataItem:c.results[N],value:s.attributeSerializer.serialize("[.]"===C.value?c.results[N]:s.tokenizerService.replaceTokens(C.value,T),"value"),label:s.tokenizerService.replaceTokens(C.label,T)})})}))}},{key:"getBindings",value:function(e,a,s){return"context"===a?this.toObject(e).pipe((0,Ce.U)(function(u){return u.params.reduce(function(l,c){return[].concat((0,_.Z)(l),(0,_.Z)("form"===c.mapping.type?[new pn.ContentBinding({id:"form__".concat(c.mapping.value.split(".",2)[0].trim()),type:"context"})]:[]))},[])})):this.toObject(e).pipe((0,st.w)(function(u){return Or(function(){return u.renderer.type===a},(0,Le.of)(u.renderer.bindings),(0,Le.of)([]))}))}},{key:"toObject",value:function(e){return(0,Le.of)(this.attributeSerializer.deserializeAsObject(e))}},{key:"buildSettings",value:function(e){return this.attributeSerializer.serialize(e,"root").attributes}},{key:"getRenderType",value:function(e){var a=[e.find(function(s){return"renderer"===s.name})].map(function(s){return s.attributes.find(function(u){return"type"===u.name})});return a.length>0?a[0].value:void 0}},{key:"stateDefinition",value:function(e){return(0,Le.of)({autocomplete:{input:""}})}},{key:"editorOptions",value:function(e){return(0,Le.of)(new pn.ContentPluginEditorOptions)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Vn.SITE_NAME),r.\u0275\u0275inject(Vl),r.\u0275\u0275inject(Ja),r.\u0275\u0275inject(Bt.yh),r.\u0275\u0275inject(Pr),r.\u0275\u0275inject(ya),r.\u0275\u0275inject(n_),r.\u0275\u0275inject(Nt.AttributeSerializerService),r.\u0275\u0275inject(CA))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),LH=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.fb=t,this.tokenizerService=e,this.panes=[],this.submitted=new r.EventEmitter,this.contexts=[],this.forms=[],this.snippetValidation=!0,this.restForm=this.fb.group({source:this.fb.control(""),renderer:this.fb.group({type:"snippet",query:this.fb.control(""),trackBy:this.fb.control(""),data:this.fb.control(""),bindings:this.fb.array([]),select:this.fb.group({value:this.fb.control(""),label:this.fb.control(""),id:this.fb.control(""),multiple:this.fb.control(""),limit:this.fb.control("")})})})}return(0,y.Z)(n,[{key:"rest",set:function(e){var a=this;void 0!==e&&(this._rest=e,this.restForm.setValue({renderer:(0,b.Z)((0,b.Z)({trackBy:"",query:""},e.renderer),{},{data:e.renderer.data?(0,b.Z)((0,b.Z)({},e.renderer.data),{},{jsScript:e.renderer.data.jsScript?e.renderer.data.jsScript:""}):{content:"",contentType:"",jsScript:""},select:["pane","snippet"].findIndex(function(u){return u===e.renderer.type})>-1?{value:"",label:"",id:"",multiple:"",limit:""}:JSON.parse(e.renderer.data.content),bindings:[]}),source:{url:"",params:[],method:"",body:""}}),"pane"===e.renderer.type&&(this.bindings.clear(),e.renderer.bindings.forEach(function(u){"pane"===u.type&&a.bindings.push(a.fb.group({id:a.fb.control(u.id,v.Validators.required),type:a.fb.control(u.type,v.Validators.required)}))})),"pane"===e.renderer.type?this.restForm.get("renderer").get("data").disable():this.restForm.get("renderer").get("data").enable(),setTimeout(function(){a.restSource={url:e.url,params:e.params,method:e.method?e.method:"",body:e.body?(0,b.Z)((0,b.Z)({},e.body),{},{jsScript:""}):""},a.sourceForm.refreshData$.next(void 0)}))}},{key:"rendererType",get:function(){return this.restForm.get("renderer").get("type")}},{key:"isSelectable",get:function(){return this.restForm.get("renderer").get("type").value&&"snippet"!==this.restForm.get("renderer").get("type").value&&"pane"!==this.restForm.get("renderer").get("type").value}},{key:"bindings",get:function(){return this.restForm.get("renderer").get("bindings")}},{key:"valid",get:function(){return this.restForm.valid}},{key:"ngOnInit",value:function(){var e=this;console.log(this.contexts),this.restForm.get("renderer").get("type").valueChanges.subscribe(function(a){"pane"===e.rendererType.value?e.restForm.get("renderer").get("data").disable():e.restForm.get("renderer").get("data").enable(),e.restForm.get("renderer").get("data").setValue({contentType:"",content:"",jsScript:""})}),this.restForm.get("renderer").get("select").valueChanges.subscribe(function(a){e.restForm.get("renderer").get("data").setValue({contentType:"application/json",content:JSON.stringify({value:a.value,label:a.label,id:a.id,multiple:a.multiple,limit:a.limit}),jsScript:""})})}},{key:"ngAfterViewInit",value:function(){}},{key:"onDataChange",value:function(e){this.tokens=this.tokenizerService.generateGenericTokens(e[0])}},{key:"addPane",value:function(){this.bindings.push(this.fb.group({type:this.fb.control("pane",v.Validators.required),id:this.fb.control("",v.Validators.required)}))}},{key:"submit",value:function(){var e=new Os((0,b.Z)((0,b.Z)({},this.restForm.value),{},{url:this.restForm.value.source.url,params:this.restForm.value.source.params,method:this.restForm.value.source.method,body:this.restForm.value.source.body}));this.submitted.emit(e)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Pr))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rest-form"]],viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(v_,7),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.sourceForm=a.first)},inputs:{panes:"panes",contexts:"contexts",rest:"rest"},outputs:{submitted:"submitted"},decls:34,vars:9,consts:[[1,"rest-form",3,"formGroup","ngSubmit"],["direction","vertical",1,"content-inner"],["as-split-area","","size","50"],["formControlName","source",3,"contexts","restSource","dataChange"],["size","50","formGroupName","renderer"],["matInput","","formControlName","query","placeholder","Query"],["matInput","","formControlName","trackBy","placeholder","Track By"],["required","","formControlName","type"],["label","Output"],["value","snippet"],["value","pane"],["label","Input"],["value","select"],["value","radiogroup"],["value","checkboxgroup"],["value","autocomplete"],["formControlName","data","splitDirection","horizontal","rows","10","cols","40",3,"hidden","rootForm","tokens"],["formArrayName","bindings",4,"ngIf"],["formGroupName","select",4,"ngIf"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],["formArrayName","bindings"],["type","button",3,"click"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["required","","formControlName","id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formGroupName","select"],["matInput","","formControlName","id","placeholder","Id"],["matInput","","formControlName","value","placeholder","Value"],["matInput","","formControlName","label","placeholder","Label"],["formControlName","multiple"],["matInput","","formControlName","limit","placeholder","Limit"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"form",0),r.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),r.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"as-split",1)(3,"div",2)(4,"classifieds-ui-rest-source-form",3),r.\u0275\u0275listener("dataChange",function(s){return e.onDataChange(s)}),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(5,"as-split-area",4)(6,"mat-form-field"),r.\u0275\u0275element(7,"input",5),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(8,"mat-form-field"),r.\u0275\u0275element(9,"input",6),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(10,"mat-form-field")(11,"mat-label"),r.\u0275\u0275text(12,"Type"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(13,"mat-select",7)(14,"mat-optgroup",8)(15,"mat-option",9),r.\u0275\u0275text(16,"Snippet"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(17,"mat-option",10),r.\u0275\u0275text(18,"Pane"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(19,"mat-optgroup",11)(20,"mat-option",12),r.\u0275\u0275text(21,"Select"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(22,"mat-option",13),r.\u0275\u0275text(23,"Radio Group"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(24,"mat-option",14),r.\u0275\u0275text(25,"Checkbox Group"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(26,"mat-option",15),r.\u0275\u0275text(27,"Autocomplete"),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275element(28,"classifieds-ui-snippet-form",16),r.\u0275\u0275template(29,nH,5,1,"div",17),r.\u0275\u0275template(30,rH,12,0,"div",18),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(31,"mat-dialog-actions")(32,"button",19),r.\u0275\u0275text(33,"Save"),r.\u0275\u0275elementEnd()()()),2&t&&(r.\u0275\u0275property("formGroup",e.restForm),r.\u0275\u0275advance(4),r.\u0275\u0275property("contexts",e.contexts)("restSource",e.restSource),r.\u0275\u0275advance(24),r.\u0275\u0275property("hidden","snippet"!=e.rendererType.value)("rootForm",!1)("tokens",e.tokens),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","pane"==e.rendererType.value),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.isSelectable),r.\u0275\u0275advance(2),r.\u0275\u0275property("disabled",!e.valid))},dependencies:[P.NgForOf,P.NgIf,v.\u0275NgNoValidate,v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,v.FormGroupName,v.FormArrayName,bi.MatLegacyOption,bi.MatLegacyOptgroup,pi.MatLegacyButton,Jy.MatLegacyCheckbox,Yt.MatLegacyDialogClose,Yt.MatLegacyDialogContent,Yt.MatLegacyDialogActions,En.MatLegacyFormField,En.MatLegacyLabel,Hr.MatLegacyInput,Fi.MatLegacySelect,Wy,Xy,v_,mE],styles:[".rest-form[_ngcontent-%COMP%]     .content-inner{height:auto}"]}),o}(),jH=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=a,this.handler=s,this.panes=[],this.contexts=[],this.contexts=this.data.contexts}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.panes=this.data.panelFormGroup.get("panes").controls.reduce(function(a,s){return s.get("name").value?[].concat((0,_.Z)(a),[s.get("name").value]):(0,_.Z)(a)},[]),void 0!==this.data.pane&&this.handler.toObject(this.data.pane.settings).subscribe(function(a){e.rest=a})}},{key:"submitted",value:function(e){var a=this,s=this.data.panelFormGroup.get("panes");if(void 0===this.data.paneIndex)s.push(this.fb.group({contentPlugin:"rest",name:new v.UntypedFormControl(""),label:new v.UntypedFormControl(""),rule:new v.UntypedFormControl(""),settings:this.fb.array(this.handler.buildSettings(e).map(function(l){return a.convertToGroup(l)}))})),this.data.contentAdded.next([this.data.panelIndex,s.length-1]);else{var u=s.at(this.data.paneIndex);u.get("settings").clear(),this.handler.buildSettings(e).forEach(function(l){u.get("settings").push(a.convertToGroup(l))})}this.dialogRef.close()}},{key:"convertToGroup",value:function(e){var a=this,s=this.fb.group({name:new v.UntypedFormControl(e.name,v.Validators.required),type:new v.UntypedFormControl(e.type,v.Validators.required),displayName:new v.UntypedFormControl(e.displayName,v.Validators.required),value:new v.UntypedFormControl(e.value,v.Validators.required),computedValue:new v.UntypedFormControl(e.value,v.Validators.required),attributes:new v.UntypedFormArray([])});return e.attributes&&e.attributes.length>0&&e.attributes.forEach(function(u){s.get("attributes").push(a.convertToGroup(u))}),s}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(Yt.MatLegacyDialogRef),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(C_))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rest-editor"]],decls:1,vars:3,consts:[[3,"panes","rest","contexts","submitted"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"classifieds-ui-rest-form",0),r.\u0275\u0275listener("submitted",function(s){return e.submitted(s)}),r.\u0275\u0275elementEnd()),2&t&&r.\u0275\u0275property("panes",e.panes)("rest",e.rest)("contexts",e.contexts)},dependencies:[LH]}),o}(),$H=function(){var o=function(){function n(t,e,a){var s=this;(0,f.Z)(this,n),this.fb=t,this.attributeSerializer=e,this.tokenizerService=a,this.searchChange=new r.EventEmitter,this.selectionForm=this.fb.group({attributes:this.fb.array([])}),this.onTouched=function(){},this.displayAuto=function(u){return a.replaceTokens(s.selectMapping.label,s.tokenizerService.generateGenericTokens(u.dataItem))}}return(0,y.Z)(n,[{key:"values",set:function(e){this.options=e,this.buildOptions()}},{key:"attributesArray",get:function(){return this.selectionForm.get("attributes")}},{key:"ngOnInit",value:function(){var e=this;this.attributesArray.push(this.fb.group({name:new v.UntypedFormControl("value",v.Validators.required),type:new v.UntypedFormControl(Nt.AttributeTypes.Array,v.Validators.required),displayName:new v.UntypedFormControl("Value",v.Validators.required),value:new v.UntypedFormControl(""),attributes:["checkboxgroup"].findIndex(function(a){return a===e.renderType})>-1?this.fb.array([]):new v.UntypedFormControl("")})),"autocomplete"===this.renderType&&(this.attributesArray.at(0).addControl("_proxy",this.fb.control("")),this.attributesArray.at(0).get("_proxy").valueChanges.pipe((0,xu.x)(),(0,Ar.b)(500)).subscribe(function(a){e.searchChange.emit(a)}))}},{key:"onOptionSelected",value:function(e){this.attributesArray.at(0).get("attributes").setValue(e.option.value.value),this.attributesArray.at(0).get("attributes").updateValueAndValidity()}},{key:"writeValue",value:function(e){e&&this.attributesArray.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.attributesArray.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.attributesArray.disable():this.attributesArray.enable()}},{key:"validate",value:function(e){return this.selectionForm.valid?null:{invalidForm:{valid:!1,message:"selection is invalid"}}}},{key:"buildOptions",value:function(){var e=this;if("checkboxgroup"===this.renderType&&void 0!==this.options){var a=this.attributesArray.controls[0].get("attributes");a.clear(),this.options.forEach(function(s){var u=e.attributeSerializer.convertToGroup(s.value);u.addControl("_store",new v.UntypedFormControl(!1)),a.push(u)})}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Nt.AttributeSerializerService),r.\u0275\u0275directiveInject(Pr))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-selection"]],inputs:{name:"name",label:"label",values:"values",renderType:"renderType",selectMapping:"selectMapping"},outputs:{searchChange:"searchChange"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:9,vars:6,consts:[[3,"formGroup"],["formArrayName","attributes"],["formGroupName","0"],[3,"ngSwitch"],[4,"ngSwitchCase"],["formControlName","attributes"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["formControlName","_store"],["matInput","","formControlName","_proxy",3,"placeholder","matAutocomplete"],[3,"displayWith","optionSelected"],["autocomplete","matAutocomplete"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),r.\u0275\u0275elementContainerStart(4,3),r.\u0275\u0275template(5,aH,6,2,"ng-container",4),r.\u0275\u0275template(6,sH,6,2,"ng-container",4),r.\u0275\u0275template(7,lH,4,1,"ng-container",4),r.\u0275\u0275template(8,dH,6,4,"ng-container",4),r.\u0275\u0275elementContainerEnd(),r.\u0275\u0275elementEnd()()()()),2&t&&(r.\u0275\u0275property("formGroup",e.selectionForm),r.\u0275\u0275advance(4),r.\u0275\u0275property("ngSwitch",e.renderType),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngSwitchCase","select"),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngSwitchCase","radiogroup"),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngSwitchCase","checkboxgroup"),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngSwitchCase","autocomplete"))},dependencies:[P.NgForOf,P.NgSwitch,P.NgSwitchCase,v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,v.FormGroupName,v.FormArrayName,TE.MatLegacyAutocomplete,TE.MatLegacyAutocompleteTrigger,bi.MatLegacyOption,Jy.MatLegacyCheckbox,En.MatLegacyFormField,En.MatLegacyLabel,Hr.MatLegacyInput,IE.MatLegacyRadioGroup,IE.MatLegacyRadioButton,Fi.MatLegacySelect]}),o}(),UH=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.restHandler=t,this.controlContainer=e,this.settings=[],this.contexts=[],this.state={},this.stateChange=new r.EventEmitter,this.tag=vr(),this.searchChange$=new ae.x}return(0,y.Z)(n,[{key:"renderType",get:function(){return this.restHandler.getRenderType(this.settings)}},{key:"ngOnInit",value:function(){var e=this;this.restHandler.toObject(this.settings).pipe((0,te.b)(function(a){e.snippet=a.renderer.data,e.selectMapping=new oI(JSON.parse(e.snippet.content))}),(0,Q.h)(function(){return"autocomplete"!==e.renderType}),(0,st.w)(function(a){return e.restHandler.buildSelectOptionItems(e.settings,new Map([["tag",e.tag],["snippet",a.renderer.data],["contexts",e.contexts]]))})).subscribe(function(a){e.options=a}),this.searchChange$.pipe((0,te.b)(function(a){e.stateChange.emit({autocomplete:{input:a}})}),(0,st.w)(function(a){return e.restHandler.buildSelectOptionItems(e.settings,new Map([["tag",vr()],["snippet",e.snippet],["contexts",e.contexts]]))})).subscribe(function(a){e.options=a})}},{key:"onSearchChange",value:function(e){this.searchChange$.next(e)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(C_),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-rest-pane-renderer"]],inputs:{settings:"settings",name:"name",label:"label",displayType:"displayType",contexts:"contexts",state:"state"},outputs:{stateChange:"stateChange"},decls:2,vars:6,consts:[[3,"formGroup"],["formControlName","settings",3,"name","label","renderType","values","selectMapping","searchChange"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"classifieds-ui-selection",1),r.\u0275\u0275listener("searchChange",function(s){return e.onSearchChange(s)}),r.\u0275\u0275elementEnd()()),2&t&&(r.\u0275\u0275property("formGroup",e.controlContainer.control),r.\u0275\u0275advance(1),r.\u0275\u0275property("name",e.name)("label",e.label)("renderType",e.renderType)("values",e.options)("selectMapping",e.selectMapping))},dependencies:[v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,$H]}),o}(),VE=function(){var o=function(){function n(t,e,a,s,u,l){(0,f.Z)(this,n),this.siteName=t,this.tokenizerService=e,this.panelHandler=a,this.mediaHandler=s,this.attributeSerializer=u,this.inlineContextResolver=l}return(0,y.Z)(n,[{key:"handleFile",value:function(e){return(0,Le.of)()}},{key:"handlesType",value:function(e){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(e){return(0,Le.of)(!1)}},{key:"isDynamic",value:function(e){return!0}},{key:"isData",value:function(e){return!1}},{key:"fetchDynamicData",value:function(e,a){return(0,Le.of)(new pr)}},{key:"buildDynamicItems",value:function(e,a){var s=this;return this.toObject(e).pipe((0,Ce.U)(function(u){return[u,a.get("contexts").find(function(l){return l.name===u.context})]}),(0,st.w)(function(u){var l=(0,g.Z)(u,2),c=l[0],h=l[1];return s.extractDataArray(h,c.query).pipe((0,Ce.U)(function(C){return[c,h,C]}))}),(0,st.w)(function(u){var l=(0,g.Z)(u,3);return s.transformDataArray(l[2],l[0].plugin)}),(0,Ce.U)(function(u){return new Ns({stylePlugin:void 0,settings:[],panes:u,columnSetting:new br})}),(0,Ce.U)(function(u){return s.panelHandler.buildSettings(new ri({id:void 0,layoutType:"grid",displayType:"page",site:s.siteName,gridItems:[],layoutSetting:new br,rowSettings:[],panels:[u]}))}),(0,Ce.U)(function(u){return u.find(function(l){return"panels"===l.name}).attributes[0].attributes.find(function(l){return"panes"===l.name}).attributes}))}},{key:"getBindings",value:function(e,a,s){return"context"===a?this.toObject(e).pipe((0,Ce.U)(function(u){return[new pn.ContentBinding({id:u.context,type:"context"})]})):(0,Le.of)([])}},{key:"toObject",value:function(e){return(0,Le.of)(this.attributeSerializer.deserializeAsObject(e))}},{key:"buildSettings",value:function(e){return this.attributeSerializer.serialize(e,"root").attributes}},{key:"extractDataArray",value:function(e,a){return this.inlineContextResolver.resolve(e).pipe((0,Ce.U)(function(s){var u=a.split("."),l=u.length;if(void 0===e)return(0,Le.of)([]);for(var c=Array.isArray(s)?s[0]:s,h=0;h<l;h++)""!==u[h]&&(c=c[u[h]]);return c}))}},{key:"transformDataArray",value:function(e,a){var s=this;return"media"===a?(0,Le.of)(e.map(function(u){return new nA(u)}).map(function(u){return new Wr({contentPlugin:"media",name:void 0,label:void 0,settings:s.mediaHandler.buildSettings(u)})})):(0,Le.of)()}},{key:"stateDefinition",value:function(e){return(0,Le.of)({})}},{key:"editorOptions",value:function(e){return(0,Le.of)(new pn.ContentPluginEditorOptions)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Vn.SITE_NAME),r.\u0275\u0275inject(Pr),r.\u0275\u0275inject(ya),r.\u0275\u0275inject(ip),r.\u0275\u0275inject(Nt.AttributeSerializerService),r.\u0275\u0275inject(zd))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),zH=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.context=n.context,this.query=n.query,this.plugin=n.plugin)}),GH=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.fb=t,this.contexts=[],this.submitted=new r.EventEmitter,this.sliceForm=this.fb.group({context:this.fb.control("",v.Validators.required),query:this.fb.control("",v.Validators.required),plugin:this.fb.control("",v.Validators.required)})}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){var e=new zH(this.sliceForm.value);this.submitted.emit(e)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-slice-form"]],inputs:{contexts:"contexts"},outputs:{submitted:"submitted"},decls:20,vars:3,consts:[[1,"slice-form",3,"formGroup","ngSubmit"],["required","","formControlName","context"],["value","_root"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Query","formControlName","query","required",""],["required","","formControlName","plugin"],["value","media"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"form",0),r.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),r.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"mat-form-field")(3,"mat-label"),r.\u0275\u0275text(4,"Type"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"mat-select",1)(6,"mat-option",2),r.\u0275\u0275text(7,"_root"),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(8,pH,2,2,"mat-option",3),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(9,"mat-form-field"),r.\u0275\u0275element(10,"input",4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(11,"mat-form-field")(12,"mat-label"),r.\u0275\u0275text(13,"Plugin"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(14,"mat-select",5)(15,"mat-option",6),r.\u0275\u0275text(16,"Media"),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275elementStart(17,"mat-dialog-actions")(18,"button",7),r.\u0275\u0275text(19,"Save"),r.\u0275\u0275elementEnd()()()),2&t&&(r.\u0275\u0275property("formGroup",e.sliceForm),r.\u0275\u0275advance(8),r.\u0275\u0275property("ngForOf",e.contexts),r.\u0275\u0275advance(10),r.\u0275\u0275property("disabled",!e.sliceForm.valid))},dependencies:[P.NgForOf,v.\u0275NgNoValidate,v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,bi.MatLegacyOption,pi.MatLegacyButton,Yt.MatLegacyDialogClose,Yt.MatLegacyDialogContent,Yt.MatLegacyDialogActions,En.MatLegacyFormField,En.MatLegacyLabel,Hr.MatLegacyInput,Fi.MatLegacySelect]}),o}(),HH=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=a,this.handler=s,this.contexts=[],this.contexts=this.data.contexts}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"submitted",value:function(e){var a=this;this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"slice",name:new v.UntypedFormControl(""),label:new v.UntypedFormControl(""),rule:new v.UntypedFormControl(""),settings:this.fb.array(this.handler.buildSettings(e).map(function(s){return a.convertToGroup(s)}))})),this.dialogRef.close()}},{key:"convertToGroup",value:function(e){var a=this,s=this.fb.group({name:new v.UntypedFormControl(e.name,v.Validators.required),type:new v.UntypedFormControl(e.type,v.Validators.required),displayName:new v.UntypedFormControl(e.displayName,v.Validators.required),value:new v.UntypedFormControl(e.value,v.Validators.required),computedValue:new v.UntypedFormControl(e.value,v.Validators.required),attributes:new v.UntypedFormArray([])});return e.attributes&&e.attributes.length>0&&e.attributes.forEach(function(u){s.get("attributes").push(a.convertToGroup(u))}),s}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(Yt.MatLegacyDialogRef),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(VE))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-slice-editor"]],decls:1,vars:1,consts:[[3,"contexts","submitted"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"classifieds-ui-slice-form",0),r.\u0275\u0275listener("submitted",function(s){return e.submitted(s)}),r.\u0275\u0275elementEnd()),2&t&&r.\u0275\u0275property("contexts",e.contexts)},dependencies:[GH]}),o}(),qH=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.fb=t,this.controlContainer=e}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){this.controlContainer.control.addControl("adaptor",this.fb.control("rest",v.Validators.required)),this.controlContainer.control.addControl("rest",this.fb.control(""))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-editor"]],viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(v_,7),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.restSourceFormComp=a.first)},decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","rest"]],template:function(t,e){1&t&&(r.\u0275\u0275elementContainerStart(0,0),r.\u0275\u0275element(1,"classifieds-ui-rest-source-form",1),r.\u0275\u0275elementContainerEnd()),2&t&&r.\u0275\u0275property("formGroup",e.controlContainer.control)},dependencies:[v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,v_]}),o}(),KH=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=a,this.attributeSerializer=s,this.contexts=[],this.panes=[],this.formGroup=this.fb.group({labels:this.fb.array([this.buildLabelGroup()])}),this.contexts=this.data.contexts}return(0,y.Z)(n,[{key:"labels",get:function(){return this.formGroup.get("labels")}},{key:"ngOnInit",value:function(){this.panes=new Ns(this.data.panelFormGroup.value).panes}},{key:"submit",value:function(){var e=this;this.data.panelFormGroup.get("settings").clear(),this.attributeSerializer.serialize(this.formGroup.value,"root").attributes.forEach(function(a){console.log("label mappings"),console.log(e.attributeSerializer.convertToGroup(a)),e.data.panelFormGroup.get("settings").push(e.attributeSerializer.convertToGroup(a))})}},{key:"onRemoveMapping",value:function(e){this.labels.removeAt(e)}},{key:"onAddMapping",value:function(){this.labels.push(this.buildLabelGroup())}},{key:"buildLabelGroup",value:function(){return this.fb.group({mapping:this.fb.control("")})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(Yt.MatLegacyDialogRef),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Nt.AttributeSerializerService))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-tabs-panel-editor"]],decls:7,vars:3,consts:[[3,"formGroup","ngSubmit"],["formArrayName","labels"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"formGroupName"],["formControlName","mapping",3,"panes"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"form",0),r.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),r.\u0275\u0275elementStart(1,"div",1),r.\u0275\u0275template(2,fH,4,2,"div",2),r.\u0275\u0275elementStart(3,"button",3),r.\u0275\u0275listener("click",function(){return e.onAddMapping()}),r.\u0275\u0275text(4,"Add"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(5,"button",4),r.\u0275\u0275text(6,"Save"),r.\u0275\u0275elementEnd()()),2&t&&(r.\u0275\u0275property("formGroup",e.formGroup),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",e.labels.controls),r.\u0275\u0275advance(3),r.\u0275\u0275property("disabled",!e.formGroup.valid))},dependencies:[P.NgForOf,v.\u0275NgNoValidate,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,v.FormGroupName,v.FormArrayName,pi.MatLegacyButton,Yt.MatLegacyDialogClose,h$],encapsulation:2}),o}(),WH=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.attributeSerializer=t,this.settings=[],this.panes=[],this.originMappings=[],this.labelMappingsEnabled=!1}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){console.log("tabs panels contexts"),console.log(this.panes);var e=this.attributeSerializer.deserialize(new Nt.AttributeValue({name:"",displayName:"",computedValue:"",type:Nt.AttributeTypes.Complex,value:"",intValue:0,attributes:this.settings}));this.labelMappingsEnabled=!!(e&&void 0!==e.labels&&Array.isArray(e.labels)&&e.labels.length>0)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Nt.AttributeSerializerService))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-tabs-panel-renderer"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",originMappings:"originMappings"},decls:2,vars:2,consts:[["mat-align-tabs","start",4,"ngIf"],["mat-align-tabs","start"],[4,"for"],["mat-tab-label",""],[3,"pluginName","settings","contexts"],["label","The Label",4,"ngFor","ngForOf"],["label","The Label"]],template:function(t,e){1&t&&(r.\u0275\u0275template(0,gH,2,1,"mat-tab-group",0),r.\u0275\u0275template(1,yH,2,1,"mat-tab-group",0)),2&t&&(r.\u0275\u0275property("ngIf",e.labelMappingsEnabled),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!e.labelMappingsEnabled))},dependencies:[P.NgForOf,P.NgIf,rs.MatLegacyTabGroup,rs.MatLegacyTabLabel,rs.MatLegacyTab,Vn.ForDirective,x_]}),o}(),zO=function(){var o=function(){function n(t,e){var a=this;(0,f.Z)(this,n),this.fb=t,this.controlContainer=e,this.panelPages=[],this.panelPage$=new U.X(new ri),this.context$=new U.X(void 0),this.formGroup=this.fb.group({state:this.fb.control("",[v.Validators.required])}),this.stateCtrl=this.fb.control(""),this.stateCtrlSub=this.stateCtrl.valueChanges.pipe((0,Ar.b)(250),(0,xu.x)(),(0,Q.h)(function(s){try{return JSON.parse(s),!0}catch{return!1}}),(0,Ce.U)(function(s){return JSON.parse(s)})).subscribe(function(s){console.log("write state"),console.log(s),a.formGroup.get("state").setValue(s)}),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"panelPage",set:function(e){this.panelPage$.next(e)}},{key:"context",set:function(e){this.context$.next(e)}},{key:"ngOnInit",value:function(){var e=this;this.panelPage$.subscribe(function(a){e.panelPages=[a]}),this.context$.subscribe(function(a){e.stateCtrl.setValue(a?JSON.stringify(a.data.state):"")})}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}},{key:"flattenSelector",value:function(e){var a=[];return null!=e.panel&&a.push(e.panel),null!=e.pane&&a.push(e.pane),null!=e.nested&&"object"==typeof e.nested&&this.flattenSelector(e.nested).forEach(function(s){return a.push(s)}),a}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-page-state-form"]],inputs:{panelPage:"panelPage",context:"context"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:3,vars:2,consts:[[3,"formGroup"],["cols","40","rows","20","required","",3,"formControl"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275text(1," <"),r.\u0275\u0275element(2,"textarea",1),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.formGroup),r.\u0275\u0275advance(2),r.\u0275\u0275property("formControl",e.stateCtrl))},dependencies:[v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormControlDirective,v.FormGroupDirective]}),o}(),XH=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.fb=t,this.pageBuilderFacade=e,this.controlContainer=a}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.controlContainer.control.addControl("adaptor",this.fb.control("data",v.Validators.required)),this.controlContainer.control.addControl("data",this.fb.control("")),this.pageBuilderFacade.getPage$.pipe((0,An.q)(1)).subscribe(function(a){e.panelPage=a})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Ja),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-page-state-editor"]],viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(zO,7),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.restSourceFormComp=a.first)},inputs:{context:"context"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","data",3,"panelPage","context"]],template:function(t,e){1&t&&(r.\u0275\u0275elementContainerStart(0,0),r.\u0275\u0275element(1,"classifieds-ui-page-state-form",1),r.\u0275\u0275elementContainerEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.controlContainer.control),r.\u0275\u0275advance(1),r.\u0275\u0275property("panelPage",e.panelPage)("context",e.context))},dependencies:[v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,zO]}),o}(),QH=function(){var o=function(){function n(t,e){var a=this;(0,f.Z)(this,n),this.fb=t,this.attributeSerializer=e,this.settings$=new U.X(void 0),this.formGroup=this.fb.group({name:this.fb.control("",[v.Validators.required]),field:this.fb.control("",[v.Validators.required])}),this.settingsSub=this.settings$.pipe((0,Ce.U)(function(s){return s?new IA(a.attributeSerializer.deserializeAsObject(s)):void 0})).subscribe(function(s){s?(a.formGroup.get("name").setValue(s.name),a.formGroup.get("field").setValue(s.field)):(a.formGroup.get("name").setValue(""),a.formGroup.get("field").setValue(""))}),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Nt.AttributeSerializerService))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-form-datasource-form"]],inputs:{settings:"settings"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:11,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","name","required",""],["matInput","","formControlName","field","required",""]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field")(3,"mat-label"),r.\u0275\u0275text(4,"Name"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(5,"input",1),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(6,"div")(7,"mat-form-field")(8,"mat-label"),r.\u0275\u0275text(9,"Field"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(10,"input",2),r.\u0275\u0275elementEnd()()()),2&t&&r.\u0275\u0275property("formGroup",e.formGroup)},dependencies:[v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,En.MatLegacyFormField,En.MatLegacyLabel,Hr.MatLegacyInput]}),o}(),YH=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.controlContainer=t,this.settings=[]});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-form-datasource"]],inputs:{settings:"settings"},decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(t,e){1&t&&(r.\u0275\u0275elementContainerStart(0,0),r.\u0275\u0275element(1,"classifieds-ui-form-datasource-form",1),r.\u0275\u0275elementContainerEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.controlContainer.control),r.\u0275\u0275advance(1),r.\u0275\u0275property("settings",e.settings))},dependencies:[v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,QH],encapsulation:2}),o}(),JH=function(n){return new pn.ContentPlugin({id:"snippet",title:"Snippet",selectionComponent:void 0,editorComponent:OH,renderComponent:ZO,handler:n})},eq=function(n){return new pn.ContentPlugin({id:"attribute",title:"Attribute",selectionComponent:MH,editorComponent:NH,renderComponent:VH,handler:n})},tq=function(n){return new pn.ContentPlugin({id:"media",title:"Media",selectionComponent:void 0,editorComponent:BH,renderComponent:ZH,handler:n})},nq=function(n){return new pn.ContentPlugin({id:"rest",title:"REST",selectionComponent:void 0,editorComponent:jH,renderComponent:UH,handler:n})},rq=function(n){return new pn.ContentPlugin({id:"slice",title:"Slice",selectionComponent:void 0,editorComponent:HH,renderComponent:void 0,handler:n})},iq=function(n){return new Fs({id:"page",name:"page",title:"Page",global:!0,group:"pages",baseObject:{path:""},resolver:n})},aq=function(n){var t={dataset:new pr};return new Fs({id:"rest",name:"rest",title:"Rest",baseObject:t,resolver:n,editorComponent:qH})},oq=function(n){var t={dataset:new pr};return new Fs({id:"form",name:"form",title:"Form",baseObject:t,resolver:n})},sq=function(n){var t=new Ya({state:new Nt.AttributeValue});return new Fs({id:"panestate",name:"panestate",title:"Pane State",internal:!0,baseObject:t,resolver:n})},uq=function(n){var t=new Ya({state:new Nt.AttributeValue});return new Fs({id:"pagestate",name:"pagestate",title:"Page State",internal:!0,baseObject:t,resolver:n,editorComponent:XH})},lq=function(n){return new bE({id:"tabs",name:"tabs",title:"Tabs",handler:n,editorComponent:KH,renderComponent:WH})},ak=function(n){return function(t){if(0===("/"+t.map(function(a){return a.path}).join("/")).indexOf(n.path)){var e=n.path.substr(1).split("/").length;return{consumed:t,posParams:t.reduce(function(a,s,u){return 0===u?(0,b.Z)((0,b.Z)({},a),{},{panelPageId:new dr.UrlSegment(n.id,{})}):u>e-1?(0,b.Z)((0,b.Z)({},a),{},(0,d.Z)({},"arg".concat(u-e),new dr.UrlSegment(s.path,{}))):(0,b.Z)({},a)},{})}}return null}},ok=function(n){return function(t){return 0===("/"+t.map(function(a){return a.path}).join("/")).indexOf(n.path)&&t.map(function(a){return a.path}).join("/").indexOf("/manage")>-1?(n.path.substr(1).split("/"),{consumed:t,posParams:t.reduce(function(a,s,u){return 0===u?(0,b.Z)((0,b.Z)({},a),{},{panelPageId:new dr.UrlSegment(n.id,{})}):(0,b.Z)({},a)},{})}):null}},hq=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.tokenizerService=t,this.panelResolverService=e,this.styleResolverService=a,this.paneDatasource=s,this.settings=[],this.panes=[],this.originMappings=[],this.resolvedContext={}}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.paneDatasource.pageChange$.pipe((0,__.T)(1),(0,st.w)(function(a){return e.panelResolverService.resolvePanes({panes:e.originPanes.map(function(s){return new Wr((0,b.Z)((0,b.Z)({},s),{},{metadata:new Map([].concat((0,_.Z)(s.metadata?s.metadata:[]),[["page",a],["limit",e.paneDatasource.pageSize]]))}))}),contexts:e.contexts,resolvedContext:e.resolvedContext})}),(0,st.w)(function(a){return e.styleResolverService.alterResolvedPanes({panel:e.panel,resolvedPanes:a.resolvedPanes,originMappings:a.originMappings})})).subscribe(function(a){var s=a.resolvedPanes;e.originMappings=a.originMappings,e.paneDatasource.panes=s}),this.paneDatasource.panes=this.panes,this.trackByTpl="[._root.id]"}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Pr),r.\u0275\u0275directiveInject(TA),r.\u0275\u0275directiveInject(QI),r.\u0275\u0275directiveInject(CE))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-virtual-list-panel-renderer"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",originMappings:"originMappings",contexts:"contexts",resolvedContext:"resolvedContext",panel:"panel"},features:[r.\u0275\u0275ProvidersFeature([CE])],decls:2,vars:2,consts:[[1,"panes-viewport",3,"itemSize"],["class","pane-item",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"pane-item"],[3,"pluginName","settings","contexts","resolvedContext"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"cdk-virtual-scroll-viewport",0),r.\u0275\u0275template(1,_H,2,4,"div",1),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("itemSize",75),r.\u0275\u0275advance(1),r.\u0275\u0275property("cdkVirtualForOf",e.paneDatasource))},dependencies:[tp.CdkFixedSizeVirtualScroll,tp.CdkVirtualForOf,tp.CdkVirtualScrollViewport,x_],styles:["[_nghost-%COMP%]{position:relative}.panes-viewport[_ngcontent-%COMP%]{height:100%;width:100%}"]}),o}(),gq=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.router=t}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"onClick",value:function(){this.router.navigateByUrl(this.href)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(dr.Router))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-page-router-link"]],inputs:{href:"href",text:"text"},decls:2,vars:1,consts:[[3,"click"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"a",0),r.\u0275\u0275listener("click",function(){return e.onClick()}),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(e.text))},styles:["[_nghost-%COMP%]:hover{cursor:pointer}"]}),o}(),GO=new r.InjectionToken("PagesSettings"),vq=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.disableRouting=!1,n&&(this.disableRouting=n.disableRouting)}),yq=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.siteName=t,this.pagesSettings=e,this.router=a,this.routesLoaded=!1,this.panelPageListItemsService=s.getEntityCollectionService("PanelPageListItem")}return(0,y.Z)(n,[{key:"canActivate",value:function(e,a){var s=this;return new Promise(this.pagesSettings.disableRouting?function(u){return u(!0)}:function(u){var l=a.url;-1!==l.indexOf("?")&&(l=a.url.substr(0,l.indexOf("?")));var c="path="+l.substr(1).split("/").reduce(function(h,C,T){return[].concat((0,_.Z)(h),[0===T?"/".concat(C):"".concat(h[T-1],"/").concat(C)])},[]).map(function(h){return s.encodePathComponent(h)}).join("&path=")+"&site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(s.siteName,'"}}}')));setTimeout(function(){}),(0,$n.D)([Or(function(){return!s.routesLoaded},s.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(s.siteName,'"}}}')),'&path={"wildcard":{"path.keyword":{"value":"*"}}}')).pipe((0,te.b)(function(){return console.log("loaded page list items")}),(0,Ce.U)(function(h){return h.filter(function(C){return void 0!==C.path&&""!==C.path})}),(0,Ce.U)(function(h){return h.map(function(C){return new ri(C)}).sort(function(C,T){return C.path.split("/").length===T.path.split("/").length?C.path.split("/")[C.path.split("/").length-1]>T.path.split("/")[T.path.split("/").length-1]?-1:1:C.path.split("/").length>T.path.split("/").length?-1:1})}),(0,te.b)(function(h){return h.sort(function(C,T){return C.path.length>T.path.length?1:-1})}),(0,te.b)(function(h){var C=s.router.config;h.forEach(function(T){C.unshift({matcher:ok(T),component:NE}),C.unshift({matcher:ak(T),component:ME,data:{panelPageListItem:T}}),console.log("panels matcher: ".concat(T.path))}),s.routesLoaded=!0}),(0,Ce.U)(function(){return[]})),(0,Le.of)([])),s.panelPageListItemsService.getWithQuery(c).pipe((0,si.K)(function(h){return(0,Le.of)([])}),(0,te.b)(function(){return console.log("loaded specific matched")}),(0,Ce.U)(function(h){return h.reduce(function(C,T){return void 0===C||C.path.split("/").length<T.path.split("/").length?T:C},void 0)}),(0,Ce.U)(function(h){var C=a.url.substr(1).split("/").slice(h.path.split("/").length-1).join("/");return[h,C]}))]).pipe((0,Ce.U)(function(h){var C=(0,g.Z)(h,2),N=(0,g.Z)(C[1],2);return[N[0],N[1]]})).subscribe(function(h){var C=(0,g.Z)(h,2),T=C[0],N=C[1],F="".concat(T.path).concat(""===N?"":"/".concat(N),"?").concat(Fa.stringify(e.queryParams)),$=s.router.parseUrl(F);console.log("panels garud navigate: ".concat(T.path).concat(""===N?"":"/".concat(N),"?").concat(Fa.stringify(e.queryParams))),u($)})})}},{key:"encodePathComponent",value:function(e){return'{"term":{"path.keyword":{"value":"'.concat(e,'"}}}')}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Vn.SITE_NAME),r.\u0275\u0275inject(GO),r.\u0275\u0275inject(dr.Router),r.\u0275\u0275inject(Dr))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),HO=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.pageBuilderFacade=t}return(0,y.Z)(n,[{key:"resolve",value:function(e,a){return this.pageBuilderFacade.getPageInfo$}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Ja))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),qO=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.pageBuilderFacade=t,this.store=e,this.urlGeneratorService=a,this.routerStore=s}return(0,y.Z)(n,[{key:"resolve",value:function(e,a){var s=this,u=new Os(a);return(u.params&&Array.isArray(u.params)&&u.params.length>0?this.changePipeline(u.params):(0,Le.of)([])).pipe((0,st.w)(function(){return u.params&&Array.isArray(u.params)&&u.params.length>0?s.rebuildParams(u.params):(0,Le.of)([])}),(0,Ce.U)(function(l){return[l,new Map([["tag",vr()]])]}),(0,st.w)(function(l){var c=(0,g.Z)(l,2),C=c[1];return s.urlGeneratorService.getUrl(u.url,c[0],C).pipe((0,Ce.U)(function(T){return[T,C]}))}),(0,st.w)(function(l){var c=(0,g.Z)(l,2),h=c[0],C=c[1];return s.pageBuilderFacade.loadRestData("".concat(C.get("tag")),new Os((0,b.Z)((0,b.Z)({},u),{},{url:h}))),s.store.pipe((0,Bt.Ys)(wE("".concat(C.get("tag")))),(0,Q.h)(function(T){return void 0!==T}),(0,Ce.U)(function(T){return T.results}),(0,An.q)(1))}))}},{key:"changePipeline",value:function(e){var a=this,s=e.reduce(function(u,l){switch(l.mapping.type){case"route":return[].concat((0,_.Z)(u),[a.routeArgChange(l.mapping.value)]);case"querystring":return[].concat((0,_.Z)(u),[a.queryStringChange(l.mapping.value)]);case"form":return[].concat((0,_.Z)(u),[a.formChange(l.mapping.value)]);default:return(0,_.Z)(u)}},[]);return Y.T.apply(void 0,(0,_.Z)(s))}},{key:"routeArgChange",value:function(e){return this.pageBuilderFacade.getPageInfo$.pipe((0,Ce.U)(function(){}))}},{key:"queryStringChange",value:function(e){return new ae.x}},{key:"formChange",value:function(e){var a=e.split(".",2),s=(0,g.Z)(a,2);return this.pageBuilderFacade.getForm$(s[0]).pipe((0,te.b)(function(){return console.log("form change")}),(0,Ce.U)(function(){}))}},{key:"rebuildParams",value:function(e){var a=this;return this.pageBuilderFacade.getPageInfo$.pipe((0,Ce.U)(function(s){return s?e:a.testParams(e)}))}},{key:"testParams",value:function(e){for(var a=[],s=e.length,u=0;u<s;u++)a.push(new Mi("route"===e[u].mapping.type?(0,b.Z)((0,b.Z)({},e[u]),{},{mapping:{type:"static",value:e[u].mapping.testValue,context:void 0,testValue:void 0}}):e[u]));return a}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Ja),r.\u0275\u0275inject(Bt.yh),r.\u0275\u0275inject(n_),r.\u0275\u0275inject(Bt.yh))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),KO=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.pageBuilderFacade=t}return(0,y.Z)(n,[{key:"resolve",value:function(e,a){return this.pageBuilderFacade.getForm$(a)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Ja))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),_q=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s){var u;return(0,f.Z)(this,e),(u=t.call(this)).tokenizerService=a,u.paneDatasource=s,u.trackByMapping=function(l,c){return u.tokenizerService.replaceTokens(u.trackByTpl,u.tokenizerService.generateGenericTokens(c.contexts[0].data))},u}return(0,y.Z)(e,[{key:"displayedColumns",get:function(){var s=this.panes.findIndex(function(u){return u.contexts.findIndex(function(l){return"_root"===l.name})>-1});return s>-1?Object.keys(this.panes[s].contexts.find(function(u){return"_root"===u.name}).data):[]}},{key:"ngOnInit",value:function(){console.log(this.panes),this.paneDatasource.panes=this.panes}},{key:"rowData",value:function(s,u){return console.log("name: ".concat(s)),"".concat(u.contexts.find(function(l){return"_root"===l.name}).data[s])}}]),e}(P$);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Pr),r.\u0275\u0275directiveInject(CE))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["lib-table-panel-renderer"]],features:[r.\u0275\u0275ProvidersFeature([CE]),r.\u0275\u0275InheritDefinitionFeature],decls:4,vars:4,consts:[["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"table",0),r.\u0275\u0275template(1,CH,3,1,"ng-container",1),r.\u0275\u0275template(2,wH,1,0,"tr",2),r.\u0275\u0275template(3,SH,1,0,"tr",3),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("dataSource",e.paneDatasource),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.displayedColumns),r.\u0275\u0275advance(1),r.\u0275\u0275property("matHeaderRowDef",e.displayedColumns),r.\u0275\u0275advance(1),r.\u0275\u0275property("matRowDefColumns",e.displayedColumns))},dependencies:[P.NgForOf,VO.MatSort,VO.MatSortHeader,os.MatLegacyTable,os.MatLegacyHeaderCellDef,os.MatLegacyHeaderRowDef,os.MatLegacyColumnDef,os.MatLegacyCellDef,os.MatLegacyRowDef,os.MatLegacyHeaderCell,os.MatLegacyCell,os.MatLegacyHeaderRow,os.MatLegacyRow]}),o}(),xq=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.attributeSerializer=t}return(0,y.Z)(n,[{key:"handleFile",value:function(e){return(0,Le.of)()}},{key:"handlesType",value:function(e){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(e){return(0,Le.of)(!1)}},{key:"isDynamic",value:function(e){return!1}},{key:"isData",value:function(e){return!1}},{key:"buildDynamicItems",value:function(e,a){return(0,Le.of)([])}},{key:"fetchDynamicData",value:function(e,a){return(0,Le.of)(new pr)}},{key:"getBindings",value:function(e,a){return(0,Le.of)([])}},{key:"toObject",value:function(e){return(0,Le.of)(this.attributeSerializer.deserializeAsObject(e))}},{key:"buildSettings",value:function(e){return this.attributeSerializer.serialize(e,"root").attributes}},{key:"fromPanes",value:function(e){var a=this;return e.map(function(s){return new Wr(a.attributeSerializer.deserialize(s))})}},{key:"wrapPanel",value:function(e){return new Ns({stylePlugin:void 0,settings:[],panes:e,columnSetting:new br})}},{key:"stateDefinition",value:function(e){return(0,Le.of)({})}},{key:"editorOptions",value:function(e){return(0,Le.of)(new pn.ContentPluginEditorOptions)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Nt.AttributeSerializerService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),sk=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.panelHandler=t,this.attributeSerializer=e,this.panelsLoaderService=a,this.panelsSelectorService=s}return(0,y.Z)(n,[{key:"alterResolvedPanes",value:function(e){var a=this,u=e.resolvedPanes,l=e.originMappings,c=this.attributeSerializer.deserialize(new Nt.AttributeValue({name:"",displayName:"",computedValue:"",type:Nt.AttributeTypes.Complex,value:"",intValue:0,attributes:e.settings})),h=c&&void 0!==c.labels&&Array.isArray(c.labels)?c.labels.map(function(T){return new HI(T.mapping)}):[],C=[];return 0===h.length?(0,Le.of)({resolvedPanes:u,originMappings:l}):(C=u.length!==h.length?u.map(function(T,N){return new HI((0,b.Z)((0,b.Z)({},N<h.length?h[N]:h[h.length-1]),{},{pane:N}))}).map(function(T){return a.flattenSelector(T)}):h.map(function(T){return a.flattenSelector(T)}),(0,$n.D)(u.map(function(T,N){return a.panelsLoaderService.reducePanes([],T,0)[0]})).pipe((0,Ce.U)(function(T){return T.reduce(function(N,F){var ue=(0,g.Z)(F,2)[1];return[].concat((0,_.Z)(N),[ue])},[])}),(0,Ce.U)(function(T){for(var N=C.map(function(we){return a.selectWithTarget(we)}),F=C.map(function(we){return a.selectWithoutTarget(we)}),$=N.map(function(we,He){return a.panelsSelectorService.rebuildPage(T[C[He][0]],we.slice(1))}),se=F.map(function(we,He){return a.panelsSelectorService.rebuildPage(T[C[He][0]],we.slice(1))}),ue=[],ge=u.length,Se=0;Se<ge;Se++)ue.push(new Wr((0,b.Z)((0,b.Z)({},u[Se]),{},{settings:a.panelHandler.buildSettings($[Se])}))),ue.push(new Wr((0,b.Z)((0,b.Z)({},u[Se]),{},{settings:a.panelHandler.buildSettings(se[Se])})));return{resolvedPanes:ue,originMappings:l}})))}},{key:"stateDefinition",value:function(e){return(0,Le.of)({})}},{key:"flattenSelector",value:function(e){var a=[];return null!=e.panel&&a.push(e.panel),null!=e.pane&&a.push(e.pane),null!=e.nested&&"object"==typeof e.nested&&this.flattenSelector(e.nested).forEach(function(s){return a.push(s)}),a}},{key:"selectWithTarget",value:function(e){return e.map(function(a){return a+1})}},{key:"selectWithoutTarget",value:function(e){return e.map(function(a,s){return s===e.length-1?-1*(a+1):0})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(xq),r.\u0275\u0275inject(Nt.AttributeSerializerService),r.\u0275\u0275inject(WI),r.\u0275\u0275inject(A$))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),WO=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.entityServices=t,this.pageBuilderFacade=e,this.panelStateConverterService=a,this.attributeSerializer=s,this.resolverCache$=new Map}return(0,y.Z)(n,[{key:"emptyPaneState",get:function(){return new Ya({state:this.attributeSerializer.serialize({displayAssociatedPane:""},"root")})}},{key:"entities$",get:function(){return this.entityServices.getEntityCollectionService("PanelPageState").entities$.pipe((0,te.b)(function(e){console.log("entities in store"),console.log(e)}))}},{key:"panelPage$",get:function(){return(0,Sr.a)([this.pageBuilderFacade.getPageInfo$,this.entityServices.getEntityCollectionService("PanelPage").entities$]).pipe((0,Ce.U)(function(e){var a=(0,g.Z)(e,2),s=a[0],u=a[1];return s&&void 0!==s.id&&""!==s.id&&null!==s.id&&-1!==u.findIndex(function(l){return l.id===s.id})?u.find(function(l){return l.id===s.id}):void 0}))}},{key:"fakePageInfo",get:function(){return new u_({id:"948d6e7b-12ab-11ec-8ecd-661fdd19e6df",path:"",realPath:"",args:new Map})}},{key:"resolve",value:function(e,a){var s=a&&a.selectionMethod&&0!==a.selectionMethod.length&&a.id&&null!==a.id&&""!==a.id?"ps[id=".concat(a.id,"]").concat(a.selectionMethod.map(function(l){return"".concat(l)}).join("")):void 0;if(s&&this.resolverCache$.has(s))return this.resolverCache$.get(s);var u=this.resolve$(e,a);return s&&this.resolverCache$.set(s,u),u}},{key:"resolve$",value:function(e,a){var s=this;return(0,Sr.a)([this.panelPage$,this.entities$]).pipe((0,Ce.U)(function(u){var l=(0,g.Z)(u,2),c=l[0],h=l[1];return[c,c&&-1!==h.findIndex(function(C){return C.id===c.id})?h.find(function(C){return C.id===c.id}):new as]}),(0,st.w)(function(u){var l=(0,g.Z)(u,2),c=l[0],h=l[1];return s.pageBuilderFacade.getSelectionPath$.pipe((0,Ce.U)(function(C){return a&&a.selectionPath?a.selectionPath:C}),(0,te.b)(function(C){return C.join(",")}),(0,Ce.U)(function(C){return C.map(function(T,N){return"".concat((N+1)%2==0?"panes":(0===N?"":"nestedPage.")+"panels","[").concat(T,"]")})}),(0,Ce.U)(function(C){return 0===C.length?void 0:"$."+C.join(".")}),(0,Ce.U)(function(C){return[c,h,C]}))}),(0,te.b)(function(u){var l=(0,g.Z)(u,3),c=l[0],C=l[2];console.log("page state context resolver"),console.log(c),console.log("query: "+C)}),(0,st.w)(function(u){var l=(0,g.Z)(u,3),c=l[0],h=l[1],C=l[2];return Or(function(){return!!c&&!h},s.panelStateConverterService.convertPageToState(c).pipe((0,Ce.U)(function(T){return new as((0,b.Z)((0,b.Z)({},T),{},{panels:T.panels.map(function(N){return new Il((0,b.Z)((0,b.Z)({},N),{},{panes:N.panes.map(function(F){return new Ya((0,b.Z)((0,b.Z)({},F),{},{state:s.attributeSerializer.serialize({displayAssociatedPane:"y"},"root")}))})}))})}))}),(0,Ce.U)(function(T){return[T,C]})),(0,Le.of)([h,C]))}),(0,te.b)(function(u){var c=(0,g.Z)(u,2)[0];console.log("rebuilt state from realtime page"),console.log(c)}),(0,Ce.U)(function(u){var l=(0,g.Z)(u,2),h=l[1];return h?(0,Ms.JSONPath)({path:h,json:l[0]}):s.emptyPaneState}),(0,Ce.U)(function(u){return u&&Array.isArray(u)&&0!==u.length?u[0]:s.emptyPaneState}),(0,te.b)(function(u){console.log("json path match"),console.log(u)}),(0,Ce.U)(function(u){return s.attributeSerializer.deserializeAsObject(u.state)}),(0,te.b)(function(u){console.log("final state"),console.log(u)}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Dr),r.\u0275\u0275inject(Ja),r.\u0275\u0275inject(k$),r.\u0275\u0275inject(Nt.AttributeSerializerService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),bq=[{path:"pages",children:[{path:"create-panel-page",component:FH},{path:"panelpage/:panelPageId/manage",component:NE}]}],Cq=function(){var o=(0,y.Z)(function n(t,e,a,s,u,l,c,h,C,T,N,F,$,se,ue,ge,Se,we,He,ot,dt,Ot,pt,Lt,$t,tn,Gt,Ut,qt){(0,f.Z)(this,n),l.registerMetadataMap(EH),[iq(se),aq(ue),oq(ge),sq(Se),uq(we)].forEach(function(Er){s.register(Er)}),t.forEach(function(Er){return a.register(Er)}),e.forEach(function(Er){return u.register(Er)}),c.register(function(n,t,e){return new Rs({id:"form",title:"Form",usedContexts:function(s){var u=s.param;return(0,Le.of)(["form__".concat(u.mapping.value.substr(0,u.mapping.value.indexOf(".")))])},evalParam:function(s){var u=s.param,c=u.mapping.value.substr(0,u.mapping.value.indexOf(".")),h=u.mapping.value.substr(u.mapping.value.indexOf(".")+1);return console.log("form: ".concat(c," || ").concat(h)),e.getForm$(c).pipe((0,An.q)(1),(0,Ce.U)(function(C){return C||new Au}),(0,Ce.U)(function(C){return t.serializeForm(C)}),(0,Ce.U)(function(C){return n.generateGenericTokens(C)}),(0,te.b)(function(C){return console.log(C)}),(0,Ce.U)(function(C){return C.has(".".concat(h))?n.replaceTokens("[.".concat(h,"]"),C):""}),(0,te.b)(function(C){console.log("form value"),console.log(C)}))}})}(N,F,$)),h.register(function(n){return new _j({id:"form",title:"Form",resolve:function(){return n.getFormNames$.pipe((0,st.w)(function(e){return 0===e.length?(0,Le.of)([]):(0,Sr.a)(e.map(function(a){return n.getForm$(a).pipe((0,Ce.U)(function(s){return[a,s]}))}))}),(0,Ce.U)(function(e){return e.reduce(function(a,s){var u=(0,g.Z)(s,2),l=u[0],c=u[1];return(0,b.Z)((0,b.Z)({},a),{},(0,d.Z)({},"form__".concat(l),c))},{})}))},resolveSingle:function(){return n.getFormNames$.pipe((0,st.w)(function(e){return Y.T.apply(void 0,(0,_.Z)(e.map(function(a){return n.getForm$(a).pipe((0,Ce.U)(function(s){return["form__".concat(a),s]}))})))}))}})}($)),He.register(function(n){return new r_({id:"pages_form",title:"Pages Form",build:function(){kl.prototype.serializePageForm=function(e){return new Promise(function(a){a(n.serializeForm(e))})}}})}(F)),He.getPlugin("pages_form").subscribe(function(Er){return Er.build()}),pt.register(function(n,t){return new Kd({id:"panelpageform_serialize",title:"Panelpageform Serialize",create:function(a){return(0,Le.of)({success:!1,entity:t.serializeForm(new Au(a.object))})},read:function(a){return Qa(a),(0,Le.of)({success:!1})},update:function(a){return Qa(a),(0,Le.of)({success:!1})},delete:function(a){return Qa(a),(0,Le.of)({success:!1})}})}(0,F)),Gt.register(function(n,t,e){return new ns({id:"form",title:"Form",editor:YH,fetch:function(s){var u=s.settings;return(0,Le.of)(new pr).pipe((0,Ce.U)(function(){return new IA(n.deserializeAsObject(u))}),(0,st.w)(function(l){return t.getForm$(l.name).pipe((0,Ce.U)(function(c){return[l,c||new Au]}),(0,fi.d)([l,new Au]),(0,An.q)(1))}),(0,Ce.U)(function(l){var c=(0,g.Z)(l,2);return[c[0],e.serializeForm(c[1])]}),(0,Ce.U)(function(l){var c=(0,g.Z)(l,2),C=c[1];return new pr({results:(0,Ms.JSONPath)({path:"$.".concat(c[0].field,".*"),json:C})})}))},getBindings:function(s){var u=s.settings;return(0,Le.of)([]).pipe((0,Ce.U)(function(){return new IA(n.deserializeAsObject(u))}),(0,Ce.U)(function(c){return[new pn.ContentBinding({id:"form__".concat(c.name),type:"context"})]}))}})}(Ut,$,F))});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(pn.CONTENT_PLUGIN),r.\u0275\u0275inject(xE),r.\u0275\u0275inject(pn.ContentPluginManager),r.\u0275\u0275inject(Su),r.\u0275\u0275inject(Xd),r.\u0275\u0275inject(Qi),r.\u0275\u0275inject(Cu),r.\u0275\u0275inject(pI),r.\u0275\u0275inject(Rn.PluginConfigurationManager),r.\u0275\u0275inject(yj),r.\u0275\u0275inject(Pr),r.\u0275\u0275inject(tO),r.\u0275\u0275inject(Ja),r.\u0275\u0275inject(HO),r.\u0275\u0275inject(qO),r.\u0275\u0275inject(KO),r.\u0275\u0275inject(rk),r.\u0275\u0275inject(WO),r.\u0275\u0275inject(Ud),r.\u0275\u0275inject(O.HttpClient),r.\u0275\u0275inject(uu),r.\u0275\u0275inject(xs),r.\u0275\u0275inject(Pu),r.\u0275\u0275inject(Qi),r.\u0275\u0275inject(al),r.\u0275\u0275inject(Ts),r.\u0275\u0275inject(co),r.\u0275\u0275inject(Nt.AttributeSerializerService),r.\u0275\u0275inject(i_))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({providers:[yq,HO,qO,KO,rk,WO,{provide:Vn.EMBEDDABLE_COMPONENT,useValue:gq,multi:!0},{provide:Vn.EMBEDDABLE_COMPONENT,useValue:j3,multi:!0},{provide:Vn.EMBEDDABLE_COMPONENT,useValue:ME,multi:!0},{provide:Vl,useClass:Vl},{provide:Bl,useClass:Bl},{provide:ip,useClass:ip},{provide:C_,useClass:C_},{provide:VE,useClass:VE},{provide:sk,useClass:sk},{provide:pn.CONTENT_PLUGIN,useFactory:JH,multi:!0,deps:[Vl]},{provide:pn.CONTENT_PLUGIN,useFactory:eq,multi:!0,deps:[Bl]},{provide:pn.CONTENT_PLUGIN,useFactory:tq,multi:!0,deps:[ip]},{provide:pn.CONTENT_PLUGIN,useFactory:nq,multi:!0,deps:[C_]},{provide:pn.CONTENT_PLUGIN,useFactory:rq,multi:!0,deps:[VE]},{provide:xE,useValue:new bE({id:"virtuallist",name:"virtuallist",title:"Virtual List",editorComponent:void 0,renderComponent:hq}),multi:!0},{provide:xE,useFactory:lq,multi:!0,deps:[sk]},{provide:xE,useValue:new bE({id:"table",name:"table",title:"Table",editorComponent:void 0,renderComponent:_q}),multi:!0}],imports:[P.CommonModule,v.FormsModule,v.ReactiveFormsModule,Oi.MaterialModule,oi,sE,dr.RouterModule.forChild(bq),hs,iA.forChild(),EE,gO,Vn.UtilsModule,Hy,Gd,Nt.AttributesModule,y3,EO,o9,DA,Az,aA,wu,uI,Al,GA]}),o}(),wq=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(){return(0,f.Z)(this,t),n.apply(this,arguments)}return(0,y.Z)(t)}(fI),Sq=function(){function o(n,t,e){(0,f.Z)(this,o),this.siteName=n,this.es=t,this.router=e,this.routesLoaded=!1}return(0,y.Z)(o,[{key:"panelPageListItemsService",get:function(){return this.es.getEntityCollectionService("PanelPageListItem")}},{key:"isLoaded",value:function(){return this.routesLoaded}},{key:"load",value:function(){var t=this;return this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')),"&path=").concat(encodeURIComponent('{"wildcard":{"path.keyword":{"value":"*"}}}'))).pipe((0,Ce.U)(function(e){return e.filter(function(a){return void 0!==a.path&&""!==a.path})}),(0,Ce.U)(function(e){return e.map(function(a){return new ri(a)}).sort(function(a,s){return a.path.split("/").length===s.path.split("/").length?a.path.split("/")[a.path.split("/").length-1]>s.path.split("/")[s.path.split("/").length-1]?-1:1:a.path.split("/").length>s.path.split("/").length?-1:1})}),(0,te.b)(function(e){return e.sort(function(a,s){return a.path.length>s.path.length?1:-1})}),(0,te.b)(function(e){e.forEach(function(a){t.router.config.unshift({matcher:ak(a),component:ME,data:{panelPageListItem:a}}),t.router.config.unshift({matcher:ok(a),component:NE,data:{panelPageListItem:a}})}),t.routesLoaded=!0}),(0,te.b)(function(){return console.log("panels routes loaded")}),(0,Ce.U)(function(){return!0}))}}]),o}(),Eq=function(){function o(n,t,e){(0,f.Z)(this,o),this.siteName=n,this.es=t,this.router=e}return(0,y.Z)(o,[{key:"panelPageListItemsService",get:function(){return this.es.getEntityCollectionService("PanelPageListItem")}},{key:"match",value:function(t){var e=this,a=t.url;-1!==a.indexOf("?")&&(a=t.url.substr(0,a.indexOf("?")));var s="path="+a.substr(1).split("/").reduce(function(u,l,c){return[].concat((0,_.Z)(u),[0===c?"/".concat(l):"".concat(u[c-1],"/").concat(l)])},[]).map(function(u){return e.encodePathComponent(u)}).join("&path=")+"&site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')));return this.panelPageListItemsService.getWithQuery(s).pipe((0,si.K)(function(u){return(0,Le.of)([])}),(0,Ce.U)(function(u){return u.reduce(function(l,c){return void 0===l||l.path.split("/").length<c.path.split("/").length?c:l},void 0)}),(0,Ce.U)(function(u){return!!u||t.url.indexOf("pages")>-1}))}},{key:"encodePathComponent",value:function(t){return'{"term":{"path.keyword":{"value":"'.concat(t,'"}}}')}}]),o}(),Pq=function(){function o(n,t,e){(0,f.Z)(this,o),this.siteName=n,this.es=t,this.router=e}return(0,y.Z)(o,[{key:"panelPageListItemsService",get:function(){return this.es.getEntityCollectionService("PanelPageListItem")}},{key:"redirect",value:function(t,e){var a=this;if(e.url.indexOf("pages")>-1)console.log("redirect: ".concat(e.url)),this.router.navigateByUrl(e.url);else{var s=e.url;-1!==s.indexOf("?")&&(s=e.url.substr(0,s.indexOf("?")));var u="path="+s.substr(1).split("/").reduce(function(l,c,h){return[].concat((0,_.Z)(l),[0===h?"/".concat(c):"".concat(l[h-1],"/").concat(c)])},[]).map(function(l){return a.encodePathComponent(l)}).join("&path=")+"&site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')));this.panelPageListItemsService.getWithQuery(u).pipe((0,Ce.U)(function(l){return l.reduce(function(c,h){return void 0===c||c.path.split("/").length<h.path.split("/").length?h:c},void 0)}),(0,Ce.U)(function(l){var c=e.url.substr(1).split("/").slice(l.path.split("/").length-1).join("/");return[l,c]})).subscribe(function(l){(0,g.Z)(l,2),a.router.navigate(["reload"])})}}},{key:"encodePathComponent",value:function(t){return'{"term":{"path.keyword":{"value":"'.concat(t,'"}}}')}}]),o}(),kq=function(){var o=(0,y.Z)(function n(t,e,a,s){(0,f.Z)(this,n),t.register(function(n,t,e){var a=new Sq(n,t,e),s=new Eq(n,t,e),u=new Pq(n,t,e);return new wq({id:"panels",title:"Panels",loadingStrategy:a,matchingStrategy:s,redirectHandler:u})}(a,s,e))});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(mI),r.\u0275\u0275inject(dr.Router),r.\u0275\u0275inject(Vn.SITE_NAME),r.\u0275\u0275inject(Dr))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule]}),o}(),XO=function(){var o=function(){function n(t,e){var a=this;(0,f.Z)(this,n),this.fb=t,this.controlContainer=e,this.context$=new U.X(void 0),this.formGroup=this.fb.group({value:this.fb.control("",[v.Validators.required])}),this.stateCtrl=this.fb.control(""),this.stateCtrlSub=this.stateCtrl.valueChanges.pipe((0,Ar.b)(250),(0,xu.x)(),(0,Q.h)(function(s){try{return JSON.parse(s),!0}catch{return!1}}),(0,Ce.U)(function(s){return JSON.parse(s)})).subscribe(function(s){console.log("write state"),console.log(s),a.formGroup.get("value").setValue(s)}),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"context",set:function(e){this.context$.next(e)}},{key:"ngOnInit",value:function(){var e=this;this.context$.subscribe(function(a){e.stateCtrl.setValue(a?JSON.stringify(a.data.value):"")})}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-state-form"]],inputs:{context:"context"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:2,vars:2,consts:[[3,"formGroup"],["cols","40","rows","20","required","",3,"formControl"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275element(1,"textarea",1),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.formGroup),r.\u0275\u0275advance(1),r.\u0275\u0275property("formControl",e.stateCtrl))},dependencies:[v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormControlDirective,v.FormGroupDirective]}),o}(),Rq=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.fb=t,this.controlContainer=e}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){this.controlContainer.control.addControl("adaptor",this.fb.control("data",v.Validators.required)),this.controlContainer.control.addControl("data",this.fb.control(""))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-state-editor"]],viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(XO,7),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.contextStateFormComp=a.first)},inputs:{context:"context"},decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","data",3,"context"]],template:function(t,e){1&t&&(r.\u0275\u0275elementContainerStart(0,0),r.\u0275\u0275element(1,"classifieds-ui-context-state-form",1),r.\u0275\u0275elementContainerEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.controlContainer.control),r.\u0275\u0275advance(1),r.\u0275\u0275property("context",e.context))},dependencies:[v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,XO]}),o}(),QO=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.attributeSerializer=t,this.es=e}return(0,y.Z)(n,[{key:"entityCollectionService",get:function(){return this.es.getEntityCollectionService("GlobalState")}},{key:"resolve",value:function(e,a,s){var u=this;console.log("hookup globalstate"),console.log(a);var T,h=s&&s.has("name")&&s.get("name")&&null!==s.get("name")&&""!==s.get("name")?s.get("name"):void 0;return h?this.entityCollectionService.collection$.pipe((0,Bt.Ys)((T=h,(0,Bt.P1)(function(T){return T.entities},function(N){return N[T]?N[T]:void 0}))),(0,Ce.U)(function(C){return C?u.attributeSerializer.deserialize(C.value):a.value?a.value:{}}),(0,Ce.U)(function(C){return C.root?C.root:C}),(0,te.b)(function(C){console.log("resolve globalstate"),console.log(C)})):(0,Le.of)(a.value?a.value:{}).pipe((0,te.b)(function(C){console.log("resolve default globalstate"),console.log(C)}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Nt.AttributeSerializerService),r.\u0275\u0275inject(Dr))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),Dq=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.id=n.id,this.value=new Nt.AttributeValue(n.value))}),Oq={GlobalState:{entityName:"GlobalState"}},Fq=function(){var o=(0,y.Z)(function n(t,e,a,s,u,l,c){(0,f.Z)(this,n),t.registerMetadataMap(Oq),e.registerService("GlobalState",new Vn.NoopDataService("GlobalState")),a.register(function(n){var t=new Nt.AttributeValue;return new Fs({id:"state",name:"state",title:"State",baseObject:t,resolver:n,editorComponent:Rq})}(c)),l.register(function(n,t){return new r_({id:"state",title:"State",build:function(){kl.prototype.writeState=function(a){return new Promise(function(s){n.getEntityCollectionService("GlobalState").upsert(new Dq({id:a.id,value:t.serialize(a.value,"root")})).pipe((0,te.b)(function(l){return s(l)})).subscribe()})}}})}(s,u))});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Qi),r.\u0275\u0275inject(al),r.\u0275\u0275inject(Su),r.\u0275\u0275inject(Dr),r.\u0275\u0275inject(Nt.AttributeSerializerService),r.\u0275\u0275inject(Ud),r.\u0275\u0275inject(QO))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({providers:[QO],imports:[P.CommonModule,v.FormsModule,v.ReactiveFormsModule]}),o}(),Mq=S(14382);function Na(o){return new Promise(function(n,t){o.oncomplete=o.onsuccess=function(){return n(o.result)},o.onabort=o.onerror=function(){return t(o.error)}})}function Ao(){return uk||(uk=function Vq(o,n){var t=indexedDB.open(o);t.onupgradeneeded=function(){return t.result.createObjectStore(n)};var e=Na(t);return function(a,s){return e.then(function(u){return s(u.transaction(n,a).objectStore(n))})}}("keyval-store","keyval")),uk}function YO(o,n){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ao())("readwrite",function(e){return e.put(n,o),Na(e.transaction)})}var jq=function(n){return new Kd({id:"idb_keyval",title:"Idb Keyval",create:function(e){var a=e.object,s=e.identity,u=e.params,l=e.parentObject;return(0,Le.of)({success:!1}).pipe((0,st.w)(function(){return s({object:a,parentObject:l}).pipe((0,Ce.U)(function(c){return{identity:c.identity}}))}),(0,st.w)(function(c){var h=c.identity;return u&&0!==Object.keys(u).length?(0,$n.D)(Object.keys(u).map(function(C){return n.paramValue(u[C],new Map).pipe((0,Ce.U)(function(T){return(0,d.Z)({},C,T)}))})).pipe((0,Ce.U)(function(C){return C.reduce(function(T,N){return(0,b.Z)((0,b.Z)({},T),N)},{})}),(0,Ce.U)(function(C){return{identity:h,options:C}})):(0,Le.of)({identity:h,options:{}})}),(0,Ce.U)(function(c){return{name:c.options.prefix+c.identity}}),(0,st.w)(function(c){var h=c.name;return new W.y(function(C){YO(h,a).then(function(T){console.log("idb write suceeded"),console.log(T),C.next({success:!0}),C.complete()}).catch(function(T){console.log("idb write failed"),console.log(T),C.next({success:!1}),C.complete()})})}))},read:function(e){return Qa(e),(0,Le.of)({success:!1})},update:function(e){var a=e.object,s=e.identity,u=e.params,l=e.parentObject;return(0,Le.of)({success:!1}).pipe((0,st.w)(function(){return s({object:a,parentObject:l}).pipe((0,Ce.U)(function(c){return{identity:c.identity}}))}),(0,st.w)(function(c){var h=c.identity;return u&&0!==Object.keys(u).length?(0,$n.D)(Object.keys(u).map(function(C){return n.paramValue(u[C],new Map).pipe((0,Ce.U)(function(T){return(0,d.Z)({},C,T)}))})).pipe((0,Ce.U)(function(C){return C.reduce(function(T,N){return(0,b.Z)((0,b.Z)({},T),N)},{})}),(0,Ce.U)(function(C){return{identity:h,options:C}})):(0,Le.of)({identity:h,options:{}})}),(0,Ce.U)(function(c){return{name:c.options.prefix+c.identity}}),(0,st.w)(function(c){var h=c.name;return new W.y(function(C){YO(h,a).then(function(T){console.log("idb write suceeded"),console.log(T),C.next({success:!0}),C.complete()}).catch(function(T){console.log("idb write failed"),console.log(T),C.next({success:!1}),C.complete()})})}))},delete:function(e){return Qa(e),(0,Le.of)({success:!1})},query:function(e){var a=e.params,s=e.rule,u=e.identity;return n.paramValues(new Map(Object.keys(a).map(function(l){return[l,a[l]]}))).pipe((0,st.w)(function(l){return new W.y(function(c){(function Lq(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ao())("readonly",function(n){if(n.getAllKeys)return Na(n.getAllKeys());var t=[];return function lk(o,n){return o.openCursor().onsuccess=function(){this.result&&(n(this.result),this.result.continue())},Na(o.transaction)}(n,function(e){return t.push(e.key)}).then(function(){return t})})})().then(function(h){return h.filter(function(C){return 0==="".concat(C).indexOf(l.get("prefix"))})}).then(function(h){return function Zq(o){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ao())("readonly",function(t){return Promise.all(o.map(function(e){return Na(t.get(e))}))})}(h)}).then(function(h){c.next({entities:h,success:!0}),c.complete()})})}),(0,st.w)(function(l){return s?new W.y(function(c){var h=new qd.Engine;h.addOperator("startsWith",function(C,T){return"string"==typeof T&&"string"==typeof C&&0===T.indexOf(C)}),h.addOperator("term||wildcard",function(C,T){var N=JSON.parse(decodeURIComponent(T)),F=(0,Ms.JSONPath)({path:"$.term.*.value.@string()",json:N,flatten:!0});return void 0!==N.wildcard||N.term&&0!==F.lengh&&F[0]===C}),h.addRule(s),h.addFact("identity",function(C,T){return new W.y(function(N){T.factValue("entity").then(function(F){return u({object:F}).pipe((0,Ce.U)(function($){return $.identity})).toPromise()}).then(function(F){N.next(F),N.complete()})}).toPromise()},{cache:!1}),Le.of.apply(void 0,(0,_.Z)(l.entities)).pipe((0,Zi.b)(function(C){return new W.y(function(T){h.removeFact("entity"),h.addFact("entity",C,{cache:!1}),h.run().then(function(N){T.next([C,N.events.findIndex(function(F){return"visible"===F.type})>-1]),T.complete()})})}),(0,Q.h)(function(C){return(0,g.Z)(C,2)[1]}),(0,Ce.U)(function(C){return(0,g.Z)(C,1)[0]}),function Nq(o,n){return(0,gs.e)((0,Mq.U)(o,n,arguments.length>=2,!1,!0))}(function(C,T){return[].concat((0,_.Z)(C),[T])},[]),(0,fi.d)([])).subscribe(function(C){c.next((0,b.Z)((0,b.Z)({},l),{},{entities:C})),c.complete()})}):(0,Le.of)(l)}))}})},Uq=function(){var o=(0,y.Z)(function n(t,e){(0,f.Z)(this,n),t.register(jq(e))});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Pu),r.\u0275\u0275inject(Ts))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[a_]}),o}(),zq=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.authFacade=e,this.router=a,this.title="ipe",this.menuClicked=new r.EventEmitter,(0,P.isPlatformBrowser)(t)&&(bridge=s)}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.authFacade.getUser$.subscribe(function(a){e.isAuthenticated=!!a})}},{key:"login",value:function(){this.authFacade.login()}},{key:"menuClick",value:function(){this.menuClicked.emit()}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.PLATFORM_ID),r.\u0275\u0275directiveInject(_i),r.\u0275\u0275directiveInject(dr.Router),r.\u0275\u0275directiveInject(kl))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["app-root"]],outputs:{menuClicked:"menuClicked"},decls:3,vars:0,consts:[["fxLayout","column","fxFill",""],[1,"outlet-wrapper"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div",1),r.\u0275\u0275element(2,"router-outlet"),r.\u0275\u0275elementEnd()())},dependencies:[Wt,Mo,dr.RouterOutlet],styles:[".outlet-wrapper[_ngcontent-%COMP%]{height:100%}"]}),o}(),Gq=S(10203),ko_production=!1,ko_site="test-automation111",ko_apiGatewaySettings={endpointUrl:"https://vertigo.druidcloud.dev/rollthecloudinc/test-automation111-objects/shapeshifter"},ko_mediaSettings={endpointUrl:"https://vertigo.druidcloud.dev/test-automation111/media",cloudinaryUrl:"https://api.cloudinary.com/v1_1/dj4vvkgzw",uploadPreset:"i0hm4opm",imageUrl:"https://vertigo.druidcloud.dev/test-automation111",bucket:"classifieds-ui-dev",prefix:"media/"},ko_cognitoSettings={identityPoolId:"us-east-1:6f5cdc41-35b0-41ca-9f6b-7eca11320942",region:"us-east-1",userPoolId:"us-east-1_z8PhK3D8V"},ko_panelsSettings={openSearchDomain:"search-classifieds-ui-dev-eldczuhq3vesgpjnr3vie6cagq",s3Bucket:"classifieds-ui-dev",objectsRootUrl:"https://rollthecloudinc.github.io/test-automation111-objects"},ko_alienaliasSettings={openSearchDomain:"search-classifieds-ui-dev-eldczuhq3vesgpjnr3vie6cagq"},ko_rumSettings={appId:"",guestRoleArn:"",identityPoolId:"",region:""},ko_clientSettings={authority:"https://sso.druidcloud.dev",client_id:"3lkidn79q4jq8nahkecsguleij",redirect_uri:"https://test-automation111.druidcloud.dev/auth-callback",silent_redirect_uri:"https://test-automation111.druidcloud.dev/silent-refresh.html",response_type:"code",scope:"openid profile aws.cognito.signin.user.admin ads_api/ads_api taxonomy_api/taxonomy_api chat/chat media_api/media_api profiles_api/profiles_api",filterProtocolClaims:!0,loadUserInfo:!0,automaticSilentRenew:!0,stateStore:void 0,userStore:void 0,metadata:{issuer:"https://cognito-idp.us-east-1.amazonaws.com/us-east-1_z8PhK3D8V",authorization_endpoint:"https://sso.druidcloud.dev/oauth2/authorize",userinfo_endpoint:"https://sso.druidcloud.dev/oauth2/userInfo",end_session_endpoint:"https://sso.druidcloud.dev/logout",token_endpoint:"https://sso.druidcloud.dev/oauth2/token",jwks_uri:"https://sso.druidcloud.dev/us-east-1_z8PhK3D8V"},signingKeys:[{alg:"RS256",e:"AQAB",kid:"LFfHKQ51C81E+ByYd/wucwrvfiEnYJQtJvb4GHbalFQ=",kty:"RSA",n:"gijyjUXIzkAPofeaM7JCAsuLHLc_GP3of-NT8ARjSTTMif-wqJeNww4MJkvRYzfL6mL_owVZgD37O4Dd81jBLY6iEyi6hxHYTUuXR7mYkQ2008Fp3m45wztUKWeeNgzsvuR01STkkwmuf7afkQXJUlHts8eT47Dqc4mrKA3vcHYG4vJXmvtjQT-IirkA-yU36TXyd1TPOetdwlmFOcSYfL4CW7ZZfVg1dCvT1T50mO1AaQDMcA8S3fVfROGW36hjiB8r9q5zQrrfBLTMPSVpn85LscVLbYUxJL9yLygiD4UTCXw7Y1hiE2tDL2nmy6PHumylNf8yj5I7N56Kz4cwtQ",use:"sig"},{alg:"RS256",e:"AQAB",kid:"UNTk4hVhUrq0k8uAGvDYs/w0g/iW+b9PweObMbM6S/w=",kty:"RSA",n:"g7Z-JKiovH7ZnwK1o8hsiLf4GfxA9w11RsQK3yQWG3xR__qKbkvxKxhn3Xt5QsUSo8nhiwWtsjUTyVxRO7WJlCjSHGztvYhoYIlwSL8Mqtf3Plg6CrJoDhq7CZDe_TNeQczfBI8k1w5U6n4h5G-e4Fa41nH-qXrDh2L7onTFKSzZDJRCELmh64ur5RmU6kuhwrejwS4YXuz4gKQRcTuDu9AXH7A7cNO5EF_sVRy8hkFtKCPO-mgwJ5S_e5_Y5gleJRpMZnzWmBv_-GpwO5V9XzxBr5s1O9HqyBMXR1pKU_YykeP7PvukEDpyr8UXu-2drzq-oHzXHDInNHjYPLx3BQ",use:"sig"}]},qq={router:function FL(o,n){var t=n;switch(t.type){case oA:case uA:case sA:return{state:t.payload.routerState,navigationId:t.payload.event.id};default:return o}}},Kq=[],JO=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.query=n.query)}),Wq=function(){var o=function(){function n(t,e){var a=this;(0,f.Z)(this,n),this.fb=t,this.attributeSerializer=e,this.settings$=new U.X(void 0),this.formGroup=this.fb.group({query:this.fb.control("",[v.Validators.required])}),this.settingsSub=this.settings$.pipe((0,Ce.U)(function(s){return s?new JO(a.attributeSerializer.deserializeAsObject(s)):void 0})).subscribe(function(s){s?a.formGroup.get("query").setValue(s.query):a.formGroup.get("query").setValue("")}),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Nt.AttributeSerializerService))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-select-source-form"]],inputs:{settings:"settings"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:5,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","query","required",""]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),r.\u0275\u0275text(3,"Query"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(4,"input",1),r.\u0275\u0275elementEnd()()),2&t&&r.\u0275\u0275property("formGroup",e.formGroup)},dependencies:[v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,En.MatLegacyFormField,En.MatLegacyLabel,Hr.MatLegacyInput]}),o}(),Xq=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.controlContainer=t,this.settings=[]});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-transform-select"]],inputs:{settings:"settings"},decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(t,e){1&t&&(r.\u0275\u0275elementContainerStart(0,0),r.\u0275\u0275element(1,"classifieds-ui-select-source-form",1),r.\u0275\u0275elementContainerEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.controlContainer.control),r.\u0275\u0275advance(1),r.\u0275\u0275property("settings",e.settings))},dependencies:[v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,Wq],encapsulation:2}),o}(),Qq=function(){var o=function(){function n(){(0,f.Z)(this,n)}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-transform-merge"]],decls:2,vars:0,template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"p"),r.\u0275\u0275text(1,"transform merge"),r.\u0275\u0275elementEnd())}}),o}(),Yq=function(n){return new ns({id:"select",title:"Select",editor:Xq,fetch:function(e){var a=e.settings,s=e.dataset;return Or(function(){return!!s},(0,Le.of)(s).pipe((0,Ce.U)(function(){return new JO(n.deserializeAsObject(a))}),(0,Ce.U)(function(u){return new pr({results:(0,Ms.JSONPath)({path:u.query,json:s.results})})})),(0,Le.of)(new pr))}})},eK=function(){var o=(0,y.Z)(function n(t,e){(0,f.Z)(this,n),[Yq(e),new ns({id:"merge",title:"Merge",editor:Qq,fetch:function(t){return(0,Le.of)(new pr)}})].forEach(function(a){return t.register(a)})});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(co),r.\u0275\u0275inject(Nt.AttributeSerializerService))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule,v.FormsModule,v.ReactiveFormsModule,Oi.MaterialModule,Al]}),o}(),tK=function(){var o=function(){function n(t,e){var a=this;(0,f.Z)(this,n),this.fb=t,this.attributeSerializer=e,this.contexts=[],this.settings$=new U.X(void 0),this.paramValues$=new U.X([]),this.formGroup=this.fb.group({entityName:this.fb.control(""),queryString:this.fb.control(""),params:this.fb.control([])}),this.settingsSub=this.settings$.pipe((0,Ce.U)(function(s){return s?a.attributeSerializer.deserializeAsObject(s):void 0})).subscribe(function(s){s?(a.formGroup.get("entityName").setValue(s.entityName),a.formGroup.get("queryString").setValue(s.queryString)):(a.formGroup.get("entityName").setValue(""),a.formGroup.get("queryString").setValue(""))}),this.queryStringChangeSub=this.formGroup.get("queryString").valueChanges.pipe((0,Ar.b)(500)).subscribe(function(s){var u=Fa.parse("?"+s);a.paramsParsed=u}),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:this.formGroup.errors}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Nt.AttributeSerializerService))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-entity-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:8,vars:4,consts:[[3,"formGroup"],["matInput","","placeholder","Name","formControlName","entityName","required",""],["matInput","","placeholder","Query String","formControlName","queryString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field"),r.\u0275\u0275element(3,"input",1),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(4,"div")(5,"mat-form-field"),r.\u0275\u0275element(6,"input",2),r.\u0275\u0275elementEnd()(),r.\u0275\u0275element(7,"classifieds-ui-params-form",3),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.formGroup),r.\u0275\u0275advance(7),r.\u0275\u0275property("params",e.paramsParsed)("paramValues",e.paramValues$.value)("contexts",e.contexts))},dependencies:[v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,En.MatLegacyFormField,Hr.MatLegacyInput,e_]}),o}(),eF=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.controlContainer=t,this.settings=[],this.contexts=[]});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-entity-datasource"]],inputs:{settings:"settings",contexts:"contexts"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts"]],template:function(t,e){1&t&&(r.\u0275\u0275elementContainerStart(0,0),r.\u0275\u0275element(1,"classifieds-ui-entity-datasource-form",1),r.\u0275\u0275elementContainerEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.controlContainer.control),r.\u0275\u0275advance(1),r.\u0275\u0275property("settings",e.settings)("contexts",e.contexts))},dependencies:[v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,tK],encapsulation:2}),o}(),tF=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.params=[],n&&(this.entityName=n.entityName,this.queryString=n.queryString?n.queryString:"",n.params&&Array.isArray(n.params)&&(this.params=n.params.map(function(t){return new Mi(t)})))}),iK=function(){var o=(0,y.Z)(function n(t,e,a,s,u,l){(0,f.Z)(this,n),t.register(function(n,t,e,a){return new ns({id:"entity",title:"Entity",editor:eF,fetch:function(u){var l=u.settings,c=u.metadata;return(0,Le.of)(new pr).pipe((0,Ce.U)(function(){return t.deserializeAsObject(l)}),(0,Ce.U)(function(h){return new tF(h)}),(0,st.w)(function(h){return e.getUrl("?"+h.queryString,h.params,c).pipe((0,Ce.U)(function(C){return{e:h,queryString:C}}))}),(0,Ce.U)(function(h){return{e:h.e,queryString:h.queryString.substr(1)}}),(0,st.w)(function(h){var C=h.e,T=h.queryString;return T&&""!==T?a.getEntityCollectionService(C.entityName).getWithQuery(T):a.getEntityCollectionService(C.entityName).getAll()}),(0,Ce.U)(function(h){return new pr({results:h})}))},editorOptions:function(){return(0,Le.of)(new hE({fullscreen:!0}))},getBindings:function(u){var l=u.settings;return(0,Le.of)([]).pipe((0,Ce.U)(function(){return t.deserializeAsObject(l)}),(0,Ce.U)(function(h){return new tF(h)}),(0,st.w)(function(h){return n.extractContexts(h.params)}),(0,Ce.U)(function(h){return h.map(function(C){return new pn.ContentBinding({id:C,type:"context"})})}))}})}(a,s,u,l)),e.register(new vI({id:"entity",title:"Entity",editor:eF,send:function(t){return(0,Le.of)(new _A({}))}}))});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(co),r.\u0275\u0275inject(gE),r.\u0275\u0275inject(yA),r.\u0275\u0275inject(Nt.AttributeSerializerService),r.\u0275\u0275inject(n_),r.\u0275\u0275inject(Dr))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule,v.ReactiveFormsModule,v.FormsModule,Oi.MaterialModule,Gd,wu]}),o}(),aK=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.fb=t,this.contexts=[],this.settings$=new U.X(void 0),this.datasource$=new U.X(void 0),this.formGroup=this.fb.group({}),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:this.formGroup.errors}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-loop-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:1,vars:1,consts:[[3,"formGroup"]],template:function(t,e){1&t&&r.\u0275\u0275element(0,"div",0),2&t&&r.\u0275\u0275property("formGroup",e.formGroup)},dependencies:[v.NgControlStatusGroup,v.FormGroupDirective]}),o}(),oK=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.controlContainer=t,this.settings=[],this.contexts=[]});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-loop-datasource"]],inputs:{settings:"settings",contexts:"contexts"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts"]],template:function(t,e){1&t&&(r.\u0275\u0275elementContainerStart(0,0),r.\u0275\u0275element(1,"classifieds-ui-loop-datasource-form",1),r.\u0275\u0275elementContainerEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.controlContainer.control),r.\u0275\u0275advance(1),r.\u0275\u0275property("settings",e.settings)("contexts",e.contexts))},dependencies:[v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,aK],encapsulation:2}),o}(),sK=(0,y.Z)(function o(n){(0,f.Z)(this,o)}),uK=function(n,t){return new ns({id:"loop",title:"loop",editor:oK,fetch:function(a){var s=a.settings,u=a.dataset,l=a.datasource,c=a.metadata,h=a.datasources;return(0,Le.of)(new pr).pipe((0,Ce.U)(function(){return n.deserializeAsObject(s)}),(0,Ce.U)(function(C){return C?new sK(C):void 0}),(0,st.w)(function(C){return(0,$n.D)(u?u.results.map(function(T){return t.evalDatasource({datasource:new Pl({plugin:"data",renderer:l.renderer,settings:n.serialize({data:JSON.stringify(u.results)},"root").attributes}),datasources:h,metadata:new Map([].concat((0,_.Z)(c?Array.from(c).filter(function(N){return"contexts"!==(0,g.Z)(N,1)[0]}):[]),[["contexts",[].concat((0,_.Z)(c.has("contexts")&&Array.isArray(c.get("contexts"))?c.get("contexts").filter(function(N){return"_root"!==N.name}):[]),[new la({name:"_root",adaptor:"data",data:T})])]]))}).pipe((0,An.q)(1))}):[]).pipe((0,Ce.U)(function(T){return new pr({results:T.reduce(function(N,F){return[].concat((0,_.Z)(N),(0,_.Z)(F.results))},[])})}),(0,fi.d)(new pr({results:[]})))}))}})},lK=function(){var o=(0,y.Z)(function n(t,e,a){(0,f.Z)(this,n),[uK(e,a)].forEach(function(s){return t.register(s)})});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(co),r.\u0275\u0275inject(Nt.AttributeSerializerService),r.\u0275\u0275inject(sI))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule,v.ReactiveFormsModule,Oi.MaterialModule,Gd,Al]}),o}();function cK(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",6),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("value",t.value.id),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.value.title)}}function dK(o,n){}function pK(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div"),r.\u0275\u0275element(1,"druid-ordain-validation-validator",4),r.\u0275\u0275elementStart(2,"button",3),r.\u0275\u0275listener("click",function(){var l=r.\u0275\u0275restoreView(t).index,c=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(c.deleteValidator$.next(l))}),r.\u0275\u0275text(3,"Delete"),r.\u0275\u0275elementEnd()()}if(2&o){var e=n.index,a=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("formControlName",e)("validation",a.validation$.value.validators[e])}}var Ls=function(o){(0,z.Z)(t,o);var n=(0,H.Z)(t);function t(e){var a;return(0,f.Z)(this,t),a=n.call(this,e),e&&(a.editor=e.editor,a.errorMessage=e.errorMessage,a.builder=e.builder),a}return(0,y.Z)(t)}(Rn.Plugin),fK=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.name=n.name,this.validator=n.validator,this.overrideErrorMessage=n.overrideErrorMessage,n.paramSettings&&"string"!=typeof n.paramSettings&&(this.paramSettings=new mK(n.paramSettings)))}),mK=(0,y.Z)(function o(n){(0,f.Z)(this,o),this.params=[],n&&(this.paramsString=n.paramsString,n.params&&Array.isArray(n.params)&&(this.params=n.params.map(function(t){return new Mi(t)})))}),w_=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&Array.isArray(n.validators)&&(this.validators=n.validators.map(function(t){return new fK(t)}))}),nF=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.viewContainerRef=t});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ViewContainerRef))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","druidValidationRendererHost",""]]}),o}(),hK=function(){var o=function(){function n(t){var e=this;(0,f.Z)(this,n),this.fb=t,this.contexts=[],this.settings$=new U.X(void 0),this.afterViewInit$=new ae.x,this.paramValues$=new U.X([]),this.formGroup=this.fb.group({paramsString:this.fb.control(""),params:this.fb.control([])}),this.paramsStringChangeSub=this.formGroup.get("paramsString").valueChanges.pipe((0,Ar.b)(500)).subscribe(function(a){var s=Fa.parse("?"+a);e.paramsParsed=s}),this.settingsSub=this.settings$.pipe((0,te.b)(function(a){a&&e.formGroup.get("paramsString").setValue(a.paramsString?a.paramsString:"")})).subscribe(),this.settingsParamsSub=(0,Sr.a)([this.settings$,this.formGroup.get("paramsString").valueChanges]).pipe((0,Q.h)(function(a){return void 0!==(0,g.Z)(a,1)[0]}),(0,Rr.g)(1),(0,te.b)(function(a){var s=(0,g.Z)(a,1);return e.paramValues$.next(s[0].params)})).subscribe(),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:this.formGroup.errors}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-ordain-validation-params-editor-form"]],inputs:{contexts:"contexts",settings:"settings"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:6,vars:4,consts:[[3,"formGroup"],[1,"params-container"],["matInput","","placeholder","Params","formControlName","paramsString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div")(3,"mat-form-field"),r.\u0275\u0275element(4,"input",2),r.\u0275\u0275elementEnd()(),r.\u0275\u0275element(5,"classifieds-ui-params-form",3),r.\u0275\u0275elementEnd()()),2&t&&(r.\u0275\u0275property("formGroup",e.formGroup),r.\u0275\u0275advance(5),r.\u0275\u0275property("params",e.paramsParsed)("paramValues",e.paramValues$.value)("contexts",e.contexts))},dependencies:[v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,En.MatLegacyFormField,Hr.MatLegacyInput,e_]}),o}(),js=function(){var o=(0,y.Z)(function n(t){(0,f.Z)(this,n),this.controlContainer=t,this.settings=[],this.contexts=[]});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-ordain-validation-params-editor"]],inputs:{settings:"settings",contexts:"contexts"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","paramSettings",3,"settings","contexts"]],template:function(t,e){1&t&&(r.\u0275\u0275elementContainerStart(0,0),r.\u0275\u0275element(1,"druid-ordain-validation-params-editor-form",1),r.\u0275\u0275elementContainerEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.controlContainer.control),r.\u0275\u0275advance(1),r.\u0275\u0275property("settings",e.settings)("contexts",e.contexts))},dependencies:[v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,hK],encapsulation:2}),o}(),gK=function(){function o(n,t){(0,f.Z)(this,o),this.pluginManager=n,this.formsValidationUtils=t}return(0,y.Z)(o,[{key:"loadPlugins",value:function(t){var e=this;return(0,Le.of)(!1).pipe((0,te.b)(function(){return e.pluginManager.register(e.makeRequired())}),(0,te.b)(function(){return e.pluginManager.register(e.makeRequiredTrue())}),(0,te.b)(function(){e.pluginManager.register(e.makeMin()),e.pluginManager.register(e.makeMax()),e.pluginManager.register(e.makeMinLength()),e.pluginManager.register(e.makeMaxLength())}),(0,Ce.U)(function(){return e.pluginManager.register(e.makeEmail())}),(0,Ce.U)(function(){return e.pluginManager.register(e.makePattern())}),(0,Ce.U)(function(){return e.pluginManager.register(e.nullValidator())}),(0,Ce.U)(function(){return!0}))}},{key:"makeRequired",value:function(){var t=this;return new Ls({id:"required",title:"Required",errorMessage:"Field is required",editor:js,builder:function(a){var s=a.serialized;return(0,Le.of)(function(u){return(0,Le.of)(v.Validators.required(t.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"makeRequiredTrue",value:function(){var t=this;return new Ls({id:"required_true",title:"Required True",errorMessage:"Field is required",editor:js,builder:function(a){var s=a.serialized;return(0,Le.of)(function(u){return(0,Le.of)(v.Validators.requiredTrue(t.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"makeEmail",value:function(){var t=this;return new Ls({id:"email",title:"Email",errorMessage:"Invalid email",editor:js,builder:function(a){var s=a.serialized;return(0,Le.of)(function(u){return(0,Le.of)(v.Validators.email(t.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"nullValidator",value:function(){var t=this;return new Ls({id:"null",title:"Null",errorMessage:"nota",editor:js,builder:function(a){var s=a.serialized;return(0,Le.of)(function(u){return(0,Le.of)(v.Validators.nullValidator(t.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"makeMin",value:function(){var t=this;return new Ls({id:"min",title:"Min",errorMessage:"Field min [.min]",editor:js,builder:function(a){var s=a.v,u=a.serialized;return(0,Le.of)(function(l){return t.formsValidationUtils.resolveParams({v:s}).pipe((0,Ce.U)(function(c){return v.Validators.min(+c.min)(t.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makeMax",value:function(){var t=this;return new Ls({id:"max",title:"Max",errorMessage:"Field max [.max]",editor:js,builder:function(a){var s=a.v,u=a.serialized;return(0,Le.of)(function(l){return t.formsValidationUtils.resolveParams({v:s}).pipe((0,Ce.U)(function(c){return v.Validators.max(+c.max)(t.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makeMinLength",value:function(){var t=this;return new Ls({id:"min_length",title:"Min Length",errorMessage:"minimum of [.min] characters",editor:js,builder:function(a){var s=a.v,u=a.serialized;return(0,Le.of)(function(l){return t.formsValidationUtils.resolveParams({v:s}).pipe((0,Ce.U)(function(c){return v.Validators.minLength(+c.minLength)(t.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makeMaxLength",value:function(){var t=this;return new Ls({id:"max_length",title:"Max Length",errorMessage:"Maximum of [.max] characters",editor:js,builder:function(a){var s=a.v,u=a.serialized;return(0,Le.of)(function(l){return t.formsValidationUtils.resolveParams({v:s}).pipe((0,Ce.U)(function(c){return v.Validators.maxLength(+c.maxLength)(t.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makePattern",value:function(){var t=this;return new Ls({id:"pattern",title:"Pattern",errorMessage:"Must match pattern",editor:js,builder:function(a){var s=a.v,u=a.serialized;return(0,Le.of)(function(l){return t.formsValidationUtils.resolveParams({v:s}).pipe((0,Ce.U)(function(c){return v.Validators.pattern(new RegExp(c.pattern))(t.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}}]),o}(),vK=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.paramEvaluatorService=t,this.attributesSerializerService=e}return(0,y.Z)(n,[{key:"resolveParams",value:function(e){var a=this,s=e.v;return(0,Le.of)({}).pipe((0,Ce.U)(function(){return{paramNames:s.paramSettings.paramsString?s.paramSettings.paramsString.split("&").filter(function(u){return-1!==u.indexOf("=:")}).map(function(u){return u.split("=",2)[1].substr(1)}):[]}}),(0,st.w)(function(u){var l=u.paramNames;return a.paramEvaluatorService.paramValues(s.paramSettings.params.reduce(function(c,h,C){return new Map([].concat((0,_.Z)(c),[[l[C],h]]))},new Map)).pipe((0,Ce.U)(function(c){return Array.from(c).reduce(function(h,C){var T=(0,g.Z)(C,2),N=T[0],F=T[1];return(0,b.Z)((0,b.Z)({},h),{},(0,d.Z)({},N,F))},{})}))}))}},{key:"rebuildControl",value:function(e){var a=e.c;return e.serialized?new v.UntypedFormControl(this.attributesSerializerService.deserializeAsObject(a.value).value):a}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Ts),r.\u0275\u0275inject(Nt.AttributeSerializerService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Va=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s,u){var l;return(0,f.Z)(this,e),(l=t.call(this,s,u)).addDiscovery(new gK((0,gt.Z)(l),a)),l}return(0,y.Z)(e,[{key:"pluginDef",value:function(){return(0,Le.of)(new Rn.PluginDef({name:"validation"}))}},{key:"discovery",value:function(){(0,Et.Z)((0,Ee.Z)(e.prototype),"discovery",this).call(this)}}]),e}(Rn.BasePluginManager);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(vK),r.\u0275\u0275inject(Rn.PluginConfigurationManager),r.\u0275\u0275inject(Vn.ModuleLoaderService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),yK=function(){var o=function(){function n(t,e,a){var s=this;(0,f.Z)(this,n),this.fb=t,this.vpm=e,this.componentFactoryResolver=a,this.contexts=[],this.settings$=new U.X(void 0),this.formGroup=this.fb.group({name:this.fb.control("",[v.Validators.required]),validator:this.fb.control("",[v.Validators.required]),overrideErrorMessage:this.fb.control(""),paramSettings:this.fb.control("")}),this.validationPlugins$=this.vpm.getPlugins(),this.componentRef$=new U.X(void 0),this.afterViewInit$=new ae.x,this.onInit$=new ae.x,this.validation$=new U.X(void 0),this.validatorChangeSub=this.formGroup.get("validator").valueChanges.pipe((0,te.b)(function(u){console.log("validator change",u)})).subscribe(),this.validatorSub=(0,Sr.a)([this.formGroup.get("validator").valueChanges,this.afterViewInit$]).pipe((0,Ce.U)(function(u){return(0,g.Z)(u,1)[0]}),(0,st.w)(function(u){return u&&""!==u?s.vpm.getPlugin(u):(0,Le.of)(void 0)}),(0,te.b)(function(u){u&&s.renderValidation(u)})).subscribe(),this.validationSub=this.validation$.pipe((0,te.b)(function(u){u?(s.formGroup.get("name").setValue(u.name),s.formGroup.get("validator").setValue(u.validator),s.formGroup.get("overrideErrorMessage").setValue(u.overrideErrorMessage),setTimeout(function(){return s.formGroup.get("paramSettings").setValue(u.paramSettings)})):(s.formGroup.get("name").setValue(""),s.formGroup.get("overrideErrorMessage").setValue(""),s.formGroup.get("validator").setValue(""))})).subscribe(),this.contextForwardingSub=this.componentRef$.pipe((0,Q.h)(function(u){return!!u})).subscribe(function(u){u.instance.contexts=s.contexts,u.instance.settings=s.validation$.value?s.validation$.value.paramSettings:void 0}),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"validation",set:function(e){this.validation$.next(e)}},{key:"ngOnInit",value:function(){this.onInit$.next(void 0),this.onInit$.complete()}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0),this.afterViewInit$.complete()}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue((0,b.Z)((0,b.Z)({},e),{},{settings:e.settings?e.settings:""}),{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}},{key:"renderValidation",value:function(e){var a=this.componentFactoryResolver.resolveComponentFactory(e.editor),s=this.validationHost.viewContainerRef;s.clear(),this.componentRef$.next(s.createComponent(a))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Va),r.\u0275\u0275directiveInject(r.ComponentFactoryResolver))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-ordain-validation-validator"]],viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(nF,7),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.validationHost=a.first)},inputs:{contexts:"contexts",validation:"validation"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:19,vars:6,consts:[[3,"formGroup"],["matInput","","type","text","formControlName","name"],["required","","formControlName","validator"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","overrideErrorMessage"],["druidValidationRendererHost",""],[3,"value"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field")(3,"mat-label"),r.\u0275\u0275text(4,"Name"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(5,"input",1),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(6,"mat-form-field")(7,"mat-label"),r.\u0275\u0275text(8,"Validator"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"mat-select",2),r.\u0275\u0275template(10,cK,2,2,"mat-option",3),r.\u0275\u0275pipe(11,"keyvalue"),r.\u0275\u0275pipe(12,"async"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(13,"mat-form-field")(14,"mat-label"),r.\u0275\u0275text(15,"Error Message"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(16,"input",4),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementContainerStart(17),r.\u0275\u0275template(18,dK,0,0,"ng-template",5),r.\u0275\u0275elementContainerEnd(),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.formGroup),r.\u0275\u0275advance(10),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(11,2,r.\u0275\u0275pipeBind1(12,4,e.validationPlugins$))))},dependencies:[P.NgForOf,v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,bi.MatLegacyOption,En.MatLegacyFormField,En.MatLegacyLabel,Hr.MatLegacyInput,Fi.MatLegacySelect,nF,P.AsyncPipe,P.KeyValuePipe]}),o}(),_K=function(){var o=function(){function n(t){var e=this;(0,f.Z)(this,n),this.fb=t,this.formGroup=this.fb.group({validators:this.fb.array([])}),this.addValidator$=new ae.x,this.deleteValidator$=new ae.x,this.afterViewInit$=new ae.x,this.validation$=new U.X(new w_({validators:[]})),this.addValidatorSub=this.addValidator$.pipe((0,te.b)(function(){e.validators.push(e.fb.control(""))})).subscribe(),this.deleteValidatorSub=this.deleteValidator$.pipe((0,te.b)(function(a){e.validation$.value.validators.splice(a,1),e.validators.removeAt(a)})).subscribe(),this.validationSub=(0,Sr.a)([this.validation$,this.afterViewInit$]).pipe((0,Ce.U)(function(a){return(0,g.Z)(a,1)[0]}),(0,Q.h)(function(a){return 0!==a.validators.length}),(0,te.b)(function(a){e.validators.clear(),a.validators.forEach(function(s,u){e.validators.push(e.fb.control(""))})})).subscribe(),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"validation",set:function(e){this.validation$.next(e)}},{key:"validators",get:function(){return this.formGroup.get("validators")}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0),this.afterViewInit$.complete()}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-ordain-validation-editor"]],inputs:{validation:"validation"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:5,vars:2,consts:[[3,"formGroup"],["formArrayName","validators"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"formControlName","validation"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div",1),r.\u0275\u0275template(2,pK,4,2,"div",2),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(3,"button",3),r.\u0275\u0275listener("click",function(){return e.addValidator$.next(void 0)}),r.\u0275\u0275text(4,"Add Validator"),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.formGroup),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",e.validators.controls))},dependencies:[P.NgForOf,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,v.FormArrayName,yK]}),o}(),xK=function(){var o=function(){function n(t,e){var a=this;(0,f.Z)(this,n),this.vpm=t,this.tokenizerService=e,this.validators$=new U.X([]),this.errors$=new U.X(null),this.message$=new U.X("Field is invalid"),this.resolvedContext$=new U.X(void 0),this.messageSub=(0,Sr.a)([this.validators$,this.errors$,this.resolvedContext$]).pipe((0,Q.h)(function(s){var c=(0,g.Z)(s,2)[1];return null!==c&&0!==Object.keys(c).length}),(0,Ce.U)(function(s){var u=(0,g.Z)(s,2),l=u[0],c=u[1],h=Object.keys(c),T=(0,g.Z)(h,1)[0],N=l.find(function(F){return F.validator===T});return{k:T,v:N,e:c[T]}}),(0,st.w)(function(s){var u=s.k,l=s.v,c=s.e;return a.vpm.getPlugin(l.validator).pipe((0,Ce.U)(function(h){return{k:u,v:l,p:h,e:c}}))}),(0,st.w)(function(s){var u=s.k,l=s.v,c=s.p;return a.resolveContexts({errors:s.e}).pipe((0,Ce.U)(function(C){return{k:u,v:l,p:c,t:C}}))}),(0,te.b)(function(s){var c=s.v,h=a.replaceTokens({message:c.overrideErrorMessage&&""!==c.overrideErrorMessage?c.overrideErrorMessage:s.p.errorMessage,tokens:s.t});a.message$.next(h)})).subscribe()}return(0,y.Z)(n,[{key:"validators",set:function(e){this.validators$.next(e)}},{key:"errors",set:function(e){this.errors$.next(e)}},{key:"resolvedContext",set:function(e){this.resolvedContext$.next(e)}},{key:"replaceTokens",value:function(e){var a=e.message,s=e.tokens;return void 0!==s&&s.forEach(function(u,l){a=a.split("[".concat(l,"]")).join("".concat(u))}),a}},{key:"resolveContexts",value:function(e){var a=this,s=e.errors;return new W.y(function(u){var l=new Map(a.tokenizerService.generateGenericTokens(s,""));if(a.resolvedContext$.value)for(var c in a.resolvedContext$.value)l=new Map([].concat((0,_.Z)(l),(0,_.Z)(a.tokenizerService.generateGenericTokens(a.resolvedContext$.value[c],"_root"===c?"":c))));u.next(l),u.complete()})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Va),r.\u0275\u0275directiveInject(Pr))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-ordain-default-validation-error"]],inputs:{validators:"validators",errors:"errors",resolvedContext:"resolvedContext"},decls:1,vars:1,template:function(t,e){1&t&&r.\u0275\u0275text(0),2&t&&r.\u0275\u0275textInterpolate(e.message$.value)}}),o}(),rF=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule,v.FormsModule,v.ReactiveFormsModule,Oi.MaterialModule,wu]}),o}(),bK=S(92081),CK=S(4856),ck=S(40810);function wK(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-error"),r.\u0275\u0275element(1,"druid-ordain-default-validation-error",2),r.\u0275\u0275elementEnd()),2&o){var t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("validators",null==t.formSettings$.value||null==t.formSettings$.value.validation?null:t.formSettings$.value.validation.validators)("errors",t.formControl.errors)("resolvedContext",t.resolvedContext$.value)}}function SK(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",2),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("value",t.value),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.label)}}function EK(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div"),r.\u0275\u0275element(1,"classifieds-ui-render-pane",4),r.\u0275\u0275elementStart(2,"button",3),r.\u0275\u0275listener("click",function(){var c=r.\u0275\u0275restoreView(t).index,h=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(h.remove$.next(c))}),r.\u0275\u0275text(3,"Remove"),r.\u0275\u0275elementEnd()()}if(2&o){var e=n.$implicit,a=n.index,s=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("formControlName",a)("pluginName",e.contentPlugin)("settings",e.settings)("name",e.name)("label",e.label)("contexts",e.contexts)("panes",s.panes)("resolvedContext",e.resolvedContext)("indexPosition",a)("ancestory",s.ancestory)}}function PK(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",9),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("value",t),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t)}}function AK(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-radio-button",2),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("value",t.value),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.label)}}function kK(o,n){if(1&o&&(r.\u0275\u0275elementStart(0,"mat-option",4),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&o){var t=n.$implicit;r.\u0275\u0275property("value",t),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(t.label)}}function RK(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"ngx-dropzone-image-preview",4),r.\u0275\u0275listener("removed",function(){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext().$implicit,u=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(u.onRemove(s))}),r.\u0275\u0275elementStart(1,"ngx-dropzone-label"),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd()()}if(2&o){var e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275property("file",e)("removable",!0),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate2("",e.name," (",e.type,")")}}function DK(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"ngx-dropzone-video-preview",4),r.\u0275\u0275listener("removed",function(){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext().$implicit,u=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(u.onRemove(s))}),r.\u0275\u0275elementStart(1,"ngx-dropzone-label"),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd()()}if(2&o){var e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275property("file",e)("removable",!0),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate2("",e.name," (",e.type,")")}}function TK(o,n){if(1&o){var t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"ngx-dropzone-preview",5),r.\u0275\u0275listener("removed",function(){r.\u0275\u0275restoreView(t);var s=r.\u0275\u0275nextContext().$implicit,u=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(u.onRemove(s))}),r.\u0275\u0275elementStart(1,"ngx-dropzone-label"),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd()()}if(2&o){var e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275property("removable",!0),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate2("",e.name," (",e.type,")")}}function IK(o,n){if(1&o&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,RK,3,4,"ngx-dropzone-image-preview",2),r.\u0275\u0275template(2,DK,3,4,"ngx-dropzone-video-preview",2),r.\u0275\u0275template(3,TK,3,3,"ngx-dropzone-preview",3),r.\u0275\u0275elementContainerEnd()),2&o){var t=n.$implicit,e=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.isType(t,"image")),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.isType(t,"video")),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!e.isType(t,"image")&&!e.isType(t,"video"))}}var dk=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.value=n.value?n.value:"",n.datasourceBinding&&"object"==typeof n.datasourceBinding&&(this.datasourceBinding=new pn.ContentBinding(n.datasourceBinding)),n.datasourceOptions&&"object"==typeof n.datasourceOptions&&(this.datasourceOptions=new nI(n.datasourceOptions)),n.validation&&(this.validation=new w_(n.validation)))}),OK=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.valuesMapping=n.valuesMapping)}),fo=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.tokenizerService=t,this.datasourceContentHandler=e,this.panelResolver=a,this.attributeSerializer=s}return(0,y.Z)(n,[{key:"resolveElementOptions",value:function(e,a){var s=this;return(0,Le.of)(e).pipe((0,st.w)(function(u){if(u.datasourceBinding&&u.datasourceBinding.id&&""!==u.datasourceBinding.id){var l=a.has("panes")?a.get("panes").find(function(c){return c.name===u.datasourceBinding.id}):void 0;return s.panelResolver.dataPanes(a.get("panes")).pipe((0,st.w)(function(c){return l?s.datasourceContentHandler.fetchDynamicData(l.settings,new Map([].concat((0,_.Z)(a),[["dataPanes",c]]))):(0,Le.of)([])}),(0,Ce.U)(function(c){return[u,c.results]}))}return(0,Le.of)([u,[]])}),(0,Ce.U)(function(u){var l=(0,g.Z)(u,2),c=l[0],h=l[1];return[c,c.datasourceOptions&&""!==c.datasourceOptions.query?(0,Ms.JSONPath)({path:c.datasourceOptions.query,json:h}):h]}),(0,st.w)(function(u){var l=(0,g.Z)(u,2);return s.mapDataOptions(l[0],l[1])}))}},{key:"mapDataOptions",value:function(e,a){var s=this;return(0,Le.of)([e,a]).pipe((0,Ce.U)(function(u){var l=(0,g.Z)(u,2),h=l[1];return[l[0],h,h?h.map(function(C){return s.tokenizerService.generateGenericTokens(C)}):[]]}),(0,Ce.U)(function(u){var l=(0,g.Z)(u,3),c=l[0];return l[2].map(function(T){return s.mapDataItem(c,T)})}))}},{key:"mapDataItem",value:function(e,a){return new aI({value:this.tokenizerService.replaceTokens("".concat(e.datasourceOptions.valueMapping),a),label:this.tokenizerService.replaceTokens("".concat(e.datasourceOptions.labelMapping),a),dataItem:void 0})}},{key:"hasDataOptions",value:function(e){return e.datasourceBinding&&e.datasourceBinding.id&&""!==e.datasourceBinding.id}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Pr),r.\u0275\u0275inject(AA),r.\u0275\u0275inject(TA),r.\u0275\u0275inject(Nt.AttributeSerializerService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),mo=function(){var o=function(){function n(t){var e=this;(0,f.Z)(this,n),this.tokenizerService=t,this.cachedResolvedContexts=[],this.scheduleResolution$=new ae.x,this.scheduleResolutionSub=this.scheduleResolution$.pipe((0,te.b)(function(a){var s=a.resolvedContext,u=a.index,l=new Map;if(s)for(var c in s)s[c]instanceof Au||(l=new Map([].concat((0,_.Z)(l),(0,_.Z)(e.tokenizerService.generateGenericTokens(s[c],"_root"===c?"":c)))));e.cachedResolvedContexts[u].resolution$.next(l)})).subscribe()}return(0,y.Z)(n,[{key:"resolveContexts",value:function(e){var a=e.resolvedContext,s=this.cachedResolvedContexts.findIndex(function(u){return 0===(0,xA.getDiff)(u.rContext,a).length});return-1===s?(console.log("resolved context no cache",a),s=this.cachedResolvedContexts.length,this.cachedResolvedContexts.push({rContext:a,resolution$:new fA.t}),this.scheduleResolution$.next({resolvedContext:a,index:s})):console.log("resolved context cache hit",a),this.cachedResolvedContexts[s].resolution$.pipe((0,An.q)(1))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Pr))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Ro=function(){var o=function(){function n(t,e,a,s,u,l){var c=this;(0,f.Z)(this,n),this.attributeSerializer=t,this.optionsResolver=e,this.tokenizerService=a,this.formsContextHelper=s,this.vpm=u,this.controlContainer=l,this.formControl=new v.UntypedFormControl(""),this.formControlValueChangesSub=this.formControl.valueChanges.pipe((0,te.b)(function(h){return console.log("serialized form value",c.attributeSerializer.serialize(h,"value"))}),(0,te.b)(function(h){return c.controlContainer.control.get("settings").setValue([c.attributeSerializer.serialize(h,"value")])})).subscribe(),this.formSettings$=new U.X(void 0),this.settings$=new U.X([]),this.options$=new U.X([]),this.init$=new ae.x,this.afterViewInit$=new ae.x,this.panes$=new U.X([]),this.originPanes$=new U.X([]),this.contexts$=new U.X([]),this.resolvedContext$=new U.X(void 0),this.value$=new ae.x,this.settingsSub=this.settings$.pipe((0,Ce.U)(function(h){return h?c.settingsToObject(c.attributeSerializer.deserializeAsObject(h)):void 0}),(0,te.b)(function(h){return c.formSettings$.next(h)})).subscribe(),this.loadOptionsSub=(0,Sr.a)([this.formSettings$,this.panes$,this.originPanes$,this.contexts$,this.init$]).pipe((0,Ce.U)(function(h){var C=(0,g.Z)(h,4),N=C[1],F=C[2],$=C[3];return{settings:C[0],metadata:new Map([["panes",[].concat((0,_.Z)(N&&Array.isArray(N)?N:[]),(0,_.Z)(F&&Array.isArray(F)?F:[]))],["contexts",$]])}}),(0,st.w)(function(h){return c.optionsResolver.resolveElementOptions(h.settings,h.metadata)}),(0,te.b)(function(h){return c.options$.next(h)})).subscribe(),this.renderContentSub=(0,Sr.a)([this.formSettings$,this.resolvedContext$,this.afterViewInit$]).pipe((0,Ce.U)(function(h){var C=(0,g.Z)(h,2);return{settings:C[0],resolvedContext:C[1]}}),(0,st.w)(function(h){var C=h.settings;return c.formsContextHelper.resolveContexts({resolvedContext:h.resolvedContext}).pipe((0,Ce.U)(function(N){return{settings:C,tokens:N}}))}),(0,st.w)(function(h){var C=h.settings,T=h.tokens;return(0,$n.D)(C.validation&&C.validation.validators?C.validation.validators.map(function(N){return c.vpm.getPlugin(N.validator).pipe((0,st.w)(function(F){return F.builder({v:N,serialized:!1}).pipe((0,Ce.U)(function($){return{v:N,vf:$}}))}))}):[]).pipe((0,Ce.U)(function(N){return{settings:C,tokens:T,validators:N}}),(0,fi.d)({settings:C,tokens:T,validators:[]}))}),(0,st.w)(function(h){var C=h.settings,T=h.tokens,N=h.validators;return(0,$n.D)(C.validation&&C.validation.validators?C.validation.validators.map(function(F){return c.vpm.getPlugin(F.validator).pipe((0,st.w)(function($){return $.builder({v:F,serialized:!0}).pipe((0,Ce.U)(function(se){return{v:F,vf:se}}))}))}):[]).pipe((0,Ce.U)(function(F){return{settings:C,tokens:T,validators:N,validatorsSerialized:F}}),(0,fi.d)({settings:C,tokens:T,validators:N,validatorsSerialized:[]}))}),(0,te.b)(function(h){var C=h.settings,T=h.tokens,F=h.validatorsSerialized;if(c.formControl.setAsyncValidators(h.validators.map(function(Ot){return Ot.vf})),c.controlContainer.control.get("settings").setAsyncValidators(F.map(function(Ot){return Ot.vf})),c.formControl.updateValueAndValidity(),c.controlContainer.control.updateValueAndValidity(),void 0!==T&&(c.tokens=T),C.value&&null!==C.value&&""!==C.value){(-1!==C.value.indexOf(".$i.")||-1!==C.value.indexOf(".$j.")||-1!==C.value.indexOf(".$k."))&&console.log(C.value,c.ancestory);var $=C.value.split("$i"),se=$.map(function(Ot,pt){return c.ancestory[1*pt+(3+(0===pt?0:3))]}),ue=$.reduce(function(Ot,pt,Lt){return[].concat((0,_.Z)(Ot),[0===Lt?"":Lt-1<se.length?"".concat(se[Lt-1]):"",pt])},[]).join("");console.log("path",ue);var ge=c.replaceTokens(ue);c.formControl.setValue(ge);var Se=c.tokenizerService.discoverTokens(ge,!0);if(0!==Se.length)if(Se[0].trim().lastIndexOf(".id")===Se[0].trim().length-3){var we=vr();c.formControl.setValue(we),c.value$.next(we)}else{var He=Array.from(T).filter(function(Ot){return 0===(0,g.Z)(Ot,1)[0].indexOf(ue.substr(1,ue.length-2))});if(0!==He.length){var ot=He.reduce(function(Ot,pt){var Lt=(0,g.Z)(pt,2),$t=Lt[0],tn=Lt[1];return(0,b.Z)((0,b.Z)({},Ot),{},(0,d.Z)({},$t.substr($t.lastIndexOf(".")+1),tn))},{});c.formControl.setValue(ot),c.value$.next(ot)}else{var dt=c.tokenizerService.replaceTokens(C.value,new Map(Array.from(Se).map(function(Ot){return[Ot,""]})));c.formControl.setValue(dt),c.value$.next(dt)}}else c.value$.next(ge)}else c.formControl.setValue("")}),(0,An.q)(1)).subscribe()}return(0,y.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"panes",set:function(e){this.panes$.next(e)}},{key:"originPanes",set:function(e){this.originPanes$.next(e)}},{key:"contexts",set:function(e){this.contexts$.next(e)}},{key:"resolvedContext",set:function(e){this.resolvedContext$.next(e)}},{key:"ngOnInit",value:function(){this.init$.next(void 0)}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"settingsToObject",value:function(e){return new dk(e)}},{key:"replaceTokens",value:function(e){return void 0!==this.tokens&&this.tokens.forEach(function(a,s){e=e.split("[".concat(s,"]")).join("".concat(a))}),e}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Nt.AttributeSerializerService),r.\u0275\u0275directiveInject(fo),r.\u0275\u0275directiveInject(Pr),r.\u0275\u0275directiveInject(mo),r.\u0275\u0275directiveInject(Va),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","druid-forms-form-element-base",""]],inputs:{tokens:"tokens",settings:"settings",panes:"panes",originPanes:"originPanes",contexts:"contexts",resolvedContext:"resolvedContext",ancestory:"ancestory"}}),o}(),FK=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s,u,l,c,h){return(0,f.Z)(this,e),t.call(this,a,s,u,l,c,h)}return(0,y.Z)(e)}(Ro);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Nt.AttributeSerializerService),r.\u0275\u0275directiveInject(fo),r.\u0275\u0275directiveInject(Pr),r.\u0275\u0275directiveInject(mo),r.\u0275\u0275directiveInject(Va),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-input"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["matInput","",3,"formControl"],[4,"ngIf"],[3,"validators","errors","resolvedContext"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"mat-form-field"),r.\u0275\u0275element(1,"input",0),r.\u0275\u0275template(2,wK,2,3,"mat-error",1),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("formControl",e.formControl),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formControl.invalid))},dependencies:[P.NgIf,v.DefaultValueAccessor,v.NgControlStatus,v.FormControlDirective,En.MatLegacyError,En.MatLegacyFormField,Hr.MatLegacyInput,xK]}),o}(),MK=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s,u,l,c,h){return(0,f.Z)(this,e),t.call(this,a,s,u,l,c,h)}return(0,y.Z)(e)}(Ro);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Nt.AttributeSerializerService),r.\u0275\u0275directiveInject(fo),r.\u0275\u0275directiveInject(Pr),r.\u0275\u0275directiveInject(mo),r.\u0275\u0275directiveInject(Va),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-select"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:4,vars:4,consts:[[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-select",0),r.\u0275\u0275template(2,SK,2,2,"mat-option",1),r.\u0275\u0275pipe(3,"async"),r.\u0275\u0275elementEnd()()),2&t&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("formControl",e.formControl),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(3,2,e.options$)))},dependencies:[P.NgForOf,v.NgControlStatus,v.FormControlDirective,bi.MatLegacyOption,En.MatLegacyFormField,Fi.MatLegacySelect,P.AsyncPipe]}),o}(),NK=function(){var o=function(){function n(t,e,a){var s=this;(0,f.Z)(this,n),this.attributeSerializer=t,this.fb=e,this.controlContainer=a,this.panes=[],this.originMappings=[],this.ancestory=[],this.add$=new ae.x,this.remove$=new ae.x,this.panes$=new U.X([]),this.settings$=new ae.x,this.resolvedContext$=new ae.x,this.panel$=new ae.x,this.afterViewInit$=new ae.x,this.addSub=this.add$.pipe((0,Ce.U)(function(){return new Wr(s.panes[0])}),(0,te.b)(function(){return s.panesFormArray.push(s.fb.control(""))}),(0,te.b)(function(u){return s.panes.push(u)})).subscribe(),this.removeSub=this.remove$.pipe((0,te.b)(function(u){return s.panesFormArray.removeAt(u)}),(0,te.b)(function(u){return s.panes.splice(u,1)})).subscribe(),this.populateDefaultValues=(0,Sr.a)([this.settings$.pipe((0,Ce.U)(function(u){return u?new OK(s.attributeSerializer.deserializeAsObject(u)):void 0})),this.resolvedContext$,this.panel$,this.afterViewInit$]).pipe((0,Ce.U)(function(u){var l=(0,g.Z)(u,3);return{s:l[0],rc:l[1],p:l[2]}}),(0,te.b)(function(u){return console.log(u.s.valuesMapping,s.ancestory)}),(0,Ce.U)(function(u){var l=u.s,c=u.rc,h=u.p;if(c&&l&&l.valuesMapping&&""!==l.valuesMapping.trim()){var C=l.valuesMapping.split("[$i]"),T=C.map(function($,se){return s.ancestory[1*se+3]}),N=C.reduce(function($,se,ue){return[].concat((0,_.Z)($),[0===ue?"":ue-1<T.length?"[".concat(T[ue-1],"]"):"",se])},[]).join("");return console.log("path",N),{items:(0,Ms.JSONPath)({path:"$.".concat(N,".*"),json:c}),s:l,p:h}}return{items:[],p:h}}),(0,te.b)(function(u){for(var c=u.items.length-s.panesFormArray.length,h=0;h<c;h++)s.add$.next(void 0)})).subscribe()}return(0,y.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"resolvedContext",set:function(e){this.resolvedContext$.next(e)}},{key:"panel",set:function(e){this.panel$.next(e)}},{key:"panesFormArray",get:function(){return this.controlContainer.control.get("panes")}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Nt.AttributeSerializerService),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-form-section"]],inputs:{panes:"panes",originPanes:"originPanes",originMappings:"originMappings",ancestory:"ancestory",settings:"settings",resolvedContext:"resolvedContext",panel:"panel"},decls:5,vars:2,consts:[[3,"formGroup"],["formArrayName","panes"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"formControlName","pluginName","settings","name","label","contexts","panes","resolvedContext","indexPosition","ancestory"]],template:function(t,e){1&t&&(r.\u0275\u0275elementContainerStart(0,0)(1,1),r.\u0275\u0275template(2,EK,4,10,"div",2),r.\u0275\u0275elementContainerEnd()(),r.\u0275\u0275elementStart(3,"button",3),r.\u0275\u0275listener("click",function(){return e.add$.next(void 0)}),r.\u0275\u0275text(4,"Add Item"),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.controlContainer.control),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",e.panes))},dependencies:[P.NgForOf,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,v.FormArrayName,x_]}),o}(),VK=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s,u,l,c,h){var C;return(0,f.Z)(this,e),(C=t.call(this,a,s,u,l,c,h)).cols=20,C.rows=20,C}return(0,y.Z)(e)}(Ro);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Nt.AttributeSerializerService),r.\u0275\u0275directiveInject(fo),r.\u0275\u0275directiveInject(Pr),r.\u0275\u0275directiveInject(mo),r.\u0275\u0275directiveInject(Va),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-textarea"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:1,vars:3,consts:[[3,"formControl","cols","rows"]],template:function(t,e){1&t&&r.\u0275\u0275element(0,"textarea",0),2&t&&r.\u0275\u0275property("formControl",e.formControl)("cols",e.cols)("rows",e.rows)},dependencies:[v.DefaultValueAccessor,v.NgControlStatus,v.FormControlDirective]}),o}(),BK=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.attributeSerializer=t}return(0,y.Z)(n,[{key:"handleFile",value:function(e){return(0,Le.of)([])}},{key:"handlesType",value:function(e){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(e){return(0,Le.of)(!1)}},{key:"isDynamic",value:function(e){return!1}},{key:"isData",value:function(e){return!1}},{key:"getBindings",value:function(e,a,s){return"pane"===a?this.toObject(e).pipe((0,st.w)(function(u){return Or(function(){return u.datasourceBinding&&u.datasourceBinding.id&&null!==u.datasourceBinding.id},(0,Le.of)([u.datasourceBinding]),(0,Le.of)([]))})):(0,Le.of)([])}},{key:"fetchDynamicData",value:function(e,a){return(0,Le.of)(new pr)}},{key:"buildDynamicItems",value:function(e,a){return(0,Le.of)([])}},{key:"toObject",value:function(e){return(0,Le.of)(new dk(this.attributeSerializer.deserializeAsObject(e)))}},{key:"buildSettings",value:function(e){return this.attributeSerializer.serialize(e,"root").attributes}},{key:"stateDefinition",value:function(e){return(0,Le.of)({autocomplete:{input:""},value:void 0})}},{key:"editorOptions",value:function(e){return(0,Le.of)(new pn.ContentPluginEditorOptions)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Nt.AttributeSerializerService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),iF=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(){return(0,f.Z)(this,e),t.apply(this,arguments)}return(0,y.Z)(e)}(BK);return o.\u0275fac=function(){var n;return function(e){return(n||(n=r.\u0275\u0275getInheritedFactory(o)))(e||o)}}(),o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),Do=function(){var o=function(){function n(t,e,a,s,u){(0,f.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=a,this.handler=s,this.attributeSerializer=u,this.datasourceOptions=dA,this.validation=new w_({validators:[]}),this.bindableOptions=[],this.formGroup=this.fb.group({value:this.fb.control(""),datasourceOptions:this.fb.control(""),validation:this.fb.control(""),datasourceBinding:this.fb.group({id:this.fb.control(""),type:this.fb.control("pane")})}),this.paneIndex=t.paneIndex,this.pane=t.pane}return(0,y.Z)(n,[{key:"paneGroup",get:function(){return this.data.panelFormGroup.get("panes").at(this.paneIndex)}},{key:"ngOnInit",value:function(){var e=this;this.data.pane?this.handler.toObject(this.data.pane.settings).subscribe(function(a){e.formGroup.get("value").setValue(a.value),e.datasourceOptions=a.datasourceOptions?a.datasourceOptions:dA,e.validation=new w_(a.validation?a.validation:{validators:[]}),e.formGroup.get("datasourceBinding").get("id").setValue(a.datasourceBinding&&a.datasourceBinding.id&&null!==a.datasourceBinding.id?a.datasourceBinding.id:"")}):(this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:this.data.plugin.id,name:new v.UntypedFormControl(""),label:new v.UntypedFormControl(""),rule:new v.UntypedFormControl(""),settings:this.fb.array([])})),this.paneIndex=this.data.panelFormGroup.get("panes").length-1,this.pane=new Wr(this.data.panelFormGroup.get("panes").at(this.paneIndex).value)),this.bindableOptions=this.data.panelFormGroup.get("panes").controls.reduce(function(a,s){return s.get("name").value?[].concat((0,_.Z)(a),[s.get("name").value]):(0,_.Z)(a)},[])}},{key:"submit",value:function(){var e=this;console.log(this.formGroup.value);var a=new dk(this.formGroup.value);console.log(a),this.paneGroup.get("settings").clear(),this.handler.buildSettings(a).map(function(u){return e.attributeSerializer.convertToGroup(u)}).forEach(function(u){return e.paneGroup.get("settings").push(u)}),this.dialogRef.close()}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(Yt.MatLegacyDialogRef),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(iF),r.\u0275\u0275directiveInject(Nt.AttributeSerializerService))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-element-editor"]],inputs:{bindableOptions:"bindableOptions"},decls:17,vars:4,consts:[[3,"formGroup","ngSubmit"],["fxLayout","column"],["matInput","","formControlName","value"],["formGroupName","datasourceBinding"],["required","","formControlName","id"],[3,"value",4,"ngFor","ngForOf"],["formControlName","datasourceOptions",3,"datasourceOptions"],["formControlName","validation",3,"validation"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""],[3,"value"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"form",0),r.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),r.\u0275\u0275elementStart(1,"mat-dialog-content",1)(2,"div")(3,"mat-form-field")(4,"mat-label"),r.\u0275\u0275text(5,"Value"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(6,"input",2),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(7,"mat-form-field",3)(8,"mat-label"),r.\u0275\u0275text(9,"Datasource"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(10,"mat-select",4),r.\u0275\u0275template(11,PK,2,2,"mat-option",5),r.\u0275\u0275elementEnd()(),r.\u0275\u0275element(12,"classifieds-ui-datasource-options",6)(13,"druid-ordain-validation-editor",7),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(14,"mat-dialog-actions")(15,"button",8),r.\u0275\u0275text(16,"Save"),r.\u0275\u0275elementEnd()()()),2&t&&(r.\u0275\u0275property("formGroup",e.formGroup),r.\u0275\u0275advance(11),r.\u0275\u0275property("ngForOf",e.bindableOptions),r.\u0275\u0275advance(1),r.\u0275\u0275property("datasourceOptions",e.datasourceOptions),r.\u0275\u0275advance(1),r.\u0275\u0275property("validation",e.validation))},dependencies:[P.NgForOf,v.\u0275NgNoValidate,v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,v.FormGroupName,bi.MatLegacyOption,pi.MatLegacyButton,Yt.MatLegacyDialogClose,Yt.MatLegacyDialogContent,Yt.MatLegacyDialogActions,En.MatLegacyFormField,En.MatLegacyLabel,Hr.MatLegacyInput,Fi.MatLegacySelect,XL,_K]}),o}(),ZK=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s,u,l,c,h){return(0,f.Z)(this,e),t.call(this,a,s,u,l,c,h)}return(0,y.Z)(e)}(Ro);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Nt.AttributeSerializerService),r.\u0275\u0275directiveInject(fo),r.\u0275\u0275directiveInject(Pr),r.\u0275\u0275directiveInject(mo),r.\u0275\u0275directiveInject(Va),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-radiogroup"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"mat-radio-group",0),r.\u0275\u0275template(1,AK,2,2,"mat-radio-button",1),r.\u0275\u0275pipe(2,"async"),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275property("formControl",e.formControl),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(2,2,e.options$)))},dependencies:[P.NgForOf,v.NgControlStatus,v.FormControlDirective,IE.MatLegacyRadioGroup,IE.MatLegacyRadioButton,P.AsyncPipe]}),o}(),LK=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s,u,l,c,h){return(0,f.Z)(this,e),t.call(this,a,s,u,l,c,h)}return(0,y.Z)(e)}(Ro);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Nt.AttributeSerializerService),r.\u0275\u0275directiveInject(fo),r.\u0275\u0275directiveInject(Pr),r.\u0275\u0275directiveInject(mo),r.\u0275\u0275directiveInject(Va),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-slider"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[3,"formControl"]],template:function(t,e){1&t&&r.\u0275\u0275element(0,"mat-slider",0),2&t&&r.\u0275\u0275property("formControl",e.formControl)},dependencies:[v.NgControlStatus,v.FormControlDirective,bK.MatLegacySlider]}),o}(),jK=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s,u,l,c,h){return(0,f.Z)(this,e),t.call(this,a,s,u,l,c,h)}return(0,y.Z)(e)}(Ro);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Nt.AttributeSerializerService),r.\u0275\u0275directiveInject(fo),r.\u0275\u0275directiveInject(Pr),r.\u0275\u0275directiveInject(mo),r.\u0275\u0275directiveInject(Va),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-toggle"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:2,vars:1,consts:[[3,"formControl"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"mat-slide-toggle",0),r.\u0275\u0275text(1,"Toggle Label"),r.\u0275\u0275elementEnd()),2&t&&r.\u0275\u0275property("formControl",e.formControl)},dependencies:[v.NgControlStatus,v.FormControlDirective,CK.MatLegacySlideToggle]}),o}(),$K=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s,u,l,c,h){return(0,f.Z)(this,e),t.call(this,a,s,u,l,c,h)}return(0,y.Z)(e)}(Ro);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Nt.AttributeSerializerService),r.\u0275\u0275directiveInject(fo),r.\u0275\u0275directiveInject(Pr),r.\u0275\u0275directiveInject(mo),r.\u0275\u0275directiveInject(Va),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-checkbox"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[3,"formControl"]],template:function(t,e){1&t&&r.\u0275\u0275element(0,"mat-checkbox",0),2&t&&r.\u0275\u0275property("formControl",e.formControl)},dependencies:[v.NgControlStatus,v.FormControlDirective,Jy.MatLegacyCheckbox]}),o}(),UK=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s,u,l,c,h){return(0,f.Z)(this,e),t.call(this,a,s,u,l,c,h)}return(0,y.Z)(e)}(Ro);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Nt.AttributeSerializerService),r.\u0275\u0275directiveInject(fo),r.\u0275\u0275directiveInject(Pr),r.\u0275\u0275directiveInject(mo),r.\u0275\u0275directiveInject(Va),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-datepicker"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:7,vars:3,consts:[["appearance","fill"],["matInput","",3,"matDatepicker","formControl"],["matSuffix","",3,"for"],["picker",""]],template:function(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"mat-form-field",0)(1,"mat-label"),r.\u0275\u0275text(2,"Choose a date"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(3,"input",1)(4,"mat-datepicker-toggle",2)(5,"mat-datepicker",null,3),r.\u0275\u0275elementEnd()),2&t){var a=r.\u0275\u0275reference(6);r.\u0275\u0275advance(3),r.\u0275\u0275property("matDatepicker",a)("formControl",e.formControl),r.\u0275\u0275advance(1),r.\u0275\u0275property("for",a)}},dependencies:[v.DefaultValueAccessor,v.NgControlStatus,v.FormControlDirective,ck.MatDatepicker,ck.MatDatepickerInput,ck.MatDatepickerToggle,En.MatLegacyFormField,En.MatLegacyLabel,En.MatLegacySuffix,Hr.MatLegacyInput]}),o}(),zK=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s,u,l,c,h){var C;return(0,f.Z)(this,e),(C=t.call(this,a,s,u,l,c,h)).proxyControl=new v.UntypedFormControl(""),C.optionSelected$=new ae.x,C.proxyControlValueChangesSub=C.proxyControl.valueChanges.pipe((0,Ar.b)(1e3),(0,xu.x)(),(0,Pa.M)((0,Sr.a)([C.formSettings$,C.panes$,C.originPanes$,C.contexts$]).pipe((0,Ce.U)(function(T){var N=(0,g.Z)(T,4);return{settings:N[0],panes:N[1],originPanes:N[2],contexts:N[3]}}))),(0,Ce.U)(function(T){var N=(0,g.Z)(T,2),F=N[0],$=N[1],ue=$.panes,ge=$.originPanes,Se=$.contexts;return{term:F,settings:$.settings,metadata:new Map([["panes",[].concat((0,_.Z)(ue&&Array.isArray(ue)?ue:[]),(0,_.Z)(ge&&Array.isArray(ge)?ge:[]))],["contexts",Se],["inputparams",new Map([["term",new Mi({flags:[],mapping:new G3({value:F,testValue:F,type:"static",context:void 0})})]])]])}}),(0,st.w)(function(T){return C.optionsResolver.resolveElementOptions(T.settings,T.metadata)}),(0,te.b)(function(T){return C.options$.next(T)})).subscribe(),C.optionSelectedSub=C.optionSelected$.pipe((0,te.b)(function(T){return C.formControl.setValue(T.option&&T.option.value?T.option.value.value:"")})).subscribe(),C.displayAuto=function(T){return T.label},C}return(0,y.Z)(e)}(Ro);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Nt.AttributeSerializerService),r.\u0275\u0275directiveInject(fo),r.\u0275\u0275directiveInject(Pr),r.\u0275\u0275directiveInject(mo),r.\u0275\u0275directiveInject(Va),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-autocomplete"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:8,vars:6,consts:[["matInput","",3,"matAutocomplete","formControl"],[3,"displayWith","optionSelected"],["autocomplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-label"),r.\u0275\u0275text(2,"Autocomplete"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(3,"input",0),r.\u0275\u0275elementStart(4,"mat-autocomplete",1,2),r.\u0275\u0275listener("optionSelected",function(u){return e.optionSelected$.next(u)}),r.\u0275\u0275template(6,kK,2,2,"mat-option",3),r.\u0275\u0275pipe(7,"async"),r.\u0275\u0275elementEnd()()),2&t){var a=r.\u0275\u0275reference(5);r.\u0275\u0275advance(3),r.\u0275\u0275property("matAutocomplete",a)("formControl",e.proxyControl),r.\u0275\u0275advance(1),r.\u0275\u0275property("displayWith",e.displayAuto),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",r.\u0275\u0275pipeBind1(7,4,e.options$))}},dependencies:[P.NgForOf,v.DefaultValueAccessor,v.NgControlStatus,v.FormControlDirective,TE.MatLegacyAutocomplete,TE.MatLegacyAutocompleteTrigger,bi.MatLegacyOption,En.MatLegacyFormField,En.MatLegacyLabel,Hr.MatLegacyInput,P.AsyncPipe]}),o}(),GK=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s,u,l,c,h,C){var T;return(0,f.Z)(this,e),(T=t.call(this,a,s,l,c,h,C)).files=[],T.select$=new ae.x,T.selectSub=T.select$.pipe((0,te.b)(function(N){return console.log(N)}),(0,Bo.z)(function(N){return T.filesService.bulkUpload({files:[N.addedFiles[0]]}).pipe((0,Ce.U)(function(F){return{mfs:F,e:N}}))}),(0,te.b)(function(N){return T.formControl.setValue(N.mfs[0])}),(0,te.b)(function(N){var F;return(F=T.files).push.apply(F,(0,_.Z)(N.e.addedFiles))})).subscribe(),T.valueSub=T.value$.pipe((0,Q.h)(function(N){return"object"==typeof N}),(0,Ce.U)(function(N){return new nA(N)}),(0,te.b)(function(N){console.log("populate value",N)}),(0,st.w)(function(N){return T.filesService.convertToFiles([N])}),(0,te.b)(function(N){console.log("populate as file",N),T.files=N})).subscribe(),T.filesService=u,T}return(0,y.Z)(e,[{key:"onSelect",value:function(s){this.select$.next(s)}},{key:"onRemove",value:function(s){console.log(s),this.formControl.setValue(""),this.files.splice(this.files.indexOf(s),1)}},{key:"isType",value:function(s,u){switch(u){case"image":return this.filesService.isImage({file:s});case"video":return this.filesService.isVideo({file:s});default:return!1}}}]),e}(Ro);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Nt.AttributeSerializerService),r.\u0275\u0275directiveInject(fo),r.\u0275\u0275directiveInject(iE),r.\u0275\u0275directiveInject(Pr),r.\u0275\u0275directiveInject(mo),r.\u0275\u0275directiveInject(Va),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-media"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:4,vars:1,consts:[[3,"change"],[4,"ngFor","ngForOf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngIf"],[3,"removable","removed",4,"ngIf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"],[3,"removable","removed"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"ngx-dropzone",0),r.\u0275\u0275listener("change",function(s){return e.onSelect(s)}),r.\u0275\u0275elementStart(1,"ngx-dropzone-label"),r.\u0275\u0275text(2,"Drop it, baby!"),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(3,IK,4,3,"ng-container",1),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275advance(3),r.\u0275\u0275property("ngForOf",e.files))},dependencies:[P.NgForOf,P.NgIf,SE,nO,Jd,iO,K$]}),o}(),HK=function(){var o=function(n){(0,z.Z)(e,n);var t=(0,H.Z)(e);function e(a,s,u,l,c,h){return(0,f.Z)(this,e),t.call(this,a,s,u,l,c,h)}return(0,y.Z)(e)}(Ro);return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Nt.AttributeSerializerService),r.\u0275\u0275directiveInject(fo),r.\u0275\u0275directiveInject(Pr),r.\u0275\u0275directiveInject(mo),r.\u0275\u0275directiveInject(Va),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-forms-form-hidden"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(t,e){},encapsulation:2}),o}(),qK=function(){var o=function(){function n(t,e,a,s){(0,f.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=a,this.attributeSerializer=s,this.contexts=[],this.formGroup=this.fb.group({valuesMapping:this.fb.control("")})}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){var e=this;this.data.panelFormGroup.get("settings").clear(),this.attributeSerializer.serialize(this.formGroup.value,"root").attributes.forEach(function(a){console.log("formly repeating editor form"),console.log(e.attributeSerializer.convertToGroup(a)),e.data.panelFormGroup.get("settings").push(e.attributeSerializer.convertToGroup(a))})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(Yt.MatLegacyDialogRef),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(Nt.AttributeSerializerService))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-form-section-editor"]],decls:8,vars:2,consts:[[3,"formGroup","ngSubmit"],["matInput","","formControlName","valuesMapping"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"form",0),r.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),r.\u0275\u0275elementStart(1,"div")(2,"mat-form-field")(3,"mat-label"),r.\u0275\u0275text(4,"Values Mapping"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(5,"input",1),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(6,"button",2),r.\u0275\u0275text(7,"Save"),r.\u0275\u0275elementEnd()()),2&t&&(r.\u0275\u0275property("formGroup",e.formGroup),r.\u0275\u0275advance(6),r.\u0275\u0275property("disabled",!e.formGroup.valid))},dependencies:[v.\u0275NgNoValidate,v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,pi.MatLegacyButton,Yt.MatLegacyDialogClose,En.MatLegacyFormField,En.MatLegacyLabel,Hr.MatLegacyInput]}),o}(),KK=function(n){return new pn.ContentPlugin({id:"form_input",title:"Form Input",selectionComponent:void 0,editorComponent:Do,renderComponent:FK,handler:n.handler})},WK=function(n){return new pn.ContentPlugin({id:"form_select",title:"Form Select",selectionComponent:void 0,editorComponent:Do,renderComponent:MK,handler:n.handler})},XK=function(n){return new pn.ContentPlugin({id:"form_radiogroup",title:"Form Radiogroup",selectionComponent:void 0,editorComponent:Do,renderComponent:ZK,handler:n.handler})},QK=function(n){return new pn.ContentPlugin({id:"form_textarea",title:"Form Textarea",selectionComponent:void 0,editorComponent:Do,renderComponent:VK,handler:n.handler})},YK=function(n){return new pn.ContentPlugin({id:"form_slider",title:"Form Slider",selectionComponent:void 0,editorComponent:Do,renderComponent:LK,handler:n.handler})},JK=function(n){return new pn.ContentPlugin({id:"form_toggle",title:"Form Toggle",selectionComponent:void 0,editorComponent:Do,renderComponent:jK,handler:n.handler})},eW=function(n){return new pn.ContentPlugin({id:"form_checkbox",title:"Form Checkbox",selectionComponent:void 0,editorComponent:Do,renderComponent:$K,handler:n.handler})},tW=function(n){return new pn.ContentPlugin({id:"form_datepicker",title:"Form Datepicker",selectionComponent:void 0,editorComponent:Do,renderComponent:UK,handler:n.handler})},nW=function(n){return new pn.ContentPlugin({id:"form_autocomplete",title:"Form Autocomplete",selectionComponent:void 0,editorComponent:Do,renderComponent:zK,handler:n.handler})},rW=function(n){return new pn.ContentPlugin({id:"form_media",title:"Form Media",selectionComponent:void 0,editorComponent:Do,renderComponent:GK,handler:n.handler})},iW=function(n){return new pn.ContentPlugin({id:"form_hidden",title:"Form Hidden",selectionComponent:void 0,editorComponent:Do,renderComponent:HK,handler:n.handler})},oW=function(){var o=(0,y.Z)(function n(t,e,a){(0,f.Z)(this,n),[KK({handler:a}),WK({handler:a}),QK({handler:a}),XK({handler:a}),YK({handler:a}),JK({handler:a}),eW({handler:a}),tW({handler:a}),nW({handler:a}),rW({handler:a}),iW({handler:a})].forEach(function(s){return t.register(s)}),[new bE({id:"form_section",name:"form_section",title:"Form Section",editorComponent:qK,renderComponent:NK})].forEach(function(s){return e.register(s)})});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(pn.ContentPluginManager),r.\u0275\u0275inject(Xd),r.\u0275\u0275inject(iF))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule,v.FormsModule,v.ReactiveFormsModule,Oi.MaterialModule,GA,Al,EE,rF]}),o}();function sW(o){var e,n={},t=(0,ee.Z)(o.keys());try{for(t.s();!(e=t.n()).done;){var a=e.value,s=o.getAll(a);null!==s&&(n[a]=s)}}catch(u){t.e(u)}finally{t.f()}return n}var aF=function(){var o=function(){function n(t,e){var a=this;(0,f.Z)(this,n),this.transferState=e,this.isCacheActive=!0,t.isStable.pipe((0,S3.P)(function(s){return s}),(0,fi.d)(!1)).subscribe(function(){a.isCacheActive=!1})}return(0,y.Z)(n,[{key:"makeCacheKey",value:function(e,a,s,u){var l=s.keys().sort().map(function(h){return"".concat(h,"=").concat(s.getAll(h))}).join("&");return(0,r.makeStateKey)(("GET"===e?"G.":"H.")+u+"."+a+"?"+l)}},{key:"intercept",value:function(e,a){var s=this;if(!this.isCacheActive||"GET"!==e.method&&"HEAD"!==e.method)return a.handle(e);var u=this.makeCacheKey(e.method,e.url,e.params,e.responseType);if(this.transferState.hasKey(u)){var l=this.transferState.get(u,null),c=l?.body;switch(l?.responseType){case"arraybuffer":c=(new TextEncoder).encode(l.body).buffer;break;case"blob":c=new Blob([l.body])}return(0,Le.of)(new O.HttpResponse({body:c,headers:new O.HttpHeaders(l?.headers),status:l?.status,statusText:l?.statusText,url:l?.url}))}return a.handle(e).pipe((0,te.b)(function(C){C instanceof O.HttpResponse&&s.transferState.set(u,{body:C.body,headers:sW(C.headers),status:C.status,statusText:C.statusText,url:C.url||"",responseType:e.responseType})}))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(r.ApplicationRef),r.\u0275\u0275inject(r.TransferState))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),uW=function(){var o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({providers:[r.ApplicationRef,r.TransferState,aF,{provide:O.HTTP_INTERCEPTORS,useExisting:aF,multi:!0}]}),o}(),lW=new r.InjectionToken("AlienaliasSettings"),dW=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.openSearchDomain=n.openSearchDomain)}),oF=S(37628),hW=["mfeReactComponent"],gW=function(){var o=function(){function n(){(0,f.Z)(this,n)}return(0,y.Z)(n,[{key:"ngOnChanges",value:function(e){this.render()}},{key:"ngAfterViewInit",value:function(){this.render()}},{key:"ngOnDestroy",value:function(){oF.unmountComponentAtNode(this.containerRef.nativeElement)}},{key:"render",value:function(){var e=this.component();oF.render(e,this.containerRef.nativeElement)}}]),n}();return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-mfe-react"]],viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(hW,5),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.containerRef=a.first)},inputs:{component:"component"},features:[r.\u0275\u0275NgOnChangesFeature],decls:2,vars:0,consts:[["mfeReactComponent",""]],template:function(t,e){1&t&&r.\u0275\u0275element(0,"span",null,0)},encapsulation:2}),o}(),vW=["appContainer"],pk=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.type=n.type&&""!==n.type?n.type:"module",this.remoteEntry=n.remoteEntry,this.componentName=n.componentName,this.exposedModule=n.exposedModule,this.remoteName=n.remoteName&&""!==n.remoteName?n.remoteName:void 0)}),sF=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.attributeSerializer=t}return(0,y.Z)(n,[{key:"handleFile",value:function(e){return(0,Le.of)([])}},{key:"handlesType",value:function(e){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(e){return(0,Le.of)(!1)}},{key:"isDynamic",value:function(e){return!1}},{key:"isData",value:function(e){return!1}},{key:"getBindings",value:function(e,a,s){return(0,Le.of)([])}},{key:"fetchDynamicData",value:function(e,a){return(0,Le.of)(new pr)}},{key:"buildDynamicItems",value:function(e,a){return(0,Le.of)([])}},{key:"toObject",value:function(e){return(0,Le.of)(new pk(this.attributeSerializer.deserializeAsObject(e)))}},{key:"buildSettings",value:function(e){return this.attributeSerializer.serialize(e,"root").attributes}},{key:"stateDefinition",value:function(e){return(0,Le.of)({autocomplete:{input:""},value:void 0})}},{key:"editorOptions",value:function(e){return(0,Le.of)(new pn.ContentPluginEditorOptions)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Nt.AttributeSerializerService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),yW=function(){var o=function(){function n(t,e,a,s,u){(0,f.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=a,this.handler=s,this.attributeSerializer=u,this.bindableOptions=[],this.formGroup=this.fb.group({type:this.fb.control("module",[v.Validators.required]),remoteEntry:this.fb.control("",[v.Validators.required]),exposedModule:this.fb.control("",[v.Validators.required]),componentName:this.fb.control("",[v.Validators.required]),remoteName:this.fb.control("")}),this.paneIndex=t.paneIndex,this.pane=t.pane}return(0,y.Z)(n,[{key:"paneGroup",get:function(){return this.data.panelFormGroup.get("panes").at(this.paneIndex)}},{key:"ngOnInit",value:function(){var e=this;this.data.pane?this.handler.toObject(this.data.pane.settings).subscribe(function(a){e.formGroup.get("type").setValue(a.type&&""!==a.type?a.type:"module"),e.formGroup.get("remoteEntry").setValue(a.remoteEntry),e.formGroup.get("exposedModule").setValue(a.exposedModule),e.formGroup.get("componentName").setValue(a.componentName),e.formGroup.get("remoteName").setValue(a.remoteName)}):(this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:this.data.plugin.id,name:new v.UntypedFormControl(""),label:new v.UntypedFormControl(""),rule:new v.UntypedFormControl(""),settings:this.fb.array([])})),this.paneIndex=this.data.panelFormGroup.get("panes").length-1,this.pane=new Wr(this.data.panelFormGroup.get("panes").at(this.paneIndex).value)),this.bindableOptions=this.data.panelFormGroup.get("panes").controls.reduce(function(a,s){return s.get("name").value?[].concat((0,_.Z)(a),[s.get("name").value]):(0,_.Z)(a)},[])}},{key:"submit",value:function(){var e=this;console.log(this.formGroup.value);var a=new pk(this.formGroup.value);console.log(a),this.paneGroup.get("settings").clear(),this.handler.buildSettings(a).map(function(u){return e.attributeSerializer.convertToGroup(u)}).forEach(function(u){return e.paneGroup.get("settings").push(u)}),this.dialogRef.close()}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Yt.MAT_LEGACY_DIALOG_DATA),r.\u0275\u0275directiveInject(Yt.MatLegacyDialogRef),r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(sF),r.\u0275\u0275directiveInject(Nt.AttributeSerializerService))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-outsider-outside-app-editor"]],inputs:{bindableOptions:"bindableOptions"},decls:32,vars:1,consts:[[3,"formGroup","ngSubmit"],["formControlName","type","required",""],["value","module"],["value","script"],["matInput","","formControlName","remoteEntry","required",""],["matInput","","formControlName","exposedModule","required",""],["matInput","","formControlName","componentName","required",""],["matInput","","formControlName","remoteName"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"form",0),r.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),r.\u0275\u0275elementStart(1,"div")(2,"mat-form-field")(3,"mat-label"),r.\u0275\u0275text(4,"Remote Entry"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"mat-select",1)(6,"mat-option",2),r.\u0275\u0275text(7,"Module"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(8,"mat-option",3),r.\u0275\u0275text(9,"Script"),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275elementStart(10,"div")(11,"mat-form-field")(12,"mat-label"),r.\u0275\u0275text(13,"Remote Entry"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(14,"input",4),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(15,"div")(16,"mat-form-field")(17,"mat-label"),r.\u0275\u0275text(18,"Exposed Module"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(19,"input",5),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(20,"div")(21,"mat-form-field")(22,"mat-label"),r.\u0275\u0275text(23,"Component Name"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(24,"input",6),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(25,"div")(26,"mat-form-field")(27,"mat-label"),r.\u0275\u0275text(28,"Remote Name"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(29,"input",7),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(30,"button",8),r.\u0275\u0275text(31,"Save"),r.\u0275\u0275elementEnd()()),2&t&&r.\u0275\u0275property("formGroup",e.formGroup)},dependencies:[bi.MatLegacyOption,pi.MatLegacyButton,Yt.MatLegacyDialogClose,En.MatLegacyFormField,En.MatLegacyLabel,Hr.MatLegacyInput,Fi.MatLegacySelect,v.\u0275NgNoValidate,v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName]}),o}(),_W=function(){var o=function(){function n(t){var e=this;(0,f.Z)(this,n),this.attributeSerializer=t,this.objectSettings$=new U.X(void 0),this.contexts$=new U.X([]),this.settings$=new U.X([]),this.settingsSub=this.settings$.pipe((0,Ce.U)(function(a){return a?new pk(e.attributeSerializer.deserializeAsObject(a)):void 0}),(0,te.b)(function(a){return e.objectSettings$.next(a)})).subscribe(),this.renderAppSub=this.objectSettings$.pipe((0,__.T)(1),(0,st.w)(function(a){return new W.y(function(s){rp(a.type&&"script"!==a.type?{type:"module",remoteEntry:a.remoteEntry,exposedModule:a.exposedModule}:{type:"script",remoteEntry:a.remoteEntry,exposedModule:a.exposedModule,remoteName:a.remoteName}).then(function(u){s.next(u[a.componentName&&""!==a.componentName?a.componentName:"default"]),s.complete()})}).pipe((0,Ce.U)(function(s){return{s:a,c:s}}))}),(0,te.b)(function(a){var s=a.s,u=a.c;e.viewContainer.clear(),s.type&&"script"!==s.type?e.viewContainer.createComponent(u):e.viewContainer.createComponent(gW).instance.component=u})).subscribe()}return(0,y.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"contexts",set:function(e){this.contexts$.next(e)}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(Nt.AttributeSerializerService))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["druid-outsider-outside-app-renderer"]],viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(vW,7,r.ViewContainerRef),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.viewContainer=a.first)},inputs:{settings:"settings",contexts:"contexts"},decls:2,vars:0,consts:[["appContainer",""]],template:function(t,e){1&t&&r.\u0275\u0275elementContainer(0,null,0)}}),o}(),bW=function(){var o=(0,y.Z)(function n(t,e){(0,f.Z)(this,n),t.register(function(n){return new pn.ContentPlugin({id:"outside_app",title:"Outside App",selectionComponent:void 0,editorComponent:yW,renderComponent:_W,handler:n.handler})}({handler:e}))});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(pn.ContentPluginManager),r.\u0275\u0275inject(sF))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule,Oi.MaterialModule,v.ReactiveFormsModule]}),o}(),uF=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.fb=t,this.controlContainer=e,this.context$=new U.X(void 0),this.formGroup=this.fb.group({remoteEntry:this.fb.control("",[v.Validators.required]),exposedModule:this.fb.control("",[v.Validators.required]),moduleName:this.fb.control("",[v.Validators.required])}),this.onTouched=function(){}}return(0,y.Z)(n,[{key:"context",set:function(e){this.context$.next(e)}},{key:"ngOnInit",value:function(){var e=this;this.context$.subscribe(function(a){e.formGroup.setValue(a?{remoteEntry:a.data.remoteEntry,exposedModule:a.data.exposedModule,moduleName:a.data.moduleName}:{remoteEntry:"",exposedModule:"",moduleName:""})})}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-module-form"]],inputs:{context:"context"},features:[r.\u0275\u0275ProvidersFeature([{provide:v.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0},{provide:v.NG_VALIDATORS,useExisting:(0,r.forwardRef)(function(){return o}),multi:!0}])],decls:16,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","remoteEntry","required",""],["matInput","","formControlName","exposedModule","required",""],["matInput","","formControlName","moduleName","required",""]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field")(3,"mat-label"),r.\u0275\u0275text(4,"Remote Entry"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(5,"input",1),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(6,"div")(7,"mat-form-field")(8,"mat-label"),r.\u0275\u0275text(9,"Exposed Module"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(10,"input",2),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(11,"div")(12,"mat-form-field")(13,"mat-label"),r.\u0275\u0275text(14,"Module Name"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(15,"input",3),r.\u0275\u0275elementEnd()()()),2&t&&r.\u0275\u0275property("formGroup",e.formGroup)},dependencies:[v.DefaultValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,v.RequiredValidator,v.FormGroupDirective,v.FormControlName,En.MatLegacyFormField,En.MatLegacyLabel,Hr.MatLegacyInput]}),o}(),CW=function(){var o=function(){function n(t,e){(0,f.Z)(this,n),this.fb=t,this.controlContainer=e}return(0,y.Z)(n,[{key:"ngOnInit",value:function(){this.controlContainer.control.addControl("adaptor",this.fb.control("data",v.Validators.required)),this.controlContainer.control.addControl("data",this.fb.control(""))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(v.UntypedFormBuilder),r.\u0275\u0275directiveInject(v.ControlContainer))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["classifieds-ui-context-module-editor"]],viewQuery:function(t,e){var a;1&t&&r.\u0275\u0275viewQuery(uF,7),2&t&&r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(e.contextModuleFormComp=a.first)},inputs:{context:"context"},decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","data",3,"context"]],template:function(t,e){1&t&&(r.\u0275\u0275elementContainerStart(0,0),r.\u0275\u0275element(1,"classifieds-ui-context-module-form",1),r.\u0275\u0275elementContainerEnd()),2&t&&(r.\u0275\u0275property("formGroup",e.controlContainer.control),r.\u0275\u0275advance(1),r.\u0275\u0275property("context",e.context))},dependencies:[v.NgControlStatus,v.NgControlStatusGroup,v.FormGroupDirective,v.FormControlName,uF]}),o}(),wW=function(){var o=(0,y.Z)(function n(t,e,a){var s=this;(0,f.Z)(this,n),this.actions$=t,this.moduleLoaderService=e,this.es=a,this.setPage$=vi(function(){return s.actions$.pipe(Ga(RA),(0,te.b)(function(u){var l=u.page;console.log("tractor beam capture page",l),l.contexts&&Array.isArray(l.contexts)&&l.contexts.forEach(function(c){if("module"===c.plugin)return s.moduleLoaderService.loadModule(function(){return rp({type:"module",remoteEntry:c.data.remoteEntry,exposedModule:c.data.exposedModule}).then(function(h){return h[c.data.moduleName]})}).subscribe()})}))},{dispatch:!1}),this.setPageInfo$=vi(function(){return s.actions$.pipe(Ga(kA),(0,te.b)(function(u){console.log("tractor beam info",u.info)}),(0,st.w)(function(u){var l=u.info;return s.es.getEntityCollectionService("PanelPage").getByKey(l.id)}),(0,te.b)(function(u){u.contexts&&Array.isArray(u.contexts)&&u.contexts.forEach(function(l){if("module"===l.plugin)return s.moduleLoaderService.loadModule(function(){return rp({type:"module",remoteEntry:l.data.remoteEntry,exposedModule:l.data.exposedModule}).then(function(c){return c[l.data.moduleName]})}).subscribe()})}))},{dispatch:!1})});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(to),r.\u0275\u0275inject(Vn.ModuleLoaderService),r.\u0275\u0275inject(Dr))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),lF=function(){var o=function(){function n(t){(0,f.Z)(this,n),this.moduleLoaderService=t}return(0,y.Z)(n,[{key:"resolve",value:function(e,a,s){return console.log("module resolver context",e,a,s),this.moduleLoaderService.loadModule(function(){return rp({type:"module",remoteEntry:a.remoteEntry,exposedModule:a.exposedModule}).then(function(u){return u[a.moduleName]})})}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Vn.ModuleLoaderService))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),EW=function(){var o=function(){function n(t,e,a){(0,f.Z)(this,n),this.moduleLoader=t,this.pageBuilderFacade=e,this.es=a}return(0,y.Z)(n,[{key:"loadPlugins",value:function(){var e=this;return this.pageBuilderFacade.getPageInfo$.pipe((0,te.b)(function(){return console.log("started loading external modules")}),(0,st.w)(function(a){return(a&&a.id?e.es.getEntityCollectionService("PanelPage").getByKey(a.id):(0,Le.of)(void 0)).pipe((0,fi.d)(void 0))}),(0,st.w)(function(a){return a?(0,$n.D)(a.contexts.filter(function(s){return"module"===s.plugin}).map(function(s){return e.moduleLoader.loadModule(function(){return rp({type:"module",remoteEntry:s.data.remoteEntry,exposedModule:s.data.exposedModule}).then(function(u){return u[s.data.moduleName]})})})).pipe((0,Rr.g)(1),(0,fi.d)([])):(0,Le.of)([])}),(0,te.b)(function(){return console.log("completed loading external modules")}),(0,Ce.U)(function(){return!0}),(0,An.q)(1))}}]),n}();return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Vn.ModuleLoaderService),r.\u0275\u0275inject(Ja),r.\u0275\u0275inject(Dr))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o}(),PW=function(){var o=(0,y.Z)(function n(t,e,a,s){(0,f.Z)(this,n),e.addDiscovery(s),t.register(function(n){return new Fs({id:"module",name:"module",title:"Module",baseObject:{},resolver:n.moduleResolver,editorComponent:CW})}({moduleResolver:a}))});return o.\u0275fac=function(t){return new(t||o)(r.\u0275\u0275inject(Su),r.\u0275\u0275inject(pn.ContentPluginManager),r.\u0275\u0275inject(lF),r.\u0275\u0275inject(EW))},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({providers:[lF],imports:[P.CommonModule,v.FormsModule,v.ReactiveFormsModule,Gd,Oi.MaterialModule,ou.forFeature([wW])]}),o}(),AW=(0,y.Z)(function o(n){(0,f.Z)(this,o),n&&(this.appId=n.appId,this.guestRoleArn=n.guestRoleArn,this.region=n.region,this.identityPoolId=n.identityPoolId)}),kW=new r.InjectionToken("RumSettings"),cF=[["bb66aa62-8635-4015-86c9-ba4f208b0856","/native_forms_rebuild_v1"]],RW=[{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"200e4ab8-922c-4a9c-a760-77bce3facf92",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"hedge-test",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"This is a hedge compatibility test. Modified.",displayName:"Content",name:"content",type:1,value:"This is a hedge compatibility test. Modified."},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/hedge-test",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Hedge Test",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"286f9a5e-196d-4812-bd8a-235a164a1a97",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"am_charts_visual_editor_bar_chart_test",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:'{\n    "type": "XYChart",\n    "data": [{\n        "category": "Category #1",\n        "value": 3336\n    }, {\n        "category": "Category #2",\n        "value": 2517\n    }, {\n        "category": "Category #3",\n        "value": 784\n    }, {\n        "category": "Category #4",\n        "value": 2388\n    }, {\n        "category": "Category #5",\n        "value": 3581\n    }, {\n        "category": "Category #6",\n        "value": 690\n    }, {\n        "category": "Category #7",\n        "value": 4292\n    }, {\n        "category": "Category #8",\n        "value": 2254\n    }],\n    "xAxes": [{\n        "type": "ValueAxis"\n    }],\n    "yAxes": [{\n        "type": "CategoryAxis",\n        "dataFields": {\n            "category": "category"\n        }\n    }],\n    "series": [{\n        "type": "ColumnSeries",\n        "columns": {\n            "template": {\n                "type": "Column",\n                "strokeOpacity": 0,\n                "tooltipText": "{categoryY}\\n{valueX}",\n                "tooltipPosition": "pointer"\n            }\n        },\n        "dataFields": {\n            "valueX": "value",\n            "categoryY": "category"\n        },\n        "sequencedInterpolation": true,\n        "sequencedInterpolationDelay": 100\n    }]\n}',displayName:"JSON",name:"json",type:1,value:'{\n    "type": "XYChart",\n    "data": [{\n        "category": "Category #1",\n        "value": 3336\n    }, {\n        "category": "Category #2",\n        "value": 2517\n    }, {\n        "category": "Category #3",\n        "value": 784\n    }, {\n        "category": "Category #4",\n        "value": 2388\n    }, {\n        "category": "Category #5",\n        "value": 3581\n    }, {\n        "category": "Category #6",\n        "value": 690\n    }, {\n        "category": "Category #7",\n        "value": 4292\n    }, {\n        "category": "Category #8",\n        "value": 2254\n    }],\n    "xAxes": [{\n        "type": "ValueAxis"\n    }],\n    "yAxes": [{\n        "type": "CategoryAxis",\n        "dataFields": {\n            "category": "category"\n        }\n    }],\n    "series": [{\n        "type": "ColumnSeries",\n        "columns": {\n            "template": {\n                "type": "Column",\n                "strokeOpacity": 0,\n                "tooltipText": "{categoryY}\\n{valueX}",\n                "tooltipPosition": "pointer"\n            }\n        },\n        "dataFields": {\n            "valueX": "value",\n            "categoryY": "category"\n        },\n        "sequencedInterpolation": true,\n        "sequencedInterpolationDelay": 100\n    }]\n}'}]}],settings:[],stylePlugin:""}],path:"/am-charts-visual-editor-bar-chart-test",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Visual Editor Bar Chart",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"https://rollthecloudinc.github.io/plugin-amcharts5-build/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"479f66de-7468-47fa-a649-9fd476b754ab",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"test_amcharts5_plugin_v1",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"amcharts5_json_chart",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[]}],settings:[],stylePlugin:""}],path:"/test-amcharts5-plugin-v1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Test AmCharts5 Plugin v1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"5494f47d-473c-49b4-bbef-f563be722131",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[{attributes:[],computedValue:"column",displayName:"Direction",name:"direction",type:1,value:"column"}]},layoutType:"gridless",name:"plugin-amcharts-refs-test-1",panels:[{columnSetting:{settings:[{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"}]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"data",displayName:"name",name:"name",type:1,value:"data"},{attributes:[],computedValue:"data",displayName:"id",name:"id",type:1,value:"data"},{attributes:[],computedValue:"undefined",displayName:"type",name:"type",type:0,value:"undefined"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"refs",name:"refs",type:4,value:null},{attributes:[],computedValue:'{\n  "type": "XYChart",\n  "refs": {\n    "data": [],\n    "xAxis": {\n      "type": "DateAxis",\n      "settings": {\n        "maxDeviation": 0.5,\n        "baseInterval": {\n          "timeUnit": "day",\n          "count": 1\n        },\n        "renderer": {\n          "type": "AxisRendererX"\n        }\n      }\n    },\n    "yAxis": {\n      "type": "ValueAxis",\n      "settings": {\n        "maxDeviation": 1,\n        "renderer": {\n          "type": "AxisRendererY"\n        }\n      }\n    }\n  },\n  "settings": {\n    "panX": false,\n    "panY": false,\n    "wheelX": "panX",\n    "wheelY": "zoomX",\n    "scrollbarX": {\n      "type": "Scrollbar",\n      "settings": {\n        "orientation": "horizontal"\n      }\n    }\n  },\n  "properties": {\n    "xAxes": [\n      "#xAxis"\n    ],\n    "yAxes": [\n      "#yAxis"\n    ],\n    "series": [\n      {\n        "type": "LineSeries",\n        "settings": {\n          "name": "Series",\n          "xAxis": "#xAxis",\n          "yAxis": "#yAxis",\n          "valueYField": "value",\n          "valueXField": "date",\n          "tooltip": {\n            "type": "Tooltip",\n            "settings": {\n              "labelText": "{valueX}: {valueY}"\n            }\n          }\n        },\n        "properties": {\n          "data": "#data"\n        }\n      }\n    ]\n  }\n}',displayName:"json",name:"json",type:1,value:'{\n  "type": "XYChart",\n  "refs": {\n    "data": [],\n    "xAxis": {\n      "type": "DateAxis",\n      "settings": {\n        "maxDeviation": 0.5,\n        "baseInterval": {\n          "timeUnit": "day",\n          "count": 1\n        },\n        "renderer": {\n          "type": "AxisRendererX"\n        }\n      }\n    },\n    "yAxis": {\n      "type": "ValueAxis",\n      "settings": {\n        "maxDeviation": 1,\n        "renderer": {\n          "type": "AxisRendererY"\n        }\n      }\n    }\n  },\n  "settings": {\n    "panX": false,\n    "panY": false,\n    "wheelX": "panX",\n    "wheelY": "zoomX",\n    "scrollbarX": {\n      "type": "Scrollbar",\n      "settings": {\n        "orientation": "horizontal"\n      }\n    }\n  },\n  "properties": {\n    "xAxes": [\n      "#xAxis"\n    ],\n    "yAxes": [\n      "#yAxis"\n    ],\n    "series": [\n      {\n        "type": "LineSeries",\n        "settings": {\n          "name": "Series",\n          "xAxis": "#xAxis",\n          "yAxis": "#yAxis",\n          "valueYField": "value",\n          "valueXField": "date",\n          "tooltip": {\n            "type": "Tooltip",\n            "settings": {\n              "labelText": "{valueX}: {valueY}"\n            }\n          }\n        },\n        "properties": {\n          "data": "#data"\n        }\n      }\n    ]\n  }\n}'}]},{contentPlugin:"datasource",contexts:[],label:"data",locked:!1,name:"data",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"data",displayName:"plugin",name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:'[\n      { "date": 1652425200000, "value": 92 },\n      { "date": 1652511600000, "value": 95 },\n      { "date": 1652598000000, "value": 100 },\n      { "date": 1652684400000, "value": 100 },\n      { "date": 1652770800000, "value": 96 },\n      { "date": 1652857200000, "value": 97 },\n      { "date": 1652943600000, "value": 94 },\n      { "date": 1653030000000, "value": 89 },\n      { "date": 1653116400000, "value": 89 },\n      { "date": 1653202800000, "value": 87 },\n      { "date": 1653289200000, "value": 84 },\n      { "date": 1653375600000, "value": 81 },\n      { "date": 1653462000000, "value": 85 },\n      { "date": 1653548400000, "value": 89 },\n      { "date": 1653634800000, "value": 86 },\n      { "date": 1653721200000, "value": 90 },\n      { "date": 1653807600000, "value": 93 },\n      { "date": 1653894000000, "value": 94 },\n      { "date": 1653980400000, "value": 94 },\n      { "date": 1654066800000, "value": 96 }\n]',displayName:"data",name:"data",type:1,value:'[\n      { "date": 1652425200000, "value": 92 },\n      { "date": 1652511600000, "value": 95 },\n      { "date": 1652598000000, "value": 100 },\n      { "date": 1652684400000, "value": 100 },\n      { "date": 1652770800000, "value": 96 },\n      { "date": 1652857200000, "value": 97 },\n      { "date": 1652943600000, "value": 94 },\n      { "date": 1653030000000, "value": 89 },\n      { "date": 1653116400000, "value": 89 },\n      { "date": 1653202800000, "value": 87 },\n      { "date": 1653289200000, "value": 84 },\n      { "date": 1653375600000, "value": 81 },\n      { "date": 1653462000000, "value": 85 },\n      { "date": 1653548400000, "value": 89 },\n      { "date": 1653634800000, "value": 86 },\n      { "date": 1653721200000, "value": 90 },\n      { "date": 1653807600000, "value": 93 },\n      { "date": 1653894000000, "value": 94 },\n      { "date": 1653980400000, "value": 94 },\n      { "date": 1654066800000, "value": 96 }\n]'}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",name:"type",type:1,value:"pane"},{attributes:[],computedValue:null,displayName:"bindings",name:"bindings",type:4,value:null}],computedValue:null,displayName:"renderer",name:"renderer",type:2,value:null}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[]},panes:[],settings:[],stylePlugin:""}],path:"/plugin-amcharts-refs-test-1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[{attributes:[],computedValue:"1",displayName:"Flex Grow",name:"flexGrow",type:1,value:"1"},{attributes:[],computedValue:"1",displayName:"Flex Shrink",name:"flexShrink",type:1,value:"1"},{attributes:[],computedValue:"1",displayName:"Flex Basis",name:"flexBasis",type:1,value:"1"},{attributes:[],computedValue:"100%",displayName:"Height",name:"height",type:1,value:"100%"},{attributes:[],computedValue:"row",displayName:"Direction",name:"direction",type:1,value:"row"}]},{settings:[]}],site:"spearhead",title:"plugin-amcharts-refs-test-1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"8ebbcdb3-300f-4739-8cb3-6c5d4c402638",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"am_charts_visual_editor_bar_chart_test",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:'{\n    "type": "XYChart",\n    "data": [{\n        "category": "Category #1",\n        "value": 3336\n    }, {\n        "category": "Category #2",\n        "value": 2517\n    }, {\n        "category": "Category #3",\n        "value": 784\n    }, {\n        "category": "Category #4",\n        "value": 2388\n    }, {\n        "category": "Category #5",\n        "value": 3581\n    }, {\n        "category": "Category #6",\n        "value": 690\n    }, {\n        "category": "Category #7",\n        "value": 4292\n    }, {\n        "category": "Category #8",\n        "value": 2254\n    }],\n    "xAxes": [{\n        "type": "ValueAxis",\n        "renderer": {\n            "maxLabelPosition": 0.98\n        }\n    }],\n    "yAxes": [{\n        "type": "CategoryAxis",\n        "dataFields": {\n            "category": "category"\n        },\n        "renderer": {\n            "grid": {\n                "template": {\n                    "type": "Grid",\n                    "location": 0\n                }\n            },\n            "minGridDistance": 20\n        }\n    }],\n    "series": [{\n        "type": "ColumnSeries",\n        "columns": {\n            "template": {\n                "type": "Column",\n                "strokeOpacity": 0,\n                "tooltipText": "{categoryY}\\n{valueX}",\n                "tooltipPosition": "pointer"\n            }\n        },\n        "dataFields": {\n            "valueX": "value",\n            "categoryY": "category"\n        },\n        "sequencedInterpolation": true,\n        "sequencedInterpolationDelay": 100\n    }]\n}',displayName:"JSON",name:"json",type:1,value:'{\n    "type": "XYChart",\n    "data": [{\n        "category": "Category #1",\n        "value": 3336\n    }, {\n        "category": "Category #2",\n        "value": 2517\n    }, {\n        "category": "Category #3",\n        "value": 784\n    }, {\n        "category": "Category #4",\n        "value": 2388\n    }, {\n        "category": "Category #5",\n        "value": 3581\n    }, {\n        "category": "Category #6",\n        "value": 690\n    }, {\n        "category": "Category #7",\n        "value": 4292\n    }, {\n        "category": "Category #8",\n        "value": 2254\n    }],\n    "xAxes": [{\n        "type": "ValueAxis",\n        "renderer": {\n            "maxLabelPosition": 0.98\n        }\n    }],\n    "yAxes": [{\n        "type": "CategoryAxis",\n        "dataFields": {\n            "category": "category"\n        },\n        "renderer": {\n            "grid": {\n                "template": {\n                    "type": "Grid",\n                    "location": 0\n                }\n            },\n            "minGridDistance": 20\n        }\n    }],\n    "series": [{\n        "type": "ColumnSeries",\n        "columns": {\n            "template": {\n                "type": "Column",\n                "strokeOpacity": 0,\n                "tooltipText": "{categoryY}\\n{valueX}",\n                "tooltipPosition": "pointer"\n            }\n        },\n        "dataFields": {\n            "valueX": "value",\n            "categoryY": "category"\n        },\n        "sequencedInterpolation": true,\n        "sequencedInterpolationDelay": 100\n    }]\n}'}]}],settings:[],stylePlugin:""}],path:"/am-charts-visual-editor-bar-chart-test",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Visual Editor Bar Chart",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"data",data:{value:[{},{},{}]},datasource:null,name:"terms",plugin:"state",rest:null,snippet:null,tokens:null},{adaptor:"datasource",data:null,datasource:{params:[],plugin:"data",renderer:{bindings:[],data:{content:"",contentType:""},query:"",trackBy:"",type:"pane"},settings:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",floatValue:0,intValue:0,name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}]},name:"characters",plugin:"datasource",rest:null,snippet:null,tokens:null},{adaptor:"datasource",data:null,datasource:{params:[],plugin:"crud_adaptor",renderer:{bindings:[],data:{content:"",contentType:""},query:"",trackBy:"",type:"pane"},settings:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",floatValue:0,intValue:0,name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",floatValue:0,intValue:0,name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",floatValue:0,intValue:0,name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"options",floatValue:0,intValue:0,name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}]},name:"ad",plugin:"datasource",rest:null,snippet:null,tokens:null}],cssFile:"",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["b7a9bac5-5fef-4aa6-bf12-d536c156e453"],readUserIds:["*"],writeUserIds:["b7a9bac5-5fef-4aa6-bf12-d536c156e453"]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"bb66aa62-8635-4015-86c9-ba4f208b0856",layoutSetting:{settings:[]},layoutType:"split",name:"native_forms_rebuild_v1",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"datasource",label:"characters_context_ref",linkedPageId:"",locked:!1,name:"characters_context_ref",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"context",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"context"},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"characters"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_characters",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"select_characters"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}]},{contentPlugin:"datasource",label:"creators",linkedPageId:"",locked:!1,name:"creators",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/creators?apikey=12097554cc585301fc38efd51b21fb06&nameStartsWith=:nameStartsWith",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/creators?apikey=12097554cc585301fc38efd51b21fb06&nameStartsWith=:nameStartsWith"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"inputparam",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"inputparam"},{attributes:[],computedValue:"term",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"term"},{attributes:[],computedValue:"john",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"john"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"content",floatValue:0,intValue:0,name:"content",type:1,value:""},{attributes:[],computedValue:"application/json",displayName:"contentType",floatValue:0,intValue:0,name:"contentType",type:1,value:"application/json"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"body",floatValue:0,intValue:0,name:"body",type:2,value:""},{attributes:[],computedValue:"get",displayName:"method",floatValue:0,intValue:0,name:"method",type:1,value:"get"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_creators",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"select_creators"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}]},{contentPlugin:"datasource",label:"select_creators",linkedPageId:"",locked:!1,name:"select_creators",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"select",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$..data.results.*",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:"$..data.results.*"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}]},{contentPlugin:"form_input",label:"text",linkedPageId:"",locked:!1,name:"text",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.text]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.text]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_select",label:"select",linkedPageId:"",locked:!1,name:"select",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.select]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.select]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"characters_context_ref",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"characters_context_ref"}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.id]",displayName:"idMapping",floatValue:0,intValue:0,name:"idMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"[.name]",displayName:"labelMapping",floatValue:0,intValue:0,name:"labelMapping",type:1,value:"[.name]"},{attributes:[],computedValue:"[.id]",displayName:"valueMapping",floatValue:0,intValue:0,name:"valueMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"false",displayName:"multiple",floatValue:0,intValue:0,name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",floatValue:0,intValue:0,name:"limit",type:0,value:"0"}],computedValue:"",displayName:"datasourceOptions",floatValue:0,intValue:0,name:"datasourceOptions",type:2,value:""}]},{contentPlugin:"form_textarea",label:"textarea",linkedPageId:"",locked:!1,name:"textarea",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.textarea]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.textarea]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_radiogroup",label:"radiogroup",linkedPageId:"",locked:!1,name:"radiogroup",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.radiogroup]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.radiogroup]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"characters_context_ref",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"characters_context_ref"}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.id]",displayName:"idMapping",floatValue:0,intValue:0,name:"idMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"[.name]",displayName:"labelMapping",floatValue:0,intValue:0,name:"labelMapping",type:1,value:"[.name]"},{attributes:[],computedValue:"[.id]",displayName:"valueMapping",floatValue:0,intValue:0,name:"valueMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"false",displayName:"multiple",floatValue:0,intValue:0,name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",floatValue:0,intValue:0,name:"limit",type:0,value:"0"}],computedValue:"",displayName:"datasourceOptions",floatValue:0,intValue:0,name:"datasourceOptions",type:2,value:""}]},{contentPlugin:"form_slider",label:"slider",linkedPageId:"",locked:!1,name:"slider",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.slider]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.slider]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_toggle",label:"toggle",linkedPageId:"",locked:!1,name:"toggle",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.toggle]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.toggle]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_checkbox",label:"checkbox",linkedPageId:"",locked:!1,name:"checkbox",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.checkbox]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.checkbox]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_datepicker",label:"datepicker",linkedPageId:"",locked:!1,name:"datepicker",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.datepicker]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.datepicker]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_autocomplete",label:"autocomplete",linkedPageId:"",locked:!1,name:"autocomplete",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.autocomplete]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.autocomplete]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"creators",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"creators"}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.id]",displayName:"idMapping",floatValue:0,intValue:0,name:"idMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"[.fullName]",displayName:"labelMapping",floatValue:0,intValue:0,name:"labelMapping",type:1,value:"[.fullName]"},{attributes:[],computedValue:"[.id]",displayName:"valueMapping",floatValue:0,intValue:0,name:"valueMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"false",displayName:"multiple",floatValue:0,intValue:0,name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",floatValue:0,intValue:0,name:"limit",type:0,value:"0"}],computedValue:"",displayName:"datasourceOptions",floatValue:0,intValue:0,name:"datasourceOptions",type:2,value:""}]},{contentPlugin:"panel",label:"nested",linkedPageId:"",locked:!1,name:"nested",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",floatValue:0,intValue:0,name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",floatValue:0,intValue:0,name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",floatValue:0,intValue:0,name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",floatValue:0,intValue:0,name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",floatValue:0,intValue:0,name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"[ad.results.0.nested.nestedValue]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.nested.nestedValue]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"nestedValue",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"nestedValue"},{attributes:[],computedValue:"nestedValue",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"nestedValue"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"value",floatValue:0,intValue:0,name:"value",type:4,value:""}],computedValue:"",displayName:"data",floatValue:0,intValue:0,name:"data",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",floatValue:0,intValue:0,name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",floatValue:0,intValue:0,name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",floatValue:0,intValue:0,name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",floatValue:0,intValue:0,name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"options",floatValue:0,intValue:0,name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"nested_form",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"nested_form"},{attributes:[],computedValue:"nested_form",displayName:"title",floatValue:0,intValue:0,name:"title",type:1,value:"nested_form"},{attributes:[],computedValue:"spearhead",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",floatValue:0,intValue:0,name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",floatValue:0,intValue:0,name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]},{contentPlugin:"panel",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",floatValue:0,intValue:0,name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",floatValue:0,intValue:0,name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",floatValue:0,intValue:0,name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",floatValue:0,intValue:0,name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",floatValue:0,intValue:0,name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"$.ad.results[0].terms",displayName:"valuesMapping",floatValue:0,intValue:0,name:"valuesMapping",type:1,value:"$.ad.results[0].terms"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",floatValue:0,intValue:0,name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",floatValue:0,intValue:0,name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",floatValue:0,intValue:0,name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",floatValue:0,intValue:0,name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",floatValue:0,intValue:0,name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"[ad.results.0.terms.$i.humanName]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.terms.$i.humanName]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"humanName",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"humanName"},{attributes:[],computedValue:"humanName",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"humanName"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",floatValue:0,intValue:0,name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",floatValue:0,intValue:0,name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",floatValue:0,intValue:0,name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",floatValue:0,intValue:0,name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",floatValue:0,intValue:0,name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"$.ad.results[0].terms[$i].terms",displayName:"valuesMapping",floatValue:0,intValue:0,name:"valuesMapping",type:1,value:"$.ad.results[0].terms[$i].terms"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",floatValue:0,intValue:0,name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",floatValue:0,intValue:0,name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",floatValue:0,intValue:0,name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",floatValue:0,intValue:0,name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",floatValue:0,intValue:0,name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"[ad.results.0.terms.$i.terms.$i.humanName]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.terms.$i.terms.$i.humanName]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"humanName",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"humanName"},{attributes:[],computedValue:"humanName",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"humanName"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"value",floatValue:0,intValue:0,name:"value",type:4,value:""}],computedValue:"",displayName:"data",floatValue:0,intValue:0,name:"data",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",floatValue:0,intValue:0,name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",floatValue:0,intValue:0,name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",floatValue:0,intValue:0,name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",floatValue:0,intValue:0,name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"options",floatValue:0,intValue:0,name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"terms_form2",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"terms_form2"},{attributes:[],computedValue:"terms_form2",displayName:"title",floatValue:0,intValue:0,name:"title",type:1,value:"terms_form2"},{attributes:[],computedValue:"spearhead",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",floatValue:0,intValue:0,name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",floatValue:0,intValue:0,name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"terms",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"terms"},{attributes:[],computedValue:"terms",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"terms"},{attributes:[],computedValue:"panel",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"panel"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"form_section",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:"form_section"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"value",floatValue:0,intValue:0,name:"value",type:4,value:""}],computedValue:"",displayName:"data",floatValue:0,intValue:0,name:"data",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",floatValue:0,intValue:0,name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",floatValue:0,intValue:0,name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",floatValue:0,intValue:0,name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",floatValue:0,intValue:0,name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"options",floatValue:0,intValue:0,name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",floatValue:0,intValue:0,name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",floatValue:0,intValue:0,name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"panel",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"panel"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"value",floatValue:0,intValue:0,name:"value",type:4,value:""}],computedValue:"",displayName:"data",floatValue:0,intValue:0,name:"data",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",floatValue:0,intValue:0,name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",floatValue:0,intValue:0,name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",floatValue:0,intValue:0,name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",floatValue:0,intValue:0,name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"options",floatValue:0,intValue:0,name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"terms_form",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"terms_form"},{attributes:[],computedValue:"terms_form",displayName:"title",floatValue:0,intValue:0,name:"title",type:1,value:"terms_form"},{attributes:[],computedValue:"spearhead",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",floatValue:0,intValue:0,name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",floatValue:0,intValue:0,name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"terms",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"terms"},{attributes:[],computedValue:"terms",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"terms"},{attributes:[],computedValue:"panel",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"panel"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"form_section",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:"form_section"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"value",floatValue:0,intValue:0,name:"value",type:4,value:""}],computedValue:"",displayName:"data",floatValue:0,intValue:0,name:"data",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",floatValue:0,intValue:0,name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",floatValue:0,intValue:0,name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",floatValue:0,intValue:0,name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",floatValue:0,intValue:0,name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"options",floatValue:0,intValue:0,name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"spearhead"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",floatValue:0,intValue:0,name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",floatValue:0,intValue:0,name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]},{contentPlugin:"form_hidden",label:"id",linkedPageId:"",locked:!1,name:"id",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.id]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.id]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}]}],settings:[],stylePlugin:""}],path:"/native_forms_rebuild_v1",persistence:{dataduct:{plugin:"crud",settings:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",floatValue:0,intValue:0,name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",floatValue:0,intValue:0,name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"",displayName:"paramsString",floatValue:0,intValue:0,name:"paramsString",type:1,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"classifieds-ui-prod",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"classifieds-ui-prod"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"options",floatValue:0,intValue:0,name:"options",type:4,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}]}},rowSettings:[{settings:[]}],site:"spearhead",title:"native_forms_rebuild_v1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[],cssFile:"",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],readUserIds:["*"],writeUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"bd29f806-3b4b-4b79-9dac-7a5ae221f432",layoutSetting:{settings:[]},layoutType:"split",name:"hello_world",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:null,value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Hello World",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Hello World"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]}],settings:[],stylePlugin:""}],path:"/hello-world",persistence:{dataduct:{plugin:"",settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Hello World",userId:"e36b42fe-b09c-4514-a519-e178bb52957e"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"c91aa514-0ad8-4797-a516-cce997c877d9",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"json_chart_example_1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:'{\n   "refs": {\n      "data": [\n         {\n            "date": 1652425200000,\n            "value": 92\n         },\n         {\n            "date": 1652511600000,\n            "value": 95\n         },\n         {\n            "date": 1652598000000,\n            "value": 100\n         },\n         {\n            "date": 1652684400000,\n            "value": 100\n         },\n         {\n            "date": 1652770800000,\n            "value": 96\n         },\n         {\n            "date": 1652857200000,\n            "value": 97\n         },\n         {\n            "date": 1652943600000,\n            "value": 94\n         },\n         {\n            "date": 1653030000000,\n            "value": 89\n         },\n         {\n            "date": 1653116400000,\n            "value": 89\n         },\n         {\n            "date": 1653202800000,\n            "value": 87\n         },\n         {\n            "date": 1653289200000,\n            "value": 84\n         },\n         {\n            "date": 1653375600000,\n            "value": 81\n         },\n         {\n            "date": 1653462000000,\n            "value": 85\n         },\n         {\n            "date": 1653548400000,\n            "value": 89\n         },\n         {\n            "date": 1653634800000,\n            "value": 86\n         },\n         {\n            "date": 1653721200000,\n            "value": 90\n         },\n         {\n            "date": 1653807600000,\n            "value": 93\n         },\n         {\n            "date": 1653894000000,\n            "value": 94\n         },\n         {\n            "date": 1653980400000,\n            "value": 94\n         },\n         {\n            "date": 1654066800000,\n            "value": 96\n         }\n      ],\n      "xAxis": {\n         "type": "DateAxis",\n         "settings": {\n            "maxDeviation": 0.5,\n            "baseInterval": {\n               "timeUnit": "day",\n               "count": 1\n            },\n            "renderer": {\n               "type": "AxisRendererX",\n               "settings": {\n                  "pan": "zoom"\n               }\n            },\n            "tooltip": {\n               "type": "Tooltip"\n            }\n         }\n      },\n      "yAxis": {\n         "type": "ValueAxis",\n         "settings": {\n            "maxDeviation": 1,\n            "renderer": {\n               "type": "AxisRendererY",\n               "settings": {\n                  "pan": "zoom"\n               }\n            }\n         }\n      }\n   },\n   "type": "XYChart",\n   "settings": {\n      "panX": false,\n      "panY": false,\n      "wheelX": "panX",\n      "wheelY": "zoomX",\n      "cursor": {\n         "type": "XYCursor",\n         "settings": {\n            "behavior": "zoomX"\n         },\n         "properties": {\n            "lineY": {\n               "settings": {\n                  "visible": false\n               }\n            }\n         }\n      },\n      "scrollbarX": {\n         "type": "Scrollbar",\n         "settings": {\n            "orientation": "horizontal"\n         }\n      }\n   },\n   "properties": {\n      "xAxes": [\n         "#xAxis"\n      ],\n      "yAxes": [\n         "#yAxis"\n      ],\n      "series": [\n         {\n            "type": "LineSeries",\n            "settings": {\n               "name": "Series",\n               "xAxis": "#xAxis",\n               "yAxis": "#yAxis",\n               "valueYField": "value",\n               "valueXField": "date",\n               "tooltip": {\n                  "type": "Tooltip",\n                  "settings": {\n                     "labelText": "{valueX}: {valueY}"\n                  }\n               }\n            },\n            "properties": {\n               "data": "#data"\n            }\n         }\n      ]\n   }\n}',displayName:"JSON",name:"json",type:1,value:'{\n   "refs": {\n      "data": [\n         {\n            "date": 1652425200000,\n            "value": 92\n         },\n         {\n            "date": 1652511600000,\n            "value": 95\n         },\n         {\n            "date": 1652598000000,\n            "value": 100\n         },\n         {\n            "date": 1652684400000,\n            "value": 100\n         },\n         {\n            "date": 1652770800000,\n            "value": 96\n         },\n         {\n            "date": 1652857200000,\n            "value": 97\n         },\n         {\n            "date": 1652943600000,\n            "value": 94\n         },\n         {\n            "date": 1653030000000,\n            "value": 89\n         },\n         {\n            "date": 1653116400000,\n            "value": 89\n         },\n         {\n            "date": 1653202800000,\n            "value": 87\n         },\n         {\n            "date": 1653289200000,\n            "value": 84\n         },\n         {\n            "date": 1653375600000,\n            "value": 81\n         },\n         {\n            "date": 1653462000000,\n            "value": 85\n         },\n         {\n            "date": 1653548400000,\n            "value": 89\n         },\n         {\n            "date": 1653634800000,\n            "value": 86\n         },\n         {\n            "date": 1653721200000,\n            "value": 90\n         },\n         {\n            "date": 1653807600000,\n            "value": 93\n         },\n         {\n            "date": 1653894000000,\n            "value": 94\n         },\n         {\n            "date": 1653980400000,\n            "value": 94\n         },\n         {\n            "date": 1654066800000,\n            "value": 96\n         }\n      ],\n      "xAxis": {\n         "type": "DateAxis",\n         "settings": {\n            "maxDeviation": 0.5,\n            "baseInterval": {\n               "timeUnit": "day",\n               "count": 1\n            },\n            "renderer": {\n               "type": "AxisRendererX",\n               "settings": {\n                  "pan": "zoom"\n               }\n            },\n            "tooltip": {\n               "type": "Tooltip"\n            }\n         }\n      },\n      "yAxis": {\n         "type": "ValueAxis",\n         "settings": {\n            "maxDeviation": 1,\n            "renderer": {\n               "type": "AxisRendererY",\n               "settings": {\n                  "pan": "zoom"\n               }\n            }\n         }\n      }\n   },\n   "type": "XYChart",\n   "settings": {\n      "panX": false,\n      "panY": false,\n      "wheelX": "panX",\n      "wheelY": "zoomX",\n      "cursor": {\n         "type": "XYCursor",\n         "settings": {\n            "behavior": "zoomX"\n         },\n         "properties": {\n            "lineY": {\n               "settings": {\n                  "visible": false\n               }\n            }\n         }\n      },\n      "scrollbarX": {\n         "type": "Scrollbar",\n         "settings": {\n            "orientation": "horizontal"\n         }\n      }\n   },\n   "properties": {\n      "xAxes": [\n         "#xAxis"\n      ],\n      "yAxes": [\n         "#yAxis"\n      ],\n      "series": [\n         {\n            "type": "LineSeries",\n            "settings": {\n               "name": "Series",\n               "xAxis": "#xAxis",\n               "yAxis": "#yAxis",\n               "valueYField": "value",\n               "valueXField": "date",\n               "tooltip": {\n                  "type": "Tooltip",\n                  "settings": {\n                     "labelText": "{valueX}: {valueY}"\n                  }\n               }\n            },\n            "properties": {\n               "data": "#data"\n            }\n         }\n      ]\n   }\n}'}]}],settings:[],stylePlugin:""}],path:"/json-chart-example-1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Json Chart Example 1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"d75c2267-0eb1-4238-ad0e-7d4b0d1d4801",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"plugin-amcharts-refs-test-1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:'{\n  "type": "XYChart",\n  "refs": {\n    "data": [\n      { "date": 1652425200000, "value": 92 },\n      { "date": 1652511600000, "value": 95 },\n      { "date": 1652598000000, "value": 100 },\n      { "date": 1652684400000, "value": 100 },\n      { "date": 1652770800000, "value": 96 },\n      { "date": 1652857200000, "value": 97 },\n      { "date": 1652943600000, "value": 94 },\n      { "date": 1653030000000, "value": 89 },\n      { "date": 1653116400000, "value": 89 },\n      { "date": 1653202800000, "value": 87 },\n      { "date": 1653289200000, "value": 84 },\n      { "date": 1653375600000, "value": 81 },\n      { "date": 1653462000000, "value": 85 },\n      { "date": 1653548400000, "value": 89 },\n      { "date": 1653634800000, "value": 86 },\n      { "date": 1653721200000, "value": 90 },\n      { "date": 1653807600000, "value": 93 },\n      { "date": 1653894000000, "value": 94 },\n      { "date": 1653980400000, "value": 94 },\n      { "date": 1654066800000, "value": 96 }\n    ],\n    "xAxis": {\n      "type": "DateAxis",\n      "settings": {\n        "baseInterval": {\n          "timeUnit": "day",\n          "count": 1\n        },\n        "renderer": {\n          "type": "AxisRendererX"\n        }\n      }\n    },\n    "yAxis": {\n      "type": "ValueAxis",\n      "settings": {\n        "renderer": {\n          "type": "AxisRendererY"\n        }\n      }\n    },\n  },\n  "settings": {\n    "panX": false,\n    "panY": false,\n    "wheelX": "panX",\n    "wheelY": "zoomX",\n    "scrollbarX": {\n      "type": "Scrollbar",\n      "settings": {\n        "orientation": "horizontal"\n      }\n    }\n  },\n  "properties": {\n    "xAxes": [\n      "#xAxis"\n    ],\n    "yAxes": [\n      "#yAxis"\n    ],\n    "series": [\n      {\n        "type": "LineSeries",\n        "settings": {\n          "name": "Series",\n          "xAxis": "#xAxis",\n          "yAxis": "#yAxis",\n          "valueYField": "value",\n          "valueXField": "date",\n          "tooltip": {\n            "type": "Tooltip",\n            "settings": {\n              "labelText": "{valueX}: {valueY}"\n            }\n          },\n        },\n        "properties": {\n          "data": "#data"\n        }\n      }\n    ]\n  }\n}',displayName:"JSON",name:"json",type:1,value:'{\n  "type": "XYChart",\n  "refs": {\n    "data": [\n      { "date": 1652425200000, "value": 92 },\n      { "date": 1652511600000, "value": 95 },\n      { "date": 1652598000000, "value": 100 },\n      { "date": 1652684400000, "value": 100 },\n      { "date": 1652770800000, "value": 96 },\n      { "date": 1652857200000, "value": 97 },\n      { "date": 1652943600000, "value": 94 },\n      { "date": 1653030000000, "value": 89 },\n      { "date": 1653116400000, "value": 89 },\n      { "date": 1653202800000, "value": 87 },\n      { "date": 1653289200000, "value": 84 },\n      { "date": 1653375600000, "value": 81 },\n      { "date": 1653462000000, "value": 85 },\n      { "date": 1653548400000, "value": 89 },\n      { "date": 1653634800000, "value": 86 },\n      { "date": 1653721200000, "value": 90 },\n      { "date": 1653807600000, "value": 93 },\n      { "date": 1653894000000, "value": 94 },\n      { "date": 1653980400000, "value": 94 },\n      { "date": 1654066800000, "value": 96 }\n    ],\n    "xAxis": {\n      "type": "DateAxis",\n      "settings": {\n        "baseInterval": {\n          "timeUnit": "day",\n          "count": 1\n        },\n        "renderer": {\n          "type": "AxisRendererX"\n        }\n      }\n    },\n    "yAxis": {\n      "type": "ValueAxis",\n      "settings": {\n        "renderer": {\n          "type": "AxisRendererY"\n        }\n      }\n    },\n  },\n  "settings": {\n    "panX": false,\n    "panY": false,\n    "wheelX": "panX",\n    "wheelY": "zoomX",\n    "scrollbarX": {\n      "type": "Scrollbar",\n      "settings": {\n        "orientation": "horizontal"\n      }\n    }\n  },\n  "properties": {\n    "xAxes": [\n      "#xAxis"\n    ],\n    "yAxes": [\n      "#yAxis"\n    ],\n    "series": [\n      {\n        "type": "LineSeries",\n        "settings": {\n          "name": "Series",\n          "xAxis": "#xAxis",\n          "yAxis": "#yAxis",\n          "valueYField": "value",\n          "valueXField": "date",\n          "tooltip": {\n            "type": "Tooltip",\n            "settings": {\n              "labelText": "{valueX}: {valueY}"\n            }\n          },\n        },\n        "properties": {\n          "data": "#data"\n        }\n      }\n    ]\n  }\n}'}]}],settings:[],stylePlugin:""}],path:"/plugin-amcharts-refs-test-1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"plugin-amcharts-refs-test-1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[{adaptor:"data",data:{exposedModule:"./JsonChartModule",moduleName:"JsonChartModule",remoteEntry:"http://localhost:3000/remoteEntry.js"},name:"chart_module",plugin:"module"}],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"e39fa739-b354-45cb-8a35-5c9e54d28d6f",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"json_chart_example_1",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"amcharts5_json_chart",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:'{\n  refs: {\n    data: [\n      { date: 1652425200000, value: 92 },\n      { date: 1652511600000, value: 95 },\n      { date: 1652598000000, value: 100 },\n      { date: 1652684400000, value: 100 },\n      { date: 1652770800000, value: 96 },\n      { date: 1652857200000, value: 97 },\n      { date: 1652943600000, value: 94 },\n      { date: 1653030000000, value: 89 },\n      { date: 1653116400000, value: 89 },\n      { date: 1653202800000, value: 87 },\n      { date: 1653289200000, value: 84 },\n      { date: 1653375600000, value: 81 },\n      { date: 1653462000000, value: 85 },\n      { date: 1653548400000, value: 89 },\n      { date: 1653634800000, value: 86 },\n      { date: 1653721200000, value: 90 },\n      { date: 1653807600000, value: 93 },\n      { date: 1653894000000, value: 94 },\n      { date: 1653980400000, value: 94 },\n      { date: 1654066800000, value: 96 }\n    ],\n    xAxis: {\n      type: "DateAxis",\n      settings: {\n        maxDeviation: 0.5,\n        baseInterval: {\n          timeUnit: "day",\n          count: 1\n        },\n        renderer: {\n          type: "AxisRendererX",\n          settings: {\n            pan: "zoom"\n          }\n        },\n        tooltip: {\n          type: "Tooltip",\n        },\n      }\n    },\n    yAxis: {\n      type: "ValueAxis",\n      settings: {\n        maxDeviation: 1,\n        renderer: {\n          type: "AxisRendererY",\n          settings: {\n            pan: "zoom"\n          },\n        },\n      }\n    },\n  },\n  type: "XYChart",\n  settings: {\n    panX: false,\n    panY: false,\n    wheelX: "panX",\n    wheelY: "zoomX",\n    cursor: {\n      type: "XYCursor",\n      settings: {\n        behavior: "zoomX"\n      },\n      properties: {\n        lineY: {\n          settings: {\n            visible: false\n          },\n        },\n      },\n    },\n    scrollbarX: {\n      type: "Scrollbar",\n      settings: {\n        orientation: "horizontal"\n      }\n    },\n  },\n  properties: {\n    xAxes: [\n      "#xAxis",\n    ],\n    yAxes: [\n      "#yAxis",\n    ],\n    series: [{\n      type: "LineSeries",\n      settings: {\n        name: "Series",\n        xAxis: "#xAxis",\n        yAxis: "#yAxis",\n        valueYField: "value",\n        valueXField: "date",\n        tooltip: {\n          type: "Tooltip",\n          settings: {\n            labelText: "{valueX}: {valueY}"\n          }\n        },\n      },\n      properties: {\n        data: "#data"\n      }\n    }]\n  }\n}',displayName:"JSON",name:"json",type:1,value:'{\n  refs: {\n    data: [\n      { date: 1652425200000, value: 92 },\n      { date: 1652511600000, value: 95 },\n      { date: 1652598000000, value: 100 },\n      { date: 1652684400000, value: 100 },\n      { date: 1652770800000, value: 96 },\n      { date: 1652857200000, value: 97 },\n      { date: 1652943600000, value: 94 },\n      { date: 1653030000000, value: 89 },\n      { date: 1653116400000, value: 89 },\n      { date: 1653202800000, value: 87 },\n      { date: 1653289200000, value: 84 },\n      { date: 1653375600000, value: 81 },\n      { date: 1653462000000, value: 85 },\n      { date: 1653548400000, value: 89 },\n      { date: 1653634800000, value: 86 },\n      { date: 1653721200000, value: 90 },\n      { date: 1653807600000, value: 93 },\n      { date: 1653894000000, value: 94 },\n      { date: 1653980400000, value: 94 },\n      { date: 1654066800000, value: 96 }\n    ],\n    xAxis: {\n      type: "DateAxis",\n      settings: {\n        maxDeviation: 0.5,\n        baseInterval: {\n          timeUnit: "day",\n          count: 1\n        },\n        renderer: {\n          type: "AxisRendererX",\n          settings: {\n            pan: "zoom"\n          }\n        },\n        tooltip: {\n          type: "Tooltip",\n        },\n      }\n    },\n    yAxis: {\n      type: "ValueAxis",\n      settings: {\n        maxDeviation: 1,\n        renderer: {\n          type: "AxisRendererY",\n          settings: {\n            pan: "zoom"\n          },\n        },\n      }\n    },\n  },\n  type: "XYChart",\n  settings: {\n    panX: false,\n    panY: false,\n    wheelX: "panX",\n    wheelY: "zoomX",\n    cursor: {\n      type: "XYCursor",\n      settings: {\n        behavior: "zoomX"\n      },\n      properties: {\n        lineY: {\n          settings: {\n            visible: false\n          },\n        },\n      },\n    },\n    scrollbarX: {\n      type: "Scrollbar",\n      settings: {\n        orientation: "horizontal"\n      }\n    },\n  },\n  properties: {\n    xAxes: [\n      "#xAxis",\n    ],\n    yAxes: [\n      "#yAxis",\n    ],\n    series: [{\n      type: "LineSeries",\n      settings: {\n        name: "Series",\n        xAxis: "#xAxis",\n        yAxis: "#yAxis",\n        valueYField: "value",\n        valueXField: "date",\n        tooltip: {\n          type: "Tooltip",\n          settings: {\n            labelText: "{valueX}: {valueY}"\n          }\n        },\n      },\n      properties: {\n        data: "#data"\n      }\n    }]\n  }\n}'}]}],settings:[],stylePlugin:""}],path:"/json-chart-example-1",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead",title:"Json Chart Example 1",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"}],DW=[{path:"auth-callback",component:R2}].concat((0,_.Z)(cF.map(function(o){var n=(0,g.Z)(o,2),t=n[0],e=n[1];return{matcher:ok(new ri({id:t,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})),component:NE,data:{panelPageListItem:new ri({id:t,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})}}})),(0,_.Z)(cF.map(function(o){var n=(0,g.Z)(o,2),t=n[0],e=n[1];return{matcher:ak(new ri({id:t,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})),component:ME,data:{panelPageListItem:new ri({id:t,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})}}})),[{path:"**",component:xj,canActivate:[hI]}]),TW={root:ko_apiGatewaySettings.endpointUrl,timeout:2e4};function IW(){var o=new Sl;return o.link=function(n,t,e){return"page"===e?'<classifieds-ui-panel-page id="'.concat(n,'"></classifieds-ui-panel-page>'):'<classifieds-ui-page-router-link href="'.concat(n,'" text="').concat(e,'"></classifieds-ui-page-router-link>')},{renderer:o}}var OW=function(){var n,t,e,o=(0,y.Z)(function n(){(0,f.Z)(this,n)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o,bootstrap:[zq]}),o.\u0275inj=r.\u0275\u0275defineInjector({providers:[(0,B.provideClientHydration)(),hI,{provide:Vn.SITE_NAME,useValue:ko_site},{provide:sf,useValue:new Da(ko_clientSettings)},{provide:rE,useValue:new k8(ko_mediaSettings)},{provide:GI,useValue:new f$(ko_panelsSettings)},{provide:lW,useValue:new dW(ko_alienaliasSettings)},{provide:GO,useValue:new vq({disableRouting:!1})},{provide:Dc,useValue:new ml(ko_cognitoSettings)},{provide:kW,useValue:new AW(ko_rumSettings)},{provide:O.HTTP_INTERCEPTORS,useClass:Ss,multi:!0},{provide:O.HTTP_INTERCEPTORS,useClass:D2,multi:!0},{provide:xs,useValue:TW},{provide:r.APP_INITIALIZER,useFactory:(n={key:function(t){return"panelpage__"+t.data.id},data:RW.map(function(n){return new ri(n)})},t=n.data,e=n.key,function(a){return function(){return new W.y(function(s){(0,P.isPlatformBrowser)(a)?function Bq(o){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ao())("readwrite",function(t){return o.forEach(function(e){return t.put(e[1],e[0])}),Na(t.transaction)})}(t.map(function(l){return[e({data:l}),l]})).then(function(){console.log("data loaded into idb"),s.next(),s.complete()}).catch(function(){console.log("data load into idb failure"),s.next(),s.complete()}):(s.next(),s.complete())})}}),multi:!0,deps:[r.PLATFORM_ID]}],imports:[B.BrowserModule.withServerTransition({appId:"serverApp"}),P.CommonModule,O.HttpClientModule,O.HttpClientJsonpModule,v.FormsModule,v.ReactiveFormsModule,j.BrowserAnimationsModule,oi,hs,uW,iA.forRoot({sanitize:r.SecurityContext.NONE,markedOptions:{provide:Z3,useFactory:IW}}),dr.RouterModule.forRoot(DW,{initialNavigation:"enabledBlocking"}),ko_production?[]:Gq.FT.instrument({maxAge:25,logOnly:ko_production}),BL.forRoot({serializer:lA}),Bt.Aw.forRoot(qq,{metaReducers:Kq,runtimeChecks:{strictActionImmutability:!0,strictStateImmutability:!0}}),ou.forRoot([]),uI,Fq,Vn.UtilsModule,Hy,pn.ContentModule,Gd,so.forRoot(),N0.forRoot(),y3,ga.forRoot({}),Cj,DA,GA,kq,eK,cf,Uq,iK,lK,oW,bW,PW,Rj,Tz,EE,Cq,rF,wu,Vj]}),o}();console.log("bootstrap"),ko_production&&(0,r.enableProdMode)(),B.platformBrowser().bootstrapModule(OW).catch(function(o){return console.log(o)})},26954:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.AwsCrc32c=void 0;var M=S(92361),K=S(31500),B=S(25423),r=function(){function y(){this.crc32c=new B.Crc32c}return y.prototype.update=function(f){(0,K.isEmptyData)(f)||this.crc32c.update((0,K.convertToBuffer)(f))},y.prototype.digest=function(){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(f){return[2,(0,K.numToUint8)(this.crc32c.digest())]})})},y.prototype.reset=function(){this.crc32c=new B.Crc32c},y}();V.AwsCrc32c=r},25423:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.AwsCrc32c=V.Crc32c=V.crc32c=void 0;var M=S(92361),K=S(31500);V.crc32c=function B(_){return(new r).update(_).digest()};var r=function(){function _(){this.checksum=4294967295}return _.prototype.update=function(P){var O,j;try{for(var v=M.__values(P),b=v.next();!b.done;b=v.next())this.checksum=this.checksum>>>8^f[255&(this.checksum^b.value)]}catch(z){O={error:z}}finally{try{b&&!b.done&&(j=v.return)&&j.call(v)}finally{if(O)throw O.error}}return this},_.prototype.digest=function(){return(4294967295^this.checksum)>>>0},_}();V.Crc32c=r;var f=(0,K.uint32ArrayFrom)([0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697]),g=S(26954);Object.defineProperty(V,"AwsCrc32c",{enumerable:!0,get:function(){return g.AwsCrc32c}})},76502:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.convertToBuffer=void 0;var M=S(82093),K=typeof Buffer<"u"&&Buffer.from?function(r){return Buffer.from(r,"utf8")}:M.fromUtf8;V.convertToBuffer=function B(r){return r instanceof Uint8Array?r:"string"==typeof r?K(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(r)}},31500:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.uint32ArrayFrom=V.numToUint8=V.isEmptyData=V.convertToBuffer=void 0;var M=S(76502);Object.defineProperty(V,"convertToBuffer",{enumerable:!0,get:function(){return M.convertToBuffer}});var K=S(63814);Object.defineProperty(V,"isEmptyData",{enumerable:!0,get:function(){return K.isEmptyData}});var B=S(10566);Object.defineProperty(V,"numToUint8",{enumerable:!0,get:function(){return B.numToUint8}});var r=S(2700);Object.defineProperty(V,"uint32ArrayFrom",{enumerable:!0,get:function(){return r.uint32ArrayFrom}})},63814:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.isEmptyData=void 0,V.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},10566:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.numToUint8=void 0,V.numToUint8=function S(M){return new Uint8Array([(4278190080&M)>>24,(16711680&M)>>16,(65280&M)>>8,255&M])}},2700:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.uint32ArrayFrom=void 0,V.uint32ArrayFrom=function S(M){if(!Uint32Array.from){for(var K=new Uint32Array(M.length),B=0;B<M.length;)K[B]=M[B],B+=1;return K}return Uint32Array.from(M)}},23141:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.EMPTY_DATA_SHA_1=V.SHA_1_HMAC_ALGO=V.SHA_1_HASH=void 0,V.SHA_1_HASH={name:"SHA-1"},V.SHA_1_HMAC_ALGO={name:"HMAC",hash:V.SHA_1_HASH},V.EMPTY_DATA_SHA_1=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9])},71883:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Sha1=void 0;var M=S(21283),K=S(32766),B=S(7506),r=S(90776),y=S(45468),f=S(68538),g=function(){function _(P){if((0,B.supportsWebCrypto)((0,y.locateWindow)()))this.hash=new K.Sha1(P);else{if(!(0,r.isMsWindow)((0,y.locateWindow)()))throw new Error("SHA1 not supported");this.hash=new M.Sha1(P)}}return _.prototype.update=function(P,O){this.hash.update((0,f.convertToBuffer)(P))},_.prototype.digest=function(){return this.hash.digest()},_.prototype.reset=function(){this.hash.reset()},_}();V.Sha1=g},21283:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Sha1=void 0;var M=S(33626),K=S(23141),B=S(82093),r=S(45468),y=function(){function _(P){this.secret=P,this.reset()}return _.prototype.update=function(P){var O=this;(0,M.isEmptyData)(P)||(this.operation=this.operation.then(function(j){return j.onerror=function(){O.operation=Promise.reject(new Error("Error encountered updating hash"))},j.process(g(P)),j}),this.operation.catch(function(){}))},_.prototype.digest=function(){return this.operation.then(function(P){return new Promise(function(O,j){P.onerror=function(){j(new Error("Error encountered finalizing hash"))},P.oncomplete=function(){P.result&&O(new Uint8Array(P.result)),j(new Error("Error encountered finalizing hash"))},P.finish()})})},_.prototype.reset=function(){this.secret?(this.operation=function f(_){return new Promise(function(P,O){var j=(0,r.locateWindow)().msCrypto.subtle.importKey("raw",g(_),K.SHA_1_HMAC_ALGO,!1,["sign"]);j.oncomplete=function(){j.result&&P(j.result),O(new Error("ImportKey completed without importing key."))},j.onerror=function(){O(new Error("ImportKey failed to import key."))}})}(this.secret).then(function(P){return(0,r.locateWindow)().msCrypto.subtle.sign(K.SHA_1_HMAC_ALGO,P)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,r.locateWindow)().msCrypto.subtle.digest("SHA-1"))},_}();function g(_){return"string"==typeof _?(0,B.fromUtf8)(_):ArrayBuffer.isView(_)?new Uint8Array(_.buffer,_.byteOffset,_.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(_)}V.Sha1=y},6982:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.WebCryptoSha1=V.Ie11Sha1=void 0,S(30070).__exportStar(S(71883),V);var K=S(21283);Object.defineProperty(V,"Ie11Sha1",{enumerable:!0,get:function(){return K.Sha1}});var B=S(32766);Object.defineProperty(V,"WebCryptoSha1",{enumerable:!0,get:function(){return B.Sha1}})},33626:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.isEmptyData=void 0,V.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},32766:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Sha1=void 0;var M=S(82093),K=S(33626),B=S(23141),r=S(45468),y=function(){function g(_){this.toHash=new Uint8Array(0),void 0!==_&&(this.key=new Promise(function(P,O){(0,r.locateWindow)().crypto.subtle.importKey("raw",f(_),B.SHA_1_HMAC_ALGO,!1,["sign"]).then(P,O)}),this.key.catch(function(){}))}return g.prototype.update=function(_){if(!(0,K.isEmptyData)(_)){var P=f(_),O=new Uint8Array(this.toHash.byteLength+P.byteLength);O.set(this.toHash,0),O.set(P,this.toHash.byteLength),this.toHash=O}},g.prototype.digest=function(){var _=this;return this.key?this.key.then(function(P){return(0,r.locateWindow)().crypto.subtle.sign(B.SHA_1_HMAC_ALGO,P,_.toHash).then(function(O){return new Uint8Array(O)})}):(0,K.isEmptyData)(this.toHash)?Promise.resolve(B.EMPTY_DATA_SHA_1):Promise.resolve().then(function(){return(0,r.locateWindow)().crypto.subtle.digest(B.SHA_1_HASH,_.toHash)}).then(function(P){return Promise.resolve(new Uint8Array(P))})},g.prototype.reset=function(){this.toHash=new Uint8Array(0)},g}();function f(g){return"string"==typeof g?(0,M.fromUtf8)(g):ArrayBuffer.isView(g)?new Uint8Array(g.buffer,g.byteOffset,g.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(g)}V.Sha1=y},19189:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0})},12624:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0})},98732:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0})},68424:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0})},27705:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.isMsWindow=void 0;var S=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];V.isMsWindow=function K(B){if(function M(B){return"MSInputMethodContext"in B&&"msCrypto"in B}(B)&&void 0!==B.msCrypto.subtle){var r=B.msCrypto,y=r.getRandomValues,f=r.subtle;return S.map(function(g){return f[g]}).concat(y).every(function(g){return"function"==typeof g})}return!1}},90776:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0});var M=S(30070);M.__exportStar(S(19189),V),M.__exportStar(S(12624),V),M.__exportStar(S(98732),V),M.__exportStar(S(68424),V),M.__exportStar(S(27705),V)},7506:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),S(30070).__exportStar(S(72398),V)},72398:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.supportsZeroByteGCM=V.supportsSubtleCrypto=V.supportsSecureRandom=V.supportsWebCrypto=void 0;var M=S(30070),K=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(g){return"object"==typeof g&&"object"==typeof g.crypto&&"function"==typeof g.crypto.getRandomValues}function y(g){return g&&K.every(function(_){return"function"==typeof g[_]})}V.supportsWebCrypto=function B(g){return!(!r(g)||"object"!=typeof g.crypto.subtle)&&y(g.crypto.subtle)},V.supportsSecureRandom=r,V.supportsSubtleCrypto=y,V.supportsZeroByteGCM=function f(g){return M.__awaiter(this,void 0,void 0,function(){var _;return M.__generator(this,function(j){switch(j.label){case 0:if(!y(g))return[2,!1];j.label=1;case 1:return j.trys.push([1,4,,5]),[4,g.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return _=j.sent(),[4,g.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},_,new Uint8Array(0))];case 3:return[2,16===j.sent().byteLength];case 4:return j.sent(),[2,!1];case 5:return[2]}})})}},55620:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.convertToBuffer=void 0;var M=S(82093),K=typeof Buffer<"u"&&Buffer.from?function(r){return Buffer.from(r,"utf8")}:M.fromUtf8;V.convertToBuffer=function B(r){return r instanceof Uint8Array?r:"string"==typeof r?K(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(r)}},68538:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.uint32ArrayFrom=V.numToUint8=V.isEmptyData=V.convertToBuffer=void 0;var M=S(55620);Object.defineProperty(V,"convertToBuffer",{enumerable:!0,get:function(){return M.convertToBuffer}});var K=S(63015);Object.defineProperty(V,"isEmptyData",{enumerable:!0,get:function(){return K.isEmptyData}});var B=S(11487);Object.defineProperty(V,"numToUint8",{enumerable:!0,get:function(){return B.numToUint8}});var r=S(47523);Object.defineProperty(V,"uint32ArrayFrom",{enumerable:!0,get:function(){return r.uint32ArrayFrom}})},63015:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.isEmptyData=void 0,V.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},11487:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.numToUint8=void 0,V.numToUint8=function S(M){return new Uint8Array([(4278190080&M)>>24,(16711680&M)>>16,(65280&M)>>8,255&M])}},47523:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.uint32ArrayFrom=void 0,V.uint32ArrayFrom=function S(M){if(!Uint32Array.from){for(var K=new Uint32Array(M.length),B=0;B<M.length;)K[B]=M[B],B+=1;return K}return Uint32Array.from(M)}},25337:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.RawSha256=void 0;var M=S(99271),K=function(){function B(){this.state=Int32Array.from(M.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return B.prototype.update=function(r){if(this.finished)throw new Error("Attempted to update an already finished hash.");var y=0,f=r.byteLength;if(this.bytesHashed+=f,8*this.bytesHashed>M.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;f>0;)this.buffer[this.bufferLength++]=r[y++],f--,this.bufferLength===M.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},B.prototype.digest=function(){if(!this.finished){var r=8*this.bytesHashed,y=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),f=this.bufferLength;if(y.setUint8(this.bufferLength++,128),f%M.BLOCK_SIZE>=M.BLOCK_SIZE-8){for(var g=this.bufferLength;g<M.BLOCK_SIZE;g++)y.setUint8(g,0);this.hashBuffer(),this.bufferLength=0}for(g=this.bufferLength;g<M.BLOCK_SIZE-8;g++)y.setUint8(g,0);y.setUint32(M.BLOCK_SIZE-8,Math.floor(r/4294967296),!0),y.setUint32(M.BLOCK_SIZE-4,r),this.hashBuffer(),this.finished=!0}var _=new Uint8Array(M.DIGEST_LENGTH);for(g=0;g<8;g++)_[4*g]=this.state[g]>>>24&255,_[4*g+1]=this.state[g]>>>16&255,_[4*g+2]=this.state[g]>>>8&255,_[4*g+3]=this.state[g]>>>0&255;return _},B.prototype.hashBuffer=function(){for(var y=this.buffer,f=this.state,g=f[0],_=f[1],P=f[2],O=f[3],j=f[4],v=f[5],b=f[6],G=f[7],z=0;z<M.BLOCK_SIZE;z++){if(z<16)this.temp[z]=(255&y[4*z])<<24|(255&y[4*z+1])<<16|(255&y[4*z+2])<<8|255&y[4*z+3];else{var H=this.temp[z-2];this.temp[z]=(((H>>>17|H<<15)^(H>>>19|H<<13)^H>>>10)+this.temp[z-7]|0)+((((H=this.temp[z-15])>>>7|H<<25)^(H>>>18|H<<14)^H>>>3)+this.temp[z-16]|0)}var W=(((j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7))+(j&v^~j&b)|0)+(G+(M.KEY[z]+this.temp[z]|0)|0)|0,Y=((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+(g&_^g&P^_&P)|0;G=b,b=v,v=j,j=O+W|0,O=P,P=_,_=g,g=W+Y|0}f[0]+=g,f[1]+=_,f[2]+=P,f[3]+=O,f[4]+=j,f[5]+=v,f[6]+=b,f[7]+=G},B}();V.RawSha256=K},99271:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.MAX_HASHABLE_LENGTH=V.INIT=V.KEY=V.DIGEST_LENGTH=V.BLOCK_SIZE=void 0,V.BLOCK_SIZE=64,V.DIGEST_LENGTH=32,V.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),V.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],V.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},89984:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),(0,S(99055).__exportStar)(S(37803),V)},37803:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Sha256=void 0;var M=S(99055),K=S(99271),B=S(25337),r=S(35272),y=function(){function g(_){if(this.hash=new B.RawSha256,_){this.outer=new B.RawSha256;var P=function f(g){var _=(0,r.convertToBuffer)(g);if(_.byteLength>K.BLOCK_SIZE){var P=new B.RawSha256;P.update(_),_=P.digest()}var O=new Uint8Array(K.BLOCK_SIZE);return O.set(_),O}(_),O=new Uint8Array(K.BLOCK_SIZE);O.set(P);for(var j=0;j<K.BLOCK_SIZE;j++)P[j]^=54,O[j]^=92;for(this.hash.update(P),this.outer.update(O),j=0;j<P.byteLength;j++)P[j]=0}}return g.prototype.update=function(_){if(!(0,r.isEmptyData)(_)&&!this.error)try{this.hash.update((0,r.convertToBuffer)(_))}catch(P){this.error=P}},g.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},g.prototype.digest=function(){return(0,M.__awaiter)(this,void 0,void 0,function(){return(0,M.__generator)(this,function(_){return[2,this.digestSync()]})})},g}();V.Sha256=y},5448:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.convertToBuffer=void 0;var M=S(82093),K=typeof Buffer<"u"&&Buffer.from?function(r){return Buffer.from(r,"utf8")}:M.fromUtf8;V.convertToBuffer=function B(r){return r instanceof Uint8Array?r:"string"==typeof r?K(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(r)}},35272:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.uint32ArrayFrom=V.numToUint8=V.isEmptyData=V.convertToBuffer=void 0;var M=S(5448);Object.defineProperty(V,"convertToBuffer",{enumerable:!0,get:function(){return M.convertToBuffer}});var K=S(40482);Object.defineProperty(V,"isEmptyData",{enumerable:!0,get:function(){return K.isEmptyData}});var B=S(36203);Object.defineProperty(V,"numToUint8",{enumerable:!0,get:function(){return B.numToUint8}});var r=S(65824);Object.defineProperty(V,"uint32ArrayFrom",{enumerable:!0,get:function(){return r.uint32ArrayFrom}})},40482:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.isEmptyData=void 0,V.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},36203:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.numToUint8=void 0,V.numToUint8=function S(M){return new Uint8Array([(4278190080&M)>>24,(16711680&M)>>16,(65280&M)>>8,255&M])}},65824:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.uint32ArrayFrom=void 0,V.uint32ArrayFrom=function S(M){if(!Array.from){for(var K=new Uint32Array(M.length);0<M.length;)K[0]=M[0];return K}return Uint32Array.from(M)}},24447:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0})},75694:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0})},73502:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0})},59710:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0})},53707:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.isMsWindow=void 0;var S=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];V.isMsWindow=function K(B){if(function M(B){return"MSInputMethodContext"in B&&"msCrypto"in B}(B)&&void 0!==B.msCrypto.subtle){var r=B.msCrypto,y=r.getRandomValues,f=r.subtle;return S.map(function(g){return f[g]}).concat(y).every(function(g){return"function"==typeof g})}return!1}},59826:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0});var M=S(37994);M.__exportStar(S(24447),V),M.__exportStar(S(75694),V),M.__exportStar(S(73502),V),M.__exportStar(S(59710),V),M.__exportStar(S(53707),V)},84812:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.EMPTY_DATA_SHA_256=V.SHA_256_HMAC_ALGO=V.SHA_256_HASH=void 0,V.SHA_256_HASH={name:"SHA-256"},V.SHA_256_HMAC_ALGO={name:"HMAC",hash:V.SHA_256_HASH},V.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},73911:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Sha256=void 0;var M=S(15912),K=S(80532),B=S(47408),r=S(98284),y=S(59826),f=S(45468),g=S(62862),_=function(){function P(O){this.hash=(0,r.supportsWebCrypto)((0,f.locateWindow)())?new K.Sha256(O):(0,y.isMsWindow)((0,f.locateWindow)())?new M.Sha256(O):new B.Sha256(O)}return P.prototype.update=function(O,j){this.hash.update((0,g.convertToBuffer)(O))},P.prototype.digest=function(){return this.hash.digest()},P.prototype.reset=function(){this.hash.reset()},P}();V.Sha256=_},15912:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Sha256=void 0;var M=S(37283),K=S(84812),B=S(82093),r=S(45468),y=function(){function _(P){this.secret=P,this.reset()}return _.prototype.update=function(P){var O=this;(0,M.isEmptyData)(P)||(this.operation=this.operation.then(function(j){return j.onerror=function(){O.operation=Promise.reject(new Error("Error encountered updating hash"))},j.process(g(P)),j}),this.operation.catch(function(){}))},_.prototype.digest=function(){return this.operation.then(function(P){return new Promise(function(O,j){P.onerror=function(){j(new Error("Error encountered finalizing hash"))},P.oncomplete=function(){P.result&&O(new Uint8Array(P.result)),j(new Error("Error encountered finalizing hash"))},P.finish()})})},_.prototype.reset=function(){this.secret?(this.operation=function f(_){return new Promise(function(P,O){var j=(0,r.locateWindow)().msCrypto.subtle.importKey("raw",g(_),K.SHA_256_HMAC_ALGO,!1,["sign"]);j.oncomplete=function(){j.result&&P(j.result),O(new Error("ImportKey completed without importing key."))},j.onerror=function(){O(new Error("ImportKey failed to import key."))}})}(this.secret).then(function(P){return(0,r.locateWindow)().msCrypto.subtle.sign(K.SHA_256_HMAC_ALGO,P)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,r.locateWindow)().msCrypto.subtle.digest("SHA-256"))},_}();function g(_){return"string"==typeof _?(0,B.fromUtf8)(_):ArrayBuffer.isView(_)?new Uint8Array(_.buffer,_.byteOffset,_.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(_)}V.Sha256=y},46513:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.WebCryptoSha256=V.Ie11Sha256=void 0,S(68952).__exportStar(S(73911),V);var K=S(15912);Object.defineProperty(V,"Ie11Sha256",{enumerable:!0,get:function(){return K.Sha256}});var B=S(80532);Object.defineProperty(V,"WebCryptoSha256",{enumerable:!0,get:function(){return B.Sha256}})},37283:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.isEmptyData=void 0,V.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},80532:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Sha256=void 0;var M=S(62862),K=S(84812),B=S(45468),r=function(){function y(f){this.toHash=new Uint8Array(0),this.secret=f,this.reset()}return y.prototype.update=function(f){if(!(0,M.isEmptyData)(f)){var g=(0,M.convertToBuffer)(f),_=new Uint8Array(this.toHash.byteLength+g.byteLength);_.set(this.toHash,0),_.set(g,this.toHash.byteLength),this.toHash=_}},y.prototype.digest=function(){var f=this;return this.key?this.key.then(function(g){return(0,B.locateWindow)().crypto.subtle.sign(K.SHA_256_HMAC_ALGO,g,f.toHash).then(function(_){return new Uint8Array(_)})}):(0,M.isEmptyData)(this.toHash)?Promise.resolve(K.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,B.locateWindow)().crypto.subtle.digest(K.SHA_256_HASH,f.toHash)}).then(function(g){return Promise.resolve(new Uint8Array(g))})},y.prototype.reset=function(){var f=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise(function(g,_){(0,B.locateWindow)().crypto.subtle.importKey("raw",(0,M.convertToBuffer)(f.secret),K.SHA_256_HMAC_ALGO,!1,["sign"]).then(g,_)}),this.key.catch(function(){}))},y}();V.Sha256=r},69700:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.RawSha256=void 0;var M=S(29359),K=function(){function B(){this.state=Int32Array.from(M.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return B.prototype.update=function(r){if(this.finished)throw new Error("Attempted to update an already finished hash.");var y=0,f=r.byteLength;if(this.bytesHashed+=f,8*this.bytesHashed>M.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;f>0;)this.buffer[this.bufferLength++]=r[y++],f--,this.bufferLength===M.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},B.prototype.digest=function(){if(!this.finished){var r=8*this.bytesHashed,y=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),f=this.bufferLength;if(y.setUint8(this.bufferLength++,128),f%M.BLOCK_SIZE>=M.BLOCK_SIZE-8){for(var g=this.bufferLength;g<M.BLOCK_SIZE;g++)y.setUint8(g,0);this.hashBuffer(),this.bufferLength=0}for(g=this.bufferLength;g<M.BLOCK_SIZE-8;g++)y.setUint8(g,0);y.setUint32(M.BLOCK_SIZE-8,Math.floor(r/4294967296),!0),y.setUint32(M.BLOCK_SIZE-4,r),this.hashBuffer(),this.finished=!0}var _=new Uint8Array(M.DIGEST_LENGTH);for(g=0;g<8;g++)_[4*g]=this.state[g]>>>24&255,_[4*g+1]=this.state[g]>>>16&255,_[4*g+2]=this.state[g]>>>8&255,_[4*g+3]=this.state[g]>>>0&255;return _},B.prototype.hashBuffer=function(){for(var y=this.buffer,f=this.state,g=f[0],_=f[1],P=f[2],O=f[3],j=f[4],v=f[5],b=f[6],G=f[7],z=0;z<M.BLOCK_SIZE;z++){if(z<16)this.temp[z]=(255&y[4*z])<<24|(255&y[4*z+1])<<16|(255&y[4*z+2])<<8|255&y[4*z+3];else{var H=this.temp[z-2];this.temp[z]=(((H>>>17|H<<15)^(H>>>19|H<<13)^H>>>10)+this.temp[z-7]|0)+((((H=this.temp[z-15])>>>7|H<<25)^(H>>>18|H<<14)^H>>>3)+this.temp[z-16]|0)}var W=(((j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7))+(j&v^~j&b)|0)+(G+(M.KEY[z]+this.temp[z]|0)|0)|0,Y=((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+(g&_^g&P^_&P)|0;G=b,b=v,v=j,j=O+W|0,O=P,P=_,_=g,g=W+Y|0}f[0]+=g,f[1]+=_,f[2]+=P,f[3]+=O,f[4]+=j,f[5]+=v,f[6]+=b,f[7]+=G},B}();V.RawSha256=K},29359:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.MAX_HASHABLE_LENGTH=V.INIT=V.KEY=V.DIGEST_LENGTH=V.BLOCK_SIZE=void 0,V.BLOCK_SIZE=64,V.DIGEST_LENGTH=32,V.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),V.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],V.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},47408:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),S(1707).__exportStar(S(4319),V)},4319:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Sha256=void 0;var M=S(1707),K=S(29359),B=S(69700),r=S(62862),y=function(){function g(_){this.secret=_,this.hash=new B.RawSha256,this.reset()}return g.prototype.update=function(_){if(!(0,r.isEmptyData)(_)&&!this.error)try{this.hash.update((0,r.convertToBuffer)(_))}catch(P){this.error=P}},g.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},g.prototype.digest=function(){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(_){return[2,this.digestSync()]})})},g.prototype.reset=function(){if(this.hash=new B.RawSha256,this.secret){this.outer=new B.RawSha256;var _=function f(g){var _=(0,r.convertToBuffer)(g);if(_.byteLength>K.BLOCK_SIZE){var P=new B.RawSha256;P.update(_),_=P.digest()}var O=new Uint8Array(K.BLOCK_SIZE);return O.set(_),O}(this.secret),P=new Uint8Array(K.BLOCK_SIZE);P.set(_);for(var O=0;O<K.BLOCK_SIZE;O++)_[O]^=54,P[O]^=92;for(this.hash.update(_),this.outer.update(P),O=0;O<_.byteLength;O++)_[O]=0}},g}();V.Sha256=y},98284:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),S(59106).__exportStar(S(67906),V)},67906:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.supportsZeroByteGCM=V.supportsSubtleCrypto=V.supportsSecureRandom=V.supportsWebCrypto=void 0;var M=S(59106),K=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(g){return"object"==typeof g&&"object"==typeof g.crypto&&"function"==typeof g.crypto.getRandomValues}function y(g){return g&&K.every(function(_){return"function"==typeof g[_]})}V.supportsWebCrypto=function B(g){return!(!r(g)||"object"!=typeof g.crypto.subtle)&&y(g.crypto.subtle)},V.supportsSecureRandom=r,V.supportsSubtleCrypto=y,V.supportsZeroByteGCM=function f(g){return M.__awaiter(this,void 0,void 0,function(){var _;return M.__generator(this,function(j){switch(j.label){case 0:if(!y(g))return[2,!1];j.label=1;case 1:return j.trys.push([1,4,,5]),[4,g.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return _=j.sent(),[4,g.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},_,new Uint8Array(0))];case 3:return[2,16===j.sent().byteLength];case 4:return j.sent(),[2,!1];case 5:return[2]}})})}},83376:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.convertToBuffer=void 0;var M=S(82093),K=typeof Buffer<"u"&&Buffer.from?function(r){return Buffer.from(r,"utf8")}:M.fromUtf8;V.convertToBuffer=function B(r){return r instanceof Uint8Array?r:"string"==typeof r?K(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(r)}},62862:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.uint32ArrayFrom=V.numToUint8=V.isEmptyData=V.convertToBuffer=void 0;var M=S(83376);Object.defineProperty(V,"convertToBuffer",{enumerable:!0,get:function(){return M.convertToBuffer}});var K=S(48075);Object.defineProperty(V,"isEmptyData",{enumerable:!0,get:function(){return K.isEmptyData}});var B=S(92127);Object.defineProperty(V,"numToUint8",{enumerable:!0,get:function(){return B.numToUint8}});var r=S(92768);Object.defineProperty(V,"uint32ArrayFrom",{enumerable:!0,get:function(){return r.uint32ArrayFrom}})},48075:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.isEmptyData=void 0,V.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},92127:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.numToUint8=void 0,V.numToUint8=function S(M){return new Uint8Array([(4278190080&M)>>24,(16711680&M)>>16,(65280&M)>>8,255&M])}},92768:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.uint32ArrayFrom=void 0,V.uint32ArrayFrom=function S(M){if(!Uint32Array.from){for(var K=new Uint32Array(M.length),B=0;B<M.length;)K[B]=M[B],B+=1;return K}return Uint32Array.from(M)}},11674:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0})},98645:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0})},82667:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0})},81693:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0})},49484:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.isMsWindow=void 0;var S=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];V.isMsWindow=function K(B){if(function M(B){return"MSInputMethodContext"in B&&"msCrypto"in B}(B)&&void 0!==B.msCrypto.subtle){var r=B.msCrypto,y=r.getRandomValues,f=r.subtle;return S.map(function(g){return f[g]}).concat(y).every(function(g){return"function"==typeof g})}return!1}},76868:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0});var M=S(55298);M.__exportStar(S(11674),V),M.__exportStar(S(98645),V),M.__exportStar(S(82667),V),M.__exportStar(S(81693),V),M.__exportStar(S(49484),V)},21432:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.EMPTY_DATA_SHA_256=V.SHA_256_HMAC_ALGO=V.SHA_256_HASH=void 0,V.SHA_256_HASH={name:"SHA-256"},V.SHA_256_HMAC_ALGO={name:"HMAC",hash:V.SHA_256_HASH},V.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},61602:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Sha256=void 0;var M=S(51673),K=S(65717),B=S(69985),r=S(39696),y=S(76868),f=S(45468),g=S(29248),_=function(){function P(O){this.hash=(0,r.supportsWebCrypto)((0,f.locateWindow)())?new K.Sha256(O):(0,y.isMsWindow)((0,f.locateWindow)())?new M.Sha256(O):new B.Sha256(O)}return P.prototype.update=function(O,j){this.hash.update((0,g.convertToBuffer)(O))},P.prototype.digest=function(){return this.hash.digest()},P.prototype.reset=function(){this.hash.reset()},P}();V.Sha256=_},51673:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Sha256=void 0;var M=S(67778),K=S(21432),B=S(82093),r=S(45468),y=function(){function _(P){this.secret=P,this.reset()}return _.prototype.update=function(P){var O=this;(0,M.isEmptyData)(P)||(this.operation=this.operation.then(function(j){return j.onerror=function(){O.operation=Promise.reject(new Error("Error encountered updating hash"))},j.process(g(P)),j}),this.operation.catch(function(){}))},_.prototype.digest=function(){return this.operation.then(function(P){return new Promise(function(O,j){P.onerror=function(){j(new Error("Error encountered finalizing hash"))},P.oncomplete=function(){P.result&&O(new Uint8Array(P.result)),j(new Error("Error encountered finalizing hash"))},P.finish()})})},_.prototype.reset=function(){this.secret?(this.operation=function f(_){return new Promise(function(P,O){var j=(0,r.locateWindow)().msCrypto.subtle.importKey("raw",g(_),K.SHA_256_HMAC_ALGO,!1,["sign"]);j.oncomplete=function(){j.result&&P(j.result),O(new Error("ImportKey completed without importing key."))},j.onerror=function(){O(new Error("ImportKey failed to import key."))}})}(this.secret).then(function(P){return(0,r.locateWindow)().msCrypto.subtle.sign(K.SHA_256_HMAC_ALGO,P)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,r.locateWindow)().msCrypto.subtle.digest("SHA-256"))},_}();function g(_){return"string"==typeof _?(0,B.fromUtf8)(_):ArrayBuffer.isView(_)?new Uint8Array(_.buffer,_.byteOffset,_.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(_)}V.Sha256=y},44907:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.WebCryptoSha256=V.Ie11Sha256=void 0,S(59904).__exportStar(S(61602),V);var K=S(51673);Object.defineProperty(V,"Ie11Sha256",{enumerable:!0,get:function(){return K.Sha256}});var B=S(65717);Object.defineProperty(V,"WebCryptoSha256",{enumerable:!0,get:function(){return B.Sha256}})},67778:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.isEmptyData=void 0,V.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},65717:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Sha256=void 0;var M=S(29248),K=S(21432),B=S(45468),r=function(){function y(f){this.toHash=new Uint8Array(0),this.secret=f,this.reset()}return y.prototype.update=function(f){if(!(0,M.isEmptyData)(f)){var g=(0,M.convertToBuffer)(f),_=new Uint8Array(this.toHash.byteLength+g.byteLength);_.set(this.toHash,0),_.set(g,this.toHash.byteLength),this.toHash=_}},y.prototype.digest=function(){var f=this;return this.key?this.key.then(function(g){return(0,B.locateWindow)().crypto.subtle.sign(K.SHA_256_HMAC_ALGO,g,f.toHash).then(function(_){return new Uint8Array(_)})}):(0,M.isEmptyData)(this.toHash)?Promise.resolve(K.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,B.locateWindow)().crypto.subtle.digest(K.SHA_256_HASH,f.toHash)}).then(function(g){return Promise.resolve(new Uint8Array(g))})},y.prototype.reset=function(){var f=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise(function(g,_){(0,B.locateWindow)().crypto.subtle.importKey("raw",(0,M.convertToBuffer)(f.secret),K.SHA_256_HMAC_ALGO,!1,["sign"]).then(g,_)}),this.key.catch(function(){}))},y}();V.Sha256=r},26643:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.RawSha256=void 0;var M=S(39210),K=function(){function B(){this.state=Int32Array.from(M.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return B.prototype.update=function(r){if(this.finished)throw new Error("Attempted to update an already finished hash.");var y=0,f=r.byteLength;if(this.bytesHashed+=f,8*this.bytesHashed>M.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;f>0;)this.buffer[this.bufferLength++]=r[y++],f--,this.bufferLength===M.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},B.prototype.digest=function(){if(!this.finished){var r=8*this.bytesHashed,y=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),f=this.bufferLength;if(y.setUint8(this.bufferLength++,128),f%M.BLOCK_SIZE>=M.BLOCK_SIZE-8){for(var g=this.bufferLength;g<M.BLOCK_SIZE;g++)y.setUint8(g,0);this.hashBuffer(),this.bufferLength=0}for(g=this.bufferLength;g<M.BLOCK_SIZE-8;g++)y.setUint8(g,0);y.setUint32(M.BLOCK_SIZE-8,Math.floor(r/4294967296),!0),y.setUint32(M.BLOCK_SIZE-4,r),this.hashBuffer(),this.finished=!0}var _=new Uint8Array(M.DIGEST_LENGTH);for(g=0;g<8;g++)_[4*g]=this.state[g]>>>24&255,_[4*g+1]=this.state[g]>>>16&255,_[4*g+2]=this.state[g]>>>8&255,_[4*g+3]=this.state[g]>>>0&255;return _},B.prototype.hashBuffer=function(){for(var y=this.buffer,f=this.state,g=f[0],_=f[1],P=f[2],O=f[3],j=f[4],v=f[5],b=f[6],G=f[7],z=0;z<M.BLOCK_SIZE;z++){if(z<16)this.temp[z]=(255&y[4*z])<<24|(255&y[4*z+1])<<16|(255&y[4*z+2])<<8|255&y[4*z+3];else{var H=this.temp[z-2];this.temp[z]=(((H>>>17|H<<15)^(H>>>19|H<<13)^H>>>10)+this.temp[z-7]|0)+((((H=this.temp[z-15])>>>7|H<<25)^(H>>>18|H<<14)^H>>>3)+this.temp[z-16]|0)}var W=(((j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7))+(j&v^~j&b)|0)+(G+(M.KEY[z]+this.temp[z]|0)|0)|0,Y=((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+(g&_^g&P^_&P)|0;G=b,b=v,v=j,j=O+W|0,O=P,P=_,_=g,g=W+Y|0}f[0]+=g,f[1]+=_,f[2]+=P,f[3]+=O,f[4]+=j,f[5]+=v,f[6]+=b,f[7]+=G},B}();V.RawSha256=K},39210:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.MAX_HASHABLE_LENGTH=V.INIT=V.KEY=V.DIGEST_LENGTH=V.BLOCK_SIZE=void 0,V.BLOCK_SIZE=64,V.DIGEST_LENGTH=32,V.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),V.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],V.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},69985:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),S(97716).__exportStar(S(80769),V)},80769:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.Sha256=void 0;var M=S(97716),K=S(39210),B=S(26643),r=S(29248),y=function(){function g(_){this.secret=_,this.hash=new B.RawSha256,this.reset()}return g.prototype.update=function(_){if(!(0,r.isEmptyData)(_)&&!this.error)try{this.hash.update((0,r.convertToBuffer)(_))}catch(P){this.error=P}},g.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},g.prototype.digest=function(){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(_){return[2,this.digestSync()]})})},g.prototype.reset=function(){if(this.hash=new B.RawSha256,this.secret){this.outer=new B.RawSha256;var _=function f(g){var _=(0,r.convertToBuffer)(g);if(_.byteLength>K.BLOCK_SIZE){var P=new B.RawSha256;P.update(_),_=P.digest()}var O=new Uint8Array(K.BLOCK_SIZE);return O.set(_),O}(this.secret),P=new Uint8Array(K.BLOCK_SIZE);P.set(_);for(var O=0;O<K.BLOCK_SIZE;O++)_[O]^=54,P[O]^=92;for(this.hash.update(_),this.outer.update(P),O=0;O<_.byteLength;O++)_[O]=0}},g}();V.Sha256=y},39696:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),S(76187).__exportStar(S(68022),V)},68022:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.supportsZeroByteGCM=V.supportsSubtleCrypto=V.supportsSecureRandom=V.supportsWebCrypto=void 0;var M=S(76187),K=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(g){return"object"==typeof g&&"object"==typeof g.crypto&&"function"==typeof g.crypto.getRandomValues}function y(g){return g&&K.every(function(_){return"function"==typeof g[_]})}V.supportsWebCrypto=function B(g){return!(!r(g)||"object"!=typeof g.crypto.subtle)&&y(g.crypto.subtle)},V.supportsSecureRandom=r,V.supportsSubtleCrypto=y,V.supportsZeroByteGCM=function f(g){return M.__awaiter(this,void 0,void 0,function(){var _;return M.__generator(this,function(j){switch(j.label){case 0:if(!y(g))return[2,!1];j.label=1;case 1:return j.trys.push([1,4,,5]),[4,g.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return _=j.sent(),[4,g.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},_,new Uint8Array(0))];case 3:return[2,16===j.sent().byteLength];case 4:return j.sent(),[2,!1];case 5:return[2]}})})}},77388:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.convertToBuffer=void 0;var M=S(82093),K=typeof Buffer<"u"&&Buffer.from?function(r){return Buffer.from(r,"utf8")}:M.fromUtf8;V.convertToBuffer=function B(r){return r instanceof Uint8Array?r:"string"==typeof r?K(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(r)}},29248:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.uint32ArrayFrom=V.numToUint8=V.isEmptyData=V.convertToBuffer=void 0;var M=S(77388);Object.defineProperty(V,"convertToBuffer",{enumerable:!0,get:function(){return M.convertToBuffer}});var K=S(72885);Object.defineProperty(V,"isEmptyData",{enumerable:!0,get:function(){return K.isEmptyData}});var B=S(11817);Object.defineProperty(V,"numToUint8",{enumerable:!0,get:function(){return B.numToUint8}});var r=S(87476);Object.defineProperty(V,"uint32ArrayFrom",{enumerable:!0,get:function(){return r.uint32ArrayFrom}})},72885:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.isEmptyData=void 0,V.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},11817:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.numToUint8=void 0,V.numToUint8=function S(M){return new Uint8Array([(4278190080&M)>>24,(16711680&M)>>16,(65280&M)>>8,255&M])}},87476:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.uint32ArrayFrom=void 0,V.uint32ArrayFrom=function S(M){if(!Uint32Array.from){for(var K=new Uint32Array(M.length),B=0;B<M.length;)K[B]=M[B],B+=1;return K}return Uint32Array.from(M)}},53226:(fe,V,S)=>{var M=S(34572),K=S(11121),B=S(12);fe.exports={XMLParser:K,XMLValidator:M,XMLBuilder:B}},89628:(fe,V)=>{var S=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",K="["+S+"]["+S+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",B=new RegExp("^"+K+"$");V.isExist=function(f){return typeof f<"u"},V.isEmptyObject=function(f){return 0===Object.keys(f).length},V.merge=function(f,g,_){if(g)for(var P=Object.keys(g),O=P.length,j=0;j<O;j++)f[P[j]]="strict"===_?[g[P[j]]]:g[P[j]]},V.getValue=function(f){return V.isExist(f)?f:""},V.isName=function(g){var _=B.exec(g);return!(null===_||typeof _>"u")},V.getAllMatches=function(g,_){for(var P=[],O=_.exec(g);O;){var j=[];j.startIndex=_.lastIndex-O[0].length;for(var v=O.length,b=0;b<v;b++)j.push(O[b]);P.push(j),O=_.exec(g)}return P},V.nameRegexp=K},34572:(fe,V,S)=>{var M=S(89628),K={allowBooleanAttributes:!1,unpairedTags:[]};function B(U){return" "===U||"\t"===U||"\n"===U||"\r"===U}function r(U,W){for(var Y=W;W<U.length;W++)if("?"==U[W]||" "==U[W]){var ae=U.substr(Y,W-Y);if(W>5&&"xml"===ae)return b("InvalidXml","XML declaration allowed only at the start of the document.",H(U,W));if("?"==U[W]&&">"==U[W+1]){W++;break}continue}return W}function y(U,W){if(U.length>W+5&&"-"===U[W+1]&&"-"===U[W+2]){for(W+=3;W<U.length;W++)if("-"===U[W]&&"-"===U[W+1]&&">"===U[W+2]){W+=2;break}}else if(U.length>W+8&&"D"===U[W+1]&&"O"===U[W+2]&&"C"===U[W+3]&&"T"===U[W+4]&&"Y"===U[W+5]&&"P"===U[W+6]&&"E"===U[W+7]){var Y=1;for(W+=8;W<U.length;W++)if("<"===U[W])Y++;else if(">"===U[W]&&0==--Y)break}else if(U.length>W+9&&"["===U[W+1]&&"C"===U[W+2]&&"D"===U[W+3]&&"A"===U[W+4]&&"T"===U[W+5]&&"A"===U[W+6]&&"["===U[W+7])for(W+=8;W<U.length;W++)if("]"===U[W]&&"]"===U[W+1]&&">"===U[W+2]){W+=2;break}return W}V.validate=function(U,W){W=Object.assign({},K,W);var Y=[],ae=!1,ve=!1;"\ufeff"===U[0]&&(U=U.substr(1));for(var _e=0;_e<U.length;_e++)if("<"===U[_e]&&"?"===U[_e+1]){if((_e=r(U,_e+=2)).err)return _e}else{if("<"!==U[_e]){if(B(U[_e]))continue;return b("InvalidChar","char '"+U[_e]+"' is not expected.",H(U,_e))}var he=_e;if("!"===U[++_e]){_e=y(U,_e);continue}var x=!1;"/"===U[_e]&&(x=!0,_e++);for(var R="";_e<U.length&&">"!==U[_e]&&" "!==U[_e]&&"\t"!==U[_e]&&"\n"!==U[_e]&&"\r"!==U[_e];_e++)R+=U[_e];if("/"===(R=R.trim())[R.length-1]&&(R=R.substring(0,R.length-1),_e--),!z(R))return b("InvalidTag",0===R.trim().length?"Invalid space after '<'.":"Tag '"+R+"' is an invalid name.",H(U,_e));var I=_(U,_e);if(!1===I)return b("InvalidAttr","Attributes for '"+R+"' have open quote.",H(U,_e));var L=I.value;if(_e=I.index,"/"===L[L.length-1]){var D=_e-L.length,Q=O(L=L.substring(0,L.length-1),W);if(!0!==Q)return b(Q.err.code,Q.err.msg,H(U,D+Q.err.line));ae=!0}else if(x){if(!I.tagClosed)return b("InvalidTag","Closing tag '"+R+"' doesn't have proper closing.",H(U,_e));if(L.trim().length>0)return b("InvalidTag","Closing tag '"+R+"' can't have attributes or invalid starting.",H(U,he));var te=Y.pop();if(R!==te.tagName){var Re=H(U,te.tagStartPos);return b("InvalidTag","Expected closing tag '"+te.tagName+"' (opened in line "+Re.line+", col "+Re.col+") instead of closing tag '"+R+"'.",H(U,he))}0==Y.length&&(ve=!0)}else{var ne=O(L,W);if(!0!==ne)return b(ne.err.code,ne.err.msg,H(U,_e-L.length+ne.err.line));if(!0===ve)return b("InvalidXml","Multiple possible root nodes found.",H(U,_e));-1!==W.unpairedTags.indexOf(R)||Y.push({tagName:R,tagStartPos:he}),ae=!0}for(_e++;_e<U.length;_e++)if("<"===U[_e]){if("!"===U[_e+1]){_e=y(U,++_e);continue}if("?"!==U[_e+1])break;if((_e=r(U,++_e)).err)return _e}else if("&"===U[_e]){var Fe=v(U,_e);if(-1==Fe)return b("InvalidChar","char '&' is not expected.",H(U,_e));_e=Fe}else if(!0===ve&&!B(U[_e]))return b("InvalidXml","Extra text at the end",H(U,_e));"<"===U[_e]&&_e--}return ae?1==Y.length?b("InvalidTag","Unclosed tag '"+Y[0].tagName+"'.",H(U,Y[0].tagStartPos)):!(Y.length>0)||b("InvalidXml","Invalid '"+JSON.stringify(Y.map(function(rt){return rt.tagName}),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):b("InvalidXml","Start tag expected.",1)};var f='"',g="'";function _(U,W){for(var Y="",ae="",ve=!1;W<U.length;W++){if(U[W]===f||U[W]===g)""===ae?ae=U[W]:ae!==U[W]||(ae="");else if(">"===U[W]&&""===ae){ve=!0;break}Y+=U[W]}return""===ae&&{value:Y,index:W,tagClosed:ve}}var P=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function O(U,W){for(var Y=M.getAllMatches(U,P),ae={},ve=0;ve<Y.length;ve++){if(0===Y[ve][1].length)return b("InvalidAttr","Attribute '"+Y[ve][2]+"' has no space in starting.",ee(Y[ve]));if(void 0!==Y[ve][3]&&void 0===Y[ve][4])return b("InvalidAttr","Attribute '"+Y[ve][2]+"' is without value.",ee(Y[ve]));if(void 0===Y[ve][3]&&!W.allowBooleanAttributes)return b("InvalidAttr","boolean attribute '"+Y[ve][2]+"' is not allowed.",ee(Y[ve]));var _e=Y[ve][2];if(!G(_e))return b("InvalidAttr","Attribute '"+_e+"' is an invalid name.",ee(Y[ve]));if(ae.hasOwnProperty(_e))return b("InvalidAttr","Attribute '"+_e+"' is repeated.",ee(Y[ve]));ae[_e]=1}return!0}function v(U,W){if(";"===U[++W])return-1;if("#"===U[W])return function j(U,W){var Y=/\d/;for("x"===U[W]&&(W++,Y=/[\da-fA-F]/);W<U.length;W++){if(";"===U[W])return W;if(!U[W].match(Y))break}return-1}(U,++W);for(var Y=0;W<U.length;W++,Y++)if(!(U[W].match(/\w/)&&Y<20)){if(";"===U[W])break;return-1}return W}function b(U,W,Y){return{err:{code:U,msg:W,line:Y.line||Y,col:Y.col}}}function G(U){return M.isName(U)}function z(U){return M.isName(U)}function H(U,W){var Y=U.substring(0,W).split(/\r?\n/);return{line:Y.length,col:Y[Y.length-1].length+1}}function ee(U){return U.startIndex+U[1].length}},12:(fe,V,S)=>{var M=S(9482).default,K=S(98549),B={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(O,j){return j},attributeValueProcessor:function(O,j){return j},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function r(P){this.options=Object.assign({},B,P),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=_),this.processTextOrObjNode=y,this.options.format?(this.indentate=g,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function y(P,O,j){var v=this.j2x(P,j+1);return void 0!==P[this.options.textNodeName]&&1===Object.keys(P).length?this.buildTextValNode(P[this.options.textNodeName],O,v.attrStr,j):this.buildObjectNode(v.val,O,v.attrStr,j)}function g(P){return this.options.indentBy.repeat(P)}function _(P){return!!P.startsWith(this.options.attributeNamePrefix)&&P.substr(this.attrPrefixLen)}r.prototype.build=function(P){return this.options.preserveOrder?K(P,this.options):(Array.isArray(P)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(P=M({},this.options.arrayNodeName,P)),this.j2x(P,0).val)},r.prototype.j2x=function(P,O){var j="",v="";for(var b in P)if(!(typeof P[b]>"u"))if(null===P[b])v+="?"===b[0]?this.indentate(O)+"<"+b+"?"+this.tagEndChar:this.indentate(O)+"<"+b+"/"+this.tagEndChar;else if(P[b]instanceof Date)v+=this.buildTextValNode(P[b],b,"",O);else if("object"!=typeof P[b]){var G=this.isAttribute(b);if(G)j+=this.buildAttrPairStr(G,""+P[b]);else if(b===this.options.textNodeName){var z=this.options.tagValueProcessor(b,""+P[b]);v+=this.replaceEntitiesValue(z)}else v+=this.buildTextValNode(P[b],b,"",O)}else if(Array.isArray(P[b])){for(var H=P[b].length,ee="",U=0;U<H;U++){var W=P[b][U];typeof W>"u"||(null===W?v+="?"===b[0]?this.indentate(O)+"<"+b+"?"+this.tagEndChar:this.indentate(O)+"<"+b+"/"+this.tagEndChar:ee+="object"==typeof W?this.options.oneListGroup?this.j2x(W,O+1).val:this.processTextOrObjNode(W,b,O):this.buildTextValNode(W,b,"",O))}this.options.oneListGroup&&(ee=this.buildObjectNode(ee,b,"",O)),v+=ee}else if(this.options.attributesGroupName&&b===this.options.attributesGroupName)for(var Y=Object.keys(P[b]),ae=Y.length,ve=0;ve<ae;ve++)j+=this.buildAttrPairStr(Y[ve],""+P[b][Y[ve]]);else v+=this.processTextOrObjNode(P[b],b,O);return{attrStr:j,val:v}},r.prototype.buildAttrPairStr=function(P,O){return O=this.options.attributeValueProcessor(P,""+O),O=this.replaceEntitiesValue(O),this.options.suppressBooleanAttributes&&"true"===O?" "+P:" "+P+'="'+O+'"'},r.prototype.buildObjectNode=function(P,O,j,v){if(""===P)return"?"===O[0]?this.indentate(v)+"<"+O+j+"?"+this.tagEndChar:this.indentate(v)+"<"+O+j+this.closeTag(O)+this.tagEndChar;var b="</"+O+this.tagEndChar,G="";return"?"===O[0]&&(G="?",b=""),j&&-1===P.indexOf("<")?this.indentate(v)+"<"+O+j+G+">"+P+b:!1!==this.options.commentPropName&&O===this.options.commentPropName&&0===G.length?this.indentate(v)+"\x3c!--".concat(P,"--\x3e")+this.newLine:this.indentate(v)+"<"+O+j+G+this.tagEndChar+P+this.indentate(v)+b},r.prototype.closeTag=function(P){var O="";return-1!==this.options.unpairedTags.indexOf(P)?this.options.suppressUnpairedNode||(O="/"):O=this.options.suppressEmptyNode?"/":"></".concat(P),O},r.prototype.buildTextValNode=function(P,O,j,v){if(!1!==this.options.cdataPropName&&O===this.options.cdataPropName)return this.indentate(v)+"<![CDATA[".concat(P,"]]>")+this.newLine;if(!1!==this.options.commentPropName&&O===this.options.commentPropName)return this.indentate(v)+"\x3c!--".concat(P,"--\x3e")+this.newLine;if("?"===O[0])return this.indentate(v)+"<"+O+j+"?"+this.tagEndChar;var b=this.options.tagValueProcessor(O,P);return""===(b=this.replaceEntitiesValue(b))?this.indentate(v)+"<"+O+j+this.closeTag(O)+this.tagEndChar:this.indentate(v)+"<"+O+j+">"+b+"</"+O+this.tagEndChar},r.prototype.replaceEntitiesValue=function(P){if(P&&P.length>0&&this.options.processEntities)for(var O=0;O<this.options.entities.length;O++){var j=this.options.entities[O];P=P.replace(j.regex,j.val)}return P},fe.exports=r},98549:fe=>{function M(f,g,_,P){for(var O="",j=!1,v=0;v<f.length;v++){var z,b=f[v],G=K(b);if(z=0===_.length?G:"".concat(_,".").concat(G),G!==g.textNodeName)if(G!==g.cdataPropName)if(G!==g.commentPropName)if("?"!==G[0]){var Y=P;""!==Y&&(Y+=g.indentBy);var ae=B(b[":@"],g),ve=P+"<".concat(G).concat(ae),_e=M(b[G],g,z,Y);-1!==g.unpairedTags.indexOf(G)?O+=g.suppressUnpairedNode?ve+">":ve+"/>":_e&&0!==_e.length||!g.suppressEmptyNode?_e&&_e.endsWith(">")?O+=ve+">".concat(_e).concat(P,"</").concat(G,">"):(O+=ve+">",_e&&""!==P&&(_e.includes("/>")||_e.includes("</"))?O+=P+g.indentBy+_e+P:O+=_e,O+="</".concat(G,">")):O+=ve+"/>",j=!0}else{var ee=B(b[":@"],g),W=b[G][0][g.textNodeName];W=0!==W.length?" "+W:"",O+=("?xml"===G?"":P)+"<".concat(G).concat(W).concat(ee,"?>"),j=!0}else O+=P+"\x3c!--".concat(b[G][0][g.textNodeName],"--\x3e"),j=!0;else j&&(O+=P),O+="<![CDATA[".concat(b[G][0][g.textNodeName],"]]>"),j=!1;else{var H=b[G];r(z,g)||(H=y(H=g.tagValueProcessor(G,H),g)),j&&(O+=P),O+=H,j=!1}}return O}function K(f){for(var g=Object.keys(f),_=0;_<g.length;_++){var P=g[_];if(":@"!==P)return P}}function B(f,g){var _="";if(f&&!g.ignoreAttributes)for(var P in f){var O=g.attributeValueProcessor(P,f[P]);_+=!0===(O=y(O,g))&&g.suppressBooleanAttributes?" ".concat(P.substr(g.attributeNamePrefix.length)):" ".concat(P.substr(g.attributeNamePrefix.length),'="').concat(O,'"')}return _}function r(f,g){var _=(f=f.substr(0,f.length-g.textNodeName.length-1)).substr(f.lastIndexOf(".")+1);for(var P in g.stopNodes)if(g.stopNodes[P]===f||g.stopNodes[P]==="*."+_)return!0;return!1}function y(f,g){if(f&&f.length>0&&g.processEntities)for(var _=0;_<g.entities.length;_++){var P=g.entities[_];f=f.replace(P.regex,P.val)}return f}fe.exports=function S(f,g){var _="";return g.format&&g.indentBy.length>0&&(_="\n"),M(f,g,"",_)}},6781:(fe,V,S)=>{var M=S(3667).default;function B(j,v){for(var b="";v<j.length&&"'"!==j[v]&&'"'!==j[v];v++)b+=j[v];if(-1!==(b=b.trim()).indexOf(" "))throw new Error("External entites are not supported");for(var G=j[v++],z="";v<j.length&&j[v]!==G;v++)z+=j[v];return[b,z,v]}function r(j,v){return"!"===j[v+1]&&"-"===j[v+2]&&"-"===j[v+3]}function y(j,v){return"!"===j[v+1]&&"E"===j[v+2]&&"N"===j[v+3]&&"T"===j[v+4]&&"I"===j[v+5]&&"T"===j[v+6]&&"Y"===j[v+7]}function f(j,v){return"!"===j[v+1]&&"E"===j[v+2]&&"L"===j[v+3]&&"E"===j[v+4]&&"M"===j[v+5]&&"E"===j[v+6]&&"N"===j[v+7]&&"T"===j[v+8]}function g(j,v){return"!"===j[v+1]&&"A"===j[v+2]&&"T"===j[v+3]&&"T"===j[v+4]&&"L"===j[v+5]&&"I"===j[v+6]&&"S"===j[v+7]&&"T"===j[v+8]}function _(j,v){return"!"===j[v+1]&&"N"===j[v+2]&&"O"===j[v+3]&&"T"===j[v+4]&&"A"===j[v+5]&&"T"===j[v+6]&&"I"===j[v+7]&&"O"===j[v+8]&&"N"===j[v+9]}var P="!?\\/[]$%{}^&*()<>|+";function O(j){for(var v=0;v<19;v++){var b=P[v];if(-1!==j.indexOf(b))throw new Error("Invalid character ".concat(b," in entity name"))}return j}fe.exports=function K(j,v){var b={};if("O"!==j[v+3]||"C"!==j[v+4]||"T"!==j[v+5]||"Y"!==j[v+6]||"P"!==j[v+7]||"E"!==j[v+8])throw new Error("Invalid Tag instead of DOCTYPE");v+=9;for(var G=1,z=!1,H=!1;v<j.length;v++)if("<"!==j[v]||H)if(">"===j[v]){if(H?"-"===j[v-1]&&"-"===j[v-2]&&(H=!1,G--):G--,0===G)break}else"["===j[v]&&(z=!0);else{if(z&&y(j,v)){var U=B(j,(v+=7)+1),W=M(U,3);entityName=W[0],val=W[1],v=W[2],-1===val.indexOf("&")&&(b[O(entityName)]={regx:RegExp("&".concat(entityName,";"),"g"),val})}else if(z&&f(j,v))v+=8;else if(z&&g(j,v))v+=8;else if(z&&_(j,v))v+=9;else{if(!r)throw new Error("Invalid DOCTYPE");H=!0}G++}if(0!==G)throw new Error("Unclosed DOCTYPE");return{entities:b,i:v}}},84570:(fe,V)=>{var S={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(B,r){return r},attributeValueProcessor:function(B,r){return r},stopNodes:[],alwaysCreateTextNode:!1,isArray:function(){return!1},commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(B,r,y){return B}};V.buildOptions=function(B){return Object.assign({},S,B)},V.defaultOptions=S},8705:(fe,V,S)=>{var M=S(9482).default,K=S(16996).default,B=S(45664).default,r=S(89628),y=S(4300),f=S(6781),g=S(48372),P=("<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,r.nameRegexp),K(function x(R){B(this,x),this.options=R,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xa2"},pound:{regex:/&(pound|#163);/g,val:"\xa3"},yen:{regex:/&(yen|#165);/g,val:"\xa5"},euro:{regex:/&(euro|#8364);/g,val:"\u20ac"},copyright:{regex:/&(copy|#169);/g,val:"\xa9"},reg:{regex:/&(reg|#174);/g,val:"\xae"},inr:{regex:/&(inr|#8377);/g,val:"\u20b9"}},this.addExternalEntities=O,this.parseXml=z,this.parseTextData=j,this.resolveNameSpace=v,this.buildAttributesMap=G,this.isItStopNode=W,this.replaceEntitiesValue=ee,this.readStopNodeData=_e,this.saveTextToParentTag=U,this.addChild=H}));function O(x){for(var R=Object.keys(x),E=0;E<R.length;E++){var I=R[E];this.lastEntities[I]={regex:new RegExp("&"+I+";","g"),val:x[I]}}}function j(x,R,E,I,L,D,Q){if(void 0!==x&&(this.options.trimValues&&!I&&(x=x.trim()),x.length>0)){Q||(x=this.replaceEntitiesValue(x));var te=this.options.tagValueProcessor(R,x,E,L,D);return null==te?x:typeof te!=typeof x||te!==x?te:this.options.trimValues||x.trim()===x?he(x,this.options.parseTagValue,this.options.numberParseOptions):x}}function v(x){if(this.options.removeNSPrefix){var R=x.split(":"),E="/"===x.charAt(0)?"/":"";if("xmlns"===R[0])return"";2===R.length&&(x=E+R[1])}return x}var b=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function G(x,R,E){if(!this.options.ignoreAttributes&&"string"==typeof x){for(var I=r.getAllMatches(x,b),L=I.length,D={},Q=0;Q<L;Q++){var te=this.resolveNameSpace(I[Q][1]),Re=I[Q][4],ne=this.options.attributeNamePrefix+te;if(te.length)if(this.options.transformAttributeName&&(ne=this.options.transformAttributeName(ne)),"__proto__"===ne&&(ne="#__proto__"),void 0!==Re){this.options.trimValues&&(Re=Re.trim()),Re=this.replaceEntitiesValue(Re);var Fe=this.options.attributeValueProcessor(te,Re,R);D[ne]=null==Fe?Re:typeof Fe!=typeof Re||Fe!==Re?Fe:he(Re,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(D[ne]=!0)}if(!Object.keys(D).length)return;if(this.options.attributesGroupName){var rt={};return rt[this.options.attributesGroupName]=D,rt}return D}}var z=function(R){R=R.replace(/\r\n?/g,"\n");for(var E=new y("!xml"),I=E,L="",D="",Q=0;Q<R.length;Q++)if("<"===R[Q])if("/"===R[Q+1]){var Re=ae(R,">",Q,"Closing Tag is not closed."),ne=R.substring(Q+2,Re).trim();if(this.options.removeNSPrefix){var Fe=ne.indexOf(":");-1!==Fe&&(ne=ne.substr(Fe+1))}this.options.transformTagName&&(ne=this.options.transformTagName(ne)),I&&(L=this.saveTextToParentTag(L,I,D));var rt=D.substring(D.lastIndexOf(".")+1);if(ne&&-1!==this.options.unpairedTags.indexOf(ne))throw new Error("Unpaired tag can not be used as closing tag: </".concat(ne,">"));var Te=0;rt&&-1!==this.options.unpairedTags.indexOf(rt)?(Te=D.lastIndexOf(".",D.lastIndexOf(".")-1),this.tagsNodeStack.pop()):Te=D.lastIndexOf("."),D=D.substring(0,Te),I=this.tagsNodeStack.pop(),L="",Q=Re}else if("?"===R[Q+1]){var tt=ve(R,Q,!1,"?>");if(!tt)throw new Error("Pi Tag is not closed.");if(L=this.saveTextToParentTag(L,I,D),!(this.options.ignoreDeclaration&&"?xml"===tt.tagName||this.options.ignorePiTags)){var Qe=new y(tt.tagName);Qe.add(this.options.textNodeName,""),tt.tagName!==tt.tagExp&&tt.attrExpPresent&&(Qe[":@"]=this.buildAttributesMap(tt.tagExp,D,tt.tagName)),this.addChild(I,Qe,D)}Q=tt.closeIndex+1}else if("!--"===R.substr(Q+1,3)){var vt=ae(R,"--\x3e",Q+4,"Comment is not closed.");if(this.options.commentPropName){var et=R.substring(Q+4,vt-2);L=this.saveTextToParentTag(L,I,D),I.add(this.options.commentPropName,[M({},this.options.textNodeName,et)])}Q=vt}else if("!D"===R.substr(Q+1,2)){var je=f(R,Q);this.docTypeEntities=je.entities,Q=je.i}else if("!["===R.substr(Q+1,2)){var it=ae(R,"]]>",Q,"CDATA is not closed.")-2,de=R.substring(Q+9,it);if(L=this.saveTextToParentTag(L,I,D),this.options.cdataPropName)I.add(this.options.cdataPropName,[M({},this.options.textNodeName,de)]);else{var J=this.parseTextData(de,I.tagname,D,!0,!1,!0);null==J&&(J=""),I.add(this.options.textNodeName,J)}Q=it+2}else{var oe=ve(R,Q,this.options.removeNSPrefix),Ae=oe.tagName,Ne=oe.tagExp,pe=oe.attrExpPresent,xe=oe.closeIndex;if(this.options.transformTagName&&(Ae=this.options.transformTagName(Ae)),I&&L&&"!xml"!==I.tagname&&(L=this.saveTextToParentTag(L,I,D,!1)),I&&-1!==this.options.unpairedTags.indexOf(I.tagname)&&(I=this.tagsNodeStack.pop(),D=D.substring(0,D.lastIndexOf("."))),Ae!==E.tagname&&(D+=D?"."+Ae:Ae),this.isItStopNode(this.options.stopNodes,D,Ae)){var be="";if(Ne.length>0&&Ne.lastIndexOf("/")===Ne.length-1)Q=oe.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(Ae))Q=oe.closeIndex;else{var ce=this.readStopNodeData(R,Ae,xe+1);if(!ce)throw new Error("Unexpected end of ".concat(Ae));Q=ce.i,be=ce.tagContent}var le=new y(Ae);Ae!==Ne&&pe&&(le[":@"]=this.buildAttributesMap(Ne,D,Ae)),be&&(be=this.parseTextData(be,Ae,D,!0,pe,!0,!0)),D=D.substr(0,D.lastIndexOf(".")),le.add(this.options.textNodeName,be),this.addChild(I,le,D)}else{if(Ne.length>0&&Ne.lastIndexOf("/")===Ne.length-1){Ne="/"===Ae[Ae.length-1]?Ae=Ae.substr(0,Ae.length-1):Ne.substr(0,Ne.length-1),this.options.transformTagName&&(Ae=this.options.transformTagName(Ae));var Ie=new y(Ae);Ae!==Ne&&pe&&(Ie[":@"]=this.buildAttributesMap(Ne,D,Ae)),this.addChild(I,Ie,D),D=D.substr(0,D.lastIndexOf("."))}else{var at=new y(Ae);this.tagsNodeStack.push(I),Ae!==Ne&&pe&&(at[":@"]=this.buildAttributesMap(Ne,D,Ae)),this.addChild(I,at,D),I=at}L="",Q=xe}}else L+=R[Q];return E.child};function H(x,R,E){var I=this.options.updateTag(R.tagname,E,R[":@"]);!1===I||("string"==typeof I&&(R.tagname=I),x.addChild(R))}var ee=function(R){if(this.options.processEntities){for(var E in this.docTypeEntities){var I=this.docTypeEntities[E];R=R.replace(I.regx,I.val)}for(var L in this.lastEntities){var D=this.lastEntities[L];R=R.replace(D.regex,D.val)}if(this.options.htmlEntities)for(var Q in this.htmlEntities){var te=this.htmlEntities[Q];R=R.replace(te.regex,te.val)}R=R.replace(this.ampEntity.regex,this.ampEntity.val)}return R};function U(x,R,E,I){return x&&(void 0===I&&(I=0===Object.keys(R.child).length),void 0!==(x=this.parseTextData(x,R.tagname,E,!1,!!R[":@"]&&0!==Object.keys(R[":@"]).length,I))&&""!==x&&R.add(this.options.textNodeName,x),x=""),x}function W(x,R,E){var I="*."+E;for(var L in x){var D=x[L];if(I===D||R===D)return!0}return!1}function ae(x,R,E,I){var L=x.indexOf(R,E);if(-1===L)throw new Error(I);return L+R.length-1}function ve(x,R,E){var L=function Y(x,R){for(var I,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:">",L="",D=R;D<x.length;D++){var Q=x[D];if(I)Q===I&&(I="");else if('"'===Q||"'"===Q)I=Q;else if(Q===E[0]){if(!E[1])return{data:L,index:D};if(x[D+1]===E[1])return{data:L,index:D}}else"\t"===Q&&(Q=" ");L+=Q}}(x,R+1,arguments.length>3&&void 0!==arguments[3]?arguments[3]:">");if(L){var D=L.data,Q=L.index,te=D.search(/\s/),Re=D,ne=!0;if(-1!==te&&(Re=D.substr(0,te).replace(/\s\s*$/,""),D=D.substr(te+1)),E){var Fe=Re.indexOf(":");-1!==Fe&&(ne=(Re=Re.substr(Fe+1))!==L.data.substr(Fe+1))}return{tagName:Re,tagExp:D,closeIndex:Q,attrExpPresent:ne}}}function _e(x,R,E){for(var I=E,L=1;E<x.length;E++)if("<"===x[E])if("/"===x[E+1]){var D=ae(x,">",E,"".concat(R," is not closed"));if(x.substring(E+2,D).trim()===R&&0==--L)return{tagContent:x.substring(I,E),i:D};E=D}else if("?"===x[E+1])E=ae(x,"?>",E+1,"StopNode is not closed.");else if("!--"===x.substr(E+1,3))E=ae(x,"--\x3e",E+3,"StopNode is not closed.");else if("!["===x.substr(E+1,2))E=ae(x,"]]>",E,"StopNode is not closed.")-2;else{var Fe=ve(x,E,">");Fe&&((Fe&&Fe.tagName)===R&&"/"!==Fe.tagExp[Fe.tagExp.length-1]&&L++,E=Fe.closeIndex)}}function he(x,R,E){if(R&&"string"==typeof x){var I=x.trim();return"true"===I||"false"!==I&&g(x,E)}return r.isExist(x)?x:""}fe.exports=P},11121:(fe,V,S)=>{var M=S(45664).default,K=S(16996).default,r=S(84570).buildOptions,y=S(8705),g=S(32609).prettify,_=S(34572);fe.exports=function(){"use strict";function O(j){M(this,O),this.externalEntities={},this.options=r(j)}return K(O,[{key:"parse",value:function(v,b){if("string"!=typeof v){if(!v.toString)throw new Error("XML data is accepted in String or Bytes[] form.");v=v.toString()}if(b){!0===b&&(b={});var G=_.validate(v,b);if(!0!==G)throw Error("".concat(G.err.msg,":").concat(G.err.line,":").concat(G.err.col))}var z=new y(this.options);z.addExternalEntities(this.externalEntities);var H=z.parseXml(v);return this.options.preserveOrder||void 0===H?H:g(H,this.options)}},{key:"addEntity",value:function(v,b){if(-1!==b.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==v.indexOf("&")||-1!==v.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===b)throw new Error("An entity with value '&' is not permitted");this.externalEntities[v]=b}}]),O}()},32609:(fe,V)=>{function M(y,f,g){for(var _,P={},O=0;O<y.length;O++){var b,j=y[O],v=K(j);if(b=void 0===g?v:g+"."+v,v===f.textNodeName)void 0===_?_=j[v]:_+=""+j[v];else{if(void 0===v)continue;if(j[v]){var G=M(j[v],f,b),z=r(G,f);j[":@"]?B(G,j[":@"],b,f):1!==Object.keys(G).length||void 0===G[f.textNodeName]||f.alwaysCreateTextNode?0===Object.keys(G).length&&(f.alwaysCreateTextNode?G[f.textNodeName]="":G=""):G=G[f.textNodeName],void 0!==P[v]&&P.hasOwnProperty(v)?(Array.isArray(P[v])||(P[v]=[P[v]]),P[v].push(G)):P[v]=f.isArray(v,b,z)?[G]:G}}}return"string"==typeof _?_.length>0&&(P[f.textNodeName]=_):void 0!==_&&(P[f.textNodeName]=_),P}function K(y){for(var f=Object.keys(y),g=0;g<f.length;g++){var _=f[g];if(":@"!==_)return _}}function B(y,f,g,_){if(f)for(var P=Object.keys(f),O=P.length,j=0;j<O;j++){var v=P[j];y[v]=_.isArray(v,g+"."+v,!0,!0)?[f[v]]:f[v]}}function r(y,f){var g=f.textNodeName,_=Object.keys(y).length;return!(0!==_&&(1!==_||!y[g]&&"boolean"!=typeof y[g]&&0!==y[g]))}V.prettify=function S(y,f){return M(y,f)}},4300:(fe,V,S)=>{var M=S(9482).default,K=S(45664).default,B=S(16996).default;fe.exports=function(){function y(f){K(this,y),this.tagname=f,this.child=[],this[":@"]={}}return B(y,[{key:"add",value:function(g,_){"__proto__"===g&&(g="#__proto__"),this.child.push(M({},g,_))}},{key:"addChild",value:function(g){var _;"__proto__"===g.tagname&&(g.tagname="#__proto__"),g[":@"]&&Object.keys(g[":@"]).length>0?this.child.push((M(_={},g.tagname,g.child),M(_,":@",g[":@"]),_)):this.child.push(M({},g.tagname,g.child))}}]),y}()},97035:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.AwsCrc32=void 0;var M=S(48798),K=S(84594),B=S(98407),r=function(){function y(){this.crc32=new B.Crc32}return y.prototype.update=function(f){(0,K.isEmptyData)(f)||this.crc32.update((0,K.convertToBuffer)(f))},y.prototype.digest=function(){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(f){return[2,(0,K.numToUint8)(this.crc32.digest())]})})},y.prototype.reset=function(){this.crc32=new B.Crc32},y}();V.AwsCrc32=r},98407:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.AwsCrc32=V.Crc32=V.crc32=void 0;var M=S(48798),K=S(84594);V.crc32=function B(_){return(new r).update(_).digest()};var r=function(){function _(){this.checksum=4294967295}return _.prototype.update=function(P){var O,j;try{for(var v=M.__values(P),b=v.next();!b.done;b=v.next())this.checksum=this.checksum>>>8^f[255&(this.checksum^b.value)]}catch(z){O={error:z}}finally{try{b&&!b.done&&(j=v.return)&&j.call(v)}finally{if(O)throw O.error}}return this},_.prototype.digest=function(){return(4294967295^this.checksum)>>>0},_}();V.Crc32=r;var f=(0,K.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),g=S(97035);Object.defineProperty(V,"AwsCrc32",{enumerable:!0,get:function(){return g.AwsCrc32}})},65552:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.convertToBuffer=void 0;var M=S(82093),K=typeof Buffer<"u"&&Buffer.from?function(r){return Buffer.from(r,"utf8")}:M.fromUtf8;V.convertToBuffer=function B(r){return r instanceof Uint8Array?r:"string"==typeof r?K(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(r)}},84594:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.uint32ArrayFrom=V.numToUint8=V.isEmptyData=V.convertToBuffer=void 0;var M=S(65552);Object.defineProperty(V,"convertToBuffer",{enumerable:!0,get:function(){return M.convertToBuffer}});var K=S(34231);Object.defineProperty(V,"isEmptyData",{enumerable:!0,get:function(){return K.isEmptyData}});var B=S(44735);Object.defineProperty(V,"numToUint8",{enumerable:!0,get:function(){return B.numToUint8}});var r=S(43957);Object.defineProperty(V,"uint32ArrayFrom",{enumerable:!0,get:function(){return r.uint32ArrayFrom}})},34231:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.isEmptyData=void 0,V.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},44735:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.numToUint8=void 0,V.numToUint8=function S(M){return new Uint8Array([(4278190080&M)>>24,(16711680&M)>>16,(65280&M)>>8,255&M])}},43957:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.uint32ArrayFrom=void 0,V.uint32ArrayFrom=function S(M){if(!Uint32Array.from){for(var K=new Uint32Array(M.length),B=0;B<M.length;)K[B]=M[B],B+=1;return K}return Uint32Array.from(M)}},67086:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.AwsCrc32=void 0;var M=S(62220),K=S(92670),B=S(42562),r=function(){function y(){this.crc32=new B.Crc32}return y.prototype.update=function(f){(0,K.isEmptyData)(f)||this.crc32.update((0,K.convertToBuffer)(f))},y.prototype.digest=function(){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(f){return[2,(0,K.numToUint8)(this.crc32.digest())]})})},y.prototype.reset=function(){this.crc32=new B.Crc32},y}();V.AwsCrc32=r},42562:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.AwsCrc32=V.Crc32=V.crc32=void 0;var M=S(62220),K=S(92670);V.crc32=function B(_){return(new r).update(_).digest()};var r=function(){function _(){this.checksum=4294967295}return _.prototype.update=function(P){var O,j;try{for(var v=M.__values(P),b=v.next();!b.done;b=v.next())this.checksum=this.checksum>>>8^f[255&(this.checksum^b.value)]}catch(z){O={error:z}}finally{try{b&&!b.done&&(j=v.return)&&j.call(v)}finally{if(O)throw O.error}}return this},_.prototype.digest=function(){return(4294967295^this.checksum)>>>0},_}();V.Crc32=r;var f=(0,K.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),g=S(67086);Object.defineProperty(V,"AwsCrc32",{enumerable:!0,get:function(){return g.AwsCrc32}})},66137:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.convertToBuffer=void 0;var M=S(82093),K=typeof Buffer<"u"&&Buffer.from?function(r){return Buffer.from(r,"utf8")}:M.fromUtf8;V.convertToBuffer=function B(r){return r instanceof Uint8Array?r:"string"==typeof r?K(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(r)}},92670:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.uint32ArrayFrom=V.numToUint8=V.isEmptyData=V.convertToBuffer=void 0;var M=S(66137);Object.defineProperty(V,"convertToBuffer",{enumerable:!0,get:function(){return M.convertToBuffer}});var K=S(45411);Object.defineProperty(V,"isEmptyData",{enumerable:!0,get:function(){return K.isEmptyData}});var B=S(27186);Object.defineProperty(V,"numToUint8",{enumerable:!0,get:function(){return B.numToUint8}});var r=S(43823);Object.defineProperty(V,"uint32ArrayFrom",{enumerable:!0,get:function(){return r.uint32ArrayFrom}})},45411:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.isEmptyData=void 0,V.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},27186:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.numToUint8=void 0,V.numToUint8=function S(M){return new Uint8Array([(4278190080&M)>>24,(16711680&M)>>16,(65280&M)>>8,255&M])}},43823:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.uint32ArrayFrom=void 0,V.uint32ArrayFrom=function S(M){if(!Uint32Array.from){for(var K=new Uint32Array(M.length),B=0;B<M.length;)K[B]=M[B],B+=1;return K}return Uint32Array.from(M)}},45468:(fe,V,S)=>{S.r(V),S.d(V,{locateWindow:()=>K});var M={};function K(){return typeof window<"u"?window:typeof self<"u"?self:M}},82093:(fe,V,S)=>{S.r(V),S.d(V,{fromUtf8:()=>y,toUtf8:()=>f});var y=function(_){return"function"==typeof TextEncoder?function B(g){return(new TextEncoder).encode(g)}(_):function(_){for(var P=[],O=0,j=_.length;O<j;O++){var v=_.charCodeAt(O);if(v<128)P.push(v);else if(v<2048)P.push(v>>6|192,63&v|128);else if(O+1<_.length&&55296==(64512&v)&&56320==(64512&_.charCodeAt(O+1))){var b=65536+((1023&v)<<10)+(1023&_.charCodeAt(++O));P.push(b>>18|240,b>>12&63|128,b>>6&63|128,63&b|128)}else P.push(v>>12|224,v>>6&63|128,63&v|128)}return Uint8Array.from(P)}(_)},f=function(_){return"function"==typeof TextDecoder?function r(g){return new TextDecoder("utf-8").decode(g)}(_):function(_){for(var P="",O=0,j=_.length;O<j;O++){var v=_[O];if(v<128)P+=String.fromCharCode(v);else if(192<=v&&v<224){var b=_[++O];P+=String.fromCharCode((31&v)<<6|63&b)}else if(240<=v&&v<365){var z="%"+[v,_[++O],_[++O],_[++O]].map(function(H){return H.toString(16)}).join("%");P+=decodeURIComponent(z)}else P+=String.fromCharCode((15&v)<<12|(63&_[++O])<<6|63&_[++O])}return P}(_)}},82173:(fe,V)=>{V.byteLength=function g(b){var G=f(b),H=G[1];return 3*(G[0]+H)/4-H},V.toByteArray=function P(b){var G,ae,z=f(b),H=z[0],ee=z[1],U=new K(function _(b,G,z){return 3*(G+z)/4-z}(0,H,ee)),W=0,Y=ee>0?H-4:H;for(ae=0;ae<Y;ae+=4)G=M[b.charCodeAt(ae)]<<18|M[b.charCodeAt(ae+1)]<<12|M[b.charCodeAt(ae+2)]<<6|M[b.charCodeAt(ae+3)],U[W++]=G>>16&255,U[W++]=G>>8&255,U[W++]=255&G;return 2===ee&&(G=M[b.charCodeAt(ae)]<<2|M[b.charCodeAt(ae+1)]>>4,U[W++]=255&G),1===ee&&(G=M[b.charCodeAt(ae)]<<10|M[b.charCodeAt(ae+1)]<<4|M[b.charCodeAt(ae+2)]>>2,U[W++]=G>>8&255,U[W++]=255&G),U},V.fromByteArray=function v(b){for(var G,z=b.length,H=z%3,ee=[],U=16383,W=0,Y=z-H;W<Y;W+=U)ee.push(j(b,W,W+U>Y?Y:W+U));return 1===H?ee.push(S[(G=b[z-1])>>2]+S[G<<4&63]+"=="):2===H&&ee.push(S[(G=(b[z-2]<<8)+b[z-1])>>10]+S[G>>4&63]+S[G<<2&63]+"="),ee.join("")};for(var S=[],M=[],K=typeof Uint8Array<"u"?Uint8Array:Array,B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0;r<64;++r)S[r]=B[r],M[B.charCodeAt(r)]=r;function f(b){var G=b.length;if(G%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var z=b.indexOf("=");return-1===z&&(z=G),[z,z===G?0:4-z%4]}function O(b){return S[b>>18&63]+S[b>>12&63]+S[b>>6&63]+S[63&b]}function j(b,G,z){for(var ee=[],U=G;U<z;U+=3)ee.push(O((b[U]<<16&16711680)+(b[U+1]<<8&65280)+(255&b[U+2])));return ee.join("")}M["-".charCodeAt(0)]=62,M["_".charCodeAt(0)]=63},93962:function(fe){fe.exports=function(V){var S={};function M(K){if(S[K])return S[K].exports;var B=S[K]={i:K,l:!1,exports:{}};return V[K].call(B.exports,B,B.exports,M),B.l=!0,B.exports}return M.m=V,M.c=S,M.d=function(K,B,r){M.o(K,B)||Object.defineProperty(K,B,{enumerable:!0,get:r})},M.r=function(K){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(K,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(K,"__esModule",{value:!0})},M.t=function(K,B){if(1&B&&(K=M(K)),8&B||4&B&&"object"==typeof K&&K&&K.__esModule)return K;var r=Object.create(null);if(M.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:K}),2&B&&"string"!=typeof K)for(var y in K)M.d(r,y,function(f){return K[f]}.bind(null,y));return r},M.n=function(K){var B=K&&K.__esModule?function(){return K.default}:function(){return K};return M.d(B,"a",B),B},M.o=function(K,B){return Object.prototype.hasOwnProperty.call(K,B)},M.p="",M(M.s=90)}({17:function(S,M,K){"use strict";M.__esModule=!0,M.default=void 0;var B=K(18),r=function(){function y(){}return y.getFirstMatch=function(f,g){var _=g.match(f);return _&&_.length>0&&_[1]||""},y.getSecondMatch=function(f,g){var _=g.match(f);return _&&_.length>1&&_[2]||""},y.matchAndReturnConst=function(f,g,_){if(f.test(g))return _},y.getWindowsVersionName=function(f){switch(f){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},y.getMacOSVersionName=function(f){var g=f.split(".").splice(0,2).map(function(_){return parseInt(_,10)||0});if(g.push(0),10===g[0])switch(g[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},y.getAndroidVersionName=function(f){var g=f.split(".").splice(0,2).map(function(_){return parseInt(_,10)||0});if(g.push(0),!(1===g[0]&&g[1]<5))return 1===g[0]&&g[1]<6?"Cupcake":1===g[0]&&g[1]>=6?"Donut":2===g[0]&&g[1]<2?"Eclair":2===g[0]&&2===g[1]?"Froyo":2===g[0]&&g[1]>2?"Gingerbread":3===g[0]?"Honeycomb":4===g[0]&&g[1]<1?"Ice Cream Sandwich":4===g[0]&&g[1]<4?"Jelly Bean":4===g[0]&&g[1]>=4?"KitKat":5===g[0]?"Lollipop":6===g[0]?"Marshmallow":7===g[0]?"Nougat":8===g[0]?"Oreo":9===g[0]?"Pie":void 0},y.getVersionPrecision=function(f){return f.split(".").length},y.compareVersions=function(f,g,_){void 0===_&&(_=!1);var P=y.getVersionPrecision(f),O=y.getVersionPrecision(g),j=Math.max(P,O),v=0,b=y.map([f,g],function(G){var z=j-y.getVersionPrecision(G),H=G+new Array(z+1).join(".0");return y.map(H.split("."),function(ee){return new Array(20-ee.length).join("0")+ee}).reverse()});for(_&&(v=j-Math.min(P,O)),j-=1;j>=v;){if(b[0][j]>b[1][j])return 1;if(b[0][j]===b[1][j]){if(j===v)return 0;j-=1}else if(b[0][j]<b[1][j])return-1}},y.map=function(f,g){var _,P=[];if(Array.prototype.map)return Array.prototype.map.call(f,g);for(_=0;_<f.length;_+=1)P.push(g(f[_]));return P},y.find=function(f,g){var _,P;if(Array.prototype.find)return Array.prototype.find.call(f,g);for(_=0,P=f.length;_<P;_+=1){var O=f[_];if(g(O,_))return O}},y.assign=function(f){for(var g,_,P=f,O=arguments.length,j=new Array(O>1?O-1:0),v=1;v<O;v++)j[v-1]=arguments[v];if(Object.assign)return Object.assign.apply(Object,[f].concat(j));var b=function(){var z=j[g];"object"==typeof z&&null!==z&&Object.keys(z).forEach(function(H){P[H]=z[H]})};for(g=0,_=j.length;g<_;g+=1)b();return f},y.getBrowserAlias=function(f){return B.BROWSER_ALIASES_MAP[f]},y.getBrowserTypeByAlias=function(f){return B.BROWSER_MAP[f]||""},y}();M.default=r,S.exports=M.default},18:function(S,M,K){"use strict";M.__esModule=!0,M.ENGINE_MAP=M.OS_MAP=M.PLATFORMS_MAP=M.BROWSER_MAP=M.BROWSER_ALIASES_MAP=void 0,M.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},M.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},M.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},M.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},M.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(S,M,K){"use strict";M.__esModule=!0,M.default=void 0;var B,r=(B=K(91))&&B.__esModule?B:{default:B},y=K(18);function f(_,P){for(var O=0;O<P.length;O++){var j=P[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}var g=function(){function _(){}var P,j;return _.getParser=function(v,b){if(void 0===b&&(b=!1),"string"!=typeof v)throw new Error("UserAgent should be a string");return new r.default(v,b)},_.parse=function(v){return new r.default(v).getResult()},P=_,j=[{key:"BROWSER_MAP",get:function(){return y.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return y.ENGINE_MAP}},{key:"OS_MAP",get:function(){return y.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return y.PLATFORMS_MAP}}],null&&f(P.prototype,null),j&&f(P,j),_}();M.default=g,S.exports=M.default},91:function(S,M,K){"use strict";M.__esModule=!0,M.default=void 0;var B=_(K(92)),r=_(K(93)),y=_(K(94)),f=_(K(95)),g=_(K(17));function _(O){return O&&O.__esModule?O:{default:O}}var P=function(){function O(v,b){if(void 0===b&&(b=!1),null==v||""===v)throw new Error("UserAgent parameter can't be empty");this._ua=v,this.parsedResult={},!0!==b&&this.parse()}var j=O.prototype;return j.getUA=function(){return this._ua},j.test=function(v){return v.test(this._ua)},j.parseBrowser=function(){var v=this;this.parsedResult.browser={};var b=g.default.find(B.default,function(G){if("function"==typeof G.test)return G.test(v);if(G.test instanceof Array)return G.test.some(function(z){return v.test(z)});throw new Error("Browser's test function is not valid")});return b&&(this.parsedResult.browser=b.describe(this.getUA())),this.parsedResult.browser},j.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},j.getBrowserName=function(v){return v?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},j.getBrowserVersion=function(){return this.getBrowser().version},j.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},j.parseOS=function(){var v=this;this.parsedResult.os={};var b=g.default.find(r.default,function(G){if("function"==typeof G.test)return G.test(v);if(G.test instanceof Array)return G.test.some(function(z){return v.test(z)});throw new Error("Browser's test function is not valid")});return b&&(this.parsedResult.os=b.describe(this.getUA())),this.parsedResult.os},j.getOSName=function(v){var b=this.getOS().name;return v?String(b).toLowerCase()||"":b||""},j.getOSVersion=function(){return this.getOS().version},j.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},j.getPlatformType=function(v){void 0===v&&(v=!1);var b=this.getPlatform().type;return v?String(b).toLowerCase()||"":b||""},j.parsePlatform=function(){var v=this;this.parsedResult.platform={};var b=g.default.find(y.default,function(G){if("function"==typeof G.test)return G.test(v);if(G.test instanceof Array)return G.test.some(function(z){return v.test(z)});throw new Error("Browser's test function is not valid")});return b&&(this.parsedResult.platform=b.describe(this.getUA())),this.parsedResult.platform},j.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},j.getEngineName=function(v){return v?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},j.parseEngine=function(){var v=this;this.parsedResult.engine={};var b=g.default.find(f.default,function(G){if("function"==typeof G.test)return G.test(v);if(G.test instanceof Array)return G.test.some(function(z){return v.test(z)});throw new Error("Browser's test function is not valid")});return b&&(this.parsedResult.engine=b.describe(this.getUA())),this.parsedResult.engine},j.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},j.getResult=function(){return g.default.assign({},this.parsedResult)},j.satisfies=function(v){var b=this,G={},z=0,H={},ee=0;if(Object.keys(v).forEach(function(x){var R=v[x];"string"==typeof R?(H[x]=R,ee+=1):"object"==typeof R&&(G[x]=R,z+=1)}),z>0){var U=Object.keys(G),W=g.default.find(U,function(x){return b.isOS(x)});if(W){var Y=this.satisfies(G[W]);if(void 0!==Y)return Y}var ae=g.default.find(U,function(x){return b.isPlatform(x)});if(ae){var ve=this.satisfies(G[ae]);if(void 0!==ve)return ve}}if(ee>0){var _e=Object.keys(H),he=g.default.find(_e,function(x){return b.isBrowser(x,!0)});if(void 0!==he)return this.compareVersion(H[he])}},j.isBrowser=function(v,b){void 0===b&&(b=!1);var G=this.getBrowserName().toLowerCase(),z=v.toLowerCase(),H=g.default.getBrowserTypeByAlias(z);return b&&H&&(z=H.toLowerCase()),z===G},j.compareVersion=function(v){var b=[0],G=v,z=!1,H=this.getBrowserVersion();if("string"==typeof H)return">"===v[0]||"<"===v[0]?(G=v.substr(1),"="===v[1]?(z=!0,G=v.substr(2)):b=[],b.push(">"===v[0]?1:-1)):"="===v[0]?G=v.substr(1):"~"===v[0]&&(z=!0,G=v.substr(1)),b.indexOf(g.default.compareVersions(H,G,z))>-1},j.isOS=function(v){return this.getOSName(!0)===String(v).toLowerCase()},j.isPlatform=function(v){return this.getPlatformType(!0)===String(v).toLowerCase()},j.isEngine=function(v){return this.getEngineName(!0)===String(v).toLowerCase()},j.is=function(v,b){return void 0===b&&(b=!1),this.isBrowser(v,b)||this.isOS(v)||this.isPlatform(v)},j.some=function(v){var b=this;return void 0===v&&(v=[]),v.some(function(G){return b.is(G)})},O}();M.default=P,S.exports=M.default},92:function(S,M,K){"use strict";M.__esModule=!0,M.default=void 0;var B,r=(B=K(17))&&B.__esModule?B:{default:B},y=/version\/(\d+(\.?_?\d+)+)/i;M.default=[{test:[/googlebot/i],describe:function(_){var P={name:"Googlebot"},O=r.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,_)||r.default.getFirstMatch(y,_);return O&&(P.version=O),P}},{test:[/opera/i],describe:function(_){var P={name:"Opera"},O=r.default.getFirstMatch(y,_)||r.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/opr\/|opios/i],describe:function(_){var P={name:"Opera"},O=r.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,_)||r.default.getFirstMatch(y,_);return O&&(P.version=O),P}},{test:[/SamsungBrowser/i],describe:function(_){var P={name:"Samsung Internet for Android"},O=r.default.getFirstMatch(y,_)||r.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/Whale/i],describe:function(_){var P={name:"NAVER Whale Browser"},O=r.default.getFirstMatch(y,_)||r.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/MZBrowser/i],describe:function(_){var P={name:"MZ Browser"},O=r.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,_)||r.default.getFirstMatch(y,_);return O&&(P.version=O),P}},{test:[/focus/i],describe:function(_){var P={name:"Focus"},O=r.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,_)||r.default.getFirstMatch(y,_);return O&&(P.version=O),P}},{test:[/swing/i],describe:function(_){var P={name:"Swing"},O=r.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,_)||r.default.getFirstMatch(y,_);return O&&(P.version=O),P}},{test:[/coast/i],describe:function(_){var P={name:"Opera Coast"},O=r.default.getFirstMatch(y,_)||r.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(_){var P={name:"Opera Touch"},O=r.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,_)||r.default.getFirstMatch(y,_);return O&&(P.version=O),P}},{test:[/yabrowser/i],describe:function(_){var P={name:"Yandex Browser"},O=r.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,_)||r.default.getFirstMatch(y,_);return O&&(P.version=O),P}},{test:[/ucbrowser/i],describe:function(_){var P={name:"UC Browser"},O=r.default.getFirstMatch(y,_)||r.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/Maxthon|mxios/i],describe:function(_){var P={name:"Maxthon"},O=r.default.getFirstMatch(y,_)||r.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/epiphany/i],describe:function(_){var P={name:"Epiphany"},O=r.default.getFirstMatch(y,_)||r.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/puffin/i],describe:function(_){var P={name:"Puffin"},O=r.default.getFirstMatch(y,_)||r.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/sleipnir/i],describe:function(_){var P={name:"Sleipnir"},O=r.default.getFirstMatch(y,_)||r.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/k-meleon/i],describe:function(_){var P={name:"K-Meleon"},O=r.default.getFirstMatch(y,_)||r.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/micromessenger/i],describe:function(_){var P={name:"WeChat"},O=r.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,_)||r.default.getFirstMatch(y,_);return O&&(P.version=O),P}},{test:[/qqbrowser/i],describe:function(_){var P={name:/qqbrowserlite/i.test(_)?"QQ Browser Lite":"QQ Browser"},O=r.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,_)||r.default.getFirstMatch(y,_);return O&&(P.version=O),P}},{test:[/msie|trident/i],describe:function(_){var P={name:"Internet Explorer"},O=r.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/\sedg\//i],describe:function(_){var P={name:"Microsoft Edge"},O=r.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/edg([ea]|ios)/i],describe:function(_){var P={name:"Microsoft Edge"},O=r.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/vivaldi/i],describe:function(_){var P={name:"Vivaldi"},O=r.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/seamonkey/i],describe:function(_){var P={name:"SeaMonkey"},O=r.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/sailfish/i],describe:function(_){var P={name:"Sailfish"},O=r.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,_);return O&&(P.version=O),P}},{test:[/silk/i],describe:function(_){var P={name:"Amazon Silk"},O=r.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/phantom/i],describe:function(_){var P={name:"PhantomJS"},O=r.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/slimerjs/i],describe:function(_){var P={name:"SlimerJS"},O=r.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(_){var P={name:"BlackBerry"},O=r.default.getFirstMatch(y,_)||r.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/(web|hpw)[o0]s/i],describe:function(_){var P={name:"WebOS Browser"},O=r.default.getFirstMatch(y,_)||r.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/bada/i],describe:function(_){var P={name:"Bada"},O=r.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/tizen/i],describe:function(_){var P={name:"Tizen"},O=r.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,_)||r.default.getFirstMatch(y,_);return O&&(P.version=O),P}},{test:[/qupzilla/i],describe:function(_){var P={name:"QupZilla"},O=r.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,_)||r.default.getFirstMatch(y,_);return O&&(P.version=O),P}},{test:[/firefox|iceweasel|fxios/i],describe:function(_){var P={name:"Firefox"},O=r.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/electron/i],describe:function(_){var P={name:"Electron"},O=r.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/MiuiBrowser/i],describe:function(_){var P={name:"Miui"},O=r.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/chromium/i],describe:function(_){var P={name:"Chromium"},O=r.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,_)||r.default.getFirstMatch(y,_);return O&&(P.version=O),P}},{test:[/chrome|crios|crmo/i],describe:function(_){var P={name:"Chrome"},O=r.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/GSA/i],describe:function(_){var P={name:"Google Search"},O=r.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:function(_){var P=!_.test(/like android/i),O=_.test(/android/i);return P&&O},describe:function(_){var P={name:"Android Browser"},O=r.default.getFirstMatch(y,_);return O&&(P.version=O),P}},{test:[/playstation 4/i],describe:function(_){var P={name:"PlayStation 4"},O=r.default.getFirstMatch(y,_);return O&&(P.version=O),P}},{test:[/safari|applewebkit/i],describe:function(_){var P={name:"Safari"},O=r.default.getFirstMatch(y,_);return O&&(P.version=O),P}},{test:[/.*/i],describe:function(_){var P=-1!==_.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:r.default.getFirstMatch(P,_),version:r.default.getSecondMatch(P,_)}}}],S.exports=M.default},93:function(S,M,K){"use strict";M.__esModule=!0,M.default=void 0;var B,r=(B=K(17))&&B.__esModule?B:{default:B},y=K(18);M.default=[{test:[/Roku\/DVP/],describe:function(_){var P=r.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,_);return{name:y.OS_MAP.Roku,version:P}}},{test:[/windows phone/i],describe:function(_){var P=r.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,_);return{name:y.OS_MAP.WindowsPhone,version:P}}},{test:[/windows /i],describe:function(_){var P=r.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,_),O=r.default.getWindowsVersionName(P);return{name:y.OS_MAP.Windows,version:P,versionName:O}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(_){var P={name:y.OS_MAP.iOS},O=r.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,_);return O&&(P.version=O),P}},{test:[/macintosh/i],describe:function(_){var P=r.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,_).replace(/[_\s]/g,"."),O=r.default.getMacOSVersionName(P),j={name:y.OS_MAP.MacOS,version:P};return O&&(j.versionName=O),j}},{test:[/(ipod|iphone|ipad)/i],describe:function(_){var P=r.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,_).replace(/[_\s]/g,".");return{name:y.OS_MAP.iOS,version:P}}},{test:function(_){var P=!_.test(/like android/i),O=_.test(/android/i);return P&&O},describe:function(_){var P=r.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,_),O=r.default.getAndroidVersionName(P),j={name:y.OS_MAP.Android,version:P};return O&&(j.versionName=O),j}},{test:[/(web|hpw)[o0]s/i],describe:function(_){var P=r.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,_),O={name:y.OS_MAP.WebOS};return P&&P.length&&(O.version=P),O}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(_){var P=r.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,_)||r.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,_)||r.default.getFirstMatch(/\bbb(\d+)/i,_);return{name:y.OS_MAP.BlackBerry,version:P}}},{test:[/bada/i],describe:function(_){var P=r.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,_);return{name:y.OS_MAP.Bada,version:P}}},{test:[/tizen/i],describe:function(_){var P=r.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,_);return{name:y.OS_MAP.Tizen,version:P}}},{test:[/linux/i],describe:function(){return{name:y.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:y.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(_){var P=r.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,_);return{name:y.OS_MAP.PlayStation4,version:P}}}],S.exports=M.default},94:function(S,M,K){"use strict";M.__esModule=!0,M.default=void 0;var B,r=(B=K(17))&&B.__esModule?B:{default:B},y=K(18);M.default=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(_){var P=r.default.getFirstMatch(/(can-l01)/i,_)&&"Nova",O={type:y.PLATFORMS_MAP.mobile,vendor:"Huawei"};return P&&(O.model=P),O}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:y.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:y.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:y.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:y.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:y.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:y.PLATFORMS_MAP.tablet}}},{test:function(_){var P=_.test(/ipod|iphone/i),O=_.test(/like (ipod|iphone)/i);return P&&!O},describe:function(_){var P=r.default.getFirstMatch(/(ipod|iphone)/i,_);return{type:y.PLATFORMS_MAP.mobile,vendor:"Apple",model:P}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:y.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:y.PLATFORMS_MAP.mobile}}},{test:function(_){return"blackberry"===_.getBrowserName(!0)},describe:function(){return{type:y.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(_){return"bada"===_.getBrowserName(!0)},describe:function(){return{type:y.PLATFORMS_MAP.mobile}}},{test:function(_){return"windows phone"===_.getBrowserName()},describe:function(){return{type:y.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(_){var P=Number(String(_.getOSVersion()).split(".")[0]);return"android"===_.getOSName(!0)&&P>=3},describe:function(){return{type:y.PLATFORMS_MAP.tablet}}},{test:function(_){return"android"===_.getOSName(!0)},describe:function(){return{type:y.PLATFORMS_MAP.mobile}}},{test:function(_){return"macos"===_.getOSName(!0)},describe:function(){return{type:y.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(_){return"windows"===_.getOSName(!0)},describe:function(){return{type:y.PLATFORMS_MAP.desktop}}},{test:function(_){return"linux"===_.getOSName(!0)},describe:function(){return{type:y.PLATFORMS_MAP.desktop}}},{test:function(_){return"playstation 4"===_.getOSName(!0)},describe:function(){return{type:y.PLATFORMS_MAP.tv}}},{test:function(_){return"roku"===_.getOSName(!0)},describe:function(){return{type:y.PLATFORMS_MAP.tv}}}],S.exports=M.default},95:function(S,M,K){"use strict";M.__esModule=!0,M.default=void 0;var B,r=(B=K(17))&&B.__esModule?B:{default:B},y=K(18);M.default=[{test:function(_){return"microsoft edge"===_.getBrowserName(!0)},describe:function(_){if(/\sedg\//i.test(_))return{name:y.ENGINE_MAP.Blink};var P=r.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,_);return{name:y.ENGINE_MAP.EdgeHTML,version:P}}},{test:[/trident/i],describe:function(_){var P={name:y.ENGINE_MAP.Trident},O=r.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:function(_){return _.test(/presto/i)},describe:function(_){var P={name:y.ENGINE_MAP.Presto},O=r.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:function(_){var P=_.test(/gecko/i),O=_.test(/like gecko/i);return P&&!O},describe:function(_){var P={name:y.ENGINE_MAP.Gecko},O=r.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:y.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(_){var P={name:y.ENGINE_MAP.WebKit},O=r.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,_);return O&&(P.version=O),P}}],S.exports=M.default}})},75979:fe=>{fe.exports=function M(K){return"[object String]"=={}.toString.call(K)?K.replace(V,".$1").replace(S,""):""};var V=/\[([^\[\]]+)\]/g,S=/^[.]*|[.]*$/g},13195:(fe,V,S)=>{var M=S(82173),K=S(54920),B="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;V.Buffer=g,V.SlowBuffer=function ee(be){return+be!=be&&(be=0),g.alloc(+be)},V.INSPECT_MAX_BYTES=50;var r=2147483647;function f(be){if(be>r)throw new RangeError('The value "'+be+'" is invalid for option "size"');var ce=new Uint8Array(be);return Object.setPrototypeOf(ce,g.prototype),ce}function g(be,ce,le){if("number"==typeof be){if("string"==typeof ce)throw new TypeError('The "string" argument must be of type string. Received type number');return j(be)}return _(be,ce,le)}function _(be,ce,le){if("string"==typeof be)return function v(be,ce){if(("string"!=typeof ce||""===ce)&&(ce="utf8"),!g.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);var le=0|U(be,ce),Ie=f(le),at=Ie.write(be,ce);return at!==le&&(Ie=Ie.slice(0,at)),Ie}(be,ce);if(ArrayBuffer.isView(be))return b(be);if(null==be)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof be);if(pe(be,ArrayBuffer)||be&&pe(be.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pe(be,SharedArrayBuffer)||be&&pe(be.buffer,SharedArrayBuffer)))return function G(be,ce,le){if(ce<0||be.byteLength<ce)throw new RangeError('"offset" is outside of buffer bounds');if(be.byteLength<ce+(le||0))throw new RangeError('"length" is outside of buffer bounds');var Ie;return Ie=void 0===ce&&void 0===le?new Uint8Array(be):void 0===le?new Uint8Array(be,ce):new Uint8Array(be,ce,le),Object.setPrototypeOf(Ie,g.prototype),Ie}(be,ce,le);if("number"==typeof be)throw new TypeError('The "value" argument must not be of type number. Received type number');var Ie=be.valueOf&&be.valueOf();if(null!=Ie&&Ie!==be)return g.from(Ie,ce,le);var at=function z(be){if(g.isBuffer(be)){var ce=0|H(be.length),le=f(ce);return 0===le.length||be.copy(le,0,0,ce),le}return void 0!==be.length?"number"!=typeof be.length||xe(be.length)?f(0):b(be):"Buffer"===be.type&&Array.isArray(be.data)?b(be.data):void 0}(be);if(at)return at;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof be[Symbol.toPrimitive])return g.from(be[Symbol.toPrimitive]("string"),ce,le);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof be)}function P(be){if("number"!=typeof be)throw new TypeError('"size" argument must be of type number');if(be<0)throw new RangeError('The value "'+be+'" is invalid for option "size"')}function j(be){return P(be),f(be<0?0:0|H(be))}function b(be){for(var ce=be.length<0?0:0|H(be.length),le=f(ce),Ie=0;Ie<ce;Ie+=1)le[Ie]=255&be[Ie];return le}function H(be){if(be>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|be}function U(be,ce){if(g.isBuffer(be))return be.length;if(ArrayBuffer.isView(be)||pe(be,ArrayBuffer))return be.byteLength;if("string"!=typeof be)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof be);var le=be.length,Ie=arguments.length>2&&!0===arguments[2];if(!Ie&&0===le)return 0;for(var at=!1;;)switch(ce){case"ascii":case"latin1":case"binary":return le;case"utf8":case"utf-8":return de(be).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*le;case"hex":return le>>>1;case"base64":return Ae(be).length;default:if(at)return Ie?-1:de(be).length;ce=(""+ce).toLowerCase(),at=!0}}function W(be,ce,le){var Ie=!1;if((void 0===ce||ce<0)&&(ce=0),ce>this.length||((void 0===le||le>this.length)&&(le=this.length),le<=0)||(le>>>=0)<=(ce>>>=0))return"";for(be||(be="utf8");;)switch(be){case"hex":return Fe(this,ce,le);case"utf8":case"utf-8":return D(this,ce,le);case"ascii":return Re(this,ce,le);case"latin1":case"binary":return ne(this,ce,le);case"base64":return L(this,ce,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rt(this,ce,le);default:if(Ie)throw new TypeError("Unknown encoding: "+be);be=(be+"").toLowerCase(),Ie=!0}}function Y(be,ce,le){var Ie=be[ce];be[ce]=be[le],be[le]=Ie}function ae(be,ce,le,Ie,at){if(0===be.length)return-1;if("string"==typeof le?(Ie=le,le=0):le>2147483647?le=2147483647:le<-2147483648&&(le=-2147483648),xe(le=+le)&&(le=at?0:be.length-1),le<0&&(le=be.length+le),le>=be.length){if(at)return-1;le=be.length-1}else if(le<0){if(!at)return-1;le=0}if("string"==typeof ce&&(ce=g.from(ce,Ie)),g.isBuffer(ce))return 0===ce.length?-1:ve(be,ce,le,Ie,at);if("number"==typeof ce)return ce&=255,"function"==typeof Uint8Array.prototype.indexOf?at?Uint8Array.prototype.indexOf.call(be,ce,le):Uint8Array.prototype.lastIndexOf.call(be,ce,le):ve(be,[ce],le,Ie,at);throw new TypeError("val must be string, number or Buffer")}function ve(be,ce,le,Ie,at){var Xt,Tt=1,Vt=be.length,zt=ce.length;if(void 0!==Ie&&("ucs2"===(Ie=String(Ie).toLowerCase())||"ucs-2"===Ie||"utf16le"===Ie||"utf-16le"===Ie)){if(be.length<2||ce.length<2)return-1;Tt=2,Vt/=2,zt/=2,le/=2}function un(Br,ar){return 1===Tt?Br[ar]:Br.readUInt16BE(ar*Tt)}if(at){var Kn=-1;for(Xt=le;Xt<Vt;Xt++)if(un(be,Xt)===un(ce,-1===Kn?0:Xt-Kn)){if(-1===Kn&&(Kn=Xt),Xt-Kn+1===zt)return Kn*Tt}else-1!==Kn&&(Xt-=Xt-Kn),Kn=-1}else for(le+zt>Vt&&(le=Vt-zt),Xt=le;Xt>=0;Xt--){for(var Un=!0,De=0;De<zt;De++)if(un(be,Xt+De)!==un(ce,De)){Un=!1;break}if(Un)return Xt}return-1}function _e(be,ce,le,Ie){le=Number(le)||0;var at=be.length-le;Ie?(Ie=Number(Ie))>at&&(Ie=at):Ie=at;var Tt=ce.length;Ie>Tt/2&&(Ie=Tt/2);for(var Vt=0;Vt<Ie;++Vt){var zt=parseInt(ce.substr(2*Vt,2),16);if(xe(zt))return Vt;be[le+Vt]=zt}return Vt}function he(be,ce,le,Ie){return Ne(de(ce,be.length-le),be,le,Ie)}function x(be,ce,le,Ie){return Ne(function J(be){for(var ce=[],le=0;le<be.length;++le)ce.push(255&be.charCodeAt(le));return ce}(ce),be,le,Ie)}function R(be,ce,le,Ie){return x(be,ce,le,Ie)}function E(be,ce,le,Ie){return Ne(Ae(ce),be,le,Ie)}function I(be,ce,le,Ie){return Ne(function oe(be,ce){for(var le,Ie,Tt=[],Vt=0;Vt<be.length&&!((ce-=2)<0);++Vt)Ie=(le=be.charCodeAt(Vt))>>8,Tt.push(le%256),Tt.push(Ie);return Tt}(ce,be.length-le),be,le,Ie)}function L(be,ce,le){return M.fromByteArray(0===ce&&le===be.length?be:be.slice(ce,le))}function D(be,ce,le){le=Math.min(be.length,le);for(var Ie=[],at=ce;at<le;){var un,Xt,Kn,Un,Tt=be[at],Vt=null,zt=Tt>239?4:Tt>223?3:Tt>191?2:1;if(at+zt<=le)switch(zt){case 1:Tt<128&&(Vt=Tt);break;case 2:128==(192&(un=be[at+1]))&&(Un=(31&Tt)<<6|63&un)>127&&(Vt=Un);break;case 3:Xt=be[at+2],128==(192&(un=be[at+1]))&&128==(192&Xt)&&(Un=(15&Tt)<<12|(63&un)<<6|63&Xt)>2047&&(Un<55296||Un>57343)&&(Vt=Un);break;case 4:Xt=be[at+2],Kn=be[at+3],128==(192&(un=be[at+1]))&&128==(192&Xt)&&128==(192&Kn)&&(Un=(15&Tt)<<18|(63&un)<<12|(63&Xt)<<6|63&Kn)>65535&&Un<1114112&&(Vt=Un)}null===Vt?(Vt=65533,zt=1):Vt>65535&&(Ie.push((Vt-=65536)>>>10&1023|55296),Vt=56320|1023&Vt),Ie.push(Vt),at+=zt}return function te(be){var ce=be.length;if(ce<=Q)return String.fromCharCode.apply(String,be);for(var le="",Ie=0;Ie<ce;)le+=String.fromCharCode.apply(String,be.slice(Ie,Ie+=Q));return le}(Ie)}V.kMaxLength=r,!(g.TYPED_ARRAY_SUPPORT=function y(){try{var be=new Uint8Array(1),ce={foo:function(){return 42}};return Object.setPrototypeOf(ce,Uint8Array.prototype),Object.setPrototypeOf(be,ce),42===be.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),g.poolSize=8192,g.from=function(be,ce,le){return _(be,ce,le)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array),g.alloc=function(be,ce,le){return function O(be,ce,le){return P(be),be<=0?f(be):void 0!==ce?"string"==typeof le?f(be).fill(ce,le):f(be).fill(ce):f(be)}(be,ce,le)},g.allocUnsafe=function(be){return j(be)},g.allocUnsafeSlow=function(be){return j(be)},g.isBuffer=function(ce){return null!=ce&&!0===ce._isBuffer&&ce!==g.prototype},g.compare=function(ce,le){if(pe(ce,Uint8Array)&&(ce=g.from(ce,ce.offset,ce.byteLength)),pe(le,Uint8Array)&&(le=g.from(le,le.offset,le.byteLength)),!g.isBuffer(ce)||!g.isBuffer(le))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ce===le)return 0;for(var Ie=ce.length,at=le.length,Tt=0,Vt=Math.min(Ie,at);Tt<Vt;++Tt)if(ce[Tt]!==le[Tt]){Ie=ce[Tt],at=le[Tt];break}return Ie<at?-1:at<Ie?1:0},g.isEncoding=function(ce){switch(String(ce).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(ce,le){if(!Array.isArray(ce))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ce.length)return g.alloc(0);var Ie;if(void 0===le)for(le=0,Ie=0;Ie<ce.length;++Ie)le+=ce[Ie].length;var at=g.allocUnsafe(le),Tt=0;for(Ie=0;Ie<ce.length;++Ie){var Vt=ce[Ie];if(pe(Vt,Uint8Array)&&(Vt=g.from(Vt)),!g.isBuffer(Vt))throw new TypeError('"list" argument must be an Array of Buffers');Vt.copy(at,Tt),Tt+=Vt.length}return at},g.byteLength=U,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var ce=this.length;if(ce%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var le=0;le<ce;le+=2)Y(this,le,le+1);return this},g.prototype.swap32=function(){var ce=this.length;if(ce%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var le=0;le<ce;le+=4)Y(this,le,le+3),Y(this,le+1,le+2);return this},g.prototype.swap64=function(){var ce=this.length;if(ce%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var le=0;le<ce;le+=8)Y(this,le,le+7),Y(this,le+1,le+6),Y(this,le+2,le+5),Y(this,le+3,le+4);return this},g.prototype.toLocaleString=g.prototype.toString=function(){var ce=this.length;return 0===ce?"":0===arguments.length?D(this,0,ce):W.apply(this,arguments)},g.prototype.equals=function(ce){if(!g.isBuffer(ce))throw new TypeError("Argument must be a Buffer");return this===ce||0===g.compare(this,ce)},g.prototype.inspect=function(){var ce="",le=V.INSPECT_MAX_BYTES;return ce=this.toString("hex",0,le).replace(/(.{2})/g,"$1 ").trim(),this.length>le&&(ce+=" ... "),"<Buffer "+ce+">"},B&&(g.prototype[B]=g.prototype.inspect),g.prototype.compare=function(ce,le,Ie,at,Tt){if(pe(ce,Uint8Array)&&(ce=g.from(ce,ce.offset,ce.byteLength)),!g.isBuffer(ce))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ce);if(void 0===le&&(le=0),void 0===Ie&&(Ie=ce?ce.length:0),void 0===at&&(at=0),void 0===Tt&&(Tt=this.length),le<0||Ie>ce.length||at<0||Tt>this.length)throw new RangeError("out of range index");if(at>=Tt&&le>=Ie)return 0;if(at>=Tt)return-1;if(le>=Ie)return 1;if(this===ce)return 0;for(var Vt=(Tt>>>=0)-(at>>>=0),zt=(Ie>>>=0)-(le>>>=0),un=Math.min(Vt,zt),Xt=this.slice(at,Tt),Kn=ce.slice(le,Ie),Un=0;Un<un;++Un)if(Xt[Un]!==Kn[Un]){Vt=Xt[Un],zt=Kn[Un];break}return Vt<zt?-1:zt<Vt?1:0},g.prototype.includes=function(ce,le,Ie){return-1!==this.indexOf(ce,le,Ie)},g.prototype.indexOf=function(ce,le,Ie){return ae(this,ce,le,Ie,!0)},g.prototype.lastIndexOf=function(ce,le,Ie){return ae(this,ce,le,Ie,!1)},g.prototype.write=function(ce,le,Ie,at){if(void 0===le)at="utf8",Ie=this.length,le=0;else if(void 0===Ie&&"string"==typeof le)at=le,Ie=this.length,le=0;else{if(!isFinite(le))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");le>>>=0,isFinite(Ie)?(Ie>>>=0,void 0===at&&(at="utf8")):(at=Ie,Ie=void 0)}var Tt=this.length-le;if((void 0===Ie||Ie>Tt)&&(Ie=Tt),ce.length>0&&(Ie<0||le<0)||le>this.length)throw new RangeError("Attempt to write outside buffer bounds");at||(at="utf8");for(var Vt=!1;;)switch(at){case"hex":return _e(this,ce,le,Ie);case"utf8":case"utf-8":return he(this,ce,le,Ie);case"ascii":return x(this,ce,le,Ie);case"latin1":case"binary":return R(this,ce,le,Ie);case"base64":return E(this,ce,le,Ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,ce,le,Ie);default:if(Vt)throw new TypeError("Unknown encoding: "+at);at=(""+at).toLowerCase(),Vt=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;function Re(be,ce,le){var Ie="";le=Math.min(be.length,le);for(var at=ce;at<le;++at)Ie+=String.fromCharCode(127&be[at]);return Ie}function ne(be,ce,le){var Ie="";le=Math.min(be.length,le);for(var at=ce;at<le;++at)Ie+=String.fromCharCode(be[at]);return Ie}function Fe(be,ce,le){var Ie=be.length;(!ce||ce<0)&&(ce=0),(!le||le<0||le>Ie)&&(le=Ie);for(var at="",Tt=ce;Tt<le;++Tt)at+=ut[be[Tt]];return at}function rt(be,ce,le){for(var Ie=be.slice(ce,le),at="",Tt=0;Tt<Ie.length;Tt+=2)at+=String.fromCharCode(Ie[Tt]+256*Ie[Tt+1]);return at}function Te(be,ce,le){if(be%1!=0||be<0)throw new RangeError("offset is not uint");if(be+ce>le)throw new RangeError("Trying to access beyond buffer length")}function tt(be,ce,le,Ie,at,Tt){if(!g.isBuffer(be))throw new TypeError('"buffer" argument must be a Buffer instance');if(ce>at||ce<Tt)throw new RangeError('"value" argument is out of bounds');if(le+Ie>be.length)throw new RangeError("Index out of range")}function Qe(be,ce,le,Ie,at,Tt){if(le+Ie>be.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("Index out of range")}function vt(be,ce,le,Ie,at){return ce=+ce,le>>>=0,at||Qe(be,0,le,4),K.write(be,ce,le,Ie,23,4),le+4}function et(be,ce,le,Ie,at){return ce=+ce,le>>>=0,at||Qe(be,0,le,8),K.write(be,ce,le,Ie,52,8),le+8}g.prototype.slice=function(ce,le){var Ie=this.length;(ce=~~ce)<0?(ce+=Ie)<0&&(ce=0):ce>Ie&&(ce=Ie),(le=void 0===le?Ie:~~le)<0?(le+=Ie)<0&&(le=0):le>Ie&&(le=Ie),le<ce&&(le=ce);var at=this.subarray(ce,le);return Object.setPrototypeOf(at,g.prototype),at},g.prototype.readUIntLE=function(ce,le,Ie){ce>>>=0,le>>>=0,Ie||Te(ce,le,this.length);for(var at=this[ce],Tt=1,Vt=0;++Vt<le&&(Tt*=256);)at+=this[ce+Vt]*Tt;return at},g.prototype.readUIntBE=function(ce,le,Ie){ce>>>=0,le>>>=0,Ie||Te(ce,le,this.length);for(var at=this[ce+--le],Tt=1;le>0&&(Tt*=256);)at+=this[ce+--le]*Tt;return at},g.prototype.readUInt8=function(ce,le){return ce>>>=0,le||Te(ce,1,this.length),this[ce]},g.prototype.readUInt16LE=function(ce,le){return ce>>>=0,le||Te(ce,2,this.length),this[ce]|this[ce+1]<<8},g.prototype.readUInt16BE=function(ce,le){return ce>>>=0,le||Te(ce,2,this.length),this[ce]<<8|this[ce+1]},g.prototype.readUInt32LE=function(ce,le){return ce>>>=0,le||Te(ce,4,this.length),(this[ce]|this[ce+1]<<8|this[ce+2]<<16)+16777216*this[ce+3]},g.prototype.readUInt32BE=function(ce,le){return ce>>>=0,le||Te(ce,4,this.length),16777216*this[ce]+(this[ce+1]<<16|this[ce+2]<<8|this[ce+3])},g.prototype.readIntLE=function(ce,le,Ie){ce>>>=0,le>>>=0,Ie||Te(ce,le,this.length);for(var at=this[ce],Tt=1,Vt=0;++Vt<le&&(Tt*=256);)at+=this[ce+Vt]*Tt;return at>=(Tt*=128)&&(at-=Math.pow(2,8*le)),at},g.prototype.readIntBE=function(ce,le,Ie){ce>>>=0,le>>>=0,Ie||Te(ce,le,this.length);for(var at=le,Tt=1,Vt=this[ce+--at];at>0&&(Tt*=256);)Vt+=this[ce+--at]*Tt;return Vt>=(Tt*=128)&&(Vt-=Math.pow(2,8*le)),Vt},g.prototype.readInt8=function(ce,le){return ce>>>=0,le||Te(ce,1,this.length),128&this[ce]?-1*(255-this[ce]+1):this[ce]},g.prototype.readInt16LE=function(ce,le){ce>>>=0,le||Te(ce,2,this.length);var Ie=this[ce]|this[ce+1]<<8;return 32768&Ie?4294901760|Ie:Ie},g.prototype.readInt16BE=function(ce,le){ce>>>=0,le||Te(ce,2,this.length);var Ie=this[ce+1]|this[ce]<<8;return 32768&Ie?4294901760|Ie:Ie},g.prototype.readInt32LE=function(ce,le){return ce>>>=0,le||Te(ce,4,this.length),this[ce]|this[ce+1]<<8|this[ce+2]<<16|this[ce+3]<<24},g.prototype.readInt32BE=function(ce,le){return ce>>>=0,le||Te(ce,4,this.length),this[ce]<<24|this[ce+1]<<16|this[ce+2]<<8|this[ce+3]},g.prototype.readFloatLE=function(ce,le){return ce>>>=0,le||Te(ce,4,this.length),K.read(this,ce,!0,23,4)},g.prototype.readFloatBE=function(ce,le){return ce>>>=0,le||Te(ce,4,this.length),K.read(this,ce,!1,23,4)},g.prototype.readDoubleLE=function(ce,le){return ce>>>=0,le||Te(ce,8,this.length),K.read(this,ce,!0,52,8)},g.prototype.readDoubleBE=function(ce,le){return ce>>>=0,le||Te(ce,8,this.length),K.read(this,ce,!1,52,8)},g.prototype.writeUIntLE=function(ce,le,Ie,at){ce=+ce,le>>>=0,Ie>>>=0,at||tt(this,ce,le,Ie,Math.pow(2,8*Ie)-1,0);var Vt=1,zt=0;for(this[le]=255&ce;++zt<Ie&&(Vt*=256);)this[le+zt]=ce/Vt&255;return le+Ie},g.prototype.writeUIntBE=function(ce,le,Ie,at){ce=+ce,le>>>=0,Ie>>>=0,at||tt(this,ce,le,Ie,Math.pow(2,8*Ie)-1,0);var Vt=Ie-1,zt=1;for(this[le+Vt]=255&ce;--Vt>=0&&(zt*=256);)this[le+Vt]=ce/zt&255;return le+Ie},g.prototype.writeUInt8=function(ce,le,Ie){return ce=+ce,le>>>=0,Ie||tt(this,ce,le,1,255,0),this[le]=255&ce,le+1},g.prototype.writeUInt16LE=function(ce,le,Ie){return ce=+ce,le>>>=0,Ie||tt(this,ce,le,2,65535,0),this[le]=255&ce,this[le+1]=ce>>>8,le+2},g.prototype.writeUInt16BE=function(ce,le,Ie){return ce=+ce,le>>>=0,Ie||tt(this,ce,le,2,65535,0),this[le]=ce>>>8,this[le+1]=255&ce,le+2},g.prototype.writeUInt32LE=function(ce,le,Ie){return ce=+ce,le>>>=0,Ie||tt(this,ce,le,4,4294967295,0),this[le+3]=ce>>>24,this[le+2]=ce>>>16,this[le+1]=ce>>>8,this[le]=255&ce,le+4},g.prototype.writeUInt32BE=function(ce,le,Ie){return ce=+ce,le>>>=0,Ie||tt(this,ce,le,4,4294967295,0),this[le]=ce>>>24,this[le+1]=ce>>>16,this[le+2]=ce>>>8,this[le+3]=255&ce,le+4},g.prototype.writeIntLE=function(ce,le,Ie,at){if(ce=+ce,le>>>=0,!at){var Tt=Math.pow(2,8*Ie-1);tt(this,ce,le,Ie,Tt-1,-Tt)}var Vt=0,zt=1,un=0;for(this[le]=255&ce;++Vt<Ie&&(zt*=256);)ce<0&&0===un&&0!==this[le+Vt-1]&&(un=1),this[le+Vt]=(ce/zt>>0)-un&255;return le+Ie},g.prototype.writeIntBE=function(ce,le,Ie,at){if(ce=+ce,le>>>=0,!at){var Tt=Math.pow(2,8*Ie-1);tt(this,ce,le,Ie,Tt-1,-Tt)}var Vt=Ie-1,zt=1,un=0;for(this[le+Vt]=255&ce;--Vt>=0&&(zt*=256);)ce<0&&0===un&&0!==this[le+Vt+1]&&(un=1),this[le+Vt]=(ce/zt>>0)-un&255;return le+Ie},g.prototype.writeInt8=function(ce,le,Ie){return ce=+ce,le>>>=0,Ie||tt(this,ce,le,1,127,-128),ce<0&&(ce=255+ce+1),this[le]=255&ce,le+1},g.prototype.writeInt16LE=function(ce,le,Ie){return ce=+ce,le>>>=0,Ie||tt(this,ce,le,2,32767,-32768),this[le]=255&ce,this[le+1]=ce>>>8,le+2},g.prototype.writeInt16BE=function(ce,le,Ie){return ce=+ce,le>>>=0,Ie||tt(this,ce,le,2,32767,-32768),this[le]=ce>>>8,this[le+1]=255&ce,le+2},g.prototype.writeInt32LE=function(ce,le,Ie){return ce=+ce,le>>>=0,Ie||tt(this,ce,le,4,2147483647,-2147483648),this[le]=255&ce,this[le+1]=ce>>>8,this[le+2]=ce>>>16,this[le+3]=ce>>>24,le+4},g.prototype.writeInt32BE=function(ce,le,Ie){return ce=+ce,le>>>=0,Ie||tt(this,ce,le,4,2147483647,-2147483648),ce<0&&(ce=4294967295+ce+1),this[le]=ce>>>24,this[le+1]=ce>>>16,this[le+2]=ce>>>8,this[le+3]=255&ce,le+4},g.prototype.writeFloatLE=function(ce,le,Ie){return vt(this,ce,le,!0,Ie)},g.prototype.writeFloatBE=function(ce,le,Ie){return vt(this,ce,le,!1,Ie)},g.prototype.writeDoubleLE=function(ce,le,Ie){return et(this,ce,le,!0,Ie)},g.prototype.writeDoubleBE=function(ce,le,Ie){return et(this,ce,le,!1,Ie)},g.prototype.copy=function(ce,le,Ie,at){if(!g.isBuffer(ce))throw new TypeError("argument should be a Buffer");if(Ie||(Ie=0),!at&&0!==at&&(at=this.length),le>=ce.length&&(le=ce.length),le||(le=0),at>0&&at<Ie&&(at=Ie),at===Ie||0===ce.length||0===this.length)return 0;if(le<0)throw new RangeError("targetStart out of bounds");if(Ie<0||Ie>=this.length)throw new RangeError("Index out of range");if(at<0)throw new RangeError("sourceEnd out of bounds");at>this.length&&(at=this.length),ce.length-le<at-Ie&&(at=ce.length-le+Ie);var Tt=at-Ie;if(this===ce&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(le,Ie,at);else if(this===ce&&Ie<le&&le<at)for(var Vt=Tt-1;Vt>=0;--Vt)ce[Vt+le]=this[Vt+Ie];else Uint8Array.prototype.set.call(ce,this.subarray(Ie,at),le);return Tt},g.prototype.fill=function(ce,le,Ie,at){if("string"==typeof ce){if("string"==typeof le?(at=le,le=0,Ie=this.length):"string"==typeof Ie&&(at=Ie,Ie=this.length),void 0!==at&&"string"!=typeof at)throw new TypeError("encoding must be a string");if("string"==typeof at&&!g.isEncoding(at))throw new TypeError("Unknown encoding: "+at);if(1===ce.length){var Tt=ce.charCodeAt(0);("utf8"===at&&Tt<128||"latin1"===at)&&(ce=Tt)}}else"number"==typeof ce?ce&=255:"boolean"==typeof ce&&(ce=Number(ce));if(le<0||this.length<le||this.length<Ie)throw new RangeError("Out of range index");if(Ie<=le)return this;var Vt;if(le>>>=0,Ie=void 0===Ie?this.length:Ie>>>0,ce||(ce=0),"number"==typeof ce)for(Vt=le;Vt<Ie;++Vt)this[Vt]=ce;else{var zt=g.isBuffer(ce)?ce:g.from(ce,at),un=zt.length;if(0===un)throw new TypeError('The value "'+ce+'" is invalid for argument "value"');for(Vt=0;Vt<Ie-le;++Vt)this[Vt+le]=zt[Vt%un]}return this};var je=/[^+/0-9A-Za-z-_]/g;function de(be,ce){ce=ce||1/0;for(var le,Ie=be.length,at=null,Tt=[],Vt=0;Vt<Ie;++Vt){if((le=be.charCodeAt(Vt))>55295&&le<57344){if(!at){if(le>56319){(ce-=3)>-1&&Tt.push(239,191,189);continue}if(Vt+1===Ie){(ce-=3)>-1&&Tt.push(239,191,189);continue}at=le;continue}if(le<56320){(ce-=3)>-1&&Tt.push(239,191,189),at=le;continue}le=65536+(at-55296<<10|le-56320)}else at&&(ce-=3)>-1&&Tt.push(239,191,189);if(at=null,le<128){if((ce-=1)<0)break;Tt.push(le)}else if(le<2048){if((ce-=2)<0)break;Tt.push(le>>6|192,63&le|128)}else if(le<65536){if((ce-=3)<0)break;Tt.push(le>>12|224,le>>6&63|128,63&le|128)}else{if(!(le<1114112))throw new Error("Invalid code point");if((ce-=4)<0)break;Tt.push(le>>18|240,le>>12&63|128,le>>6&63|128,63&le|128)}}return Tt}function Ae(be){return M.toByteArray(function it(be){if((be=(be=be.split("=")[0]).trim().replace(je,"")).length<2)return"";for(;be.length%4!=0;)be+="=";return be}(be))}function Ne(be,ce,le,Ie){for(var at=0;at<Ie&&!(at+le>=ce.length||at>=be.length);++at)ce[at+le]=be[at];return at}function pe(be,ce){return be instanceof ce||null!=be&&null!=be.constructor&&null!=be.constructor.name&&be.constructor.name===ce.name}function xe(be){return be!=be}var ut=function(){for(var be="0123456789abcdef",ce=new Array(256),le=0;le<16;++le)for(var Ie=16*le,at=0;at<16;++at)ce[Ie+at]=be[le]+be[at];return ce}()},4263:(fe,V,S)=>{var M=S(79903),K=S(3855),B=K(M("String.prototype.indexOf"));fe.exports=function(y,f){var g=M(y,!!f);return"function"==typeof g&&B(y,".prototype.")>-1?K(g):g}},3855:(fe,V,S)=>{var M=S(20224),K=S(79903),B=K("%Function.prototype.apply%"),r=K("%Function.prototype.call%"),y=K("%Reflect.apply%",!0)||M.call(r,B),f=K("%Object.getOwnPropertyDescriptor%",!0),g=K("%Object.defineProperty%",!0),_=K("%Math.max%");if(g)try{g({},"a",{value:1})}catch{g=null}fe.exports=function(j){var v=y(M,r,arguments);return f&&g&&f(v,"length").configurable&&g(v,"length",{value:1+_(0,j.length-(arguments.length-1))}),v};var P=function(){return y(M,B,arguments)};g?g(fe.exports,"apply",{value:P}):fe.exports.apply=P},75482:fe=>{var V=function(){"use strict";function S(O,j){return null!=j&&O instanceof j}var M,K,B;try{M=Map}catch{M=function(){}}try{K=Set}catch{K=function(){}}try{B=Promise}catch{B=function(){}}function r(O,j,v,b,G){"object"==typeof j&&(v=j.depth,b=j.prototype,G=j.includeNonEnumerable,j=j.circular);var z=[],H=[],ee=typeof Buffer<"u";return typeof j>"u"&&(j=!0),typeof v>"u"&&(v=1/0),function U(W,Y){if(null===W)return null;if(0===Y)return W;var ae,ve;if("object"!=typeof W)return W;if(S(W,M))ae=new M;else if(S(W,K))ae=new K;else if(S(W,B))ae=new B(function(Q,te){W.then(function(Re){Q(U(Re,Y-1))},function(Re){te(U(Re,Y-1))})});else if(r.__isArray(W))ae=[];else if(r.__isRegExp(W))ae=new RegExp(W.source,P(W)),W.lastIndex&&(ae.lastIndex=W.lastIndex);else if(r.__isDate(W))ae=new Date(W.getTime());else{if(ee&&Buffer.isBuffer(W))return ae=Buffer.allocUnsafe?Buffer.allocUnsafe(W.length):new Buffer(W.length),W.copy(ae),ae;S(W,Error)?ae=Object.create(W):typeof b>"u"?(ve=Object.getPrototypeOf(W),ae=Object.create(ve)):(ae=Object.create(b),ve=b)}if(j){var _e=z.indexOf(W);if(-1!=_e)return H[_e];z.push(W),H.push(ae)}for(var he in S(W,M)&&W.forEach(function(Q,te){var Re=U(te,Y-1),ne=U(Q,Y-1);ae.set(Re,ne)}),S(W,K)&&W.forEach(function(Q){var te=U(Q,Y-1);ae.add(te)}),W){var x;ve&&(x=Object.getOwnPropertyDescriptor(ve,he)),(!x||null!=x.set)&&(ae[he]=U(W[he],Y-1))}if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(W);for(he=0;he<R.length;he++){var E=R[he];(I=Object.getOwnPropertyDescriptor(W,E))&&!I.enumerable&&!G||(ae[E]=U(W[E],Y-1),I.enumerable||Object.defineProperty(ae,E,{enumerable:!1}))}}if(G){var L=Object.getOwnPropertyNames(W);for(he=0;he<L.length;he++){var I,D=L[he];(I=Object.getOwnPropertyDescriptor(W,D))&&I.enumerable||(ae[D]=U(W[D],Y-1),Object.defineProperty(ae,D,{enumerable:!1}))}}return ae}(O,v)}function y(O){return Object.prototype.toString.call(O)}function P(O){var j="";return O.global&&(j+="g"),O.ignoreCase&&(j+="i"),O.multiline&&(j+="m"),j}return r.clonePrototype=function(j){if(null===j)return null;var v=function(){};return v.prototype=j,new v},r.__objToStr=y,r.__isDate=function f(O){return"object"==typeof O&&"[object Date]"===y(O)},r.__isArray=function g(O){return"object"==typeof O&&"[object Array]"===y(O)},r.__isRegExp=function _(O){return"object"==typeof O&&"[object RegExp]"===y(O)},r.__getRegExpFlags=P,r}();fe.exports&&(fe.exports=V)},61562:function(fe,V){var S,K;void 0!==(K="function"==typeof(S=function(){return new function(){var r=this;r.init=function(){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.repeat=function(U){return new Array(1+U).join(this)}},r.init();var _=/\/\*[\s\S]*?\*\//g,P=/([^\:]+):([^\;]*);/,O=/(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+\;(?!\s*\*\/))/gim,z=function(W){return typeof W>"u"||0==W.length||null==W};r.toJSON=function(U,W){var Y={children:{},attributes:{}},ae=null,ve=0;for(typeof W>"u"&&(W={ordered:!1,comments:!1,stripComments:!1,split:!1}),W.stripComments&&(W.comments=!1,U=U.replace(_,""));null!=(ae=O.exec(U));)if(!z(ae[1])&&W.comments){var _e=ae[1].trim();Y[ve++]=_e}else if(z(ae[2])){if(!z(ae[3]))return Y;if(!z(ae[4])){var D=ae[4].trim(),Q=P.exec(D);if(Q){var he=Q[1].trim(),te=Q[2].trim();if(W.ordered)(R={}).name=he,R.value=te,R.type="attr",Y[ve++]=R;else if(he in Y.attributes){var Re=Y.attributes[he];Re instanceof Array||(Y.attributes[he]=[Re]),Y.attributes[he].push(te)}else Y.attributes[he]=te}else Y[ve++]=D}}else{he=ae[2].trim();var x=r.toJSON(U,W);if(W.ordered){var R;(R={}).name=he,R.value=x,R.type="rule",Y[ve++]=R}else{if(W.split)var E=he.split(",");else E=[he];for(i in E){var I=E[i].trim();if(I in Y.children)for(var L in x.attributes)Y.children[I].attributes[L]=x.attributes[L];else Y.children[I]=x}}}return Y},r.toCSS=function(U,W,Y){var ae="";if(typeof W>"u"&&(W=0),typeof Y>"u"&&(Y=!1),U.attributes)for(i in U.attributes){var ve=U.attributes[i];if(ve instanceof Array)for(var _e=0;_e<ve.length;_e++)ae+=H(i,ve[_e],W);else ae+=H(i,ve,W)}if(U.children){var he=!0;for(i in U.children)Y&&!he?ae+="\n":he=!1,ae+=ee(i,U.children[i],W)}return ae};var H=function(W,Y,ae){return"\t".repeat(ae)+W+": "+Y+";\n"},ee=function(W,Y,ae){var ve="\t".repeat(ae)+W+" {\n";return(ve+=r.toCSS(Y,ae+1))+("\t".repeat(ae)+"}\n")}}})?S.apply(V,[]):S)&&(fe.exports=K)},56929:function(fe,V){!function(S){"use strict";var M="function"==typeof Symbol?Symbol("curriable placeholder"):60881;function B(f,g){var _="number"==typeof g?g:f.length,P=function K(f,g){return function _(P){return function(){var H,O=P.length,j=arguments,v=j.length,b=[],G=0,z=g;if(O)for(var ee=-1;++ee<O;)b[ee]=H=P[ee]===M&&G<v?j[G++]:P[ee],H!==M&&--z;if(G<v)for(;G<v;)b[b.length]=H=j[G],H!==M&&G<g&&--z,++G;return z>0?_(b):f.apply(this,b)}}([])}(f,_);return P.arity=_,P.fn=f,P}function r(f){return f===M}function y(f){return f.fn}B.__=M,B.isPlaceholder=r,B.uncurry=y,S.__=M,S.curry=B,S.default=B,S.isPlaceholder=r,S.uncurry=y,Object.defineProperty(S,"__esModule",{value:!0})}(V)},13974:(fe,V,S)=>{var M=Function.prototype.bind||S(59683);fe.exports=function K(B,r){var y=function f(){return 0===arguments.length?f:arguments.length>1?B.apply(r,arguments):M.call(B,r,arguments[0])};return y.uncurry=function(){return B},y}},42375:function(fe){fe.exports=function(){"use strict";var V="__proto__",S=function(b,G){return G},M=function(b,G){return G.map(function(z){return j(z)})},K=function(b,G){if(G&&G.hasOwnProperty("__proto__")){var z={};for(var H in G)H!==V&&(z[H]=G[H]);return z}return Object.assign({},G)},P={$push:function(b,G){return b.concat(G)},$append:function(b,G){return b.concat(G)},$prepend:function(b,G){return G.concat(b)},$replace:function(b,G){var z;return b=M(0,b),Object.keys(G).forEach(function(H){if((z=Number.parseInt(H))<0||Number.isNaN(z))throw Error("Invalid index for $replace: ".concat(H));b[z]=j.clone(G[H])}),b},$merge:function(b,G){var z;return b=b.slice(),Object.keys(G).forEach(function(H){if((z=Number.parseInt(H))<0||Number.isNaN(z))throw Error("Invalid index for $merge: ".concat(H));b[z]=j(b[z],G[H])}),b},$insert:function(b,G){var z;return b=M(0,b),Object.keys(G).forEach(function(H){if(z=Number.parseInt(H),Number.isNaN(z))throw Error("Invalid index for $insert: ".concat(H));b.splice(z,0,G[H])}),b},$set:M},O={oo:function(b,G){return b=K(0,b),Object.keys(G).forEach(function(z){z!==V&&(b[z]=j(b[z],G[z]))}),b},oa:K,ob:S,aa:function(b,G){return b=M(0,b),G.forEach(function(z,H){return b[H]=j(b[H],z)}),b},ao:function(b,G){return b=M(0,b),Object.keys(G).forEach(function(z){z!==V&&(b=z in P?P[z](b,G[z]):G)}),b},ab:S,bb:S,bo:K,ba:M};function j(v,b){if(void 0===b){if(null==v)return v;b=Array.isArray(v)?[]:"object"==typeof v?{}:v}else if(null===b)return null;var G=Array.isArray(v)?"a":"object"==typeof v?"o":"b",z=Array.isArray(b)?"a":"object"==typeof b?"o":"b";return O[G+z](v,b)}return j.clone=function(v){return j(v)},j.multi=function(v){for(var b=arguments.length,G=new Array(b>1?b-1:0),z=1;z<b;z++)G[z-1]=arguments[z];if(!G)return j(v);for(var H=0;H<G.length;H++)v=j(v,G[H]);return v},j}()},96607:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.default=V.nthElement=V.parentElements=void 0;var S=function(g){for(var _=[];g;){var P=g.nodeName.toLowerCase(),O=g.id?"#".concat(g.id):"",j="";g.className&&"string"==typeof g.className&&(j=".".concat(g.className.replace(/\s+/g,".").replace(/[:*+?^${}()|[\]\\]/gi,"\\$&"))),_.unshift({element:g,selector:P+O+j}),g=g.parentNode!==document&&g.parentNode}return _};V.parentElements=S;var M=function(g){for(var _=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],P=g,O=1;null!==P.previousElementSibling;)(!_||P.previousElementSibling.nodeName===g.nodeName)&&O++,P=P.previousElementSibling;return O};V.nthElement=M;V.default=function(g){if(!(g instanceof HTMLElement))throw new Error("element must be of type `HTMLElement`.");return function(g){var _=[];return g.forEach(function(P){(function(g,_){var P=""===_?g:"".concat(_," > ").concat(g);return document.querySelectorAll(P).length>1})(P.selector,_.join(" > "))&&(P.selector+=":nth-of-type(".concat(M(P.element),")")),_.push(P.selector)}),_.join(" > ")}(S(g))}},21934:fe=>{var V=Object.prototype.toString;function B(r){return r.replace(/\uffff/g,".")}fe.exports=function S(r){for(var y=-1,f=function K(r){for(var y=-1,f=r.length,g=[];++y<f;)r[y]&&g.push(r[y]);return g}(function M(r){return("[object String]"===V.call(r)?r:"").replace(/\\\./g,"\uffff")}(r).split(".")),g=f.length,_=[];++y<g;)_.push(B(f[y]));return _}},83358:fe=>{var M,V="object"==typeof Reflect?Reflect:null,S=V&&"function"==typeof V.apply?V.apply:function(Y,ae,ve){return Function.prototype.apply.call(Y,ae,ve)};M=V&&"function"==typeof V.ownKeys?V.ownKeys:Object.getOwnPropertySymbols?function(Y){return Object.getOwnPropertyNames(Y).concat(Object.getOwnPropertySymbols(Y))}:function(Y){return Object.getOwnPropertyNames(Y)};var B=Number.isNaN||function(Y){return Y!=Y};function r(){r.init.call(this)}fe.exports=r,fe.exports.once=function H(W,Y){return new Promise(function(ae,ve){function _e(x){W.removeListener(Y,he),ve(x)}function he(){"function"==typeof W.removeListener&&W.removeListener("error",_e),ae([].slice.call(arguments))}U(W,Y,he,{once:!0}),"error"!==Y&&function ee(W,Y,ae){"function"==typeof W.on&&U(W,"error",Y,ae)}(W,_e,{once:!0})})},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var y=10;function f(W){if("function"!=typeof W)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof W)}function g(W){return void 0===W._maxListeners?r.defaultMaxListeners:W._maxListeners}function _(W,Y,ae,ve){var _e,he,x;if(f(ae),void 0===(he=W._events)?(he=W._events=Object.create(null),W._eventsCount=0):(void 0!==he.newListener&&(W.emit("newListener",Y,ae.listener?ae.listener:ae),he=W._events),x=he[Y]),void 0===x)x=he[Y]=ae,++W._eventsCount;else if("function"==typeof x?x=he[Y]=ve?[ae,x]:[x,ae]:ve?x.unshift(ae):x.push(ae),(_e=g(W))>0&&x.length>_e&&!x.warned){x.warned=!0;var R=new Error("Possible EventEmitter memory leak detected. "+x.length+" "+String(Y)+" listeners added. Use emitter.setMaxListeners() to increase limit");R.name="MaxListenersExceededWarning",R.emitter=W,R.type=Y,R.count=x.length,function K(W){console&&console.warn&&console.warn(W)}(R)}return W}function P(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function O(W,Y,ae){var ve={fired:!1,wrapFn:void 0,target:W,type:Y,listener:ae},_e=P.bind(ve);return _e.listener=ae,ve.wrapFn=_e,_e}function j(W,Y,ae){var ve=W._events;if(void 0===ve)return[];var _e=ve[Y];return void 0===_e?[]:"function"==typeof _e?ae?[_e.listener||_e]:[_e]:ae?function z(W){for(var Y=new Array(W.length),ae=0;ae<Y.length;++ae)Y[ae]=W[ae].listener||W[ae];return Y}(_e):b(_e,_e.length)}function v(W){var Y=this._events;if(void 0!==Y){var ae=Y[W];if("function"==typeof ae)return 1;if(void 0!==ae)return ae.length}return 0}function b(W,Y){for(var ae=new Array(Y),ve=0;ve<Y;++ve)ae[ve]=W[ve];return ae}function U(W,Y,ae,ve){if("function"==typeof W.on)ve.once?W.once(Y,ae):W.on(Y,ae);else{if("function"!=typeof W.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof W);W.addEventListener(Y,function _e(he){ve.once&&W.removeEventListener(Y,_e),ae(he)})}}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return y},set:function(Y){if("number"!=typeof Y||Y<0||B(Y))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Y+".");y=Y}}),r.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(Y){if("number"!=typeof Y||Y<0||B(Y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Y+".");return this._maxListeners=Y,this},r.prototype.getMaxListeners=function(){return g(this)},r.prototype.emit=function(Y){for(var ae=[],ve=1;ve<arguments.length;ve++)ae.push(arguments[ve]);var _e="error"===Y,he=this._events;if(void 0!==he)_e=_e&&void 0===he.error;else if(!_e)return!1;if(_e){var x;if(ae.length>0&&(x=ae[0]),x instanceof Error)throw x;var R=new Error("Unhandled error."+(x?" ("+x.message+")":""));throw R.context=x,R}var E=he[Y];if(void 0===E)return!1;if("function"==typeof E)S(E,this,ae);else{var I=E.length,L=b(E,I);for(ve=0;ve<I;++ve)S(L[ve],this,ae)}return!0},r.prototype.on=r.prototype.addListener=function(Y,ae){return _(this,Y,ae,!1)},r.prototype.prependListener=function(Y,ae){return _(this,Y,ae,!0)},r.prototype.once=function(Y,ae){return f(ae),this.on(Y,O(this,Y,ae)),this},r.prototype.prependOnceListener=function(Y,ae){return f(ae),this.prependListener(Y,O(this,Y,ae)),this},r.prototype.off=r.prototype.removeListener=function(Y,ae){var ve,_e,he,x,R;if(f(ae),void 0===(_e=this._events))return this;if(void 0===(ve=_e[Y]))return this;if(ve===ae||ve.listener===ae)0==--this._eventsCount?this._events=Object.create(null):(delete _e[Y],_e.removeListener&&this.emit("removeListener",Y,ve.listener||ae));else if("function"!=typeof ve){for(he=-1,x=ve.length-1;x>=0;x--)if(ve[x]===ae||ve[x].listener===ae){R=ve[x].listener,he=x;break}if(he<0)return this;0===he?ve.shift():function G(W,Y){for(;Y+1<W.length;Y++)W[Y]=W[Y+1];W.pop()}(ve,he),1===ve.length&&(_e[Y]=ve[0]),void 0!==_e.removeListener&&this.emit("removeListener",Y,R||ae)}return this},r.prototype.removeAllListeners=function(Y){var ae,ve,_e;if(void 0===(ve=this._events))return this;if(void 0===ve.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==ve[Y]&&(0==--this._eventsCount?this._events=Object.create(null):delete ve[Y]),this;if(0===arguments.length){var x,he=Object.keys(ve);for(_e=0;_e<he.length;++_e)"removeListener"!==(x=he[_e])&&this.removeAllListeners(x);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ae=ve[Y]))this.removeListener(Y,ae);else if(void 0!==ae)for(_e=ae.length-1;_e>=0;_e--)this.removeListener(Y,ae[_e]);return this},r.prototype.listeners=function(Y){return j(this,Y,!0)},r.prototype.rawListeners=function(Y){return j(this,Y,!1)},r.listenerCount=function(W,Y){return"function"==typeof W.listenerCount?W.listenerCount(Y):v.call(W,Y)},r.prototype.listenerCount=v,r.prototype.eventNames=function(){return this._eventsCount>0?M(this._events):[]}},59683:fe=>{fe.exports=function(V){var M,S=this;if(arguments.length<2)M=function(){if(this instanceof M){var y=S.apply(this,arguments);return Object(y)===y?y:this}return S.apply(V,arguments)};else{for(var K=new Array(arguments.length-1),B=1;B<arguments.length;B++)K[B-1]=arguments[B];M=function(){var g,y=K.length,f=new Array(y+arguments.length);for(g=0;g<y;g++)f[g]=K[g];for(g=0;g<arguments.length;g++)f[y+g]=arguments[g];if(this instanceof M){var _=S.apply(this,f);return Object(_)===_?_:this}return S.apply(V,f)}}return M.prototype=S.prototype,M}},2199:fe=>{var S=Array.prototype.slice,M=Object.prototype.toString;fe.exports=function(r){var y=this;if("function"!=typeof y||"[object Function]"!==M.call(y))throw new TypeError("Function.prototype.bind called on incompatible "+y);for(var g,f=S.call(arguments,1),P=Math.max(0,y.length-f.length),O=[],j=0;j<P;j++)O.push("$"+j);if(g=Function("binder","return function ("+O.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof g){var G=y.apply(this,f.concat(S.call(arguments)));return Object(G)===G?G:this}return y.apply(r,f.concat(S.call(arguments)))}),y.prototype){var v=function(){};v.prototype=y.prototype,g.prototype=new v,v.prototype=null}return g}},20224:(fe,V,S)=>{var M=S(2199);fe.exports=Function.prototype.bind||M},79903:(fe,V,S)=>{var M,K=SyntaxError,B=Function,r=TypeError,y=function(D){try{return B('"use strict"; return ('+D+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var g=function(){throw new r},_=f?function(){try{return g}catch{try{return f(arguments,"callee").get}catch{return g}}}():g,P=S(90524)(),O=S(2600)(),j=Object.getPrototypeOf||(O?function(L){return L.__proto__}:null),v={},b=typeof Uint8Array>"u"||!j?M:j(Uint8Array),G={"%AggregateError%":typeof AggregateError>"u"?M:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?M:ArrayBuffer,"%ArrayIteratorPrototype%":P&&j?j([][Symbol.iterator]()):M,"%AsyncFromSyncIteratorPrototype%":M,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":typeof Atomics>"u"?M:Atomics,"%BigInt%":typeof BigInt>"u"?M:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?M:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?M:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?M:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?M:Float32Array,"%Float64Array%":typeof Float64Array>"u"?M:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?M:FinalizationRegistry,"%Function%":B,"%GeneratorFunction%":v,"%Int8Array%":typeof Int8Array>"u"?M:Int8Array,"%Int16Array%":typeof Int16Array>"u"?M:Int16Array,"%Int32Array%":typeof Int32Array>"u"?M:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":P&&j?j(j([][Symbol.iterator]())):M,"%JSON%":"object"==typeof JSON?JSON:M,"%Map%":typeof Map>"u"?M:Map,"%MapIteratorPrototype%":typeof Map>"u"||!P||!j?M:j((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?M:Promise,"%Proxy%":typeof Proxy>"u"?M:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?M:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?M:Set,"%SetIteratorPrototype%":typeof Set>"u"||!P||!j?M:j((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?M:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":P&&j?j(""[Symbol.iterator]()):M,"%Symbol%":P?Symbol:M,"%SyntaxError%":K,"%ThrowTypeError%":_,"%TypedArray%":b,"%TypeError%":r,"%Uint8Array%":typeof Uint8Array>"u"?M:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?M:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?M:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?M:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?M:WeakMap,"%WeakRef%":typeof WeakRef>"u"?M:WeakRef,"%WeakSet%":typeof WeakSet>"u"?M:WeakSet};if(j)try{null.error}catch(L){var z=j(j(L));G["%Error.prototype%"]=z}var H=function L(D){var Q;if("%AsyncFunction%"===D)Q=y("async function () {}");else if("%GeneratorFunction%"===D)Q=y("function* () {}");else if("%AsyncGeneratorFunction%"===D)Q=y("async function* () {}");else if("%AsyncGenerator%"===D){var te=L("%AsyncGeneratorFunction%");te&&(Q=te.prototype)}else if("%AsyncIteratorPrototype%"===D){var Re=L("%AsyncGenerator%");Re&&j&&(Q=j(Re.prototype))}return G[D]=Q,Q},ee={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},U=S(20224),W=S(84031),Y=U.call(Function.call,Array.prototype.concat),ae=U.call(Function.apply,Array.prototype.splice),ve=U.call(Function.call,String.prototype.replace),_e=U.call(Function.call,String.prototype.slice),he=U.call(Function.call,RegExp.prototype.exec),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,I=function(D,Q){var Re,te=D;if(W(ee,te)&&(te="%"+(Re=ee[te])[0]+"%"),W(G,te)){var ne=G[te];if(ne===v&&(ne=H(te)),typeof ne>"u"&&!Q)throw new r("intrinsic "+D+" exists, but is not available. Please file an issue!");return{alias:Re,name:te,value:ne}}throw new K("intrinsic "+D+" does not exist!")};fe.exports=function(D,Q){if("string"!=typeof D||0===D.length)throw new r("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Q)throw new r('"allowMissing" argument must be a boolean');if(null===he(/^%?[^%]*%?$/,D))throw new K("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var te=function(D){var Q=_e(D,0,1),te=_e(D,-1);if("%"===Q&&"%"!==te)throw new K("invalid intrinsic syntax, expected closing `%`");if("%"===te&&"%"!==Q)throw new K("invalid intrinsic syntax, expected opening `%`");var Re=[];return ve(D,x,function(ne,Fe,rt,Te){Re[Re.length]=rt?ve(Te,R,"$1"):Fe||ne}),Re}(D),Re=te.length>0?te[0]:"",ne=I("%"+Re+"%",Q),Fe=ne.name,rt=ne.value,Te=!1,tt=ne.alias;tt&&(Re=tt[0],ae(te,Y([0,1],tt)));for(var Qe=1,vt=!0;Qe<te.length;Qe+=1){var et=te[Qe],je=_e(et,0,1),it=_e(et,-1);if(('"'===je||"'"===je||"`"===je||'"'===it||"'"===it||"`"===it)&&je!==it)throw new K("property names with quotes must have matching quotes");if(("constructor"===et||!vt)&&(Te=!0),W(G,Fe="%"+(Re+="."+et)+"%"))rt=G[Fe];else if(null!=rt){if(!(et in rt)){if(!Q)throw new r("base intrinsic for "+D+" exists, but the property is not available.");return}if(f&&Qe+1>=te.length){var de=f(rt,et);rt=(vt=!!de)&&"get"in de&&!("originalValue"in de.get)?de.get:rt[et]}else vt=W(rt,et),rt=rt[et];vt&&!Te&&(G[Fe]=rt)}}return rt}},2600:fe=>{var V={foo:{}},S=Object;fe.exports=function(){return{__proto__:V}.foo===V.foo&&!({__proto__:null}instanceof S)}},90524:(fe,V,S)=>{var M=typeof Symbol<"u"&&Symbol,K=S(86858);fe.exports=function(){return"function"==typeof M&&"function"==typeof Symbol&&"symbol"==typeof M("foo")&&"symbol"==typeof Symbol("bar")&&K()}},86858:fe=>{fe.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var S={},M=Symbol("test"),K=Object(M);if("string"==typeof M||"[object Symbol]"!==Object.prototype.toString.call(M)||"[object Symbol]"!==Object.prototype.toString.call(K))return!1;for(M in S[M]=42,S)return!1;if("function"==typeof Object.keys&&0!==Object.keys(S).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(S).length)return!1;var r=Object.getOwnPropertySymbols(S);if(1!==r.length||r[0]!==M||!Object.prototype.propertyIsEnumerable.call(S,M))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var y=Object.getOwnPropertyDescriptor(S,M);if(42!==y.value||!0!==y.enumerable)return!1}return!0}},84031:(fe,V,S)=>{var M=S(20224);fe.exports=M.call(Function.call,Object.prototype.hasOwnProperty)},98288:(fe,V,S)=>{S.r(V),S.d(V,{default:()=>vt,hash:()=>Qe});var K,B,r,y,M=S(56929),f=typeof Buffer<"u"&&"function"==typeof Buffer.from,g="function"==typeof Uint16Array,_=/\[object (HTML(.*)Element)\]/,P=/\[object (SVG(.*)Element)\]/,j=["Arguments","Array","ArrayBuffer","Boolean","DataView","Date","DocumentFragment","Error","Event","Float32Array","Float64Array","Function","Generator","GeneratorFunction","HTMLElement","Int8Array","Int16Array","Int32Array","Map","Null","Number","Object","Promise","RegExp","Set","String","Symbol","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","Undefined","WeakMap","WeakSet","Window"].reduce(function(et,je){return et["[object "+je+"]"]=je,et},{}),v=Object.keys(j).reduce(function(et,je){return et[j[je].toUpperCase()]=je,et},{}),b={"[object Map]":!0,"[object Set]":!0},G={boolean:!0,function:!0,number:!0,string:!0,undefined:!0},z=((K={})[v.ARGUMENTS]=!0,K[v.ARRAY]=!0,K),H=((B={})[v.REGEXP]=!0,B[v.SYMBOL]=!0,B),ee=((r={})[v.FLOAT32ARRAY]=!0,r[v.FLOAT64ARRAY]=!0,r[v.INT8ARRAY]=!0,r[v.INT16ARRAY]=!0,r[v.INT32ARRAY]=!0,r[v.UINT8ARRAY]=!0,r[v.UINT8CLAMPEDARRAY]=!0,r[v.UINT16ARRAY]=!0,r[v.UINT32ARRAY]=!0,r),U=((y={})[v.GENERATOR]=!0,y[v.PROMISE]=!0,y[v.WEAKMAP]=!0,y[v.WEAKSET]=!0,y),W=/^\s*function\s*([^(]*)/i,Y=Object.prototype.toString,ae=Object.keys;function x(et,je){return et>je}function R(et,je){return et[0]>je[0]}function E(et,je){for(var it,de,J=0;J<et.length;++J){for(de=et[J],it=J-1;~it&&je(et[it],de);--it)et[it+1]=et[it];et[it+1]=de}return et}var Re=f?function Q(et){return Buffer.from(et).toString("utf8")}:g?function D(et){return String.fromCharCode.apply(null,new Uint16Array(et))}:function te(){return""};function Fe(et,je){for(var it=0;it<et.length;++it)if(et[it]===je)return it+1;return 0}function rt(et,je,it,de){if(void 0===de){var J=typeof et;if("string"===J||G[J])return J+"|"+et;if(null===et)return"null|"+et}var oe=de||Y.call(et);return z[oe]?et:oe===v.OBJECT?function L(et){for(var de,je=E(ae(et),x),it={},J=0;J<je.length;++J)it[de=je[J]]=et[de];return it}(et):H[oe]?j[oe]+"|"+et.toString():b[oe]?function I(et,je,it){var de="function"==typeof et.get,J=[];de?(et.forEach(function(xe,ut){J.push([tt(ut,je,it),tt(xe,je,it)])}),E(J,R)):(et.forEach(function(xe){J.push(tt(xe,je,it))}),E(J,x));for(var pe,oe=function ve(et){return et.name||(et.toString().match(W)||[])[1]||"anonymous"}(et.constructor)+"|[",Ae=0,Ne=J.length;Ae<Ne;++Ae)pe=J[Ae],oe+=(Ae?",":"")+(de?"["+pe[0]+","+pe[1]+"]":pe);return oe+"]"}(et,je,it):oe===v.DATE?j[oe]+"|"+et.getTime():oe===v.ERROR?j[oe]+"|"+et.stack:oe===v.EVENT?function he(et){return{bubbles:et.bubbles,cancelBubble:et.cancelBubble,cancelable:et.cancelable,composed:et.composed,currentTarget:et.currentTarget,defaultPrevented:et.defaultPrevented,eventPhase:et.eventPhase,isTrusted:et.isTrusted,returnValue:et.returnValue,target:et.target,type:et.type}}(et):U[oe]?j[oe]+"|NOT_ENUMERABLE":_.test(oe)||P.test(oe)?oe.slice(8,-1)+"|"+et.outerHTML:oe===v.DOCUMENTFRAGMENT?j[oe]+"|"+function ne(et){for(var je=et.children,it="",de=0;de<je.length;++de)it+=je[de].outerHTML;return it}(et):ee[oe]?j[oe]+"|"+et.join(","):oe===v.ARRAYBUFFER?j[oe]+"|"+Re(et):oe===v.DATAVIEW?j[oe]+"|"+Re(et.buffer):et}function tt(et,je,it){if(!et||"object"!=typeof et)return rt(et,je,it);var de=Y.call(et);return de===v.DATE||de===v.REGEXP?rt(et,je,it,de):JSON.stringify(et,function Te(et,je){return void 0===et&&(et=[]),void 0===je&&(je=[]),function(it,de){if("object"==typeof de)if(et.length){var J=Fe(et,this);0===J?et.push(this):(et.splice(J),je.splice(J)),je.push(it);var oe=Fe(et,de);if(0!==oe)return"[~"+(je.slice(0,oe).join(".")||".")+"]";et.push(de)}else et[0]=de,je[0]=it;return it&&this[it]instanceof Date?rt(this[it],et,je,v.DATE):rt(de,et,je)}}(je,it))}function Qe(et){return function _e(et){for(var J,je=et.length,it=5381,de=52711;je--;)it=33*it^(J=et.charCodeAt(je)),de=33*de^J;return 4096*(it>>>0)+(de>>>0)}(tt(et))}(Qe.is=(0,M.curry)(function(et,je){return Qe(et)===Qe(je)})).all=(0,M.curry)(function(et){for(var je=Qe.is(et),it=1;it<arguments.length;++it)if(!je(arguments[it]))return!1;return!0},2),Qe.is.any=(0,M.curry)(function(et){for(var je=Qe.is(et),it=1;it<arguments.length;it++)if(je(arguments[it]))return!0;return!1},2),Qe.is.not=(0,M.curry)(function(et,je){return Qe(et)!==Qe(je)});const vt=Qe},54920:(fe,V)=>{V.read=function(S,M,K,B,r){var y,f,g=8*r-B-1,_=(1<<g)-1,P=_>>1,O=-7,j=K?r-1:0,v=K?-1:1,b=S[M+j];for(j+=v,y=b&(1<<-O)-1,b>>=-O,O+=g;O>0;y=256*y+S[M+j],j+=v,O-=8);for(f=y&(1<<-O)-1,y>>=-O,O+=B;O>0;f=256*f+S[M+j],j+=v,O-=8);if(0===y)y=1-P;else{if(y===_)return f?NaN:1/0*(b?-1:1);f+=Math.pow(2,B),y-=P}return(b?-1:1)*f*Math.pow(2,y-B)},V.write=function(S,M,K,B,r,y){var f,g,_,P=8*y-r-1,O=(1<<P)-1,j=O>>1,v=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,b=B?0:y-1,G=B?1:-1,z=M<0||0===M&&1/M<0?1:0;for(M=Math.abs(M),isNaN(M)||M===1/0?(g=isNaN(M)?1:0,f=O):(f=Math.floor(Math.log(M)/Math.LN2),M*(_=Math.pow(2,-f))<1&&(f--,_*=2),(M+=f+j>=1?v/_:v*Math.pow(2,1-j))*_>=2&&(f++,_/=2),f+j>=O?(g=0,f=O):f+j>=1?(g=(M*_-1)*Math.pow(2,r),f+=j):(g=M*Math.pow(2,j-1)*Math.pow(2,r),f=0));r>=8;S[K+b]=255&g,b+=G,g/=256,r-=8);for(f=f<<r|g,P+=r;P>0;S[K+b]=255&f,b+=G,f/=256,P-=8);S[K+b-G]|=128*z}},55035:fe=>{fe.exports="function"==typeof Object.create?function(S,M){M&&(S.super_=M,S.prototype=Object.create(M.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}))}:function(S,M){if(M){S.super_=M;var K=function(){};K.prototype=M.prototype,S.prototype=new K,S.prototype.constructor=S}}},7478:(fe,V,S)=>{var M,K,B;void 0!==(K="function"==typeof(M=B=function(){function B(){for(var f=0,g={};f<arguments.length;f++){var _=arguments[f];for(var P in _)g[P]=_[P]}return g}function r(f){return f.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function y(f){function g(){}function _(O,j,v){if(!(typeof document>"u")){"number"==typeof(v=B({path:"/"},g.defaults,v)).expires&&(v.expires=new Date(1*new Date+864e5*v.expires)),v.expires=v.expires?v.expires.toUTCString():"";try{var b=JSON.stringify(j);/^[\{\[]/.test(b)&&(j=b)}catch{}j=f.write?f.write(j,O):encodeURIComponent(String(j)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),O=encodeURIComponent(String(O)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var G="";for(var z in v)v[z]&&(G+="; "+z,!0!==v[z]&&(G+="="+v[z].split(";")[0]));return document.cookie=O+"="+j+G}}function P(O,j){if(!(typeof document>"u")){for(var v={},b=document.cookie?document.cookie.split("; "):[],G=0;G<b.length;G++){var z=b[G].split("="),H=z.slice(1).join("=");!j&&'"'===H.charAt(0)&&(H=H.slice(1,-1));try{var ee=r(z[0]);if(H=(f.read||f)(H,ee)||r(H),j)try{H=JSON.parse(H)}catch{}if(v[ee]=H,O===ee)break}catch{}}return O?v[O]:v}}return g.set=_,g.get=function(O){return P(O,!1)},g.getJSON=function(O){return P(O,!0)},g.remove=function(O,j){_(O,"",B(j,{expires:-1}))},g.defaults={},g.withConverter=y,g}(function(){})})?M.call(V,S,V,fe):M)&&(fe.exports=K),fe.exports=B()},53909:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0});var M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},K=function(){function G(z,H){for(var ee=0;ee<H.length;ee++){var U=H[ee];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(z,U.key,U)}}return function(z,H,ee){return H&&G(z.prototype,H),ee&&G(z,ee),z}}(),r=j(S(11035)),y=S(69492),g=j(S(27416)),_=S(64567),O=j(S(57726));function j(G){return G&&G.__esModule?G:{default:G}}var b=function(){function G(z){var H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var U in function v(G,z){if(!(G instanceof z))throw new TypeError("Cannot call a class as a function")}(this,G),this.factMap=new Map(z),this.factResultsCache=new Map,this.allowUndefinedFacts=!!ee.allowUndefinedFacts,H){var W;W=H[U]instanceof r.default?H[U]:new r.default(U,H[U]),this._addConstantFact(W),(0,g.default)("almanac::constructor initialized runtime fact:"+W.id+" with "+W.value+"<"+M(W.value)+">")}}return K(G,[{key:"_getFact",value:function(H){return this.factMap.get(H)}},{key:"_addConstantFact",value:function(H){this.factMap.set(H.id,H),this._setFactValue(H,{},H.value)}},{key:"_setFactValue",value:function(H,ee,U){var W=H.getCacheKey(ee),Y=Promise.resolve(U);return W&&this.factResultsCache.set(W,Y),Y}},{key:"addRuntimeFact",value:function(H,ee){(0,g.default)("almanac::addRuntimeFact id:"+H);var U=new r.default(H,ee);return this._addConstantFact(U)}},{key:"factValue",value:function(H){var ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",W=void 0,Y=this._getFact(H);if(void 0===Y)return this.allowUndefinedFacts?Promise.resolve(void 0):Promise.reject(new y.UndefinedFactError("Undefined fact: "+H));if(Y.isConstant())W=Promise.resolve(Y.calculate(ee,this));else{var ae=Y.getCacheKey(ee),ve=ae&&this.factResultsCache.get(ae);ve?(W=Promise.resolve(ve),(0,g.default)("almanac::factValue cache hit for fact:"+H)):((0,g.default)("almanac::factValue cache miss for fact:"+H+"; calculating"),W=this._setFactValue(Y,ee,Y.calculate(ee,this)))}if(U){if("string"==typeof U&&U.startsWith("$"))return(0,g.default)("condition::evaluate extracting object property "+U),W.then(function(he){if((0,O.default)(he)){var x=(0,_.JSONPath)({path:U,json:he,wrap:!1});return(0,g.default)("condition::evaluate extracting object property "+U+", received: "+x),x}return(0,g.default)("condition::evaluate could not compute object path("+U+") of non-object: "+he+" <"+(typeof he>"u"?"undefined":M(he))+">; continuing with "+he),he});var _e=void 0;try{_e=S(87559)}catch{throw console.error('Oops! Looks like you\'re trying to use the deprecated syntax for the ".path" property.'),console.error('Please convert your "path" properties to JsonPath syntax (ensure your path starts with "$")'),console.error('Alternatively, if you wish to continue using old syntax (provided by selectn), you may "npm install selectn" as a direct dependency.'),console.error("See https://github.com/CacheControl/json-rules-engine/blob/master/CHANGELOG.md#500--2019-10-27 for more information."),new Error('json-rules-engine: Unmet peer dependency "selectn" required for use of deprecated ".path" syntax. please "npm install selectn" or convert to json-path syntax')}return W.then(function(he){if((0,O.default)(he)){var x=_e(U)(he);return(0,g.default)("condition::evaluate extracting object property "+U+", received: "+x),x}return(0,g.default)("condition::evaluate could not compute object path("+U+") of non-object: "+he+" <"+(typeof he>"u"?"undefined":M(he))+">; continuing with "+he),he})}return W}}]),G}();V.default=b},67396:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0});var M=function(){function P(O,j){for(var v=0;v<j.length;v++){var b=j[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(O,b.key,b)}}return function(O,j,v){return j&&P(O.prototype,j),v&&P(O,v),O}}(),B=f(S(27416)),y=f(S(57726));function f(P){return P&&P.__esModule?P:{default:P}}var _=function(){function P(O){if(function g(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}(this,P),!O)throw new Error("Condition: constructor options required");var j=P.booleanOperator(O);if(Object.assign(this,O),j){var v=O[j];if(!Array.isArray(v))throw new Error('"'+j+'" must be an array');this.operator=j,this.priority=parseInt(O.priority,10)||1,this[j]=v.map(function(b){return new P(b)})}else{if(!Object.prototype.hasOwnProperty.call(O,"fact"))throw new Error('Condition: constructor "fact" property required');if(!Object.prototype.hasOwnProperty.call(O,"operator"))throw new Error('Condition: constructor "operator" property required');if(!Object.prototype.hasOwnProperty.call(O,"value"))throw new Error('Condition: constructor "value" property required');Object.prototype.hasOwnProperty.call(O,"priority")&&(O.priority=parseInt(O.priority,10))}}return M(P,[{key:"toJSON",value:function(){var j=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],v={};this.priority&&(v.priority=this.priority);var b=P.booleanOperator(this);return b?v[b]=this[b].map(function(G){return G.toJSON(j)}):(v.operator=this.operator,v.value=this.value,v.fact=this.fact,void 0!==this.factResult&&(v.factResult=this.factResult),void 0!==this.result&&(v.result=this.result),this.params&&(v.params=this.params),this.path&&(v.path=this.path)),j?JSON.stringify(v):v}},{key:"_getValue",value:function(j){var v=this.value;return(0,y.default)(v)&&Object.prototype.hasOwnProperty.call(v,"fact")?j.factValue(v.fact,v.params,v.path):Promise.resolve(v)}},{key:"evaluate",value:function(j,v){var b=this;if(!j)return Promise.reject(new Error("almanac required"));if(!v)return Promise.reject(new Error("operatorMap required"));if(this.isBooleanOperator())return Promise.reject(new Error("Cannot evaluate() a boolean condition"));var G=v.get(this.operator);return G?this._getValue(j).then(function(z){return j.factValue(b.fact,b.params,b.path).then(function(H){var ee=G.evaluate(H,z);return(0,B.default)("condition::evaluate <"+H+" "+b.operator+" "+z+"?> ("+ee+")"),{result:ee,leftHandSideValue:H,rightHandSideValue:z,operator:b.operator}})}):Promise.reject(new Error("Unknown operator: "+this.operator))}},{key:"booleanOperator",value:function(){return P.booleanOperator(this)}},{key:"isBooleanOperator",value:function(){return void 0!==P.booleanOperator(this)}}],[{key:"booleanOperator",value:function(j){return Object.prototype.hasOwnProperty.call(j,"any")?"any":Object.prototype.hasOwnProperty.call(j,"all")?"all":void 0}}]),P}();V.default=_},27416:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.default=function S(M){try{(typeof process<"u"&&process.env&&process.env.DEBUG&&process.env.DEBUG.match(/json-rules-engine/)||typeof window<"u"&&window.localStorage&&window.localStorage.debug&&window.localStorage.debug.match(/json-rules-engine/))&&console.log(M)}catch{}}},4934:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0});var K=function B(f){return f&&f.__esModule?f:{default:f}}(S(88640)),r=[];function y(f){return"NaN"!==Number.parseFloat(f).toString()}r.push(new K.default("equal",function(f,g){return f===g})),r.push(new K.default("notEqual",function(f,g){return f!==g})),r.push(new K.default("in",function(f,g){return g.indexOf(f)>-1})),r.push(new K.default("notIn",function(f,g){return-1===g.indexOf(f)})),r.push(new K.default("contains",function(f,g){return f.indexOf(g)>-1},Array.isArray)),r.push(new K.default("doesNotContain",function(f,g){return-1===f.indexOf(g)},Array.isArray)),r.push(new K.default("lessThan",function(f,g){return f<g},y)),r.push(new K.default("lessThanInclusive",function(f,g){return f<=g},y)),r.push(new K.default("greaterThan",function(f,g){return f>g},y)),r.push(new K.default("greaterThanInclusive",function(f,g){return f>=g},y)),V.default=r},24307:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.SuccessEventFact=function(){var K=[];return function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B.event&&K.push(B.event),K}}},47386:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.FINISHED=V.RUNNING=V.READY=void 0;var M=function(){function he(x,R){for(var E=0;E<R.length;E++){var I=R[E];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(x,I.key,I)}}return function(x,R,E){return R&&he(x.prototype,R),E&&he(x,E),x}}(),B=H(S(11035)),y=H(S(8847)),g=H(S(88640)),P=H(S(53909)),O=S(83358),j=S(24307),b=H(S(4934)),z=H(S(27416));function H(he){return he&&he.__esModule?he:{default:he}}var Y=V.READY="READY",ae=V.RUNNING="RUNNING",ve=V.FINISHED="FINISHED",_e=function(he){function x(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function ee(he,x){if(!(he instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x);var I=function U(he,x){if(!he)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?he:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));return I.rules=[],I.allowUndefinedFacts=E.allowUndefinedFacts||!1,I.operators=new Map,I.facts=new Map,I.status=Y,R.map(function(L){return I.addRule(L)}),b.default.map(function(L){return I.addOperator(L)}),I}return function W(he,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);he.prototype=Object.create(x&&x.prototype,{constructor:{value:he,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(he,x):he.__proto__=x)}(x,he),M(x,[{key:"addRule",value:function(E){if(!E)throw new Error("Engine: addRule() requires options");if(!Object.prototype.hasOwnProperty.call(E,"conditions"))throw new Error('Engine: addRule() argument requires "conditions" property');if(!Object.prototype.hasOwnProperty.call(E,"event"))throw new Error('Engine: addRule() argument requires "event" property');var I=void 0;return(I=E instanceof y.default?E:new y.default(E)).setEngine(this),this.rules.push(I),this.prioritizedRules=null,this}},{key:"removeRule",value:function(E){if(!(E instanceof y.default))throw new Error("Engine: removeRule() rule must be a instance of Rule");var I=this.rules.indexOf(E);return-1!==I&&(this.prioritizedRules=null,!!this.rules.splice(I,1).length)}},{key:"addOperator",value:function(E,I){var L;L=E instanceof g.default?E:new g.default(E,I),(0,z.default)("engine::addOperator name:"+L.name),this.operators.set(L.name,L)}},{key:"removeOperator",value:function(E){return this.operators.delete(E instanceof g.default?E.name:E)}},{key:"addFact",value:function(E,I,L){var D=E,Q=void 0;return E instanceof B.default?(D=E.id,Q=E):Q=new B.default(E,I,L),(0,z.default)("engine::addFact id:"+D),this.facts.set(D,Q),this}},{key:"removeFact",value:function(E){return this.facts.delete(E instanceof B.default?E.id:E)}},{key:"prioritizeRules",value:function(){if(!this.prioritizedRules){var E=this.rules.reduce(function(I,L){var D=L.priority;return I[D]||(I[D]=[]),I[D].push(L),I},{});this.prioritizedRules=Object.keys(E).sort(function(I,L){return Number(I)>Number(L)?-1:1}).map(function(I){return E[I]})}return this.prioritizedRules}},{key:"stop",value:function(){return this.status=ve,this}},{key:"getFact",value:function(E){return this.facts.get(E)}},{key:"evaluateRules",value:function(E,I){var L=this;return Promise.all(E.map(function(D){if(L.status===ae)return D.evaluate(I).then(function(Q){(0,z.default)("engine::run ruleResult:"+Q.result),Q.result?(L.emit("success",D.event,I,Q),L.emit(D.event.type,D.event.params,I,Q),I.factValue("success-events",{event:D.event})):L.emit("failure",D.event,I,Q)});(0,z.default)("engine::run status:"+L.status+"; skipping remaining rules")}))}},{key:"run",value:function(){var E=this,I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,z.default)("engine::run started"),(0,z.default)("engine::run runtimeFacts:",I),I["success-events"]=new B.default("success-events",(0,j.SuccessEventFact)(),{cache:!1}),this.status=ae;var L=new P.default(this.facts,I,{allowUndefinedFacts:this.allowUndefinedFacts}),D=this.prioritizeRules(),Q=Promise.resolve();return new Promise(function(te,Re){D.map(function(ne){return Q=Q.then(function(){return E.evaluateRules(ne,L)}).catch(Re)}),Q.then(function(){return E.status=ve,(0,z.default)("engine::run completed"),L.factValue("success-events")}).then(function(ne){te({events:ne,almanac:L})}).catch(Re)})}}]),x}(O.EventEmitter);V.default=_e},69492:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.UndefinedFactError=function(r){function y(){var f;!function S(r,y){if(!(r instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y);for(var g=arguments.length,_=Array(g),P=0;P<g;P++)_[P]=arguments[P];var O=function M(r,y){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?r:y}(this,(f=y.__proto__||Object.getPrototypeOf(y)).call.apply(f,[this].concat(_)));return O.code="UNDEFINED_FACT",O}return function K(r,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);r.prototype=Object.create(y&&y.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(r,y):r.__proto__=y)}(y,Error),y}()},11035:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0});var M=function(){function g(_,P){for(var O=0;O<P.length;O++){var j=P[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}return function(_,P,O){return P&&g(_.prototype,P),O&&g(_,O),_}}(),B=function r(g){return g&&g.__esModule?g:{default:g}}(S(98288)),f=function(){function g(_,P,O){(function y(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=_;var j={cache:!0};if(typeof O>"u"&&(O=j),"function"!=typeof P?(this.value=P,this.type=this.constructor.CONSTANT):(this.calculationMethod=P,this.type=this.constructor.DYNAMIC),!this.id)throw new Error("factId required");return this.priority=parseInt(O.priority||1,10),this.options=Object.assign({},j,O),this.cacheKeyMethod=this.defaultCacheKeys,this}return M(g,[{key:"isConstant",value:function(){return this.type===this.constructor.CONSTANT}},{key:"isDynamic",value:function(){return this.type===this.constructor.DYNAMIC}},{key:"calculate",value:function(P,O){return Object.prototype.hasOwnProperty.call(this,"value")?this.value:this.calculationMethod(P,O)}},{key:"defaultCacheKeys",value:function(P,O){return{params:O,id:P}}},{key:"getCacheKey",value:function(P){if(!0===this.options.cache){var O=this.cacheKeyMethod(this.id,P);return g.hashFromObject(O)}}}],[{key:"hashFromObject",value:function(P){return(0,B.default)(P)}}]),g}();f.CONSTANT="CONSTANT",f.DYNAMIC="DYNAMIC",V.default=f},78:(fe,V,S)=>{fe.exports=S(71412)},71412:(fe,V,S)=>{V.Engine=V.Rule=void 0;var B=O(S(47386)),g=(O(S(11035)),O(S(8847)));O(S(88640));function O(j){return j&&j.__esModule?j:{default:j}}V.Rule=g.default,V.Engine=B.default},88640:(fe,V)=>{Object.defineProperty(V,"__esModule",{value:!0});var S=function(){function B(r,y){for(var f=0;f<y.length;f++){var g=y[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(r,g.key,g)}}return function(r,y,f){return y&&B(r.prototype,y),f&&B(r,f),r}}(),K=function(){function B(r,y,f){if(function M(B,r){if(!(B instanceof r))throw new TypeError("Cannot call a class as a function")}(this,B),this.name=String(r),!r)throw new Error("Missing operator name");if("function"!=typeof y)throw new Error("Missing operator callback");this.cb=y,this.factValueValidator=f,this.factValueValidator||(this.factValueValidator=function(){return!0})}return S(B,[{key:"evaluate",value:function(y,f){return this.factValueValidator(y)&&this.cb(y,f)}}]),B}();V.default=K},52747:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0});var M=function(){function g(_,P){for(var O=0;O<P.length;O++){var j=P[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}return function(_,P,O){return P&&g(_.prototype,P),O&&g(_,O),_}}(),B=function r(g){return g&&g.__esModule?g:{default:g}}(S(75482)),f=function(){function g(_,P,O,j){(function y(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")})(this,g),this.conditions=(0,B.default)(_),this.event=(0,B.default)(P),this.priority=(0,B.default)(O),this.name=(0,B.default)(j),this.result=null}return M(g,[{key:"setResult",value:function(P){this.result=P}},{key:"toJSON",value:function(){var P=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],O={conditions:this.conditions.toJSON(!1),event:this.event,priority:this.priority,name:this.name,result:this.result};return P?JSON.stringify(O):O}}]),g}();V.default=f},8847:(fe,V,S)=>{Object.defineProperty(V,"__esModule",{value:!0});var M=function(){function G(z,H){for(var ee=0;ee<H.length;ee++){var U=H[ee];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(z,U.key,U)}}return function(z,H,ee){return H&&G(z.prototype,H),ee&&G(z,ee),z}}(),B=P(S(67396)),y=P(S(52747)),f=S(83358),_=P(S(27416));function P(G){return G&&G.__esModule?G:{default:G}}var b=function(G){function z(H){!function O(G,z){if(!(G instanceof z))throw new TypeError("Cannot call a class as a function")}(this,z);var ee=function j(G,z){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!z||"object"!=typeof z&&"function"!=typeof z?G:z}(this,(z.__proto__||Object.getPrototypeOf(z)).call(this));return"string"==typeof H&&(H=JSON.parse(H)),H&&H.conditions&&ee.setConditions(H.conditions),H&&H.onSuccess&&ee.on("success",H.onSuccess),H&&H.onFailure&&ee.on("failure",H.onFailure),H&&(H.name||0===H.name)&&ee.setName(H.name),ee.setPriority(H&&H.priority||1),ee.setEvent(H&&H.event||{type:"unknown"}),ee}return function v(G,z){if("function"!=typeof z&&null!==z)throw new TypeError("Super expression must either be null or a function, not "+typeof z);G.prototype=Object.create(z&&z.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(G,z):G.__proto__=z)}(z,G),M(z,[{key:"setPriority",value:function(ee){if((ee=parseInt(ee,10))<=0)throw new Error("Priority must be greater than zero");return this.priority=ee,this}},{key:"setName",value:function(ee){if(!ee&&0!==ee)throw new Error('Rule "name" must be defined');return this.name=ee,this}},{key:"setConditions",value:function(ee){if(!Object.prototype.hasOwnProperty.call(ee,"all")&&!Object.prototype.hasOwnProperty.call(ee,"any"))throw new Error('"conditions" root must contain a single instance of "all" or "any"');return this.conditions=new B.default(ee),this}},{key:"setEvent",value:function(ee){if(!ee)throw new Error("Rule: setEvent() requires event object");if(!Object.prototype.hasOwnProperty.call(ee,"type"))throw new Error('Rule: setEvent() requires event object with "type" property');return this.event={type:ee.type},ee.params&&(this.event.params=ee.params),this}},{key:"setEngine",value:function(ee){return this.engine=ee,this}},{key:"toJSON",value:function(){var ee=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],U={conditions:this.conditions.toJSON(!1),priority:this.priority,event:this.event,name:this.name};return ee?JSON.stringify(U):U}},{key:"prioritizeConditions",value:function(ee){var U=this,W=ee.reduce(function(Y,ae){var ve=ae.priority;if(!ve){var _e=U.engine.getFact(ae.fact);ve=_e&&_e.priority||1}return Y[ve]||(Y[ve]=[]),Y[ve].push(ae),Y},{});return Object.keys(W).sort(function(Y,ae){return Number(Y)>Number(ae)?-1:1}).map(function(Y){return W[Y]})}},{key:"evaluate",value:function(ee){var U=this,W=new y.default(this.conditions,this.event,this.priority,this.name),ve=function(E,I){if(0===E.length)return Promise.resolve(!0);var L=Array.prototype.some;"all"===I&&(L=Array.prototype.every);for(var D=U.prioritizeConditions(E),Q=Promise.resolve(),te=function(Fe){var rt=D[Fe],Te=!1;Q=Q.then(function(tt){return"any"===I&&!0===tt||Te?((0,_.default)("prioritizeAndRun::detected truthy result; skipping remaining conditions"),Te=!0,!0):"all"===I&&!1===tt||Te?((0,_.default)("prioritizeAndRun::detected falsey result; skipping remaining conditions"),Te=!0,!1):function(E,I){return Array.isArray(E)||(E=[E]),Promise.all(E.map(function(L){return function(E){if(E.isBooleanOperator()){var I=E[E.operator];return("all"===E.operator?he(I):_e(I)).then(function(D){var Q=!0===D;return E.result=Q,Q})}return E.evaluate(ee,U.engine.operators).then(function(D){var Q=D.result;return E.factResult=D.leftHandSideValue,E.result=Q,Q})}(L)})).then(function(L){return(0,_.default)("rule::evaluateConditions results",L),I.call(L,function(D){return!0===D})})}(rt,L)})},Re=0;Re<D.length;Re++)te(Re);return Q},_e=function(E){return ve(E,"any")},he=function(E){return ve(E,"all")},x=function(E){return W.setResult(E),U.emit(E?"success":"failure",W.event,ee,W),W};return W.conditions.any?_e(W.conditions.any).then(function(R){return x(R)}):he(W.conditions.all).then(function(R){return x(R)})}}]),z}(f.EventEmitter);V.default=b},64567:(fe,V,S)=>{function M(I){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(I)}function r(I){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(I)}function y(I,L){return(y=Object.setPrototypeOf||function(Q,te){return Q.__proto__=te,Q})(I,L)}function f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function g(I,L,D){return(g=f()?Reflect.construct:function(te,Re,ne){var Fe=[null];Fe.push.apply(Fe,Re);var Te=new(Function.bind.apply(te,Fe));return ne&&y(Te,ne.prototype),Te}).apply(null,arguments)}function P(I){var L="function"==typeof Map?new Map:void 0;return P=function(Q){if(null===Q||!function _(I){return-1!==Function.toString.call(I).indexOf("[native code]")}(Q))return Q;if("function"!=typeof Q)throw new TypeError("Super expression must either be null or a function");if(typeof L<"u"){if(L.has(Q))return L.get(Q);L.set(Q,te)}function te(){return g(Q,arguments,r(this).constructor)}return te.prototype=Object.create(Q.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),y(te,Q)},P(I)}function b(I){return function G(I){if(Array.isArray(I))return ee(I)}(I)||function z(I){if(typeof Symbol<"u"&&Symbol.iterator in Object(I))return Array.from(I)}(I)||H(I)||function U(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(I,L){if(I){if("string"==typeof I)return ee(I,L);var D=Object.prototype.toString.call(I).slice(8,-1);if("Object"===D&&I.constructor&&(D=I.constructor.name),"Map"===D||"Set"===D)return Array.from(D);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return ee(I,L)}}function ee(I,L){(null==L||L>I.length)&&(L=I.length);for(var D=0,Q=new Array(L);D<L;D++)Q[D]=I[D];return Q}S.r(V),S.d(V,{JSONPath:()=>E});var ae=Object.prototype.hasOwnProperty,_e=(E.nodeVMSupported=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}())?S(56989):{runInNewContext:function(L,D){var Q=Object.keys(D),te=[];!function(L,D,Q){for(var te=L.length,Re=0;Re<te;Re++)Q(L[Re])&&D.push(L.splice(Re--,1)[0])}(Q,te,function(Te){return"function"==typeof D[Te]});var Re=Q.map(function(Te,tt){return D[Te]});!(L=te.reduce(function(Te,tt){var Qe=D[tt].toString();return/function/.test(Qe)||(Qe="function "+Qe),"var "+tt+"="+Qe+";"+Te},"")+L).match(/(["'])use strict\1/)&&!Q.includes("arguments")&&(L="var arguments = undefined;"+L);var Fe=(L=L.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),rt=Fe>-1?L.slice(0,Fe+1)+" return "+L.slice(Fe+1):" return "+L;return g(Function,b(Q).concat([rt])).apply(void 0,b(Re))}};function he(I,L){return(I=I.slice()).push(L),I}function x(I,L){return(L=L.slice()).unshift(I),L}var R=function(I){!function B(I,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(L&&L.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),L&&y(I,L)}(D,I);var L=function v(I){return function(){var D,L=r(I);if(f()){var Q=r(this).constructor;D=Reflect.construct(L,arguments,Q)}else D=L.apply(this,arguments);return function j(I,L){return!L||"object"!=typeof L&&"function"!=typeof L?function O(I){if(void 0===I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}(I):L}(this,D)}}(D);function D(Q){var te;return function K(I,L){if(!(I instanceof L))throw new TypeError("Cannot call a class as a function")}(this,D),(te=L.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,te.value=Q,te.name="NewError",te}return D}(P(Error));function E(I,L,D,Q,te){if(!(this instanceof E))try{return new E(I,L,D,Q,te)}catch(rt){if(!rt.avoidNew)throw rt;return rt.value}"string"==typeof I&&(te=Q,Q=D,D=L,L=I,I=null);var Re=I&&"object"===M(I);if(this.json=(I=I||{}).json||D,this.path=I.path||L,this.resultType=I.resultType||"value",this.flatten=I.flatten||!1,this.wrap=!ae.call(I,"wrap")||I.wrap,this.sandbox=I.sandbox||{},this.preventEval=I.preventEval||!1,this.parent=I.parent||null,this.parentProperty=I.parentProperty||null,this.callback=I.callback||Q||null,this.otherTypeCallback=I.otherTypeCallback||te||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==I.autostart){var ne={path:Re?I.path:L};Re?"json"in I&&(ne.json=I.json):ne.json=D;var Fe=this.evaluate(ne);if(!Fe||"object"!==M(Fe))throw new R(Fe);return Fe}}E.prototype.evaluate=function(I,L,D,Q){var te=this,Re=this.parent,ne=this.parentProperty,Fe=this.flatten,rt=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,D=D||this.callback,this.currOtherTypeCallback=Q||this.otherTypeCallback,L=L||this.json,(I=I||this.path)&&"object"===M(I)&&!Array.isArray(I)){if(!I.path&&""!==I.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!ae.call(I,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');L=I.json,Fe=ae.call(I,"flatten")?I.flatten:Fe,this.currResultType=ae.call(I,"resultType")?I.resultType:this.currResultType,this.currSandbox=ae.call(I,"sandbox")?I.sandbox:this.currSandbox,rt=ae.call(I,"wrap")?I.wrap:rt,this.currPreventEval=ae.call(I,"preventEval")?I.preventEval:this.currPreventEval,D=ae.call(I,"callback")?I.callback:D,this.currOtherTypeCallback=ae.call(I,"otherTypeCallback")?I.otherTypeCallback:this.currOtherTypeCallback,Re=ae.call(I,"parent")?I.parent:Re,ne=ae.call(I,"parentProperty")?I.parentProperty:ne,I=I.path}if(Re=Re||null,ne=ne||null,Array.isArray(I)&&(I=E.toPathString(I)),(I||""===I)&&L){this._obj=L;var tt=E.toPathArray(I);"$"===tt[0]&&tt.length>1&&tt.shift(),this._hasParentSelector=null;var Qe=this._trace(tt,L,["$"],Re,ne,D).filter(function(vt){return vt&&!vt.isParentSelector});return Qe.length?rt||1!==Qe.length||Qe[0].hasArrExpr?Qe.reduce(function(vt,et){var je=te._getPreferredOutput(et);return Fe&&Array.isArray(je)?vt=vt.concat(je):vt.push(je),vt},[]):this._getPreferredOutput(Qe[0]):rt?[]:void 0}},E.prototype._getPreferredOutput=function(I){var L=this.currResultType;switch(L){default:throw new TypeError("Unknown result type");case"all":var D=Array.isArray(I.path)?I.path:E.toPathArray(I.path);return I.pointer=E.toPointer(D),I.path="string"==typeof I.path?I.path:E.toPathString(I.path),I;case"value":case"parent":case"parentProperty":return I[L];case"path":return E.toPathString(I[L]);case"pointer":return E.toPointer(I.path)}},E.prototype._handleCallback=function(I,L,D){if(L){var Q=this._getPreferredOutput(I);I.path="string"==typeof I.path?I.path:E.toPathString(I.path),L(Q,D,I)}},E.prototype._trace=function(I,L,D,Q,te,Re,ne,Fe){var rt,Te=this;if(!I.length)return this._handleCallback(rt={path:D,value:L,parent:Q,parentProperty:te,hasArrExpr:ne},Re,"value"),rt;var tt=I[0],Qe=I.slice(1),vt=[];function et(le){Array.isArray(le)?le.forEach(function(Ie){vt.push(Ie)}):vt.push(le)}if(("string"!=typeof tt||Fe)&&L&&ae.call(L,tt))et(this._trace(Qe,L[tt],he(D,tt),L,tt,Re,ne));else if("*"===tt)this._walk(tt,Qe,L,D,Q,te,Re,function(le,Ie,at,Tt,Vt,zt,un,Xt){et(Te._trace(x(le,at),Tt,Vt,zt,un,Xt,!0,!0))});else if(".."===tt)et(this._trace(Qe,L,D,Q,te,Re,ne)),this._walk(tt,Qe,L,D,Q,te,Re,function(le,Ie,at,Tt,Vt,zt,un,Xt){"object"===M(Tt[le])&&et(Te._trace(x(Ie,at),Tt[le],he(Vt,le),Tt,le,Xt,!0))});else{if("^"===tt)return this._hasParentSelector=!0,{path:D.slice(0,-1),expr:Qe,isParentSelector:!0};if("~"===tt)return rt={path:he(D,tt),value:te,parent:Q,parentProperty:null},this._handleCallback(rt,Re,"property"),rt;if("$"===tt)et(this._trace(Qe,L,D,null,null,Re,ne));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(tt))et(this._slice(tt,Qe,L,D,Q,te,Re));else if(0===tt.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(tt,Qe,L,D,Q,te,Re,function(le,Ie,at,Tt,Vt,zt,un,Xt){Te._eval(Ie.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1"),Tt[le],le,Vt,zt,un)&&et(Te._trace(x(le,at),Tt,Vt,zt,un,Xt,!0))})}else if("("===tt[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");et(this._trace(x(this._eval(tt,L,D[D.length-1],D.slice(0,-1),Q,te),Qe),L,D,Q,te,Re,ne))}else if("@"===tt[0]){var je=!1,it=tt.slice(1,-2);switch(it){default:throw new TypeError("Unknown value type "+it);case"scalar":(!L||!["object","function"].includes(M(L)))&&(je=!0);break;case"boolean":case"string":case"undefined":case"function":M(L)===it&&(je=!0);break;case"integer":Number.isFinite(L)&&!(L%1)&&(je=!0);break;case"number":Number.isFinite(L)&&(je=!0);break;case"nonFinite":"number"==typeof L&&!Number.isFinite(L)&&(je=!0);break;case"object":L&&M(L)===it&&(je=!0);break;case"array":Array.isArray(L)&&(je=!0);break;case"other":je=this.currOtherTypeCallback(L,D,Q,te);break;case"null":null===L&&(je=!0)}if(je)return this._handleCallback(rt={path:D,value:L,parent:Q,parentProperty:te},Re,"value"),rt}else if("`"===tt[0]&&L&&ae.call(L,tt.slice(1))){var de=tt.slice(1);et(this._trace(Qe,L[de],he(D,de),L,de,Re,ne,!0))}else if(tt.includes(",")){var Ae,oe=function W(I){if(typeof Symbol>"u"||null==I[Symbol.iterator]){if(Array.isArray(I)||(I=H(I))){var L=0,D=function(){};return{s:D,n:function(){return L>=I.length?{done:!0}:{done:!1,value:I[L++]}},e:function(rt){throw rt},f:D}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Q,ne,te=!0,Re=!1;return{s:function(){Q=I[Symbol.iterator]()},n:function(){var rt=Q.next();return te=rt.done,rt},e:function(rt){Re=!0,ne=rt},f:function(){try{!te&&null!=Q.return&&Q.return()}finally{if(Re)throw ne}}}}(tt.split(","));try{for(oe.s();!(Ae=oe.n()).done;)et(this._trace(x(Ae.value,Qe),L,D,Q,te,Re,!0))}catch(le){oe.e(le)}finally{oe.f()}}else!Fe&&L&&ae.call(L,tt)&&et(this._trace(Qe,L[tt],he(D,tt),L,tt,Re,ne,!0))}if(this._hasParentSelector)for(var pe=0;pe<vt.length;pe++){var xe=vt[pe];if(xe&&xe.isParentSelector){var ut=Te._trace(xe.expr,L,xe.path,Q,te,Re,ne);if(Array.isArray(ut)){vt[pe]=ut[0];for(var be=ut.length,ce=1;ce<be;ce++)pe++,vt.splice(pe,0,ut[ce])}else vt[pe]=ut}}return vt},E.prototype._walk=function(I,L,D,Q,te,Re,ne,Fe){if(Array.isArray(D))for(var rt=D.length,Te=0;Te<rt;Te++)Fe(Te,I,L,D,Q,te,Re,ne);else D&&"object"===M(D)&&Object.keys(D).forEach(function(tt){Fe(tt,I,L,D,Q,te,Re,ne)})},E.prototype._slice=function(I,L,D,Q,te,Re,ne){if(Array.isArray(D)){var Fe=D.length,rt=I.split(":"),Te=rt[2]&&Number.parseInt(rt[2])||1,tt=rt[0]&&Number.parseInt(rt[0])||0,Qe=rt[1]&&Number.parseInt(rt[1])||Fe;tt=tt<0?Math.max(0,tt+Fe):Math.min(Fe,tt),Qe=Qe<0?Math.max(0,Qe+Fe):Math.min(Fe,Qe);for(var vt=[],et=tt;et<Qe;et+=Te)this._trace(x(et,L),D,Q,te,Re,ne,!0).forEach(function(it){vt.push(it)});return vt}},E.prototype._eval=function(I,L,D,Q,te,Re){if(!this._obj||!L)return!1;I.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=Re,I=I.replace(/@parentProperty/g,"_$_parentProperty")),I.includes("@parent")&&(this.currSandbox._$_parent=te,I=I.replace(/@parent/g,"_$_parent")),I.includes("@property")&&(this.currSandbox._$_property=D,I=I.replace(/@property/g,"_$_property")),I.includes("@path")&&(this.currSandbox._$_path=E.toPathString(Q.concat([D])),I=I.replace(/@path/g,"_$_path")),I.includes("@root")&&(this.currSandbox._$_root=this.json,I=I.replace(/@root/g,"_$_root")),I.match(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/)&&(this.currSandbox._$_v=L,I=I.replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1"));try{return _e.runInNewContext(I,this.currSandbox)}catch(ne){throw console.log(ne),new Error("jsonPath: "+ne.message+": "+I)}},E.cache={},E.toPathString=function(I){for(var L=I,D=L.length,Q="$",te=1;te<D;te++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(L[te])||(Q+=/^[\*0-9]+$/.test(L[te])?"["+L[te]+"]":"['"+L[te]+"']");return Q},E.toPointer=function(I){for(var L=I,D=L.length,Q="",te=1;te<D;te++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(L[te])||(Q+="/"+L[te].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return Q},E.toPathArray=function(I){var L=E.cache;if(L[I])return L[I].concat();var D=[],te=I.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(Re,ne){return"[#"+(D.push(ne)-1)+"]"}).replace(/\['((?:[\0-&\(-\\\^-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)'\]/g,function(Re,ne){return"['"+ne.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/'?\.'?(?!(?:[\0-Z\\-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*\])|\['?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(Re,ne){return";"+ne.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map(function(Re){var ne=Re.match(/#([0-9]+)/);return ne&&ne[1]?D[ne[1]]:Re});return L[I]=te,L[I]}},57726:fe=>{fe.exports=function V(S){return!!S&&"object"==typeof S}},80464:(fe,V)=>{function M(g){return g.replace(/[-[\]/{}()*+?.\\^$]/g,"\\$&")}function K(g,_){var O=(void 0===_?{}:_).decimalMark,j=void 0===O?".":O;if("number"==typeof g)return g.toString();if("string"!=typeof g)return"NaN";var v=M(j),b=g.trim(),G=b.match(/^\(.*\)$|^-/),z=new RegExp("[^\\d"+v+"]|"+v+"(?=.*"+v+")|^\\D*"+v+"\\D*$","g");return""===(b=b.replace(z,"").replace(j,"."))?b="NaN":G&&(b="-"+b),b}V.He=void 0,V.He=function B(g,_){var O=(void 0===_?{}:_).decimalMark,v=K(g,{decimalMark:void 0===O?".":O});return"NaN"===v?NaN:Number(v)}},71856:fe=>{var V=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;fe.exports=function B(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var y={},f=0;f<10;f++)y["_"+String.fromCharCode(f)]=f;if("0123456789"!==Object.getOwnPropertyNames(y).map(function(P){return y[P]}).join(""))return!1;var _={};return"abcdefghijklmnopqrst".split("").forEach(function(P){_[P]=P}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},_)).join("")}catch{return!1}}()?Object.assign:function(r,y){for(var f,_,g=function K(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}(r),P=1;P<arguments.length;P++){for(var O in f=Object(arguments[P]))S.call(f,O)&&(g[O]=f[O]);if(V){_=V(f);for(var j=0;j<_.length;j++)M.call(f,_[j])&&(g[_[j]]=f[_[j]])}}return g}},28597:(fe,V,S)=>{var M="function"==typeof Map&&Map.prototype,K=Object.getOwnPropertyDescriptor&&M?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,B=M&&K&&"function"==typeof K.get?K.get:null,r=M&&Map.prototype.forEach,y="function"==typeof Set&&Set.prototype,f=Object.getOwnPropertyDescriptor&&y?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,g=y&&f&&"function"==typeof f.get?f.get:null,_=y&&Set.prototype.forEach,O="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,v="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,G="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,z=Boolean.prototype.valueOf,H=Object.prototype.toString,ee=Function.prototype.toString,U=String.prototype.match,W=String.prototype.slice,Y=String.prototype.replace,ae=String.prototype.toUpperCase,ve=String.prototype.toLowerCase,_e=RegExp.prototype.test,he=Array.prototype.concat,x=Array.prototype.join,R=Array.prototype.slice,E=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,L=Object.getOwnPropertySymbols,D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Q="function"==typeof Symbol&&"object"==typeof Symbol.iterator,te="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Re=Object.prototype.propertyIsEnumerable,ne=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(_t){return _t.__proto__}:null);function Fe(_t,Pt){if(_t===1/0||_t===-1/0||_t!=_t||_t&&_t>-1e3&&_t<1e3||_e.call(/e/,Pt))return Pt;var Pn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof _t){var zn=_t<0?-E(-_t):E(_t);if(zn!==_t){var Cn=String(zn),cn=W.call(Pt,Cn.length+1);return Y.call(Cn,Pn,"$&_")+"."+Y.call(Y.call(cn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Y.call(Pt,Pn,"$&_")}var rt=S(24654),Te=rt.custom,tt=Ne(Te)?Te:null;function Qe(_t,Pt,Pn){var zn="double"===(Pn.quoteStyle||Pt)?'"':"'";return zn+_t+zn}function vt(_t){return Y.call(String(_t),/"/g,"&quot;")}function et(_t){return!("[object Array]"!==be(_t)||te&&"object"==typeof _t&&te in _t)}function it(_t){return!("[object RegExp]"!==be(_t)||te&&"object"==typeof _t&&te in _t)}function Ne(_t){if(Q)return _t&&"object"==typeof _t&&_t instanceof Symbol;if("symbol"==typeof _t)return!0;if(!_t||"object"!=typeof _t||!D)return!1;try{return D.call(_t),!0}catch{}return!1}fe.exports=function _t(Pt,Pn,zn,Cn){var cn=Pn||{};if(ut(cn,"quoteStyle")&&"single"!==cn.quoteStyle&&"double"!==cn.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ut(cn,"maxStringLength")&&("number"==typeof cn.maxStringLength?cn.maxStringLength<0&&cn.maxStringLength!==1/0:null!==cn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Fr=!ut(cn,"customInspect")||cn.customInspect;if("boolean"!=typeof Fr&&"symbol"!==Fr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ut(cn,"indent")&&null!==cn.indent&&"\t"!==cn.indent&&!(parseInt(cn.indent,10)===cn.indent&&cn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ut(cn,"numericSeparator")&&"boolean"!=typeof cn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var lr=cn.numericSeparator;if(typeof Pt>"u")return"undefined";if(null===Pt)return"null";if("boolean"==typeof Pt)return Pt?"true":"false";if("string"==typeof Pt)return Xt(Pt,cn);if("number"==typeof Pt){if(0===Pt)return 1/0/Pt>0?"0":"-0";var wn=String(Pt);return lr?Fe(Pt,wn):wn}if("bigint"==typeof Pt){var kr=String(Pt)+"n";return lr?Fe(Pt,kr):kr}var Qn=typeof cn.depth>"u"?5:cn.depth;if(typeof zn>"u"&&(zn=0),zn>=Qn&&Qn>0&&"object"==typeof Pt)return et(Pt)?"[Array]":"[Object]";var Vi=function Qt(_t,Pt){var Pn;if("\t"===_t.indent)Pn="\t";else{if(!("number"==typeof _t.indent&&_t.indent>0))return null;Pn=x.call(Array(_t.indent+1)," ")}return{base:Pn,prev:x.call(Array(Pt+1),Pn)}}(cn,zn);if(typeof Cn>"u")Cn=[];else if(le(Cn,Pt)>=0)return"[Circular]";function Xr(di,da,mr){if(da&&(Cn=R.call(Cn)).push(da),mr){var Sa={depth:cn.depth};return ut(cn,"quoteStyle")&&(Sa.quoteStyle=cn.quoteStyle),_t(di,Sa,zn+1,Cn)}return _t(di,cn,zn+1,Cn)}if("function"==typeof Pt&&!it(Pt)){var Lr=function ce(_t){if(_t.name)return _t.name;var Pt=U.call(ee.call(_t),/^function\s*([\w$]+)/);return Pt?Pt[1]:null}(Pt),ci=ki(Pt,Xr);return"[Function"+(Lr?": "+Lr:" (anonymous)")+"]"+(ci.length>0?" { "+x.call(ci,", ")+" }":"")}if(Ne(Pt)){var Ba=Q?Y.call(String(Pt),/^(Symbol\(.*\))_[^)]*$/,"$1"):D.call(Pt);return"object"!=typeof Pt||Q?Ba:Un(Ba)}if(function un(_t){return!(!_t||"object"!=typeof _t)&&(typeof HTMLElement<"u"&&_t instanceof HTMLElement||"string"==typeof _t.nodeName&&"function"==typeof _t.getAttribute)}(Pt)){for(var zi="<"+ve.call(String(Pt.nodeName)),Za=Pt.attributes||[],Gi=0;Gi<Za.length;Gi++)zi+=" "+Za[Gi].name+"="+Qe(vt(Za[Gi].value),"double",cn);return zi+=">",Pt.childNodes&&Pt.childNodes.length&&(zi+="..."),zi+"</"+ve.call(String(Pt.nodeName))+">"}if(et(Pt)){if(0===Pt.length)return"[]";var Ri=ki(Pt,Xr);return Vi&&!function ar(_t){for(var Pt=0;Pt<_t.length;Pt++)if(le(_t[Pt],"\n")>=0)return!1;return!0}(Ri)?"["+ba(Ri,Vi)+"]":"[ "+x.call(Ri,", ")+" ]"}if(function de(_t){return!("[object Error]"!==be(_t)||te&&"object"==typeof _t&&te in _t)}(Pt)){var Hi=ki(Pt,Xr);return"cause"in Error.prototype||!("cause"in Pt)||Re.call(Pt,"cause")?0===Hi.length?"["+String(Pt)+"]":"{ ["+String(Pt)+"] "+x.call(Hi,", ")+" }":"{ ["+String(Pt)+"] "+x.call(he.call("[cause]: "+Xr(Pt.cause),Hi),", ")+" }"}if("object"==typeof Pt&&Fr){if(tt&&"function"==typeof Pt[tt]&&rt)return rt(Pt,{depth:Qn-zn});if("symbol"!==Fr&&"function"==typeof Pt.inspect)return Pt.inspect()}if(function Ie(_t){if(!B||!_t||"object"!=typeof _t)return!1;try{B.call(_t);try{g.call(_t)}catch{return!0}return _t instanceof Map}catch{}return!1}(Pt)){var Ca=[];return r&&r.call(Pt,function(di,da){Ca.push(Xr(da,Pt,!0)+" => "+Xr(di,Pt))}),Br("Map",B.call(Pt),Ca,Vi)}if(function Vt(_t){if(!g||!_t||"object"!=typeof _t)return!1;try{g.call(_t);try{B.call(_t)}catch{return!0}return _t instanceof Set}catch{}return!1}(Pt)){var Di=[];return _&&_.call(Pt,function(di){Di.push(Xr(di,Pt))}),Br("Set",g.call(Pt),Di,Vi)}if(function at(_t){if(!O||!_t||"object"!=typeof _t)return!1;try{O.call(_t,O);try{v.call(_t,v)}catch{return!0}return _t instanceof WeakMap}catch{}return!1}(Pt))return De("WeakMap");if(function zt(_t){if(!v||!_t||"object"!=typeof _t)return!1;try{v.call(_t,v);try{O.call(_t,O)}catch{return!0}return _t instanceof WeakSet}catch{}return!1}(Pt))return De("WeakSet");if(function Tt(_t){if(!G||!_t||"object"!=typeof _t)return!1;try{return G.call(_t),!0}catch{}return!1}(Pt))return De("WeakRef");if(function oe(_t){return!("[object Number]"!==be(_t)||te&&"object"==typeof _t&&te in _t)}(Pt))return Un(Xr(Number(Pt)));if(function pe(_t){if(!_t||"object"!=typeof _t||!I)return!1;try{return I.call(_t),!0}catch{}return!1}(Pt))return Un(Xr(I.call(Pt)));if(function Ae(_t){return!("[object Boolean]"!==be(_t)||te&&"object"==typeof _t&&te in _t)}(Pt))return Un(z.call(Pt));if(function J(_t){return!("[object String]"!==be(_t)||te&&"object"==typeof _t&&te in _t)}(Pt))return Un(Xr(String(Pt)));if(!function je(_t){return!("[object Date]"!==be(_t)||te&&"object"==typeof _t&&te in _t)}(Pt)&&!it(Pt)){var Ti=ki(Pt,Xr),hi=ne?ne(Pt)===Object.prototype:Pt instanceof Object||Pt.constructor===Object,Qr=Pt instanceof Object?"":"null prototype",fr=!hi&&te&&Object(Pt)===Pt&&te in Pt?W.call(be(Pt),8,-1):Qr?"Object":"",wa=(hi||"function"!=typeof Pt.constructor?"":Pt.constructor.name?Pt.constructor.name+" ":"")+(fr||Qr?"["+x.call(he.call([],fr||[],Qr||[]),": ")+"] ":"");return 0===Ti.length?wa+"{}":Vi?wa+"{"+ba(Ti,Vi)+"}":wa+"{ "+x.call(Ti,", ")+" }"}return String(Pt)};var xe=Object.prototype.hasOwnProperty||function(_t){return _t in this};function ut(_t,Pt){return xe.call(_t,Pt)}function be(_t){return H.call(_t)}function le(_t,Pt){if(_t.indexOf)return _t.indexOf(Pt);for(var Pn=0,zn=_t.length;Pn<zn;Pn++)if(_t[Pn]===Pt)return Pn;return-1}function Xt(_t,Pt){if(_t.length>Pt.maxStringLength){var Pn=_t.length-Pt.maxStringLength,zn="... "+Pn+" more character"+(Pn>1?"s":"");return Xt(W.call(_t,0,Pt.maxStringLength),Pt)+zn}return Qe(Y.call(Y.call(_t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Kn),"single",Pt)}function Kn(_t){var Pt=_t.charCodeAt(0),Pn={8:"b",9:"t",10:"n",12:"f",13:"r"}[Pt];return Pn?"\\"+Pn:"\\x"+(Pt<16?"0":"")+ae.call(Pt.toString(16))}function Un(_t){return"Object("+_t+")"}function De(_t){return _t+" { ? }"}function Br(_t,Pt,Pn,zn){return _t+" ("+Pt+") {"+(zn?ba(Pn,zn):x.call(Pn,", "))+"}"}function ba(_t,Pt){if(0===_t.length)return"";var Pn="\n"+Pt.prev+Pt.base;return Pn+x.call(_t,","+Pn)+"\n"+Pt.prev}function ki(_t,Pt){var Pn=et(_t),zn=[];if(Pn){zn.length=_t.length;for(var Cn=0;Cn<_t.length;Cn++)zn[Cn]=ut(_t,Cn)?Pt(_t[Cn],_t):""}var Fr,cn="function"==typeof L?L(_t):[];if(Q){Fr={};for(var lr=0;lr<cn.length;lr++)Fr["$"+cn[lr]]=cn[lr]}for(var wn in _t)ut(_t,wn)&&(Pn&&String(Number(wn))===wn&&wn<_t.length||Q&&Fr["$"+wn]instanceof Symbol||(_e.call(/[^\w$]/,wn)?zn.push(Pt(wn,_t)+": "+Pt(_t[wn],_t)):zn.push(wn+": "+Pt(_t[wn],_t))));if("function"==typeof L)for(var kr=0;kr<cn.length;kr++)Re.call(_t,cn[kr])&&zn.push("["+Pt(cn[kr])+"]: "+Pt(_t[cn[kr]],_t));return zn}},72578:function(fe){fe.exports=function(V){var S={};function M(K){if(S[K])return S[K].exports;var B=S[K]={i:K,l:!1,exports:{}};return V[K].call(B.exports,B,B.exports,M),B.l=!0,B.exports}return M.m=V,M.c=S,M.d=function(K,B,r){M.o(K,B)||Object.defineProperty(K,B,{enumerable:!0,get:r})},M.r=function(K){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(K,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(K,"__esModule",{value:!0})},M.t=function(K,B){if(1&B&&(K=M(K)),8&B||4&B&&"object"==typeof K&&K&&K.__esModule)return K;var r=Object.create(null);if(M.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:K}),2&B&&"string"!=typeof K)for(var y in K)M.d(r,y,function(f){return K[f]}.bind(null,y));return r},M.n=function(K){var B=K&&K.__esModule?function(){return K.default}:function(){return K};return M.d(B,"a",B),B},M.o=function(K,B){return Object.prototype.hasOwnProperty.call(K,B)},M.p="",M(M.s=22)}([function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var K=function(){function f(g,_){for(var P=0;P<_.length;P++){var O=_[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(g,O.key,O)}}return function(g,_,P){return _&&f(g.prototype,_),P&&f(g,P),g}}(),B={debug:function(){},info:function(){},warn:function(){},error:function(){}},r=void 0,y=void 0;(S.Log=function(){function f(){!function(_,P){if(!(_ instanceof P))throw new TypeError("Cannot call a class as a function")}(this,f)}return f.reset=function(){y=3,r=B},f.debug=function(){if(y>=4){for(var _=arguments.length,P=Array(_),O=0;O<_;O++)P[O]=arguments[O];r.debug.apply(r,Array.from(P))}},f.info=function(){if(y>=3){for(var _=arguments.length,P=Array(_),O=0;O<_;O++)P[O]=arguments[O];r.info.apply(r,Array.from(P))}},f.warn=function(){if(y>=2){for(var _=arguments.length,P=Array(_),O=0;O<_;O++)P[O]=arguments[O];r.warn.apply(r,Array.from(P))}},f.error=function(){if(y>=1){for(var _=arguments.length,P=Array(_),O=0;O<_;O++)P[O]=arguments[O];r.error.apply(r,Array.from(P))}},K(f,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return y},set:function(_){if(!(0<=_&&_<=4))throw new Error("Invalid log level");y=_}},{key:"logger",get:function(){return r},set:function(_){if(!_.debug&&_.info&&(_.debug=_.info),!(_.debug&&_.info&&_.warn&&_.error))throw new Error("Invalid logger");r=_}}]),f}()).reset()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var K=function(){function f(g,_){for(var P=0;P<_.length;P++){var O=_[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(g,O.key,O)}}return function(g,_,P){return _&&f(g.prototype,_),P&&f(g,P),g}}(),B={setInterval:function(f){function g(_,P){return f.apply(this,arguments)}return g.toString=function(){return f.toString()},g}(function(f,g){return setInterval(f,g)}),clearInterval:function(f){function g(_){return f.apply(this,arguments)}return g.toString=function(){return f.toString()},g}(function(f){return clearInterval(f)})},r=!1,y=null;S.Global=function(){function f(){!function(_,P){if(!(_ instanceof P))throw new TypeError("Cannot call a class as a function")}(this,f)}return f._testing=function(){r=!0},f.setXMLHttpRequest=function(_){y=_},K(f,null,[{key:"location",get:function(){if(!r)return location}},{key:"localStorage",get:function(){if(!r&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!r&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!r&&typeof window<"u")return y||XMLHttpRequest}},{key:"timer",get:function(){if(!r)return B}}]),f}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MetadataService=void 0;var K=function(){function g(_,P){for(var O=0;O<P.length;O++){var j=P[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}return function(_,P,O){return P&&g(_.prototype,P),O&&g(_,O),_}}(),B=M(0),r=M(7);var f=".well-known/openid-configuration";S.MetadataService=function(){function g(_){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService;if(function y(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}(this,g),!_)throw B.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=_,this._jsonService=new P(["application/jwk-set+json"])}return g.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},g.prototype.getMetadata=function(){var P=this;return this._settings.metadata?(B.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(B.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(O){return B.Log.debug("MetadataService.getMetadata: json received"),P._settings.metadata=Object.assign({},P._settings.metadataSeed||{},O),P._settings.metadata})):(B.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},g.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},g.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},g.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},g.prototype.getTokenEndpoint=function(){return this._getMetadataProperty("token_endpoint",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])},g.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},g.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},g.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},g.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},g.prototype._getMetadataProperty=function(P){var O=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return B.Log.debug("MetadataService.getMetadataProperty for: "+P),this.getMetadata().then(function(j){if(B.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===j[P]){if(!0===O)return void B.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+P);throw B.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+P),new Error("Metadata does not contain property "+P)}return j[P]})},g.prototype.getSigningKeys=function(){var P=this;return this._settings.signingKeys?(B.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(O){return B.Log.debug("MetadataService.getSigningKeys: jwks_uri received",O),P._jsonService.getJson(O).then(function(j){if(B.Log.debug("MetadataService.getSigningKeys: key set received",j),!j.keys)throw B.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return P._settings.signingKeys=j.keys,P._settings.signingKeys})})},K(g,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(f)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=f))),this._metadataUrl}}]),g}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UrlUtility=void 0;var K=M(0),B=M(1);S.UrlUtility=function(){function r(){!function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,r)}return r.addQueryParam=function(f,g,_){return f.indexOf("?")<0&&(f+="?"),"?"!==f[f.length-1]&&(f+="&"),f+=encodeURIComponent(g),(f+="=")+encodeURIComponent(_)},r.parseUrlFragment=function(f){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";"string"!=typeof f&&(f=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.Global).location.href);var P=f.lastIndexOf(g);P>=0&&(f=f.substr(P+1)),"?"===g&&(P=f.indexOf("#"))>=0&&(f=f.substr(0,P));for(var O,j={},v=/([^&=]+)=([^&]*)/g,b=0;O=v.exec(f);)if(j[decodeURIComponent(O[1])]=decodeURIComponent(O[2].replace(/\+/g," ")),b++>50)return K.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",f),{error:"Response exceeded expected number of parameters"};for(var G in j)return j;return{}},r}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.JoseUtil=void 0;var y,K=M(26),B=(y=M(33))&&y.__esModule?y:{default:y};S.JoseUtil=(0,B.default)({jws:K.jws,KeyUtil:K.KeyUtil,X509:K.X509,crypto:K.crypto,hextob64u:K.hextob64u,b64tohex:K.b64tohex,AllowedSigningAlgs:K.AllowedSigningAlgs})},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.OidcClientSettings=void 0;var K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},B=function(){function G(z,H){for(var ee=0;ee<H.length;ee++){var U=H[ee];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(z,U.key,U)}}return function(z,H,ee){return H&&G(z.prototype,H),ee&&G(z,ee),z}}(),r=M(0),y=M(23),f=M(6),g=M(24),_=M(2);var O=".well-known/openid-configuration";S.OidcClientSettings=function(){function G(){var z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},H=z.authority,ee=z.metadataUrl,U=z.metadata,W=z.signingKeys,Y=z.metadataSeed,ae=z.client_id,ve=z.client_secret,_e=z.response_type,he=void 0===_e?"id_token":_e,x=z.scope,R=void 0===x?"openid":x,E=z.redirect_uri,I=z.post_logout_redirect_uri,L=z.client_authentication,D=void 0===L?"client_secret_post":L,Q=z.prompt,te=z.display,Re=z.max_age,ne=z.ui_locales,Fe=z.acr_values,rt=z.resource,Te=z.response_mode,tt=z.filterProtocolClaims,Qe=void 0===tt||tt,vt=z.loadUserInfo,et=void 0===vt||vt,je=z.staleStateAge,it=void 0===je?900:je,de=z.clockSkew,J=void 0===de?300:de,oe=z.clockService,Ae=void 0===oe?new y.ClockService:oe,Ne=z.userInfoJwtIssuer,pe=void 0===Ne?"OP":Ne,xe=z.mergeClaims,ut=void 0!==xe&&xe,be=z.stateStore,ce=void 0===be?new f.WebStorageStateStore:be,le=z.ResponseValidatorCtor,Ie=void 0===le?g.ResponseValidator:le,at=z.MetadataServiceCtor,Tt=void 0===at?_.MetadataService:at,Vt=z.extraQueryParams,zt=void 0===Vt?{}:Vt,un=z.extraTokenParams,Xt=void 0===un?{}:un;(function P(G,z){if(!(G instanceof z))throw new TypeError("Cannot call a class as a function")})(this,G),this._authority=H,this._metadataUrl=ee,this._metadata=U,this._metadataSeed=Y,this._signingKeys=W,this._client_id=ae,this._client_secret=ve,this._response_type=he,this._scope=R,this._redirect_uri=E,this._post_logout_redirect_uri=I,this._client_authentication=D,this._prompt=Q,this._display=te,this._max_age=Re,this._ui_locales=ne,this._acr_values=Fe,this._resource=rt,this._response_mode=Te,this._filterProtocolClaims=!!Qe,this._loadUserInfo=!!et,this._staleStateAge=it,this._clockSkew=J,this._clockService=Ae,this._userInfoJwtIssuer=pe,this._mergeClaims=!!ut,this._stateStore=ce,this._validator=new Ie(this),this._metadataService=new Tt(this),this._extraQueryParams="object"===(void 0===zt?"undefined":K(zt))?zt:{},this._extraTokenParams="object"===(void 0===Xt?"undefined":K(Xt))?Xt:{}}return G.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},B(G,[{key:"client_id",get:function(){return this._client_id},set:function(H){if(this._client_id)throw r.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=H}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(H){if(this._authority)throw r.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=H}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(O)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=O)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(H){this._metadata=H}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(H){this._metadataSeed=H}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(H){this._signingKeys=H}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(H){this._extraQueryParams="object"===(void 0===H?"undefined":K(H))?H:{}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(H){this._extraTokenParams="object"===(void 0===H?"undefined":K(H))?H:{}}}]),G}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.WebStorageStateStore=void 0;var K=M(0),B=M(1);S.WebStorageStateStore=function(){function y(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=f.prefix,_=void 0===g?"oidc.":g,P=f.store,O=void 0===P?B.Global.localStorage:P;(function r(y,f){if(!(y instanceof f))throw new TypeError("Cannot call a class as a function")})(this,y),this._store=O,this._prefix=_}return y.prototype.set=function(g,_){return K.Log.debug("WebStorageStateStore.set",g),this._store.setItem(g=this._prefix+g,_),Promise.resolve()},y.prototype.get=function(g){K.Log.debug("WebStorageStateStore.get",g);var _=this._store.getItem(g=this._prefix+g);return Promise.resolve(_)},y.prototype.remove=function(g){K.Log.debug("WebStorageStateStore.remove",g);var _=this._store.getItem(g=this._prefix+g);return this._store.removeItem(g),Promise.resolve(_)},y.prototype.getAllKeys=function(){K.Log.debug("WebStorageStateStore.getAllKeys");for(var g=[],_=0;_<this._store.length;_++){var P=this._store.key(_);0===P.indexOf(this._prefix)&&g.push(P.substr(this._prefix.length))}return Promise.resolve(g)},y}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.JsonService=void 0;var K=M(0),B=M(1);S.JsonService=function(){function y(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Global.XMLHttpRequest,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(function r(y,f){if(!(y instanceof f))throw new TypeError("Cannot call a class as a function")})(this,y),this._contentTypes=f&&Array.isArray(f)?f.slice():[],this._contentTypes.push("application/json"),_&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=g,this._jwtHandler=_}return y.prototype.getJson=function(g,_){var P=this;if(!g)throw K.Log.error("JsonService.getJson: No url passed"),new Error("url");return K.Log.debug("JsonService.getJson, url: ",g),new Promise(function(O,j){var v=new P._XMLHttpRequest;v.open("GET",g);var b=P._contentTypes,G=P._jwtHandler;v.onload=function(){if(K.Log.debug("JsonService.getJson: HTTP response received, status",v.status),200===v.status){var z=v.getResponseHeader("Content-Type");if(z){var H=b.find(function(ee){if(z.startsWith(ee))return!0});if("application/jwt"==H)return void G(v).then(O,j);if(H)try{return void O(JSON.parse(v.responseText))}catch(ee){return K.Log.error("JsonService.getJson: Error parsing JSON response",ee.message),void j(ee)}}j(Error("Invalid response Content-Type: "+z+", from URL: "+g))}else j(Error(v.statusText+" ("+v.status+")"))},v.onerror=function(){K.Log.error("JsonService.getJson: network error"),j(Error("Network Error"))},_&&(K.Log.debug("JsonService.getJson: token passed, setting Authorization header"),v.setRequestHeader("Authorization","Bearer "+_)),v.send()})},y.prototype.postForm=function(g,_,P){var O=this;if(!g)throw K.Log.error("JsonService.postForm: No url passed"),new Error("url");return K.Log.debug("JsonService.postForm, url: ",g),new Promise(function(j,v){var b=new O._XMLHttpRequest;b.open("POST",g);var G=O._contentTypes;b.onload=function(){if(K.Log.debug("JsonService.postForm: HTTP response received, status",b.status),200!==b.status){if(400===b.status&&(W=b.getResponseHeader("Content-Type"))&&G.find(function(Y){if(W.startsWith(Y))return!0}))try{var U=JSON.parse(b.responseText);if(U&&U.error)return K.Log.error("JsonService.postForm: Error from server: ",U.error),void v(new Error(U.error))}catch(Y){return K.Log.error("JsonService.postForm: Error parsing JSON response",Y.message),void v(Y)}v(Error(b.statusText+" ("+b.status+")"))}else{var W;if((W=b.getResponseHeader("Content-Type"))&&G.find(function(Y){if(W.startsWith(Y))return!0}))try{return void j(JSON.parse(b.responseText))}catch(Y){return K.Log.error("JsonService.postForm: Error parsing JSON response",Y.message),void v(Y)}v(Error("Invalid response Content-Type: "+W+", from URL: "+g))}},b.onerror=function(){K.Log.error("JsonService.postForm: network error"),v(Error("Network Error"))};var z="";for(var H in _){var ee=_[H];ee&&(z.length>0&&(z+="&"),z+=encodeURIComponent(H),z+="=",z+=encodeURIComponent(ee))}b.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==P&&b.setRequestHeader("Authorization","Basic "+btoa(P)),b.send(z)})},y}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SigninRequest=void 0;var K=M(0),B=M(3),r=M(13);S.SigninRequest=function(){function y(f){var g=f.url,_=f.client_id,P=f.redirect_uri,O=f.response_type,j=f.scope,v=f.authority,b=f.data,G=f.prompt,z=f.display,H=f.max_age,ee=f.ui_locales,U=f.id_token_hint,W=f.login_hint,Y=f.acr_values,ae=f.resource,ve=f.response_mode,_e=f.request,he=f.request_uri,x=f.extraQueryParams,R=f.request_type,E=f.client_secret,I=f.extraTokenParams,L=f.skipUserInfo;if(function(rt,Te){if(!(rt instanceof Te))throw new TypeError("Cannot call a class as a function")}(this,y),!g)throw K.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!_)throw K.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!P)throw K.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!O)throw K.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!j)throw K.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!v)throw K.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var D=y.isOidc(O),Q=y.isCode(O);ve||(ve=y.isCode(O)?"query":null),this.state=new r.SigninState({nonce:D,data:b,client_id:_,authority:v,redirect_uri:P,code_verifier:Q,request_type:R,response_mode:ve,client_secret:E,scope:j,extraTokenParams:I,skipUserInfo:L}),g=B.UrlUtility.addQueryParam(g,"client_id",_),g=B.UrlUtility.addQueryParam(g,"redirect_uri",P),g=B.UrlUtility.addQueryParam(g,"response_type",O),g=B.UrlUtility.addQueryParam(g,"scope",j),g=B.UrlUtility.addQueryParam(g,"state",this.state.id),D&&(g=B.UrlUtility.addQueryParam(g,"nonce",this.state.nonce)),Q&&(g=B.UrlUtility.addQueryParam(g,"code_challenge",this.state.code_challenge),g=B.UrlUtility.addQueryParam(g,"code_challenge_method","S256"));var te={prompt:G,display:z,max_age:H,ui_locales:ee,id_token_hint:U,login_hint:W,acr_values:Y,resource:ae,request:_e,request_uri:he,response_mode:ve};for(var Re in te)te[Re]&&(g=B.UrlUtility.addQueryParam(g,Re,te[Re]));for(var ne in x)g=B.UrlUtility.addQueryParam(g,ne,x[ne]);this.url=g}return y.isOidc=function(g){return!!g.split(/\s+/g).filter(function(_){return"id_token"===_})[0]},y.isOAuth=function(g){return!!g.split(/\s+/g).filter(function(_){return"token"===_})[0]},y.isCode=function(g){return!!g.split(/\s+/g).filter(function(_){return"code"===_})[0]},y}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.State=void 0;var g,K=function(){function f(g,_){for(var P=0;P<_.length;P++){var O=_[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(g,O.key,O)}}return function(g,_,P){return _&&f(g.prototype,_),P&&f(g,P),g}}(),B=M(0),r=(g=M(14))&&g.__esModule?g:{default:g};S.State=function(){function f(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=g.id,P=g.data,O=g.created,j=g.request_type;(function y(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this._id=_||(0,r.default)(),this._data=P,this._created="number"==typeof O&&O>0?O:parseInt(Date.now()/1e3),this._request_type=j}return f.prototype.toStorageString=function(){return B.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},f.fromStorageString=function(_){return B.Log.debug("State.fromStorageString"),new f(JSON.parse(_))},f.clearStaleState=function(_,P){var O=Date.now()/1e3-P;return _.getAllKeys().then(function(j){B.Log.debug("State.clearStaleState: got keys",j);for(var v=[],b=function(ee){var U=j[ee];z=_.get(U).then(function(W){var Y=!1;if(W)try{var ae=f.fromStorageString(W);B.Log.debug("State.clearStaleState: got item from key: ",U,ae.created),ae.created<=O&&(Y=!0)}catch(ve){B.Log.error("State.clearStaleState: Error parsing state for key",U,ve.message),Y=!0}else B.Log.debug("State.clearStaleState: no item in storage for key: ",U),Y=!0;if(Y)return B.Log.debug("State.clearStaleState: removed item for key: ",U),_.remove(U)}),v.push(z)},G=0;G<j.length;G++){var z;b(G)}return B.Log.debug("State.clearStaleState: waiting on promise count:",v.length),Promise.all(v)})},K(f,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),f}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.OidcClient=void 0;var K=function(){function b(G,z){for(var H=0;H<z.length;H++){var ee=z[H];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(G,ee.key,ee)}}return function(G,z,H){return z&&b(G.prototype,z),H&&b(G,H),G}}(),B=M(0),r=M(5),y=M(12),f=M(8),g=M(34),_=M(35),P=M(36),O=M(13),j=M(9);S.OidcClient=function(){function b(){var G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function v(b,G){if(!(b instanceof G))throw new TypeError("Cannot call a class as a function")})(this,b),this._settings=G instanceof r.OidcClientSettings?G:new r.OidcClientSettings(G)}return b.prototype.createSigninRequest=function(){var z=this,H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ee=H.response_type,U=H.scope,W=H.redirect_uri,Y=H.data,ae=H.state,ve=H.prompt,_e=H.display,he=H.max_age,x=H.ui_locales,R=H.id_token_hint,E=H.login_hint,I=H.acr_values,L=H.resource,D=H.request,Q=H.request_uri,te=H.response_mode,Re=H.extraQueryParams,ne=H.extraTokenParams,Fe=H.request_type,rt=H.skipUserInfo,Te=arguments[1];B.Log.debug("OidcClient.createSigninRequest");var tt=this._settings.client_id;U=U||this._settings.scope,W=W||this._settings.redirect_uri,ve=ve||this._settings.prompt,_e=_e||this._settings.display,he=he||this._settings.max_age,x=x||this._settings.ui_locales,I=I||this._settings.acr_values,L=L||this._settings.resource,te=te||this._settings.response_mode,Re=Re||this._settings.extraQueryParams,ne=ne||this._settings.extraTokenParams;var Qe=this._settings.authority;return f.SigninRequest.isCode(ee=ee||this._settings.response_type)&&"code"!==ee?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(vt){B.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",vt);var et=new f.SigninRequest({url:vt,client_id:tt,redirect_uri:W,response_type:ee,scope:U,data:Y||ae,authority:Qe,prompt:ve,display:_e,max_age:he,ui_locales:x,id_token_hint:R,login_hint:E,acr_values:I,resource:L,request:D,request_uri:Q,extraQueryParams:Re,extraTokenParams:ne,request_type:Fe,response_mode:te,client_secret:z._settings.client_secret,skipUserInfo:rt}),je=et.state;return(Te=Te||z._stateStore).set(je.id,je.toStorageString()).then(function(){return et})})},b.prototype.readSigninResponseState=function(z,H){var ee=arguments.length>2&&void 0!==arguments[2]&&arguments[2];B.Log.debug("OidcClient.readSigninResponseState");var U="query"===this._settings.response_mode||!this._settings.response_mode&&f.SigninRequest.isCode(this._settings.response_type),Y=new g.SigninResponse(z,U?"?":"#");return Y.state?(H=H||this._stateStore,(ee?H.remove.bind(H):H.get.bind(H))(Y.state).then(function(ve){if(!ve)throw B.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:O.SigninState.fromStorageString(ve),response:Y}})):(B.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},b.prototype.processSigninResponse=function(z,H){var ee=this;return B.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(z,H,!0).then(function(U){var W=U.state,Y=U.response;return B.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),ee._validator.validateSigninResponse(W,Y)})},b.prototype.createSignoutRequest=function(){var z=this,H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ee=H.id_token_hint,U=H.data,W=H.state,Y=H.post_logout_redirect_uri,ae=H.extraQueryParams,ve=H.request_type,_e=arguments[1];return B.Log.debug("OidcClient.createSignoutRequest"),Y=Y||this._settings.post_logout_redirect_uri,ae=ae||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(he){if(!he)throw B.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");B.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",he);var x=new _.SignoutRequest({url:he,id_token_hint:ee,post_logout_redirect_uri:Y,data:U||W,extraQueryParams:ae,request_type:ve}),R=x.state;return R&&(B.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(_e=_e||z._stateStore).set(R.id,R.toStorageString())),x})},b.prototype.readSignoutResponseState=function(z,H){var ee=arguments.length>2&&void 0!==arguments[2]&&arguments[2];B.Log.debug("OidcClient.readSignoutResponseState");var U=new P.SignoutResponse(z);if(!U.state)return B.Log.debug("OidcClient.readSignoutResponseState: No state in response"),U.error?(B.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",U.error),Promise.reject(new y.ErrorResponse(U))):Promise.resolve({state:void 0,response:U});var W=U.state;return H=H||this._stateStore,(ee?H.remove.bind(H):H.get.bind(H))(W).then(function(ae){if(!ae)throw B.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:j.State.fromStorageString(ae),response:U}})},b.prototype.processSignoutResponse=function(z,H){var ee=this;return B.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(z,H,!0).then(function(U){var W=U.state,Y=U.response;return W?(B.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),ee._validator.validateSignoutResponse(W,Y)):(B.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),Y)})},b.prototype.clearStaleState=function(z){return B.Log.debug("OidcClient.clearStaleState"),j.State.clearStaleState(z=z||this._stateStore,this.settings.staleStateAge)},K(b,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),b}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.TokenClient=void 0;var K=M(7),B=M(2),r=M(0);S.TokenClient=function(){function f(g){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K.JsonService,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.MetadataService;if(function y(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f),!g)throw r.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=g,this._jsonService=new _,this._metadataService=new P(this._settings)}return f.prototype.exchangeCode=function(){var _=this,P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(P=Object.assign({},P)).grant_type=P.grant_type||"authorization_code",P.client_id=P.client_id||this._settings.client_id,P.client_secret=P.client_secret||this._settings.client_secret,P.redirect_uri=P.redirect_uri||this._settings.redirect_uri;var O=void 0,j=P._client_authentication||this._settings._client_authentication;return delete P._client_authentication,P.code?P.redirect_uri?P.code_verifier?P.client_id?P.client_secret||"client_secret_basic"!=j?("client_secret_basic"==j&&(O=P.client_id+":"+P.client_secret,delete P.client_id,delete P.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(v){return r.Log.debug("TokenClient.exchangeCode: Received token endpoint"),_._jsonService.postForm(v,P,O).then(function(b){return r.Log.debug("TokenClient.exchangeCode: response received"),b})})):(r.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(r.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(r.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(r.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(r.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},f.prototype.exchangeRefreshToken=function(){var _=this,P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(P=Object.assign({},P)).grant_type=P.grant_type||"refresh_token",P.client_id=P.client_id||this._settings.client_id,P.client_secret=P.client_secret||this._settings.client_secret;var O=void 0,j=P._client_authentication||this._settings._client_authentication;return delete P._client_authentication,P.refresh_token?P.client_id?("client_secret_basic"==j&&(O=P.client_id+":"+P.client_secret,delete P.client_id,delete P.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(v){return r.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),_._jsonService.postForm(v,P,O).then(function(b){return r.Log.debug("TokenClient.exchangeRefreshToken: response received"),b})})):(r.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(r.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},f}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ErrorResponse=void 0;var K=M(0);S.ErrorResponse=function(y){function f(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=g.error,P=g.error_description,O=g.error_uri,j=g.state,v=g.session_state;if(function B(y,f){if(!(y instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),!_)throw K.Log.error("No error passed to ErrorResponse"),new Error("error");var b=function r(y,f){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?y:f}(this,y.call(this,P||_));return b.name="ErrorResponse",b.error=_,b.error_description=P,b.error_uri=O,b.state=j,b.session_state=v,b}return function(_,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);_.prototype=Object.create(P&&P.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(_,P):_.__proto__=P)}(f,y),f}(Error)},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SigninState=void 0;var O,K=function(){function P(O,j){for(var v=0;v<j.length;v++){var b=j[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(O,b.key,b)}}return function(O,j,v){return j&&P(O.prototype,j),v&&P(O,v),O}}(),B=M(0),r=M(9),y=M(4),f=(O=M(14))&&O.__esModule?O:{default:O};S.SigninState=function(P){function O(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=j.nonce,b=j.authority,G=j.client_id,z=j.redirect_uri,H=j.code_verifier,ee=j.response_mode,U=j.client_secret,W=j.scope,Y=j.extraTokenParams,ae=j.skipUserInfo;!function g(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O);var ve=function _(P,O){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?P:O}(this,P.call(this,arguments[0]));if(!0===v?ve._nonce=(0,f.default)():v&&(ve._nonce=v),!0===H?ve._code_verifier=(0,f.default)()+(0,f.default)()+(0,f.default)():H&&(ve._code_verifier=H),ve.code_verifier){var _e=y.JoseUtil.hashString(ve.code_verifier,"SHA256");ve._code_challenge=y.JoseUtil.hexToBase64Url(_e)}return ve._redirect_uri=z,ve._authority=b,ve._client_id=G,ve._response_mode=ee,ve._client_secret=U,ve._scope=W,ve._extraTokenParams=Y,ve._skipUserInfo=ae,ve}return function(v,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}(O,P),O.prototype.toStorageString=function(){return B.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},O.fromStorageString=function(v){return B.Log.debug("SigninState.fromStorageString"),new O(JSON.parse(v))},K(O,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),O}(r.State)},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(){return("undefined"!=K&&null!==K&&void 0!==K.getRandomValues?B:r)().replace(/-/g,"")};var K=typeof window<"u"?window.crypto||window.msCrypto:null;function B(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(y){return(y^K.getRandomValues(new Uint8Array(1))[0]&15>>y/4).toString(16)})}function r(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(y){return(y^16*Math.random()>>y/4).toString(16)})}V.exports=S.default},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.User=void 0;var K=function(){function r(y,f){for(var g=0;g<f.length;g++){var _=f[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,f,g){return f&&r(y.prototype,f),g&&r(y,g),y}}(),B=M(0);S.User=function(){function r(y){var f=y.id_token,g=y.session_state,_=y.access_token,P=y.refresh_token,O=y.token_type,j=y.scope,v=y.profile,b=y.expires_at,G=y.state;(function(H,ee){if(!(H instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,r),this.id_token=f,this.session_state=g,this.access_token=_,this.refresh_token=P,this.token_type=O,this.scope=j,this.profile=v,this.expires_at=b,this.state=G}return r.prototype.toStorageString=function(){return B.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},r.fromStorageString=function(f){return B.Log.debug("User.fromStorageString"),new r(JSON.parse(f))},K(r,[{key:"expires_in",get:function(){if(this.expires_at){var f=parseInt(Date.now()/1e3);return this.expires_at-f}},set:function(f){var g=parseInt(f);if("number"==typeof g&&g>0){var _=parseInt(Date.now()/1e3);this.expires_at=_+g}}},{key:"expired",get:function(){var f=this.expires_in;if(void 0!==f)return f<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),r}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.AccessTokenEvents=void 0;var K=M(0),B=M(46);S.AccessTokenEvents=function(){function y(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=f.accessTokenExpiringNotificationTime,_=void 0===g?60:g,P=f.accessTokenExpiringTimer,O=void 0===P?new B.Timer("Access token expiring"):P,j=f.accessTokenExpiredTimer,v=void 0===j?new B.Timer("Access token expired"):j;(function r(y,f){if(!(y instanceof f))throw new TypeError("Cannot call a class as a function")})(this,y),this._accessTokenExpiringNotificationTime=_,this._accessTokenExpiring=O,this._accessTokenExpired=v}return y.prototype.load=function(g){if(g.access_token&&void 0!==g.expires_in){var _=g.expires_in;if(K.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",_),_>0){var P=_-this._accessTokenExpiringNotificationTime;P<=0&&(P=1),K.Log.debug("AccessTokenEvents.load: registering expiring timer in:",P),this._accessTokenExpiring.init(P)}else K.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var O=_+1;K.Log.debug("AccessTokenEvents.load: registering expired timer in:",O),this._accessTokenExpired.init(O)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},y.prototype.unload=function(){K.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},y.prototype.addAccessTokenExpiring=function(g){this._accessTokenExpiring.addHandler(g)},y.prototype.removeAccessTokenExpiring=function(g){this._accessTokenExpiring.removeHandler(g)},y.prototype.addAccessTokenExpired=function(g){this._accessTokenExpired.addHandler(g)},y.prototype.removeAccessTokenExpired=function(g){this._accessTokenExpired.removeHandler(g)},y}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Event=void 0;var K=M(0);S.Event=function(){function B(r){(function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,B),this._name=r,this._callbacks=[]}return B.prototype.addHandler=function(y){this._callbacks.push(y)},B.prototype.removeHandler=function(y){var f=this._callbacks.findIndex(function(g){return g===y});f>=0&&this._callbacks.splice(f,1)},B.prototype.raise=function(){K.Log.debug("Event: Raising event: "+this._name);for(var y=0;y<this._callbacks.length;y++){var f;(f=this._callbacks)[y].apply(f,arguments)}},B}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SessionMonitor=void 0;var K=function(){function g(_,P){for(var O=0;O<P.length;O++){var j=P[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}return function(_,P,O){return P&&g(_.prototype,P),O&&g(_,O),_}}(),B=M(0),r=M(19),y=M(1);S.SessionMonitor=function(){function g(_){var P=this,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.CheckSessionIFrame,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.Global.timer;if(function f(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}(this,g),!_)throw B.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=_,this._CheckSessionIFrameCtor=O,this._timer=j,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(v){v?P._start(v):P._settings.monitorAnonymousSession&&P._userManager.querySessionStatus().then(function(b){var G={session_state:b.session_state};b.sub&&b.sid&&(G.profile={sub:b.sub,sid:b.sid}),P._start(G)}).catch(function(b){B.Log.error("SessionMonitor ctor: error from querySessionStatus:",b.message)})}).catch(function(v){B.Log.error("SessionMonitor ctor: error from getUser:",v.message)}))}return g.prototype._start=function(P){var O=this,j=P.session_state;j&&(P.profile?(this._sub=P.profile.sub,this._sid=P.profile.sid,B.Log.debug("SessionMonitor._start: session_state:",j,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,B.Log.debug("SessionMonitor._start: session_state:",j,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(j):this._metadataService.getCheckSessionIframe().then(function(v){if(v){B.Log.debug("SessionMonitor._start: Initializing check session iframe");var b=O._client_id,G=O._checkSessionInterval,z=O._stopCheckSessionOnError;O._checkSessionIFrame=new O._CheckSessionIFrameCtor(O._callback.bind(O),b,v,G,z),O._checkSessionIFrame.load().then(function(){O._checkSessionIFrame.start(j)})}else B.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(v){B.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",v.message)}))},g.prototype._stop=function(){var P=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(B.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var O=this._timer.setInterval(function(){P._timer.clearInterval(O),P._userManager.querySessionStatus().then(function(j){var v={session_state:j.session_state};j.sub&&j.sid&&(v.profile={sub:j.sub,sid:j.sid}),P._start(v)}).catch(function(j){B.Log.error("SessionMonitor: error from querySessionStatus:",j.message)})},1e3)},g.prototype._callback=function(){var P=this;this._userManager.querySessionStatus().then(function(O){var j=!0;O?O.sub===P._sub?(j=!1,P._checkSessionIFrame.start(O.session_state),O.sid===P._sid?B.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",O.session_state):(B.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",O.session_state),P._userManager.events._raiseUserSessionChanged())):B.Log.debug("SessionMonitor._callback: Different subject signed into OP:",O.sub):B.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),j&&(P._sub?(B.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),P._userManager.events._raiseUserSignedOut()):(B.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),P._userManager.events._raiseUserSignedIn()))}).catch(function(O){P._sub&&(B.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",O.message),P._userManager.events._raiseUserSignedOut())})},K(g,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),g}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CheckSessionIFrame=void 0;var K=M(0);S.CheckSessionIFrame=function(){function r(y,f,g,_){var P=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];(function B(r,y){if(!(r instanceof y))throw new TypeError("Cannot call a class as a function")})(this,r),this._callback=y,this._client_id=f,this._url=g,this._interval=_||2e3,this._stopOnError=P;var O=g.indexOf("/",g.indexOf("//")+2);this._frame_origin=g.substr(0,O),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=g}return r.prototype.load=function(){var f=this;return new Promise(function(g){f._frame.onload=function(){g()},window.document.body.appendChild(f._frame),f._boundMessageEvent=f._message.bind(f),window.addEventListener("message",f._boundMessageEvent,!1)})},r.prototype._message=function(f){f.origin===this._frame_origin&&f.source===this._frame.contentWindow&&("error"===f.data?(K.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===f.data?(K.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):K.Log.debug("CheckSessionIFrame: "+f.data+" message from check session op iframe"))},r.prototype.start=function(f){var g=this;if(this._session_state!==f){K.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=f;var _=function(){g._frame.contentWindow.postMessage(g._client_id+" "+g._session_state,g._frame_origin)};_(),this._timer=window.setInterval(_,this._interval)}},r.prototype.stop=function(){this._session_state=null,this._timer&&(K.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},r}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.TokenRevocationClient=void 0;var K=M(0),B=M(2),r=M(1);S.TokenRevocationClient=function(){function _(P){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Global.XMLHttpRequest,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.MetadataService;if(function y(_,P){if(!(_ instanceof P))throw new TypeError("Cannot call a class as a function")}(this,_),!P)throw K.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=P,this._XMLHttpRequestCtor=O,this._metadataService=new j(this._settings)}return _.prototype.revoke=function(O,j){var v=this,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!O)throw K.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if("access_token"!==b&&"refresh_token"!=b)throw K.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(G){if(G)return K.Log.debug("TokenRevocationClient.revoke: Revoking "+b),v._revoke(G,v._settings.client_id,v._settings.client_secret,O,b);if(j)throw K.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},_.prototype._revoke=function(O,j,v,b,G){var z=this;return new Promise(function(H,ee){var U=new z._XMLHttpRequestCtor;U.open("POST",O),U.onload=function(){K.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",U.status),200===U.status?H():ee(Error(U.statusText+" ("+U.status+")"))},U.onerror=function(){K.Log.debug("TokenRevocationClient.revoke: Network Error."),ee("Network Error")};var W="client_id="+encodeURIComponent(j);v&&(W+="&client_secret="+encodeURIComponent(v)),W+="&token_type_hint="+encodeURIComponent(G),W+="&token="+encodeURIComponent(b),U.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),U.send(W)})},_}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CordovaPopupWindow=void 0;var K=function(){function r(y,f){for(var g=0;g<f.length;g++){var _=f[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,f,g){return f&&r(y.prototype,f),g&&r(y,g),y}}(),B=M(0);S.CordovaPopupWindow=function(){function r(y){var f=this;(function(_,P){if(!(_ instanceof P))throw new TypeError("Cannot call a class as a function")})(this,r),this._promise=new Promise(function(g,_){f._resolve=g,f._reject=_}),this.features=y.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=y.popupWindowTarget||"_blank",this.redirect_uri=y.startUrl,B.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return r.prototype._isInAppBrowserInstalled=function(f){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(g){return f.hasOwnProperty(g)})},r.prototype.navigate=function(f){if(f&&f.url){if(!window.cordova)return this._error("cordova is undefined");var g=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(g))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(f.url,this.target,this.features),this._popup?(B.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},r.prototype._loadStartCallback=function(f){0===f.url.indexOf(this.redirect_uri)&&this._success({url:f.url})},r.prototype._exitCallback=function(f){this._error(f)},r.prototype._success=function(f){this._cleanup(),B.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(f)},r.prototype._error=function(f){this._cleanup(),B.Log.error(f),this._reject(new Error(f))},r.prototype.close=function(){this._cleanup()},r.prototype._cleanup=function(){this._popup&&(B.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},K(r,[{key:"promise",get:function(){return this._promise}}]),r}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var K=M(0),B=M(10),r=M(5),y=M(6),f=M(37),g=M(38),_=M(16),P=M(2),O=M(48),j=M(49),v=M(19),b=M(20),G=M(18),z=M(1),H=M(15),ee=M(50);S.default={Version:ee.Version,Log:K.Log,OidcClient:B.OidcClient,OidcClientSettings:r.OidcClientSettings,WebStorageStateStore:y.WebStorageStateStore,InMemoryWebStorage:f.InMemoryWebStorage,UserManager:g.UserManager,AccessTokenEvents:_.AccessTokenEvents,MetadataService:P.MetadataService,CordovaPopupNavigator:O.CordovaPopupNavigator,CordovaIFrameNavigator:j.CordovaIFrameNavigator,CheckSessionIFrame:v.CheckSessionIFrame,TokenRevocationClient:b.TokenRevocationClient,SessionMonitor:G.SessionMonitor,Global:z.Global,User:H.User},V.exports=S.default},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ClockService=function(){function K(){!function(r,y){if(!(r instanceof y))throw new TypeError("Cannot call a class as a function")}(this,K)}return K.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},K}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ResponseValidator=void 0;var K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},B=M(0),r=M(2),y=M(25),f=M(11),g=M(12),_=M(4);var O=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];S.ResponseValidator=function(){function j(v){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.MetadataService,G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.UserInfoService,z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_.JoseUtil,H=arguments.length>4&&void 0!==arguments[4]?arguments[4]:f.TokenClient;if(function P(j,v){if(!(j instanceof v))throw new TypeError("Cannot call a class as a function")}(this,j),!v)throw B.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=v,this._metadataService=new b(this._settings),this._userInfoService=new G(this._settings),this._joseUtil=z,this._tokenClient=new H(this._settings)}return j.prototype.validateSigninResponse=function(b,G){var z=this;return B.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(b,G).then(function(H){return B.Log.debug("ResponseValidator.validateSigninResponse: state processed"),z._validateTokens(b,H).then(function(ee){return B.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),z._processClaims(b,ee).then(function(U){return B.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),U})})})},j.prototype.validateSignoutResponse=function(b,G){return b.id!==G.state?(B.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(B.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),G.state=b.data,G.error?(B.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",G.error),Promise.reject(new g.ErrorResponse(G))):Promise.resolve(G))},j.prototype._processSigninParams=function(b,G){if(b.id!==G.state)return B.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!b.client_id)return B.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!b.authority)return B.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==b.authority)return B.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=b.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==b.client_id)return B.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=b.client_id;return B.Log.debug("ResponseValidator._processSigninParams: state validated"),G.state=b.data,G.error?(B.Log.warn("ResponseValidator._processSigninParams: Response was error",G.error),Promise.reject(new g.ErrorResponse(G))):b.nonce&&!G.id_token?(B.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!b.nonce&&G.id_token?(B.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):b.code_verifier&&!G.code?(B.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!b.code_verifier&&G.code?(B.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(G.scope||(G.scope=b.scope),Promise.resolve(G))},j.prototype._processClaims=function(b,G){var z=this;if(G.isOpenIdConnect){if(B.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),G.profile=this._filterProtocolClaims(G.profile),!0!==b.skipUserInfo&&this._settings.loadUserInfo&&G.access_token)return B.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(G.access_token).then(function(H){return B.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),H.sub!==G.profile.sub?(B.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(G.profile=z._mergeClaims(G.profile,H),B.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",G.profile),G)});B.Log.debug("ResponseValidator._processClaims: not loading user info")}else B.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(G)},j.prototype._mergeClaims=function(b,G){var z=Object.assign({},b);for(var H in G){var ee=G[H];Array.isArray(ee)||(ee=[ee]);for(var U=0;U<ee.length;U++){var W=ee[U];z[H]?Array.isArray(z[H])?z[H].indexOf(W)<0&&z[H].push(W):z[H]!==W&&(z[H]="object"===(void 0===W?"undefined":K(W))&&this._settings.mergeClaims?this._mergeClaims(z[H],W):[z[H],W]):z[H]=W}}return z},j.prototype._filterProtocolClaims=function(b){B.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",b);var G=Object.assign({},b);return this._settings._filterProtocolClaims?(O.forEach(function(z){delete G[z]}),B.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",G)):B.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),G},j.prototype._validateTokens=function(b,G){return G.code?(B.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(b,G)):G.id_token?G.access_token?(B.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(b,G)):(B.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(b,G)):(B.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(G))},j.prototype._processCode=function(b,G){var z=this,H={client_id:b.client_id,client_secret:b.client_secret,code:G.code,redirect_uri:b.redirect_uri,code_verifier:b.code_verifier};return b.extraTokenParams&&"object"===K(b.extraTokenParams)&&Object.assign(H,b.extraTokenParams),this._tokenClient.exchangeCode(H).then(function(ee){for(var U in ee)G[U]=ee[U];return G.id_token?(B.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),z._validateIdTokenAttributes(b,G)):(B.Log.debug("ResponseValidator._processCode: token response successful, returning response"),G)})},j.prototype._validateIdTokenAttributes=function(b,G){var z=this;return this._metadataService.getIssuer().then(function(H){var ee=b.client_id,U=z._settings.clockSkew;return B.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",U),z._settings.getEpochTime().then(function(W){return z._joseUtil.validateJwtAttributes(G.id_token,H,ee,U,W).then(function(Y){return b.nonce&&b.nonce!==Y.nonce?(B.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):Y.sub?(G.profile=Y,G):(B.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},j.prototype._validateIdTokenAndAccessToken=function(b,G){var z=this;return this._validateIdToken(b,G).then(function(H){return z._validateAccessToken(H)})},j.prototype._getSigningKeyForJwt=function(b){var G=this;return this._metadataService.getSigningKeys().then(function(z){var H=b.header.kid;if(!z)return B.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));B.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var ee=void 0;if(H)ee=z.filter(function(U){return U.kid===H})[0];else{if((z=G._filterByAlg(z,b.header.alg)).length>1)return B.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));ee=z[0]}return Promise.resolve(ee)})},j.prototype._getSigningKeyForJwtWithSingleRetry=function(b){var G=this;return this._getSigningKeyForJwt(b).then(function(z){return z?Promise.resolve(z):(G._metadataService.resetSigningKeys(),G._getSigningKeyForJwt(b))})},j.prototype._validateIdToken=function(b,G){var z=this;if(!b.nonce)return B.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var H=this._joseUtil.parseJwt(G.id_token);return H&&H.header&&H.payload?b.nonce!==H.payload.nonce?(B.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(ee){return B.Log.debug("ResponseValidator._validateIdToken: Received issuer"),z._getSigningKeyForJwtWithSingleRetry(H).then(function(U){if(!U)return B.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var W=b.client_id,Y=z._settings.clockSkew;return B.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",Y),z._joseUtil.validateJwt(G.id_token,U,ee,W,Y).then(function(){return B.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),H.payload.sub?(G.profile=H.payload,G):(B.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(B.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",H),Promise.reject(new Error("Failed to parse id_token")))},j.prototype._filterByAlg=function(b,G){var z=null;if(G.startsWith("RS"))z="RSA";else if(G.startsWith("PS"))z="PS";else{if(!G.startsWith("ES"))return B.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",G),[];z="EC"}return B.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",z),b=b.filter(function(H){return H.kty===z}),B.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",z,b.length),b},j.prototype._validateAccessToken=function(b){if(!b.profile)return B.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!b.profile.at_hash)return B.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!b.id_token)return B.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var G=this._joseUtil.parseJwt(b.id_token);if(!G||!G.header)return B.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",G),Promise.reject(new Error("Failed to parse id_token"));var z=G.header.alg;if(!z||5!==z.length)return B.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",z),Promise.reject(new Error("Unsupported alg: "+z));var H=z.substr(2,3);if(!H)return B.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",z,H),Promise.reject(new Error("Unsupported alg: "+z));if(256!==(H=parseInt(H))&&384!==H&&512!==H)return B.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",z,H),Promise.reject(new Error("Unsupported alg: "+z));var ee="sha"+H,U=this._joseUtil.hashString(b.access_token,ee);if(!U)return B.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",ee),Promise.reject(new Error("Failed to validate at_hash"));var W=U.substr(0,U.length/2),Y=this._joseUtil.hexToBase64Url(W);return Y!==b.profile.at_hash?(B.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",Y,b.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(B.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(b))},j}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UserInfoService=void 0;var K=M(7),B=M(2),r=M(0),y=M(4);S.UserInfoService=function(){function g(_){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K.JsonService,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.MetadataService,j=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y.JoseUtil;if(function f(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}(this,g),!_)throw r.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=_,this._jsonService=new P(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new O(this._settings),this._joseUtil=j}return g.prototype.getClaims=function(P){var O=this;return P?this._metadataService.getUserInfoEndpoint().then(function(j){return r.Log.debug("UserInfoService.getClaims: received userinfo url",j),O._jsonService.getJson(j,P).then(function(v){return r.Log.debug("UserInfoService.getClaims: claims received",v),v})}):(r.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},g.prototype._getClaimsFromJwt=function(P){var O=this;try{var j=this._joseUtil.parseJwt(P.responseText);if(!j||!j.header||!j.payload)return r.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",j),Promise.reject(new Error("Failed to parse id_token"));var v=j.header.kid,b=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":b=this._metadataService.getIssuer();break;case"ANY":b=Promise.resolve(j.payload.iss);break;default:b=Promise.resolve(this._settings.userInfoJwtIssuer)}return b.then(function(G){return r.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+G),O._metadataService.getSigningKeys().then(function(z){if(!z)return r.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));r.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var H=void 0;if(v)H=z.filter(function(W){return W.kid===v})[0];else{if((z=O._filterByAlg(z,j.header.alg)).length>1)return r.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));H=z[0]}if(!H)return r.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var ee=O._settings.client_id,U=O._settings.clockSkew;return r.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",U),O._joseUtil.validateJwt(P.responseText,H,G,ee,U,void 0,!0).then(function(){return r.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),j.payload})})})}catch(G){return r.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",G.message),void reject(G)}},g.prototype._filterByAlg=function(P,O){var j=null;if(O.startsWith("RS"))j="RSA";else if(O.startsWith("PS"))j="PS";else{if(!O.startsWith("ES"))return r.Log.debug("UserInfoService._filterByAlg: alg not supported: ",O),[];j="EC"}return r.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",j),P=P.filter(function(v){return v.kty===j}),r.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",j,P.length),P},g}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.AllowedSigningAlgs=S.b64tohex=S.hextob64u=S.crypto=S.X509=S.KeyUtil=S.jws=void 0;var K=M(27);S.jws=K.jws,S.KeyUtil=K.KEYUTIL,S.X509=K.X509,S.crypto=K.crypto,S.hextob64u=K.hextob64u,S.b64tohex=K.b64tohex,S.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(V,S,M){"use strict";(function(K){Object.defineProperty(S,"__esModule",{value:!0});var B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},r={userAgent:!1},y={};if(void 0===f)var f={};f.lang={extend:function(A,Z,X){if(!Z||!A)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var ie=function(){};if(ie.prototype=Z.prototype,A.prototype=new ie,A.prototype.constructor=A,A.superclass=Z.prototype,Z.prototype.constructor==Object.prototype.constructor&&(Z.prototype.constructor=Z),X){var me;for(me in X)A.prototype[me]=X[me];var Pe=function(){},Ve=["toString","valueOf"];try{/MSIE/.test(r.userAgent)&&(Pe=function(Be,$e){for(me=0;me<Ve.length;me+=1){var Ge=Ve[me],We=$e[Ge];"function"==typeof We&&We!=Object.prototype[Ge]&&(Be[Ge]=We)}})}catch{}Pe(A.prototype,X)}}};var g,_,P,O,j,v,b,G,z,H,ee,A,Z,X,ie,U=U||(g=Math,P=(_={}).lib={},O=P.Base=function(){function k(){}return{extend:function(Z){k.prototype=this;var X=new k;return Z&&X.mixIn(Z),X.hasOwnProperty("init")||(X.init=function(){X.$super.init.apply(this,arguments)}),X.init.prototype=X,X.$super=this,X},create:function(){var Z=this.extend();return Z.init.apply(Z,arguments),Z},init:function(){},mixIn:function(Z){for(var X in Z)Z.hasOwnProperty(X)&&(this[X]=Z[X]);Z.hasOwnProperty("toString")&&(this.toString=Z.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),j=P.WordArray=O.extend({init:function(A,Z){A=this.words=A||[],this.sigBytes=Z??4*A.length},toString:function(A){return(A||b).stringify(this)},concat:function(A){var Z=this.words,X=A.words,ie=this.sigBytes,me=A.sigBytes;if(this.clamp(),ie%4)for(var Pe=0;Pe<me;Pe++)Z[ie+Pe>>>2]|=(X[Pe>>>2]>>>24-Pe%4*8&255)<<24-(ie+Pe)%4*8;else for(Pe=0;Pe<me;Pe+=4)Z[ie+Pe>>>2]=X[Pe>>>2];return this.sigBytes+=me,this},clamp:function(){var A=this.words,Z=this.sigBytes;A[Z>>>2]&=4294967295<<32-Z%4*8,A.length=g.ceil(Z/4)},clone:function(){var A=O.clone.call(this);return A.words=this.words.slice(0),A},random:function(A){for(var Z=[],X=0;X<A;X+=4)Z.push(4294967296*g.random()|0);return new j.init(Z,A)}}),v=_.enc={},b=v.Hex={stringify:function(A){for(var Z=A.words,X=A.sigBytes,ie=[],me=0;me<X;me++){var Pe=Z[me>>>2]>>>24-me%4*8&255;ie.push((Pe>>>4).toString(16)),ie.push((15&Pe).toString(16))}return ie.join("")},parse:function(A){for(var Z=A.length,X=[],ie=0;ie<Z;ie+=2)X[ie>>>3]|=parseInt(A.substr(ie,2),16)<<24-ie%8*4;return new j.init(X,Z/2)}},G=v.Latin1={stringify:function(A){for(var Z=A.words,X=A.sigBytes,ie=[],me=0;me<X;me++)ie.push(String.fromCharCode(Z[me>>>2]>>>24-me%4*8&255));return ie.join("")},parse:function(A){for(var Z=A.length,X=[],ie=0;ie<Z;ie++)X[ie>>>2]|=(255&A.charCodeAt(ie))<<24-ie%4*8;return new j.init(X,Z)}},z=v.Utf8={stringify:function(A){try{return decodeURIComponent(escape(G.stringify(A)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(A){return G.parse(unescape(encodeURIComponent(A)))}},H=P.BufferedBlockAlgorithm=O.extend({reset:function(){this._data=new j.init,this._nDataBytes=0},_append:function(A){"string"==typeof A&&(A=z.parse(A)),this._data.concat(A),this._nDataBytes+=A.sigBytes},_process:function(A){var Z=this._data,X=Z.words,ie=Z.sigBytes,me=this.blockSize,Pe=ie/(4*me),Ve=(Pe=A?g.ceil(Pe):g.max((0|Pe)-this._minBufferSize,0))*me,Me=g.min(4*Ve,ie);if(Ve){for(var Be=0;Be<Ve;Be+=me)this._doProcessBlock(X,Be);var $e=X.splice(0,Ve);Z.sigBytes-=Me}return new j.init($e,Me)},clone:function(){var A=O.clone.call(this);return A._data=this._data.clone(),A},_minBufferSize:0}),P.Hasher=H.extend({cfg:O.extend(),init:function(A){this.cfg=this.cfg.extend(A),this.reset()},reset:function(){H.reset.call(this),this._doReset()},update:function(A){return this._append(A),this._process(),this},finalize:function(A){return A&&this._append(A),this._doFinalize()},blockSize:16,_createHelper:function(A){return function(Z,X){return new A.init(X).finalize(Z)}},_createHmacHelper:function(A){return function(Z,X){return new ee.HMAC.init(A,X).finalize(Z)}}}),ee=_.algo={},_);Z=(A=U).lib,X=Z.Base,ie=Z.WordArray,(A=A.x64={}).Word=X.extend({init:function(Pe,Ve){this.high=Pe,this.low=Ve}}),A.WordArray=X.extend({init:function(Pe,Ve){Pe=this.words=Pe||[],this.sigBytes=Ve??8*Pe.length},toX32:function(){for(var Pe=this.words,Ve=Pe.length,Me=[],Be=0;Be<Ve;Be++){var $e=Pe[Be];Me.push($e.high),Me.push($e.low)}return ie.create(Me,this.sigBytes)},clone:function(){for(var Pe=X.clone.call(this),Ve=Pe.words=this.words.slice(0),Me=Ve.length,Be=0;Be<Me;Be++)Ve[Be]=Ve[Be].clone();return Pe}}),function(){var A=U.lib.WordArray;U.enc.Base64={stringify:function(X){var ie=X.words,me=X.sigBytes,Pe=this._map;X.clamp(),X=[];for(var Ve=0;Ve<me;Ve+=3)for(var Me=(ie[Ve>>>2]>>>24-Ve%4*8&255)<<16|(ie[Ve+1>>>2]>>>24-(Ve+1)%4*8&255)<<8|ie[Ve+2>>>2]>>>24-(Ve+2)%4*8&255,Be=0;4>Be&&Ve+.75*Be<me;Be++)X.push(Pe.charAt(Me>>>6*(3-Be)&63));if(ie=Pe.charAt(64))for(;X.length%4;)X.push(ie);return X.join("")},parse:function(X){var ie=X.length,me=this._map;(Pe=me.charAt(64))&&-1!=(Pe=X.indexOf(Pe))&&(ie=Pe);for(var Pe=[],Ve=0,Me=0;Me<ie;Me++)if(Me%4){var Be=me.indexOf(X.charAt(Me-1))<<Me%4*2,$e=me.indexOf(X.charAt(Me))>>>6-Me%4*2;Pe[Ve>>>2]|=(Be|$e)<<24-Ve%4*8,Ve++}return A.create(Pe,Ve)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(k){for(var A=U,Z=(ie=A.lib).WordArray,X=ie.Hasher,ie=A.algo,me=[],Pe=[],Ve=function(gt){return 4294967296*(gt-(0|gt))|0},Me=2,Be=0;64>Be;){var $e;e:{for(var Ge=k.sqrt($e=Me),We=2;We<=Ge;We++)if(!($e%We)){$e=!1;break e}$e=!0}$e&&(8>Be&&(me[Be]=Ve(k.pow(Me,.5))),Pe[Be]=Ve(k.pow(Me,1/3)),Be++),Me++}var nt=[];ie=ie.SHA256=X.extend({_doReset:function(){this._hash=new Z.init(me.slice(0))},_doProcessBlock:function(gt,Et){for(var Ee=this._hash.words,ze=Ee[0],Ke=Ee[1],Xe=Ee[2],yt=Ee[3],At=Ee[4],Wt=Ee[5],jt=Ee[6],Bn=Ee[7],en=0;64>en;en++){if(16>en)nt[en]=0|gt[Et+en];else{var gn=nt[en-15],or=nt[en-2];nt[en]=((gn<<25|gn>>>7)^(gn<<14|gn>>>18)^gn>>>3)+nt[en-7]+((or<<15|or>>>17)^(or<<13|or>>>19)^or>>>10)+nt[en-16]}gn=Bn+((At<<26|At>>>6)^(At<<21|At>>>11)^(At<<7|At>>>25))+(At&Wt^~At&jt)+Pe[en]+nt[en],or=((ze<<30|ze>>>2)^(ze<<19|ze>>>13)^(ze<<10|ze>>>22))+(ze&Ke^ze&Xe^Ke&Xe),Bn=jt,jt=Wt,Wt=At,At=yt+gn|0,yt=Xe,Xe=Ke,Ke=ze,ze=gn+or|0}Ee[0]=Ee[0]+ze|0,Ee[1]=Ee[1]+Ke|0,Ee[2]=Ee[2]+Xe|0,Ee[3]=Ee[3]+yt|0,Ee[4]=Ee[4]+At|0,Ee[5]=Ee[5]+Wt|0,Ee[6]=Ee[6]+jt|0,Ee[7]=Ee[7]+Bn|0},_doFinalize:function(){var gt=this._data,Et=gt.words,Ee=8*this._nDataBytes,ze=8*gt.sigBytes;return Et[ze>>>5]|=128<<24-ze%32,Et[14+(ze+64>>>9<<4)]=k.floor(Ee/4294967296),Et[15+(ze+64>>>9<<4)]=Ee,gt.sigBytes=4*Et.length,this._process(),this._hash},clone:function(){var gt=X.clone.call(this);return gt._hash=this._hash.clone(),gt}}),A.SHA256=X._createHelper(ie),A.HmacSHA256=X._createHmacHelper(ie)}(Math),function(){function k(){return X.create.apply(X,arguments)}for(var A=U,Z=A.lib.Hasher,X=(me=A.x64).Word,ie=me.WordArray,me=A.algo,Pe=[k(1116352408,3609767458),k(1899447441,602891725),k(3049323471,3964484399),k(3921009573,2173295548),k(961987163,4081628472),k(1508970993,3053834265),k(2453635748,2937671579),k(2870763221,3664609560),k(3624381080,2734883394),k(310598401,1164996542),k(607225278,1323610764),k(1426881987,3590304994),k(1925078388,4068182383),k(2162078206,991336113),k(2614888103,633803317),k(3248222580,3479774868),k(3835390401,2666613458),k(4022224774,944711139),k(264347078,2341262773),k(604807628,2007800933),k(770255983,1495990901),k(1249150122,1856431235),k(1555081692,3175218132),k(1996064986,2198950837),k(2554220882,3999719339),k(2821834349,766784016),k(2952996808,2566594879),k(3210313671,3203337956),k(3336571891,1034457026),k(3584528711,2466948901),k(113926993,3758326383),k(338241895,168717936),k(666307205,1188179964),k(773529912,1546045734),k(1294757372,1522805485),k(1396182291,2643833823),k(1695183700,2343527390),k(1986661051,1014477480),k(2177026350,1206759142),k(2456956037,344077627),k(2730485921,1290863460),k(2820302411,3158454273),k(3259730800,3505952657),k(3345764771,106217008),k(3516065817,3606008344),k(3600352804,1432725776),k(4094571909,1467031594),k(275423344,851169720),k(430227734,3100823752),k(506948616,1363258195),k(659060556,3750685593),k(883997877,3785050280),k(958139571,3318307427),k(1322822218,3812723403),k(1537002063,2003034995),k(1747873779,3602036899),k(1955562222,1575990012),k(2024104815,1125592928),k(2227730452,2716904306),k(2361852424,442776044),k(2428436474,593698344),k(2756734187,3733110249),k(3204031479,2999351573),k(3329325298,3815920427),k(3391569614,3928383900),k(3515267271,566280711),k(3940187606,3454069534),k(4118630271,4000239992),k(116418474,1914138554),k(174292421,2731055270),k(289380356,3203993006),k(460393269,320620315),k(685471733,587496836),k(852142971,1086792851),k(1017036298,365543100),k(1126000580,2618297676),k(1288033470,3409855158),k(1501505948,4234509866),k(1607167915,987167468),k(1816402316,1246189591)],Ve=[],Me=0;80>Me;Me++)Ve[Me]=k();me=me.SHA512=Z.extend({_doReset:function(){this._hash=new ie.init([new X.init(1779033703,4089235720),new X.init(3144134277,2227873595),new X.init(1013904242,4271175723),new X.init(2773480762,1595750129),new X.init(1359893119,2917565137),new X.init(2600822924,725511199),new X.init(528734635,4215389547),new X.init(1541459225,327033209)])},_doProcessBlock:function($e,Ge){for(var We=(Ke=this._hash.words)[0],nt=Ke[1],d=Ke[2],gt=Ke[3],Et=Ke[4],Ee=Ke[5],ze=Ke[6],Ke=Ke[7],Xe=We.high,yt=We.low,At=nt.high,Wt=nt.low,jt=d.high,Bn=d.low,en=gt.high,gn=gt.low,or=Et.high,hr=Et.low,gr=Ee.high,ii=Ee.low,Yr=ze.high,jr=ze.low,Ze=Ke.high,lt=Ke.low,ct=Xe,wt=yt,Ft=At,Rt=Wt,Jt=jt,vn=Bn,Sn=en,Yn=gn,In=or,cr=hr,ai=gr,Mr=ii,Jr=Yr,Ci=jr,$r=Ze,tr=lt,Zr=0;80>Zr;Zr++){var Ea=Ve[Zr];if(16>Zr)var La=Ea.high=0|$e[Ge+2*Zr],Cr=Ea.low=0|$e[Ge+2*Zr+1];else{La=((Cr=(La=Ve[Zr-15]).high)>>>1|(pa=La.low)<<31)^(Cr>>>8|pa<<24)^Cr>>>7;var pa=(pa>>>1|Cr<<31)^(pa>>>8|Cr<<24)^(pa>>>7|Cr<<25),ja=((Cr=(ja=Ve[Zr-2]).high)>>>19|(ei=ja.low)<<13)^(Cr<<3|ei>>>29)^Cr>>>6,ei=(ei>>>19|Cr<<13)^(ei<<3|Cr>>>29)^(ei>>>6|Cr<<26),Us=(Cr=Ve[Zr-7]).high,eo=(go=Ve[Zr-16]).high,go=go.low;La=(La=(La=La+Us+((Cr=pa+Cr.low)>>>0<pa>>>0?1:0))+ja+((Cr+=ei)>>>0<ei>>>0?1:0))+eo+((Cr+=go)>>>0<go>>>0?1:0),Ea.high=La,Ea.low=Cr}Us=In&ai^~In&Jr,go=cr&Mr^~cr&Ci,Ea=ct&Ft^ct&Jt^Ft&Jt;var Tu=wt&Rt^wt&vn^Rt&vn,Iu=(pa=(ct>>>28|wt<<4)^(ct<<30|wt>>>2)^(ct<<25|wt>>>7),ja=(wt>>>28|ct<<4)^(wt<<30|ct>>>2)^(wt<<25|ct>>>7),(ei=Pe[Zr]).high),Ou=ei.low;eo=$r+((In>>>14|cr<<18)^(In>>>18|cr<<14)^(In<<23|cr>>>9))+((ei=tr+((cr>>>14|In<<18)^(cr>>>18|In<<14)^(cr<<23|In>>>9)))>>>0<tr>>>0?1:0),$r=Jr,tr=Ci,Jr=ai,Ci=Mr,ai=In,Mr=cr,In=Sn+(eo=(eo=(eo=eo+Us+((ei+=go)>>>0<go>>>0?1:0))+Iu+((ei+=Ou)>>>0<Ou>>>0?1:0))+La+((ei+=Cr)>>>0<Cr>>>0?1:0))+((cr=Yn+ei|0)>>>0<Yn>>>0?1:0)|0,Sn=Jt,Yn=vn,Jt=Ft,vn=Rt,Ft=ct,Rt=wt,ct=eo+(Ea=pa+Ea+((Cr=ja+Tu)>>>0<ja>>>0?1:0))+((wt=ei+Cr|0)>>>0<ei>>>0?1:0)|0}yt=We.low=yt+wt,We.high=Xe+ct+(yt>>>0<wt>>>0?1:0),Wt=nt.low=Wt+Rt,nt.high=At+Ft+(Wt>>>0<Rt>>>0?1:0),Bn=d.low=Bn+vn,d.high=jt+Jt+(Bn>>>0<vn>>>0?1:0),gn=gt.low=gn+Yn,gt.high=en+Sn+(gn>>>0<Yn>>>0?1:0),hr=Et.low=hr+cr,Et.high=or+In+(hr>>>0<cr>>>0?1:0),ii=Ee.low=ii+Mr,Ee.high=gr+ai+(ii>>>0<Mr>>>0?1:0),jr=ze.low=jr+Ci,ze.high=Yr+Jr+(jr>>>0<Ci>>>0?1:0),lt=Ke.low=lt+tr,Ke.high=Ze+$r+(lt>>>0<tr>>>0?1:0)},_doFinalize:function(){var $e=this._data,Ge=$e.words,We=8*this._nDataBytes,nt=8*$e.sigBytes;return Ge[nt>>>5]|=128<<24-nt%32,Ge[30+(nt+128>>>10<<5)]=Math.floor(We/4294967296),Ge[31+(nt+128>>>10<<5)]=We,$e.sigBytes=4*Ge.length,this._process(),this._hash.toX32()},clone:function(){var $e=Z.clone.call(this);return $e._hash=this._hash.clone(),$e},blockSize:32}),A.SHA512=Z._createHelper(me),A.HmacSHA512=Z._createHmacHelper(me)}(),function(){var k=U,A=(ie=k.x64).Word,Z=ie.WordArray,X=(ie=k.algo).SHA512,ie=ie.SHA384=X.extend({_doReset:function(){this._hash=new Z.init([new A.init(3418070365,3238371032),new A.init(1654270250,914150663),new A.init(2438529370,812702999),new A.init(355462360,4144912697),new A.init(1731405415,4290775857),new A.init(2394180231,1750603025),new A.init(3675008525,1694076839),new A.init(1203062813,3204075428)])},_doFinalize:function(){var Pe=X._doFinalize.call(this);return Pe.sigBytes-=16,Pe}});k.SHA384=X._createHelper(ie),k.HmacSHA384=X._createHmacHelper(ie)}();var W,Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function ae(k){var A,Z,X="";for(A=0;A+3<=k.length;A+=3)Z=parseInt(k.substring(A,A+3),16),X+=Y.charAt(Z>>6)+Y.charAt(63&Z);for(A+1==k.length?(Z=parseInt(k.substring(A,A+1),16),X+=Y.charAt(Z<<2)):A+2==k.length&&(Z=parseInt(k.substring(A,A+2),16),X+=Y.charAt(Z>>2)+Y.charAt((3&Z)<<4));(3&X.length)>0;)X+="=";return X}function ve(k){var A,Z,X,ie="",me=0;for(A=0;A<k.length&&"="!=k.charAt(A);++A)(X=Y.indexOf(k.charAt(A)))<0||(0==me?(ie+=L(X>>2),Z=3&X,me=1):1==me?(ie+=L(Z<<2|X>>4),Z=15&X,me=2):2==me?(ie+=L(Z),ie+=L(X>>2),Z=3&X,me=3):(ie+=L(Z<<2|X>>4),ie+=L(15&X),me=0));return 1==me&&(ie+=L(Z<<2)),ie}function _e(k){var A,Z=ve(k),X=new Array;for(A=0;2*A<Z.length;++A)X[A]=parseInt(Z.substring(2*A,2*A+2),16);return X}function he(k,A,Z){null!=k&&("number"==typeof k?this.fromNumber(k,A,Z):this.fromString(k,null==A&&"string"!=typeof k?256:A))}function x(){return new he(null)}"Microsoft Internet Explorer"==r.appName?(he.prototype.am=function(A,Z,X,ie,me,Pe){for(var Ve=32767&Z,Me=Z>>15;--Pe>=0;){var Be=32767&this[A],$e=this[A++]>>15,Ge=Me*Be+$e*Ve;me=((Be=Ve*Be+((32767&Ge)<<15)+X[ie]+(1073741823&me))>>>30)+(Ge>>>15)+Me*$e+(me>>>30),X[ie++]=1073741823&Be}return me},W=30):"Netscape"!=r.appName?(he.prototype.am=function(A,Z,X,ie,me,Pe){for(;--Pe>=0;){var Ve=Z*this[A++]+X[ie]+me;me=Math.floor(Ve/67108864),X[ie++]=67108863&Ve}return me},W=26):(he.prototype.am=function(A,Z,X,ie,me,Pe){for(var Ve=16383&Z,Me=Z>>14;--Pe>=0;){var Be=16383&this[A],$e=this[A++]>>14,Ge=Me*Be+$e*Ve;me=((Be=Ve*Be+((16383&Ge)<<14)+X[ie]+me)>>28)+(Ge>>14)+Me*$e,X[ie++]=268435455&Be}return me},W=28),he.prototype.DB=W,he.prototype.DM=(1<<W)-1,he.prototype.DV=1<<W,he.prototype.FV=Math.pow(2,52),he.prototype.F1=52-W,he.prototype.F2=2*W-52;var R,E,I=new Array;for(R="0".charCodeAt(0),E=0;E<=9;++E)I[R++]=E;for(R="a".charCodeAt(0),E=10;E<36;++E)I[R++]=E;for(R="A".charCodeAt(0),E=10;E<36;++E)I[R++]=E;function L(k){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(k)}function D(k,A){return I[k.charCodeAt(A)]??-1}function Q(k){var A=x();return A.fromInt(k),A}function te(k){var A,Z=1;return 0!=(A=k>>>16)&&(k=A,Z+=16),0!=(A=k>>8)&&(k=A,Z+=8),0!=(A=k>>4)&&(k=A,Z+=4),0!=(A=k>>2)&&(k=A,Z+=2),0!=(A=k>>1)&&(k=A,Z+=1),Z}function Re(k){this.m=k}function ne(k){this.m=k,this.mp=k.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<k.DB-15)-1,this.mt2=2*k.t}function Fe(k,A){return k&A}function rt(k,A){return k|A}function Te(k,A){return k^A}function tt(k,A){return k&~A}function Qe(k){if(0==k)return-1;var A=0;return!(65535&k)&&(k>>=16,A+=16),!(255&k)&&(k>>=8,A+=8),!(15&k)&&(k>>=4,A+=4),!(3&k)&&(k>>=2,A+=2),!(1&k)&&++A,A}function vt(k){for(var A=0;0!=k;)k&=k-1,++A;return A}function et(){}function je(k){return k}function it(k){this.r2=x(),this.q3=x(),he.ONE.dlShiftTo(2*k.t,this.r2),this.mu=this.r2.divide(k),this.m=k}Re.prototype.convert=function(A){return A.s<0||A.compareTo(this.m)>=0?A.mod(this.m):A},Re.prototype.revert=function(A){return A},Re.prototype.reduce=function(A){A.divRemTo(this.m,null,A)},Re.prototype.mulTo=function(A,Z,X){A.multiplyTo(Z,X),this.reduce(X)},Re.prototype.sqrTo=function(A,Z){A.squareTo(Z),this.reduce(Z)},ne.prototype.convert=function(A){var Z=x();return A.abs().dlShiftTo(this.m.t,Z),Z.divRemTo(this.m,null,Z),A.s<0&&Z.compareTo(he.ZERO)>0&&this.m.subTo(Z,Z),Z},ne.prototype.revert=function(A){var Z=x();return A.copyTo(Z),this.reduce(Z),Z},ne.prototype.reduce=function(A){for(;A.t<=this.mt2;)A[A.t++]=0;for(var Z=0;Z<this.m.t;++Z){var X=32767&A[Z],ie=X*this.mpl+((X*this.mph+(A[Z]>>15)*this.mpl&this.um)<<15)&A.DM;for(A[X=Z+this.m.t]+=this.m.am(0,ie,A,Z,0,this.m.t);A[X]>=A.DV;)A[X]-=A.DV,A[++X]++}A.clamp(),A.drShiftTo(this.m.t,A),A.compareTo(this.m)>=0&&A.subTo(this.m,A)},ne.prototype.mulTo=function(A,Z,X){A.multiplyTo(Z,X),this.reduce(X)},ne.prototype.sqrTo=function(A,Z){A.squareTo(Z),this.reduce(Z)},he.prototype.copyTo=function(A){for(var Z=this.t-1;Z>=0;--Z)A[Z]=this[Z];A.t=this.t,A.s=this.s},he.prototype.fromInt=function(A){this.t=1,this.s=A<0?-1:0,A>0?this[0]=A:A<-1?this[0]=A+this.DV:this.t=0},he.prototype.fromString=function(A,Z){var X;if(16==Z)X=4;else if(8==Z)X=3;else if(256==Z)X=8;else if(2==Z)X=1;else if(32==Z)X=5;else{if(4!=Z)return void this.fromRadix(A,Z);X=2}this.t=0,this.s=0;for(var ie=A.length,me=!1,Pe=0;--ie>=0;){var Ve=8==X?255&A[ie]:D(A,ie);Ve<0?"-"==A.charAt(ie)&&(me=!0):(me=!1,0==Pe?this[this.t++]=Ve:Pe+X>this.DB?(this[this.t-1]|=(Ve&(1<<this.DB-Pe)-1)<<Pe,this[this.t++]=Ve>>this.DB-Pe):this[this.t-1]|=Ve<<Pe,(Pe+=X)>=this.DB&&(Pe-=this.DB))}8==X&&128&A[0]&&(this.s=-1,Pe>0&&(this[this.t-1]|=(1<<this.DB-Pe)-1<<Pe)),this.clamp(),me&&he.ZERO.subTo(this,this)},he.prototype.clamp=function(){for(var A=this.s&this.DM;this.t>0&&this[this.t-1]==A;)--this.t},he.prototype.dlShiftTo=function(A,Z){var X;for(X=this.t-1;X>=0;--X)Z[X+A]=this[X];for(X=A-1;X>=0;--X)Z[X]=0;Z.t=this.t+A,Z.s=this.s},he.prototype.drShiftTo=function(A,Z){for(var X=A;X<this.t;++X)Z[X-A]=this[X];Z.t=Math.max(this.t-A,0),Z.s=this.s},he.prototype.lShiftTo=function(A,Z){var X,ie=A%this.DB,me=this.DB-ie,Pe=(1<<me)-1,Ve=Math.floor(A/this.DB),Me=this.s<<ie&this.DM;for(X=this.t-1;X>=0;--X)Z[X+Ve+1]=this[X]>>me|Me,Me=(this[X]&Pe)<<ie;for(X=Ve-1;X>=0;--X)Z[X]=0;Z[Ve]=Me,Z.t=this.t+Ve+1,Z.s=this.s,Z.clamp()},he.prototype.rShiftTo=function(A,Z){Z.s=this.s;var X=Math.floor(A/this.DB);if(X>=this.t)Z.t=0;else{var ie=A%this.DB,me=this.DB-ie,Pe=(1<<ie)-1;Z[0]=this[X]>>ie;for(var Ve=X+1;Ve<this.t;++Ve)Z[Ve-X-1]|=(this[Ve]&Pe)<<me,Z[Ve-X]=this[Ve]>>ie;ie>0&&(Z[this.t-X-1]|=(this.s&Pe)<<me),Z.t=this.t-X,Z.clamp()}},he.prototype.subTo=function(A,Z){for(var X=0,ie=0,me=Math.min(A.t,this.t);X<me;)ie+=this[X]-A[X],Z[X++]=ie&this.DM,ie>>=this.DB;if(A.t<this.t){for(ie-=A.s;X<this.t;)ie+=this[X],Z[X++]=ie&this.DM,ie>>=this.DB;ie+=this.s}else{for(ie+=this.s;X<A.t;)ie-=A[X],Z[X++]=ie&this.DM,ie>>=this.DB;ie-=A.s}Z.s=ie<0?-1:0,ie<-1?Z[X++]=this.DV+ie:ie>0&&(Z[X++]=ie),Z.t=X,Z.clamp()},he.prototype.multiplyTo=function(A,Z){var X=this.abs(),ie=A.abs(),me=X.t;for(Z.t=me+ie.t;--me>=0;)Z[me]=0;for(me=0;me<ie.t;++me)Z[me+X.t]=X.am(0,ie[me],Z,me,0,X.t);Z.s=0,Z.clamp(),this.s!=A.s&&he.ZERO.subTo(Z,Z)},he.prototype.squareTo=function(A){for(var Z=this.abs(),X=A.t=2*Z.t;--X>=0;)A[X]=0;for(X=0;X<Z.t-1;++X){var ie=Z.am(X,Z[X],A,2*X,0,1);(A[X+Z.t]+=Z.am(X+1,2*Z[X],A,2*X+1,ie,Z.t-X-1))>=Z.DV&&(A[X+Z.t]-=Z.DV,A[X+Z.t+1]=1)}A.t>0&&(A[A.t-1]+=Z.am(X,Z[X],A,2*X,0,1)),A.s=0,A.clamp()},he.prototype.divRemTo=function(A,Z,X){var ie=A.abs();if(!(ie.t<=0)){var me=this.abs();if(me.t<ie.t)return Z?.fromInt(0),void(null!=X&&this.copyTo(X));null==X&&(X=x());var Pe=x(),Ve=this.s,Me=A.s,Be=this.DB-te(ie[ie.t-1]);Be>0?(ie.lShiftTo(Be,Pe),me.lShiftTo(Be,X)):(ie.copyTo(Pe),me.copyTo(X));var $e=Pe.t,Ge=Pe[$e-1];if(0!=Ge){var We=Ge*(1<<this.F1)+($e>1?Pe[$e-2]>>this.F2:0),nt=this.FV/We,d=(1<<this.F1)/We,gt=1<<this.F2,Et=X.t,Ee=Et-$e,ze=Z??x();for(Pe.dlShiftTo(Ee,ze),X.compareTo(ze)>=0&&(X[X.t++]=1,X.subTo(ze,X)),he.ONE.dlShiftTo($e,ze),ze.subTo(Pe,Pe);Pe.t<$e;)Pe[Pe.t++]=0;for(;--Ee>=0;){var Ke=X[--Et]==Ge?this.DM:Math.floor(X[Et]*nt+(X[Et-1]+gt)*d);if((X[Et]+=Pe.am(0,Ke,X,Ee,0,$e))<Ke)for(Pe.dlShiftTo(Ee,ze),X.subTo(ze,X);X[Et]<--Ke;)X.subTo(ze,X)}null!=Z&&(X.drShiftTo($e,Z),Ve!=Me&&he.ZERO.subTo(Z,Z)),X.t=$e,X.clamp(),Be>0&&X.rShiftTo(Be,X),Ve<0&&he.ZERO.subTo(X,X)}}},he.prototype.invDigit=function(){if(this.t<1)return 0;var A=this[0];if(!(1&A))return 0;var Z=3&A;return(Z=(Z=(Z=(Z=Z*(2-(15&A)*Z)&15)*(2-(255&A)*Z)&255)*(2-((65535&A)*Z&65535))&65535)*(2-A*Z%this.DV)%this.DV)>0?this.DV-Z:-Z},he.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},he.prototype.exp=function(A,Z){if(A>4294967295||A<1)return he.ONE;var X=x(),ie=x(),me=Z.convert(this),Pe=te(A)-1;for(me.copyTo(X);--Pe>=0;)if(Z.sqrTo(X,ie),(A&1<<Pe)>0)Z.mulTo(ie,me,X);else{var Ve=X;X=ie,ie=Ve}return Z.revert(X)},he.prototype.toString=function(A){if(this.s<0)return"-"+this.negate().toString(A);var Z;if(16==A)Z=4;else if(8==A)Z=3;else if(2==A)Z=1;else if(32==A)Z=5;else{if(4!=A)return this.toRadix(A);Z=2}var X,ie=(1<<Z)-1,me=!1,Pe="",Ve=this.t,Me=this.DB-Ve*this.DB%Z;if(Ve-- >0)for(Me<this.DB&&(X=this[Ve]>>Me)>0&&(me=!0,Pe=L(X));Ve>=0;)Me<Z?(X=(this[Ve]&(1<<Me)-1)<<Z-Me,X|=this[--Ve]>>(Me+=this.DB-Z)):(X=this[Ve]>>(Me-=Z)&ie,Me<=0&&(Me+=this.DB,--Ve)),X>0&&(me=!0),me&&(Pe+=L(X));return me?Pe:"0"},he.prototype.negate=function(){var A=x();return he.ZERO.subTo(this,A),A},he.prototype.abs=function(){return this.s<0?this.negate():this},he.prototype.compareTo=function(A){var Z=this.s-A.s;if(0!=Z)return Z;var X=this.t;if(0!=(Z=X-A.t))return this.s<0?-Z:Z;for(;--X>=0;)if(0!=(Z=this[X]-A[X]))return Z;return 0},he.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+te(this[this.t-1]^this.s&this.DM)},he.prototype.mod=function(A){var Z=x();return this.abs().divRemTo(A,null,Z),this.s<0&&Z.compareTo(he.ZERO)>0&&A.subTo(Z,Z),Z},he.prototype.modPowInt=function(A,Z){var X;return X=A<256||Z.isEven()?new Re(Z):new ne(Z),this.exp(A,X)},he.ZERO=Q(0),he.ONE=Q(1),et.prototype.convert=je,et.prototype.revert=je,et.prototype.mulTo=function(A,Z,X){A.multiplyTo(Z,X)},et.prototype.sqrTo=function(A,Z){A.squareTo(Z)},it.prototype.convert=function(A){if(A.s<0||A.t>2*this.m.t)return A.mod(this.m);if(A.compareTo(this.m)<0)return A;var Z=x();return A.copyTo(Z),this.reduce(Z),Z},it.prototype.revert=function(A){return A},it.prototype.reduce=function(A){for(A.drShiftTo(this.m.t-1,this.r2),A.t>this.m.t+1&&(A.t=this.m.t+1,A.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);A.compareTo(this.r2)<0;)A.dAddOffset(1,this.m.t+1);for(A.subTo(this.r2,A);A.compareTo(this.m)>=0;)A.subTo(this.m,A)},it.prototype.mulTo=function(A,Z,X){A.multiplyTo(Z,X),this.reduce(X)},it.prototype.sqrTo=function(A,Z){A.squareTo(Z),this.reduce(Z)};var Ae,Ne,pe,de=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],J=(1<<26)/de[de.length-1];function oe(){this.i=0,this.j=0,this.S=new Array}function xe(){!function(A){Ne[pe++]^=255&A,Ne[pe++]^=A>>8&255,Ne[pe++]^=A>>16&255,Ne[pe++]^=A>>24&255,pe>=256&&(pe-=256)}((new Date).getTime())}if(he.prototype.chunkSize=function(A){return Math.floor(Math.LN2*this.DB/Math.log(A))},he.prototype.toRadix=function(A){if(null==A&&(A=10),0==this.signum()||A<2||A>36)return"0";var Z=this.chunkSize(A),X=Math.pow(A,Z),ie=Q(X),me=x(),Pe=x(),Ve="";for(this.divRemTo(ie,me,Pe);me.signum()>0;)Ve=(X+Pe.intValue()).toString(A).substr(1)+Ve,me.divRemTo(ie,me,Pe);return Pe.intValue().toString(A)+Ve},he.prototype.fromRadix=function(A,Z){this.fromInt(0),null==Z&&(Z=10);for(var X=this.chunkSize(Z),ie=Math.pow(Z,X),me=!1,Pe=0,Ve=0,Me=0;Me<A.length;++Me){var Be=D(A,Me);Be<0?"-"==A.charAt(Me)&&0==this.signum()&&(me=!0):(Ve=Z*Ve+Be,++Pe>=X&&(this.dMultiply(ie),this.dAddOffset(Ve,0),Pe=0,Ve=0))}Pe>0&&(this.dMultiply(Math.pow(Z,Pe)),this.dAddOffset(Ve,0)),me&&he.ZERO.subTo(this,this)},he.prototype.fromNumber=function(A,Z,X){if("number"==typeof Z)if(A<2)this.fromInt(1);else for(this.fromNumber(A,X),this.testBit(A-1)||this.bitwiseTo(he.ONE.shiftLeft(A-1),rt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(Z);)this.dAddOffset(2,0),this.bitLength()>A&&this.subTo(he.ONE.shiftLeft(A-1),this);else{var ie=new Array,me=7&A;ie.length=1+(A>>3),Z.nextBytes(ie),me>0?ie[0]&=(1<<me)-1:ie[0]=0,this.fromString(ie,256)}},he.prototype.bitwiseTo=function(A,Z,X){var ie,me,Pe=Math.min(A.t,this.t);for(ie=0;ie<Pe;++ie)X[ie]=Z(this[ie],A[ie]);if(A.t<this.t){for(me=A.s&this.DM,ie=Pe;ie<this.t;++ie)X[ie]=Z(this[ie],me);X.t=this.t}else{for(me=this.s&this.DM,ie=Pe;ie<A.t;++ie)X[ie]=Z(me,A[ie]);X.t=A.t}X.s=Z(this.s,A.s),X.clamp()},he.prototype.changeBit=function(A,Z){var X=he.ONE.shiftLeft(A);return this.bitwiseTo(X,Z,X),X},he.prototype.addTo=function(A,Z){for(var X=0,ie=0,me=Math.min(A.t,this.t);X<me;)ie+=this[X]+A[X],Z[X++]=ie&this.DM,ie>>=this.DB;if(A.t<this.t){for(ie+=A.s;X<this.t;)ie+=this[X],Z[X++]=ie&this.DM,ie>>=this.DB;ie+=this.s}else{for(ie+=this.s;X<A.t;)ie+=A[X],Z[X++]=ie&this.DM,ie>>=this.DB;ie+=A.s}Z.s=ie<0?-1:0,ie>0?Z[X++]=ie:ie<-1&&(Z[X++]=this.DV+ie),Z.t=X,Z.clamp()},he.prototype.dMultiply=function(A){this[this.t]=this.am(0,A-1,this,0,0,this.t),++this.t,this.clamp()},he.prototype.dAddOffset=function(A,Z){if(0!=A){for(;this.t<=Z;)this[this.t++]=0;for(this[Z]+=A;this[Z]>=this.DV;)this[Z]-=this.DV,++Z>=this.t&&(this[this.t++]=0),++this[Z]}},he.prototype.multiplyLowerTo=function(A,Z,X){var ie,me=Math.min(this.t+A.t,Z);for(X.s=0,X.t=me;me>0;)X[--me]=0;for(ie=X.t-this.t;me<ie;++me)X[me+this.t]=this.am(0,A[me],X,me,0,this.t);for(ie=Math.min(A.t,Z);me<ie;++me)this.am(0,A[me],X,me,0,Z-me);X.clamp()},he.prototype.multiplyUpperTo=function(A,Z,X){--Z;var ie=X.t=this.t+A.t-Z;for(X.s=0;--ie>=0;)X[ie]=0;for(ie=Math.max(Z-this.t,0);ie<A.t;++ie)X[this.t+ie-Z]=this.am(Z-ie,A[ie],X,0,0,this.t+ie-Z);X.clamp(),X.drShiftTo(1,X)},he.prototype.modInt=function(A){if(A<=0)return 0;var Z=this.DV%A,X=this.s<0?A-1:0;if(this.t>0)if(0==Z)X=this[0]%A;else for(var ie=this.t-1;ie>=0;--ie)X=(Z*X+this[ie])%A;return X},he.prototype.millerRabin=function(A){var Z=this.subtract(he.ONE),X=Z.getLowestSetBit();if(X<=0)return!1;var ie=Z.shiftRight(X);(A=A+1>>1)>de.length&&(A=de.length);for(var me=x(),Pe=0;Pe<A;++Pe){me.fromInt(de[Math.floor(Math.random()*de.length)]);var Ve=me.modPow(ie,this);if(0!=Ve.compareTo(he.ONE)&&0!=Ve.compareTo(Z)){for(var Me=1;Me++<X&&0!=Ve.compareTo(Z);)if(0==(Ve=Ve.modPowInt(2,this)).compareTo(he.ONE))return!1;if(0!=Ve.compareTo(Z))return!1}}return!0},he.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
             */
function(){var A=x();return this.copyTo(A),A},he.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},he.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},he.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},he.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},he.prototype.toByteArray=function(){var A=this.t,Z=new Array;Z[0]=this.s;var X,ie=this.DB-A*this.DB%8,me=0;if(A-- >0)for(ie<this.DB&&(X=this[A]>>ie)!=(this.s&this.DM)>>ie&&(Z[me++]=X|this.s<<this.DB-ie);A>=0;)ie<8?(X=(this[A]&(1<<ie)-1)<<8-ie,X|=this[--A]>>(ie+=this.DB-8)):(X=this[A]>>(ie-=8)&255,ie<=0&&(ie+=this.DB,--A)),128&X&&(X|=-256),0==me&&(128&this.s)!=(128&X)&&++me,(me>0||X!=this.s)&&(Z[me++]=X);return Z},he.prototype.equals=function(A){return 0==this.compareTo(A)},he.prototype.min=function(A){return this.compareTo(A)<0?this:A},he.prototype.max=function(A){return this.compareTo(A)>0?this:A},he.prototype.and=function(A){var Z=x();return this.bitwiseTo(A,Fe,Z),Z},he.prototype.or=function(A){var Z=x();return this.bitwiseTo(A,rt,Z),Z},he.prototype.xor=function(A){var Z=x();return this.bitwiseTo(A,Te,Z),Z},he.prototype.andNot=function(A){var Z=x();return this.bitwiseTo(A,tt,Z),Z},he.prototype.not=function(){for(var A=x(),Z=0;Z<this.t;++Z)A[Z]=this.DM&~this[Z];return A.t=this.t,A.s=~this.s,A},he.prototype.shiftLeft=function(A){var Z=x();return A<0?this.rShiftTo(-A,Z):this.lShiftTo(A,Z),Z},he.prototype.shiftRight=function(A){var Z=x();return A<0?this.lShiftTo(-A,Z):this.rShiftTo(A,Z),Z},he.prototype.getLowestSetBit=function(){for(var A=0;A<this.t;++A)if(0!=this[A])return A*this.DB+Qe(this[A]);return this.s<0?this.t*this.DB:-1},he.prototype.bitCount=function(){for(var A=0,Z=this.s&this.DM,X=0;X<this.t;++X)A+=vt(this[X]^Z);return A},he.prototype.testBit=function(A){var Z=Math.floor(A/this.DB);return Z>=this.t?0!=this.s:0!=(this[Z]&1<<A%this.DB)},he.prototype.setBit=function(A){return this.changeBit(A,rt)},he.prototype.clearBit=function(A){return this.changeBit(A,tt)},he.prototype.flipBit=function(A){return this.changeBit(A,Te)},he.prototype.add=function(A){var Z=x();return this.addTo(A,Z),Z},he.prototype.subtract=function(A){var Z=x();return this.subTo(A,Z),Z},he.prototype.multiply=function(A){var Z=x();return this.multiplyTo(A,Z),Z},he.prototype.divide=function(A){var Z=x();return this.divRemTo(A,Z,null),Z},he.prototype.remainder=function(A){var Z=x();return this.divRemTo(A,null,Z),Z},he.prototype.divideAndRemainder=function(A){var Z=x(),X=x();return this.divRemTo(A,Z,X),new Array(Z,X)},he.prototype.modPow=function(A,Z){var X,ie,me=A.bitLength(),Pe=Q(1);if(me<=0)return Pe;X=me<18?1:me<48?3:me<144?4:me<768?5:6,ie=me<8?new Re(Z):Z.isEven()?new it(Z):new ne(Z);var Ve=new Array,Me=3,Be=X-1,$e=(1<<X)-1;if(Ve[1]=ie.convert(this),X>1){var Ge=x();for(ie.sqrTo(Ve[1],Ge);Me<=$e;)Ve[Me]=x(),ie.mulTo(Ge,Ve[Me-2],Ve[Me]),Me+=2}var We,nt,d=A.t-1,gt=!0,Et=x();for(me=te(A[d])-1;d>=0;){for(me>=Be?We=A[d]>>me-Be&$e:(We=(A[d]&(1<<me+1)-1)<<Be-me,d>0&&(We|=A[d-1]>>this.DB+me-Be)),Me=X;!(1&We);)We>>=1,--Me;if((me-=Me)<0&&(me+=this.DB,--d),gt)Ve[We].copyTo(Pe),gt=!1;else{for(;Me>1;)ie.sqrTo(Pe,Et),ie.sqrTo(Et,Pe),Me-=2;Me>0?ie.sqrTo(Pe,Et):(nt=Pe,Pe=Et,Et=nt),ie.mulTo(Et,Ve[We],Pe)}for(;d>=0&&!(A[d]&1<<me);)ie.sqrTo(Pe,Et),nt=Pe,Pe=Et,Et=nt,--me<0&&(me=this.DB-1,--d)}return ie.revert(Pe)},he.prototype.modInverse=function(A){var Z=A.isEven();if(this.isEven()&&Z||0==A.signum())return he.ZERO;for(var X=A.clone(),ie=this.clone(),me=Q(1),Pe=Q(0),Ve=Q(0),Me=Q(1);0!=X.signum();){for(;X.isEven();)X.rShiftTo(1,X),Z?(me.isEven()&&Pe.isEven()||(me.addTo(this,me),Pe.subTo(A,Pe)),me.rShiftTo(1,me)):Pe.isEven()||Pe.subTo(A,Pe),Pe.rShiftTo(1,Pe);for(;ie.isEven();)ie.rShiftTo(1,ie),Z?(Ve.isEven()&&Me.isEven()||(Ve.addTo(this,Ve),Me.subTo(A,Me)),Ve.rShiftTo(1,Ve)):Me.isEven()||Me.subTo(A,Me),Me.rShiftTo(1,Me);X.compareTo(ie)>=0?(X.subTo(ie,X),Z&&me.subTo(Ve,me),Pe.subTo(Me,Pe)):(ie.subTo(X,ie),Z&&Ve.subTo(me,Ve),Me.subTo(Pe,Me))}return 0!=ie.compareTo(he.ONE)?he.ZERO:Me.compareTo(A)>=0?Me.subtract(A):Me.signum()<0?(Me.addTo(A,Me),Me.signum()<0?Me.add(A):Me):Me},he.prototype.pow=function(A){return this.exp(A,new et)},he.prototype.gcd=function(A){var Z=this.s<0?this.negate():this.clone(),X=A.s<0?A.negate():A.clone();if(Z.compareTo(X)<0){var ie=Z;Z=X,X=ie}var me=Z.getLowestSetBit(),Pe=X.getLowestSetBit();if(Pe<0)return Z;for(me<Pe&&(Pe=me),Pe>0&&(Z.rShiftTo(Pe,Z),X.rShiftTo(Pe,X));Z.signum()>0;)(me=Z.getLowestSetBit())>0&&Z.rShiftTo(me,Z),(me=X.getLowestSetBit())>0&&X.rShiftTo(me,X),Z.compareTo(X)>=0?(Z.subTo(X,Z),Z.rShiftTo(1,Z)):(X.subTo(Z,X),X.rShiftTo(1,X));return Pe>0&&X.lShiftTo(Pe,X),X},he.prototype.isProbablePrime=function(A){var Z,X=this.abs();if(1==X.t&&X[0]<=de[de.length-1]){for(Z=0;Z<de.length;++Z)if(X[0]==de[Z])return!0;return!1}if(X.isEven())return!1;for(Z=1;Z<de.length;){for(var ie=de[Z],me=Z+1;me<de.length&&ie<J;)ie*=de[me++];for(ie=X.modInt(ie);Z<me;)if(ie%de[Z++]==0)return!1}return X.millerRabin(A)},he.prototype.square=function(){var A=x();return this.squareTo(A),A},oe.prototype.init=function(A){var Z,X,ie;for(Z=0;Z<256;++Z)this.S[Z]=Z;for(X=0,Z=0;Z<256;++Z)ie=this.S[Z],this.S[Z]=this.S[X=X+this.S[Z]+A[Z%A.length]&255],this.S[X]=ie;this.i=0,this.j=0},oe.prototype.next=function(){var A;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,A=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=A,this.S[A+this.S[this.i]&255]},null==Ne){var ut;if(Ne=new Array,pe=0,void 0!==y&&(void 0!==y.crypto||void 0!==y.msCrypto)){var be=y.crypto||y.msCrypto;if(be.getRandomValues){var ce=new Uint8Array(32);for(be.getRandomValues(ce),ut=0;ut<32;++ut)Ne[pe++]=ce[ut]}else if("Netscape"==r.appName&&r.appVersion<"5"){var le=y.crypto.random(32);for(ut=0;ut<le.length;++ut)Ne[pe++]=255&le.charCodeAt(ut)}}for(;pe<256;)ut=Math.floor(65536*Math.random()),Ne[pe++]=ut>>>8,Ne[pe++]=255&ut;pe=0,xe()}function Ie(){if(null==Ae){for(xe(),(Ae=new oe).init(Ne),pe=0;pe<Ne.length;++pe)Ne[pe]=0;pe=0}return Ae.next()}function at(){}function Tt(k,A){return new he(k,A)}function Vt(k,A,Z){for(var X="",ie=0;X.length<A;)X+=Z(String.fromCharCode.apply(String,k.concat([(4278190080&ie)>>24,(16711680&ie)>>16,(65280&ie)>>8,255&ie]))),ie+=1;return X}function zt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function un(k,A){this.x=A,this.q=k}function Xt(k,A,Z,X){this.curve=k,this.x=A,this.y=Z,this.z=X??he.ONE,this.zinv=null}function Kn(k,A,Z){this.q=k,this.a=this.fromBigInteger(A),this.b=this.fromBigInteger(Z),this.infinity=new Xt(this,null,null)}at.prototype.nextBytes=function(A){var Z;for(Z=0;Z<A.length;++Z)A[Z]=Ie()},zt.prototype.doPublic=function(A){return A.modPowInt(this.e,this.n)},zt.prototype.setPublic=function(A,Z){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof A)this.n=A,this.e=Z;else{if(!(null!=A&&null!=Z&&A.length>0&&Z.length>0))throw"Invalid RSA public key";this.n=Tt(A,16),this.e=parseInt(Z,16)}},zt.prototype.encrypt=function(A){var Z=function(Pe,Ve){if(Ve<Pe.length+11)throw"Message too long for RSA";for(var Me=new Array,Be=Pe.length-1;Be>=0&&Ve>0;){var $e=Pe.charCodeAt(Be--);$e<128?Me[--Ve]=$e:$e>127&&$e<2048?(Me[--Ve]=63&$e|128,Me[--Ve]=$e>>6|192):(Me[--Ve]=63&$e|128,Me[--Ve]=$e>>6&63|128,Me[--Ve]=$e>>12|224)}Me[--Ve]=0;for(var Ge=new at,We=new Array;Ve>2;){for(We[0]=0;0==We[0];)Ge.nextBytes(We);Me[--Ve]=We[0]}return Me[--Ve]=2,Me[--Ve]=0,new he(Me)}(A,this.n.bitLength()+7>>3);if(null==Z)return null;var X=this.doPublic(Z);if(null==X)return null;var ie=X.toString(16);return 1&ie.length?"0"+ie:ie},zt.prototype.encryptOAEP=function(A,Z,X){var ie=function(Me,Be,$e,Ge){var We=De.crypto.MessageDigest,nt=De.crypto.Util,d=null;if($e||($e="sha1"),"string"==typeof $e&&(d=We.getCanonicalAlgName($e),Ge=We.getHashLength(d),$e=function(jt){return wn(nt.hashHex(kr(jt),d))}),Me.length+2*Ge+2>Be)throw"Message too long for RSA";var gt,Et="";for(gt=0;gt<Be-Me.length-2*Ge-2;gt+=1)Et+="\0";var Ee=$e("")+Et+"\x01"+Me,ze=new Array(Ge);(new at).nextBytes(ze);var Ke=Vt(ze,Ee.length,$e),Xe=[];for(gt=0;gt<Ee.length;gt+=1)Xe[gt]=Ee.charCodeAt(gt)^Ke.charCodeAt(gt);var yt=Vt(Xe,ze.length,$e),At=[0];for(gt=0;gt<ze.length;gt+=1)At[gt+1]=ze[gt]^yt.charCodeAt(gt);return new he(At.concat(Xe))}(A,this.n.bitLength()+7>>3,Z,X);if(null==ie)return null;var me=this.doPublic(ie);if(null==me)return null;var Pe=me.toString(16);return 1&Pe.length?"0"+Pe:Pe},zt.prototype.type="RSA",un.prototype.equals=function(A){return A==this||this.q.equals(A.q)&&this.x.equals(A.x)},un.prototype.toBigInteger=function(){return this.x},un.prototype.negate=function(){return new un(this.q,this.x.negate().mod(this.q))},un.prototype.add=function(A){return new un(this.q,this.x.add(A.toBigInteger()).mod(this.q))},un.prototype.subtract=function(A){return new un(this.q,this.x.subtract(A.toBigInteger()).mod(this.q))},un.prototype.multiply=function(A){return new un(this.q,this.x.multiply(A.toBigInteger()).mod(this.q))},un.prototype.square=function(){return new un(this.q,this.x.square().mod(this.q))},un.prototype.divide=function(A){return new un(this.q,this.x.multiply(A.toBigInteger().modInverse(this.q)).mod(this.q))},Xt.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Xt.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Xt.prototype.equals=function(A){return A==this||(this.isInfinity()?A.isInfinity():A.isInfinity()?this.isInfinity():!!A.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(A.z)).mod(this.curve.q).equals(he.ZERO)&&A.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(A.z)).mod(this.curve.q).equals(he.ZERO))},Xt.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(he.ZERO)&&!this.y.toBigInteger().equals(he.ZERO)},Xt.prototype.negate=function(){return new Xt(this.curve,this.x,this.y.negate(),this.z)},Xt.prototype.add=function(A){if(this.isInfinity())return A;if(A.isInfinity())return this;var Z=A.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(A.z)).mod(this.curve.q),X=A.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(A.z)).mod(this.curve.q);if(he.ZERO.equals(X))return he.ZERO.equals(Z)?this.twice():this.curve.getInfinity();var ie=new he("3"),me=this.x.toBigInteger(),Pe=this.y.toBigInteger(),Ve=(A.x.toBigInteger(),A.y.toBigInteger(),X.square()),Me=Ve.multiply(X),Be=me.multiply(Ve),$e=Z.square().multiply(this.z),Ge=$e.subtract(Be.shiftLeft(1)).multiply(A.z).subtract(Me).multiply(X).mod(this.curve.q),We=Be.multiply(ie).multiply(Z).subtract(Pe.multiply(Me)).subtract($e.multiply(Z)).multiply(A.z).add(Z.multiply(Me)).mod(this.curve.q),nt=Me.multiply(this.z).multiply(A.z).mod(this.curve.q);return new Xt(this.curve,this.curve.fromBigInteger(Ge),this.curve.fromBigInteger(We),nt)},Xt.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var A=new he("3"),Z=this.x.toBigInteger(),X=this.y.toBigInteger(),ie=X.multiply(this.z),me=ie.multiply(X).mod(this.curve.q),Pe=this.curve.a.toBigInteger(),Ve=Z.square().multiply(A);he.ZERO.equals(Pe)||(Ve=Ve.add(this.z.square().multiply(Pe)));var Me=(Ve=Ve.mod(this.curve.q)).square().subtract(Z.shiftLeft(3).multiply(me)).shiftLeft(1).multiply(ie).mod(this.curve.q),Be=Ve.multiply(A).multiply(Z).subtract(me.shiftLeft(1)).shiftLeft(2).multiply(me).subtract(Ve.square().multiply(Ve)).mod(this.curve.q),$e=ie.square().multiply(ie).shiftLeft(3).mod(this.curve.q);return new Xt(this.curve,this.curve.fromBigInteger(Me),this.curve.fromBigInteger(Be),$e)},Xt.prototype.multiply=function(A){if(this.isInfinity())return this;if(0==A.signum())return this.curve.getInfinity();var Z,X=A,ie=X.multiply(new he("3")),me=this.negate(),Pe=this,Ve=this.curve.q.subtract(A),Me=Ve.multiply(new he("3")),Be=new Xt(this.curve,this.x,this.y),$e=Be.negate();for(Z=ie.bitLength()-2;Z>0;--Z){Pe=Pe.twice();var Ge=ie.testBit(Z);Ge!=X.testBit(Z)&&(Pe=Pe.add(Ge?this:me))}for(Z=Me.bitLength()-2;Z>0;--Z){Be=Be.twice();var We=Me.testBit(Z);We!=Ve.testBit(Z)&&(Be=Be.add(We?Be:$e))}return Pe},Xt.prototype.multiplyTwo=function(A,Z,X){var ie;ie=A.bitLength()>X.bitLength()?A.bitLength()-1:X.bitLength()-1;for(var me=this.curve.getInfinity(),Pe=this.add(Z);ie>=0;)me=me.twice(),A.testBit(ie)?me=X.testBit(ie)?me.add(Pe):me.add(this):X.testBit(ie)&&(me=me.add(Z)),--ie;return me},Kn.prototype.getQ=function(){return this.q},Kn.prototype.getA=function(){return this.a},Kn.prototype.getB=function(){return this.b},Kn.prototype.equals=function(A){return A==this||this.q.equals(A.q)&&this.a.equals(A.a)&&this.b.equals(A.b)},Kn.prototype.getInfinity=function(){return this.infinity},Kn.prototype.fromBigInteger=function(A){return new un(this.q,A)},Kn.prototype.decodePointHex=function(A){switch(parseInt(A.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var Z=(A.length-2)/2,X=A.substr(2,Z),ie=A.substr(Z+2,Z);return new Xt(this,this.fromBigInteger(new he(X,16)),this.fromBigInteger(new he(ie,16)))}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
             */
un.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},Xt.prototype.getEncoded=function(k){var A=function(Pe,Ve){var Me=Pe.toByteArrayUnsigned();if(Ve<Me.length)Me=Me.slice(Me.length-Ve);else for(;Ve>Me.length;)Me.unshift(0);return Me},Z=this.getX().toBigInteger(),X=this.getY().toBigInteger(),ie=A(Z,32);return k?X.isEven()?ie.unshift(2):ie.unshift(3):(ie.unshift(4),ie=ie.concat(A(X,32))),ie},Xt.decodeFrom=function(k,A){var Z=A.length-1,X=A.slice(1,1+Z/2),ie=A.slice(1+Z/2,1+Z);X.unshift(0),ie.unshift(0);var me=new he(X),Pe=new he(ie);return new Xt(k,k.fromBigInteger(me),k.fromBigInteger(Pe))},Xt.decodeFromHex=function(k,A){A.substr(0,2);var Z=A.length-2,X=A.substr(2,Z/2),ie=A.substr(2+Z/2,Z/2),me=new he(X,16),Pe=new he(ie,16);return new Xt(k,k.fromBigInteger(me),k.fromBigInteger(Pe))},Xt.prototype.add2D=function(k){if(this.isInfinity())return k;if(k.isInfinity())return this;if(this.x.equals(k.x))return this.y.equals(k.y)?this.twice():this.curve.getInfinity();var A=k.x.subtract(this.x),Z=k.y.subtract(this.y).divide(A),X=Z.square().subtract(this.x).subtract(k.x),ie=Z.multiply(this.x.subtract(X)).subtract(this.y);return new Xt(this.curve,X,ie)},Xt.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var k=this.curve.fromBigInteger(he.valueOf(2)),A=this.curve.fromBigInteger(he.valueOf(3)),Z=this.x.square().multiply(A).add(this.curve.a).divide(this.y.multiply(k)),X=Z.square().subtract(this.x.multiply(k)),ie=Z.multiply(this.x.subtract(X)).subtract(this.y);return new Xt(this.curve,X,ie)},Xt.prototype.multiply2D=function(k){if(this.isInfinity())return this;if(0==k.signum())return this.curve.getInfinity();var A,Z=k,X=Z.multiply(new he("3")),ie=this.negate(),me=this;for(A=X.bitLength()-2;A>0;--A){me=me.twice();var Pe=X.testBit(A);Pe!=Z.testBit(A)&&(me=me.add2D(Pe?this:ie))}return me},Xt.prototype.isOnCurve=function(){var k=this.getX().toBigInteger(),A=this.getY().toBigInteger(),Z=this.curve.getA().toBigInteger(),X=this.curve.getB().toBigInteger(),ie=this.curve.getQ(),me=A.multiply(A).mod(ie),Pe=k.multiply(k).multiply(k).add(Z.multiply(k)).add(X).mod(ie);return me.equals(Pe)},Xt.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},Xt.prototype.validate=function(){var k=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var A=this.getX().toBigInteger(),Z=this.getY().toBigInteger();if(A.compareTo(he.ONE)<0||A.compareTo(k.subtract(he.ONE))>0)throw new Error("x coordinate out of bounds");if(Z.compareTo(he.ONE)<0||Z.compareTo(k.subtract(he.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(k).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var Un=function(){var k=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),A=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),Z={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function X(Pe,Ve,Me){return Ve?Z[Ve]:String.fromCharCode(parseInt(Me,16))}var ie=new String(""),me=Object.hasOwnProperty;return function(Pe,Ve){var Me,Be,$e=Pe.match(k),Ge=$e[0],We=!1;"{"===Ge?Me={}:"["===Ge?Me=[]:(Me=[],We=!0);for(var nt=[Me],d=1-We,gt=$e.length;d<gt;++d){var Et;switch((Ge=$e[d]).charCodeAt(0)){default:(Et=nt[0])[Be||Et.length]=+Ge,Be=void 0;break;case 34:if(-1!==(Ge=Ge.substring(1,Ge.length-1)).indexOf("\\")&&(Ge=Ge.replace(A,X)),Et=nt[0],!Be){if(!(Et instanceof Array)){Be=Ge||ie;break}Be=Et.length}Et[Be]=Ge,Be=void 0;break;case 91:nt.unshift((Et=nt[0])[Be||Et.length]=[]),Be=void 0;break;case 93:case 125:nt.shift();break;case 102:(Et=nt[0])[Be||Et.length]=!1,Be=void 0;break;case 110:(Et=nt[0])[Be||Et.length]=null,Be=void 0;break;case 116:(Et=nt[0])[Be||Et.length]=!0,Be=void 0;break;case 123:nt.unshift((Et=nt[0])[Be||Et.length]={}),Be=void 0}}if(We){if(1!==nt.length)throw new Error;Me=Me[0]}else if(nt.length)throw new Error;return Ve&&(Me=function Ee(ze,Ke){var Xe=ze[Ke];if(Xe&&"object"===(void 0===Xe?"undefined":B(Xe))){var yt=null;for(var At in Xe)if(me.call(Xe,At)&&Xe!==ze){var Wt=Ee(Xe,At);void 0!==Wt?Xe[At]=Wt:(yt||(yt=[]),yt.push(At))}if(yt)for(var jt=yt.length;--jt>=0;)delete Xe[yt[jt]]}return Ve.call(ze,Ke,Xe)}({"":Me},"")),Me}}();void 0!==De&&De||(S.KJUR=De={}),void 0!==De.asn1&&De.asn1||(De.asn1={}),De.asn1.ASN1Util=new function(){this.integerToByteHex=function(k){var A=k.toString(16);return A.length%2==1&&(A="0"+A),A},this.bigIntToMinTwosComplementsHex=function(k){var A=k.toString(16);if("-"!=A.substr(0,1))A.length%2==1?A="0"+A:A.match(/^[0-7]/)||(A="00"+A);else{var Z=A.substr(1).length;Z%2==1?Z+=1:A.match(/^[0-7]/)||(Z+=2);for(var X="",ie=0;ie<Z;ie++)X+="f";A=new he(X,16).xor(k).add(he.ONE).toString(16).replace(/^-/,"")}return A},this.getPEMStringFromHex=function(k,A){return Lr(k,A)},this.newObject=function(k){var A=De.asn1,Z=A.ASN1Object,X=A.DERBoolean,ie=A.DERInteger,me=A.DERBitString,Pe=A.DEROctetString,Ve=A.DERNull,Me=A.DERObjectIdentifier,Be=A.DEREnumerated,$e=A.DERUTF8String,Ge=A.DERNumericString,We=A.DERPrintableString,nt=A.DERTeletexString,d=A.DERIA5String,gt=A.DERUTCTime,Et=A.DERGeneralizedTime,Ee=A.DERVisibleString,ze=A.DERBMPString,Ke=A.DERSequence,Xe=A.DERSet,yt=A.DERTaggedObject,At=A.ASN1Util.newObject;if(k instanceof A.ASN1Object)return k;var Wt=Object.keys(k);if(1!=Wt.length)throw new Error("key of param shall be only one.");var jt=Wt[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+jt+":"))throw new Error("undefined key: "+jt);if("bool"==jt)return new X(k[jt]);if("int"==jt)return new ie(k[jt]);if("bitstr"==jt)return new me(k[jt]);if("octstr"==jt)return new Pe(k[jt]);if("null"==jt)return new Ve(k[jt]);if("oid"==jt)return new Me(k[jt]);if("enum"==jt)return new Be(k[jt]);if("utf8str"==jt)return new $e(k[jt]);if("numstr"==jt)return new Ge(k[jt]);if("prnstr"==jt)return new We(k[jt]);if("telstr"==jt)return new nt(k[jt]);if("ia5str"==jt)return new d(k[jt]);if("utctime"==jt)return new gt(k[jt]);if("gentime"==jt)return new Et(k[jt]);if("visstr"==jt)return new Ee(k[jt]);if("bmpstr"==jt)return new ze(k[jt]);if("asn1"==jt)return new Z(k[jt]);if("seq"==jt){for(var Bn=k[jt],en=[],gn=0;gn<Bn.length;gn++){var or=At(Bn[gn]);en.push(or)}return new Ke({array:en})}if("set"==jt){for(Bn=k[jt],en=[],gn=0;gn<Bn.length;gn++)or=At(Bn[gn]),en.push(or);return new Xe({array:en})}if("tag"==jt){var hr=k[jt];if("[object Array]"===Object.prototype.toString.call(hr)&&3==hr.length){var gr=At(hr[2]);return new yt({tag:hr[0],explicit:hr[1],obj:gr})}return new yt(hr)}},this.jsonToASN1HEX=function(k){return this.newObject(k).getEncodedHex()}},De.asn1.ASN1Util.oidHexToInt=function(k){for(var A="",Z=parseInt(k.substr(0,2),16),X=(A=Math.floor(Z/40)+"."+Z%40,""),ie=2;ie<k.length;ie+=2){var me=("00000000"+parseInt(k.substr(ie,2),16).toString(2)).slice(-8);X+=me.substr(1,7),"0"==me.substr(0,1)&&(A=A+"."+new he(X,2).toString(10),X="")}return A},De.asn1.ASN1Util.oidIntToHex=function(k){var A=function(Me){var Be=Me.toString(16);return 1==Be.length&&(Be="0"+Be),Be},Z=function(Me){var Be="",$e=new he(Me,10).toString(2),Ge=7-$e.length%7;7==Ge&&(Ge=0);for(var We="",nt=0;nt<Ge;nt++)We+="0";for($e=We+$e,nt=0;nt<$e.length-1;nt+=7){var d=$e.substr(nt,7);nt!=$e.length-7&&(d="1"+d),Be+=A(parseInt(d,2))}return Be};if(!k.match(/^[0-9.]+$/))throw"malformed oid string: "+k;var X="",ie=k.split("."),me=40*parseInt(ie[0])+parseInt(ie[1]);X+=A(me),ie.splice(0,2);for(var Pe=0;Pe<ie.length;Pe++)X+=Z(ie[Pe]);return X},De.asn1.ASN1Object=function(k){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var A=this.hV.length/2,Z=A.toString(16);if(Z.length%2==1&&(Z="0"+Z),A<128)return Z;var X=Z.length/2;if(X>15)throw"ASN.1 length too long to represent by 8x: n = "+A.toString(16);return(128+X).toString(16)+Z},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(A){this.params=A},null!=k&&null!=k.tlv&&(this.hTLV=k.tlv,this.isModified=!1)},De.asn1.DERAbstractString=function(k){De.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(A){this.hTLV=null,this.isModified=!0,this.s=A,this.hV=Fr(this.s).toLowerCase()},this.setStringHex=function(A){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=A},this.getFreshValueHex=function(){return this.hV},void 0!==k&&("string"==typeof k?this.setString(k):void 0!==k.str?this.setString(k.str):void 0!==k.hex&&this.setStringHex(k.hex))},f.lang.extend(De.asn1.DERAbstractString,De.asn1.ASN1Object),De.asn1.DERAbstractTime=function(k){De.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(A){var Z=A.getTime()+6e4*A.getTimezoneOffset();return new Date(Z)},this.formatDate=function(A,Z,X){var ie=this.zeroPadding,me=this.localDateToUTC(A),Pe=String(me.getFullYear());"utc"==Z&&(Pe=Pe.substr(2,2));var Ve=Pe+ie(String(me.getMonth()+1),2)+ie(String(me.getDate()),2)+ie(String(me.getHours()),2)+ie(String(me.getMinutes()),2)+ie(String(me.getSeconds()),2);if(!0===X){var Me=me.getMilliseconds();if(0!=Me){var Be=ie(String(Me),3);Ve=Ve+"."+(Be=Be.replace(/[0]+$/,""))}}return Ve+"Z"},this.zeroPadding=function(A,Z){return A.length>=Z?A:new Array(Z-A.length+1).join("0")+A},this.getString=function(){return this.s},this.setString=function(A){this.hTLV=null,this.isModified=!0,this.s=A,this.hV=Pt(A)},this.setByDateValue=function(A,Z,X,ie,me,Pe){var Ve=new Date(Date.UTC(A,Z-1,X,ie,me,Pe,0));this.setByDate(Ve)},this.getFreshValueHex=function(){return this.hV}},f.lang.extend(De.asn1.DERAbstractTime,De.asn1.ASN1Object),De.asn1.DERAbstractStructured=function(k){De.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(A){this.hTLV=null,this.isModified=!0,this.asn1Array=A},this.appendASN1Object=function(A){this.hTLV=null,this.isModified=!0,this.asn1Array.push(A)},this.asn1Array=new Array,void 0!==k&&void 0!==k.array&&(this.asn1Array=k.array)},f.lang.extend(De.asn1.DERAbstractStructured,De.asn1.ASN1Object),De.asn1.DERBoolean=function(k){De.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==k?"010100":"0101ff"},f.lang.extend(De.asn1.DERBoolean,De.asn1.ASN1Object),De.asn1.DERInteger=function(k){De.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(A){this.hTLV=null,this.isModified=!0,this.hV=De.asn1.ASN1Util.bigIntToMinTwosComplementsHex(A)},this.setByInteger=function(A){var Z=new he(String(A),10);this.setByBigInteger(Z)},this.setValueHex=function(A){this.hV=A},this.getFreshValueHex=function(){return this.hV},void 0!==k&&(void 0!==k.bigint?this.setByBigInteger(k.bigint):void 0!==k.int?this.setByInteger(k.int):"number"==typeof k?this.setByInteger(k):void 0!==k.hex&&this.setValueHex(k.hex))},f.lang.extend(De.asn1.DERInteger,De.asn1.ASN1Object),De.asn1.DERBitString=function(k){if(void 0!==k&&void 0!==k.obj){var A=De.asn1.ASN1Util.newObject(k.obj);k.hex="00"+A.getEncodedHex()}De.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(Z){this.hTLV=null,this.isModified=!0,this.hV=Z},this.setUnusedBitsAndHexValue=function(Z,X){if(Z<0||7<Z)throw"unused bits shall be from 0 to 7: u = "+Z;var ie="0"+Z;this.hTLV=null,this.isModified=!0,this.hV=ie+X},this.setByBinaryString=function(Z){var X=8-(Z=Z.replace(/0+$/,"")).length%8;8==X&&(X=0);for(var ie=0;ie<=X;ie++)Z+="0";var me="";for(ie=0;ie<Z.length-1;ie+=8){var Pe=Z.substr(ie,8),Ve=parseInt(Pe,2).toString(16);1==Ve.length&&(Ve="0"+Ve),me+=Ve}this.hTLV=null,this.isModified=!0,this.hV="0"+X+me},this.setByBooleanArray=function(Z){for(var X="",ie=0;ie<Z.length;ie++)X+=1==Z[ie]?"1":"0";this.setByBinaryString(X)},this.newFalseArray=function(Z){for(var X=new Array(Z),ie=0;ie<Z;ie++)X[ie]=!1;return X},this.getFreshValueHex=function(){return this.hV},void 0!==k&&("string"==typeof k&&k.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(k):void 0!==k.hex?this.setHexValueIncludingUnusedBits(k.hex):void 0!==k.bin?this.setByBinaryString(k.bin):void 0!==k.array&&this.setByBooleanArray(k.array))},f.lang.extend(De.asn1.DERBitString,De.asn1.ASN1Object),De.asn1.DEROctetString=function(k){if(void 0!==k&&void 0!==k.obj){var A=De.asn1.ASN1Util.newObject(k.obj);k.hex=A.getEncodedHex()}De.asn1.DEROctetString.superclass.constructor.call(this,k),this.hT="04"},f.lang.extend(De.asn1.DEROctetString,De.asn1.DERAbstractString),De.asn1.DERNull=function(){De.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},f.lang.extend(De.asn1.DERNull,De.asn1.ASN1Object),De.asn1.DERObjectIdentifier=function(k){De.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(A){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=A},this.setValueOidString=function(A){var Z=function(ie){var me=function(We){var nt=We.toString(16);return 1==nt.length&&(nt="0"+nt),nt},Pe=function(We){var nt="",d=parseInt(We,10).toString(2),gt=7-d.length%7;7==gt&&(gt=0);for(var Et="",Ee=0;Ee<gt;Ee++)Et+="0";for(d=Et+d,Ee=0;Ee<d.length-1;Ee+=7){var ze=d.substr(Ee,7);Ee!=d.length-7&&(ze="1"+ze),nt+=me(parseInt(ze,2))}return nt};try{if(!ie.match(/^[0-9.]+$/))return null;var Ve="",Me=ie.split("."),Be=40*parseInt(Me[0],10)+parseInt(Me[1],10);Ve+=me(Be),Me.splice(0,2);for(var $e=0;$e<Me.length;$e++)Ve+=Pe(Me[$e]);return Ve}catch{return null}}(A);if(null==Z)throw new Error("malformed oid string: "+A);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=Z},this.setValueName=function(A){var Z=De.asn1.x509.OID.name2oid(A);if(""===Z)throw new Error("DERObjectIdentifier oidName undefined: "+A);this.setValueOidString(Z)},this.setValueNameOrOid=function(A){A.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(A):this.setValueName(A)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(A){"string"==typeof A?this.setValueNameOrOid(A):void 0!==A.oid?this.setValueNameOrOid(A.oid):void 0!==A.name?this.setValueNameOrOid(A.name):void 0!==A.hex&&this.setValueHex(A.hex)},void 0!==k&&this.setByParam(k)},f.lang.extend(De.asn1.DERObjectIdentifier,De.asn1.ASN1Object),De.asn1.DEREnumerated=function(k){De.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(A){this.hTLV=null,this.isModified=!0,this.hV=De.asn1.ASN1Util.bigIntToMinTwosComplementsHex(A)},this.setByInteger=function(A){var Z=new he(String(A),10);this.setByBigInteger(Z)},this.setValueHex=function(A){this.hV=A},this.getFreshValueHex=function(){return this.hV},void 0!==k&&(void 0!==k.int?this.setByInteger(k.int):"number"==typeof k?this.setByInteger(k):void 0!==k.hex&&this.setValueHex(k.hex))},f.lang.extend(De.asn1.DEREnumerated,De.asn1.ASN1Object),De.asn1.DERUTF8String=function(k){De.asn1.DERUTF8String.superclass.constructor.call(this,k),this.hT="0c"},f.lang.extend(De.asn1.DERUTF8String,De.asn1.DERAbstractString),De.asn1.DERNumericString=function(k){De.asn1.DERNumericString.superclass.constructor.call(this,k),this.hT="12"},f.lang.extend(De.asn1.DERNumericString,De.asn1.DERAbstractString),De.asn1.DERPrintableString=function(k){De.asn1.DERPrintableString.superclass.constructor.call(this,k),this.hT="13"},f.lang.extend(De.asn1.DERPrintableString,De.asn1.DERAbstractString),De.asn1.DERTeletexString=function(k){De.asn1.DERTeletexString.superclass.constructor.call(this,k),this.hT="14"},f.lang.extend(De.asn1.DERTeletexString,De.asn1.DERAbstractString),De.asn1.DERIA5String=function(k){De.asn1.DERIA5String.superclass.constructor.call(this,k),this.hT="16"},f.lang.extend(De.asn1.DERIA5String,De.asn1.DERAbstractString),De.asn1.DERVisibleString=function(k){De.asn1.DERIA5String.superclass.constructor.call(this,k),this.hT="1a"},f.lang.extend(De.asn1.DERVisibleString,De.asn1.DERAbstractString),De.asn1.DERBMPString=function(k){De.asn1.DERBMPString.superclass.constructor.call(this,k),this.hT="1e"},f.lang.extend(De.asn1.DERBMPString,De.asn1.DERAbstractString),De.asn1.DERUTCTime=function(k){De.asn1.DERUTCTime.superclass.constructor.call(this,k),this.hT="17",this.setByDate=function(A){this.hTLV=null,this.isModified=!0,this.date=A,this.s=this.formatDate(this.date,"utc"),this.hV=Pt(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Pt(this.s)),this.hV},void 0!==k&&(void 0!==k.str?this.setString(k.str):"string"==typeof k&&k.match(/^[0-9]{12}Z$/)?this.setString(k):void 0!==k.hex?this.setStringHex(k.hex):void 0!==k.date&&this.setByDate(k.date))},f.lang.extend(De.asn1.DERUTCTime,De.asn1.DERAbstractTime),De.asn1.DERGeneralizedTime=function(k){De.asn1.DERGeneralizedTime.superclass.constructor.call(this,k),this.hT="18",this.withMillis=!1,this.setByDate=function(A){this.hTLV=null,this.isModified=!0,this.date=A,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Pt(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Pt(this.s)),this.hV},void 0!==k&&(void 0!==k.str?this.setString(k.str):"string"==typeof k&&k.match(/^[0-9]{14}Z$/)?this.setString(k):void 0!==k.hex?this.setStringHex(k.hex):void 0!==k.date&&this.setByDate(k.date),!0===k.millis&&(this.withMillis=!0))},f.lang.extend(De.asn1.DERGeneralizedTime,De.asn1.DERAbstractTime),De.asn1.DERSequence=function(k){De.asn1.DERSequence.superclass.constructor.call(this,k),this.hT="30",this.getFreshValueHex=function(){for(var A="",Z=0;Z<this.asn1Array.length;Z++)A+=this.asn1Array[Z].getEncodedHex();return this.hV=A,this.hV}},f.lang.extend(De.asn1.DERSequence,De.asn1.DERAbstractStructured),De.asn1.DERSet=function(k){De.asn1.DERSet.superclass.constructor.call(this,k),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var A=new Array,Z=0;Z<this.asn1Array.length;Z++)A.push(this.asn1Array[Z].getEncodedHex());return 1==this.sortFlag&&A.sort(),this.hV=A.join(""),this.hV},void 0!==k&&void 0!==k.sortflag&&0==k.sortflag&&(this.sortFlag=!1)},f.lang.extend(De.asn1.DERSet,De.asn1.DERAbstractStructured),De.asn1.DERTaggedObject=function(k){De.asn1.DERTaggedObject.superclass.constructor.call(this);var A=De.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(Z,X,ie){this.hT=X,this.isExplicit=Z,this.asn1Object=ie,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=ie.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,X),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(Z){null!=Z.tag&&(this.hT=Z.tag),null!=Z.explicit&&(this.isExplicit=Z.explicit),null!=Z.tage&&(this.hT=Z.tage,this.isExplicit=!0),null!=Z.tagi&&(this.hT=Z.tagi,this.isExplicit=!1),null!=Z.obj&&(Z.obj instanceof A.ASN1Object?(this.asn1Object=Z.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==B(Z.obj)&&(this.asn1Object=A.ASN1Util.newObject(Z.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=k&&this.setByParam(k)},f.lang.extend(De.asn1.DERTaggedObject,De.asn1.ASN1Object);var De,Br,ar,Qt=new function(){};function ba(k){for(var A=new Array,Z=0;Z<k.length;Z++)A[Z]=k.charCodeAt(Z);return A}function ki(k){for(var A="",Z=0;Z<k.length;Z++)A+=String.fromCharCode(k[Z]);return A}function _t(k){for(var A="",Z=0;Z<k.length;Z++){var X=k[Z].toString(16);1==X.length&&(X="0"+X),A+=X}return A}function Pt(k){return _t(ba(k))}function Pn(k){return(k=(k=k.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function zn(k){return k.length%4==2?k+="==":k.length%4==3&&(k+="="),(k=k.replace(/-/g,"+")).replace(/_/g,"/")}function Cn(k){return k.length%2==1&&(k="0"+k),Pn(ae(k))}function cn(k){return ve(zn(k))}function Fr(k){return Za(Di(k))}function lr(k){return decodeURIComponent(Gi(k))}function wn(k){for(var A="",Z=0;Z<k.length-1;Z+=2)A+=String.fromCharCode(parseInt(k.substr(Z,2),16));return A}function kr(k){for(var A="",Z=0;Z<k.length;Z++)A+=("0"+k.charCodeAt(Z).toString(16)).slice(-2);return A}function Qn(k){return ae(k)}function Vi(k){return Qn(k).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function Xr(k){return ve(k.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Lr(k,A){return"-----BEGIN "+A+"-----\r\n"+Vi(k)+"\r\n-----END "+A+"-----\r\n"}function ci(k,A){if(-1==k.indexOf("-----BEGIN "))throw"can't find PEM header: "+A;return Xr(k=void 0!==A?(k=k.replace(new RegExp("^[^]*-----BEGIN "+A+"-----"),"")).replace(new RegExp("-----END "+A+"-----[^]*$"),""):(k=k.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Ba(k){var A,Z,X,ie,me,Pe,Ve,Me,Be,$e,Ge;if(Ge=k.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return Me=Ge[1],A=parseInt(Me),2===Me.length&&(50<=A&&A<100?A=1900+A:0<=A&&A<50&&(A=2e3+A)),Z=parseInt(Ge[2])-1,X=parseInt(Ge[3]),ie=parseInt(Ge[4]),me=parseInt(Ge[5]),Pe=parseInt(Ge[6]),Ve=0,""!==(Be=Ge[7])&&($e=(Be.substr(1)+"00").substr(0,3),Ve=parseInt($e)),Date.UTC(A,Z,X,ie,me,Pe,Ve);throw"unsupported zulu format: "+k}function zi(k){return~~(Ba(k)/1e3)}function Za(k){return k.replace(/%/g,"")}function Gi(k){return k.replace(/(..)/g,"%$1")}function Ri(k){var A="malformed IPv6 address";if(!k.match(/^[0-9A-Fa-f:]+$/))throw A;var Z=(k=k.toLowerCase()).split(":").length-1;if(Z<2)throw A;var X=":".repeat(7-Z+2),ie=(k=k.replace("::",X)).split(":");if(8!=ie.length)throw A;for(var me=0;me<8;me++)ie[me]=("0000"+ie[me]).slice(-4);return ie.join("")}function Hi(k){if(!k.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var A=(k=k.toLowerCase()).match(/.{1,4}/g),Z=0;Z<8;Z++)A[Z]=A[Z].replace(/^0+/,""),""==A[Z]&&(A[Z]="0");var X=(k=":"+A.join(":")+":").match(/:(0:){2,}/g);if(null===X)return k.slice(1,-1);var ie="";for(Z=0;Z<X.length;Z++)X[Z].length>ie.length&&(ie=X[Z]);return(k=k.replace(ie,"::")).slice(1,-1)}function Ca(k){var A="malformed hex value";if(!k.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw A;if(8!=k.length)return 32==k.length?Hi(k):k;try{return parseInt(k.substr(0,2),16)+"."+parseInt(k.substr(2,2),16)+"."+parseInt(k.substr(4,2),16)+"."+parseInt(k.substr(6,2),16)}catch{throw A}}function Di(k){for(var A=encodeURIComponent(k),Z="",X=0;X<A.length;X++)"%"==A[X]?(Z+=A.substr(X,3),X+=2):Z=Z+"%"+Pt(A[X]);return Z}function Ti(k){return!(k.length%2!=0||!k.match(/^[0-9a-f]+$/)&&!k.match(/^[0-9A-F]+$/))}function hi(k){return k.length%2==1?"0"+k:k.substr(0,1)>"7"?"00"+k:k}Qt.getLblen=function(k,A){if("8"!=k.substr(A+2,1))return 1;var Z=parseInt(k.substr(A+3,1));return 0==Z?-1:0<Z&&Z<10?Z+1:-2},Qt.getL=function(k,A){var Z=Qt.getLblen(k,A);return Z<1?"":k.substr(A+2,2*Z)},Qt.getVblen=function(k,A){var Z;return""==(Z=Qt.getL(k,A))?-1:("8"===Z.substr(0,1)?new he(Z.substr(2),16):new he(Z,16)).intValue()},Qt.getVidx=function(k,A){var Z=Qt.getLblen(k,A);return Z<0?Z:A+2*(Z+1)},Qt.getV=function(k,A){var Z=Qt.getVidx(k,A),X=Qt.getVblen(k,A);return k.substr(Z,2*X)},Qt.getTLV=function(k,A){return k.substr(A,2)+Qt.getL(k,A)+Qt.getV(k,A)},Qt.getTLVblen=function(k,A){return 2+2*Qt.getLblen(k,A)+2*Qt.getVblen(k,A)},Qt.getNextSiblingIdx=function(k,A){return Qt.getVidx(k,A)+2*Qt.getVblen(k,A)},Qt.getChildIdx=function(k,A){var Z,X,ie,me=Qt,Pe=[];Z=me.getVidx(k,A),X=2*me.getVblen(k,A),"03"==k.substr(A,2)&&(Z+=2,X-=2),ie=0;for(var Ve=Z;ie<=X;){var Me=me.getTLVblen(k,Ve);if((ie+=Me)<=X&&Pe.push(Ve),Ve+=Me,ie>=X)break}return Pe},Qt.getNthChildIdx=function(k,A,Z){return Qt.getChildIdx(k,A)[Z]},Qt.getIdxbyList=function(k,A,Z,X){var ie,me,Pe=Qt;return 0==Z.length?void 0!==X&&k.substr(A,2)!==X?-1:A:(ie=Z.shift())>=(me=Pe.getChildIdx(k,A)).length?-1:Pe.getIdxbyList(k,me[ie],Z,X)},Qt.getIdxbyListEx=function(k,A,Z,X){var ie,me,Pe=Qt;if(0==Z.length)return void 0!==X&&k.substr(A,2)!==X?-1:A;ie=Z.shift(),me=Pe.getChildIdx(k,A);for(var Ve=0,Me=0;Me<me.length;Me++){var Be=k.substr(me[Me],2);if("number"==typeof ie&&!Pe.isContextTag(Be)&&Ve==ie||"string"==typeof ie&&Pe.isContextTag(Be,ie))return Pe.getIdxbyListEx(k,me[Me],Z,X);Pe.isContextTag(Be)||Ve++}return-1},Qt.getTLVbyList=function(k,A,Z,X){var ie=Qt,me=ie.getIdxbyList(k,A,Z,X);return-1==me||me>=k.length?null:ie.getTLV(k,me)},Qt.getTLVbyListEx=function(k,A,Z,X){var ie=Qt,me=ie.getIdxbyListEx(k,A,Z,X);return-1==me?null:ie.getTLV(k,me)},Qt.getVbyList=function(k,A,Z,X,ie){var me,Pe,Ve=Qt;return-1==(me=Ve.getIdxbyList(k,A,Z,X))||me>=k.length?null:(Pe=Ve.getV(k,me),!0===ie&&(Pe=Pe.substr(2)),Pe)},Qt.getVbyListEx=function(k,A,Z,X,ie){var me,Pe,Ve=Qt;return-1==(me=Ve.getIdxbyListEx(k,A,Z,X))?null:(Pe=Ve.getV(k,me),"03"==k.substr(me,2)&&!1!==ie&&(Pe=Pe.substr(2)),Pe)},Qt.getInt=function(k,A,Z){null==Z&&(Z=-1);try{var X=k.substr(A,2);if("02"!=X&&"03"!=X)return Z;var ie=Qt.getV(k,A);return"02"==X?parseInt(ie,16):function(Pe){try{var Ve=Pe.substr(0,2);if("00"==Ve)return parseInt(Pe.substr(2),16);var Me=parseInt(Ve,16),Be=Pe.substr(2),$e=parseInt(Be,16).toString(2);return"0"==$e&&($e="00000000"),$e=$e.slice(0,0-Me),parseInt($e,2)}catch{return-1}}(ie)}catch{return Z}},Qt.getOID=function(k,A,Z){null==Z&&(Z=null);try{return"06"!=k.substr(A,2)?Z:function(ie){if(!Ti(ie))return null;try{var me=[],Pe=ie.substr(0,2),Ve=parseInt(Pe,16);me[0]=new String(Math.floor(Ve/40)),me[1]=new String(Ve%40);for(var Me=ie.substr(2),Be=[],$e=0;$e<Me.length/2;$e++)Be.push(parseInt(Me.substr(2*$e,2),16));var Ge=[],We="";for($e=0;$e<Be.length;$e++)128&Be[$e]?We+=Qr((127&Be[$e]).toString(2),7):(We+=Qr((127&Be[$e]).toString(2),7),Ge.push(new String(parseInt(We,2))),We="");var nt=me.join(".");return Ge.length>0&&(nt=nt+"."+Ge.join(".")),nt}catch{return null}}(Qt.getV(k,A))}catch{return Z}},Qt.getOIDName=function(k,A,Z){null==Z&&(Z=null);try{var X=Qt.getOID(k,A,Z);if(X==Z)return Z;var ie=De.asn1.x509.OID.oid2name(X);return""==ie?X:ie}catch{return Z}},Qt.getString=function(k,A,Z){null==Z&&(Z=null);try{return wn(Qt.getV(k,A))}catch{return Z}},Qt.hextooidstr=function(k){var A=function(We,nt){return We.length>=nt?We:new Array(nt-We.length+1).join("0")+We},Z=[],X=k.substr(0,2),ie=parseInt(X,16);Z[0]=new String(Math.floor(ie/40)),Z[1]=new String(ie%40);for(var me=k.substr(2),Pe=[],Ve=0;Ve<me.length/2;Ve++)Pe.push(parseInt(me.substr(2*Ve,2),16));var Me=[],Be="";for(Ve=0;Ve<Pe.length;Ve++)128&Pe[Ve]?Be+=A((127&Pe[Ve]).toString(2),7):(Be+=A((127&Pe[Ve]).toString(2),7),Me.push(new String(parseInt(Be,2))),Be="");var $e=Z.join(".");return Me.length>0&&($e=$e+"."+Me.join(".")),$e},Qt.dump=function(k,A,Z,X){var ie=Qt,me=ie.getV,Pe=ie.dump,Ve=ie.getChildIdx,Me=k;k instanceof De.asn1.ASN1Object&&(Me=k.getEncodedHex());var Be=function(jt,Bn){return jt.length<=2*Bn?jt:jt.substr(0,Bn)+"..(total "+jt.length/2+"bytes).."+jt.substr(jt.length-Bn,Bn)};void 0===A&&(A={ommit_long_octet:32}),void 0===Z&&(Z=0),void 0===X&&(X="");var $e,Ge=A.ommit_long_octet;if("01"==($e=Me.substr(Z,2)))return"00"==(We=me(Me,Z))?X+"BOOLEAN FALSE\n":X+"BOOLEAN TRUE\n";if("02"==$e)return X+"INTEGER "+Be(We=me(Me,Z),Ge)+"\n";if("03"==$e){var We=me(Me,Z);return ie.isASN1HEX(We.substr(2))?(nt=X+"BITSTRING, encapsulates\n")+Pe(We.substr(2),A,0,X+"  "):X+"BITSTRING "+Be(We,Ge)+"\n"}if("04"==$e)return We=me(Me,Z),ie.isASN1HEX(We)?(nt=X+"OCTETSTRING, encapsulates\n",nt+=Pe(We,A,0,X+"  ")):X+"OCTETSTRING "+Be(We,Ge)+"\n";if("05"==$e)return X+"NULL\n";if("06"==$e){var d=me(Me,Z),gt=De.asn1.ASN1Util.oidHexToInt(d),Et=De.asn1.x509.OID.oid2name(gt),Ee=gt.replace(/\./g," ");return""!=Et?X+"ObjectIdentifier "+Et+" ("+Ee+")\n":X+"ObjectIdentifier ("+Ee+")\n"}if("0a"==$e)return X+"ENUMERATED "+parseInt(me(Me,Z))+"\n";if("0c"==$e)return X+"UTF8String '"+lr(me(Me,Z))+"'\n";if("13"==$e)return X+"PrintableString '"+lr(me(Me,Z))+"'\n";if("14"==$e)return X+"TeletexString '"+lr(me(Me,Z))+"'\n";if("16"==$e)return X+"IA5String '"+lr(me(Me,Z))+"'\n";if("17"==$e)return X+"UTCTime "+lr(me(Me,Z))+"\n";if("18"==$e)return X+"GeneralizedTime "+lr(me(Me,Z))+"\n";if("1a"==$e)return X+"VisualString '"+lr(me(Me,Z))+"'\n";if("1e"==$e)return X+"BMPString '"+lr(me(Me,Z))+"'\n";if("30"==$e){if("3000"==Me.substr(Z,4))return X+"SEQUENCE {}\n";nt=X+"SEQUENCE\n";var ze=A;if((2==(yt=Ve(Me,Z)).length||3==yt.length)&&"06"==Me.substr(yt[0],2)&&"04"==Me.substr(yt[yt.length-1],2)){Et=ie.oidname(me(Me,yt[0]));var Ke=JSON.parse(JSON.stringify(A));Ke.x509ExtName=Et,ze=Ke}for(var Xe=0;Xe<yt.length;Xe++)nt+=Pe(Me,ze,yt[Xe],X+"  ");return nt}if("31"==$e){nt=X+"SET\n";var yt=Ve(Me,Z);for(Xe=0;Xe<yt.length;Xe++)nt+=Pe(Me,A,yt[Xe],X+"  ");return nt}if(128&($e=parseInt($e,16))){var nt,At=31&$e;if(32&$e){for(nt=X+"["+At+"]\n",yt=Ve(Me,Z),Xe=0;Xe<yt.length;Xe++)nt+=Pe(Me,A,yt[Xe],X+"  ");return nt}return We=me(Me,Z),Qt.isASN1HEX(We)?(nt=X+"["+At+"]\n")+Pe(We,A,0,X+"  "):(("68747470"==We.substr(0,8)||"subjectAltName"===A.x509ExtName&&2==At)&&(We=lr(We)),X+"["+At+"] "+We+"\n")}return X+"UNKNOWN("+$e+") "+me(Me,Z)+"\n"},Qt.isContextTag=function(k,A){var Z,X;k=k.toLowerCase();try{Z=parseInt(k,16)}catch{return-1}if(void 0===A)return 128==(192&Z);try{return null!=A.match(/^\[[0-9]+\]$/)&&!((X=parseInt(A.substr(1,A.length-1),10))>31)&&128==(192&Z)&&(31&Z)==X}catch{return!1}},Qt.isASN1HEX=function(k){var A=Qt;if(k.length%2==1)return!1;var Z=A.getVblen(k,0),X=k.substr(0,2),ie=A.getL(k,0);return k.length-X.length-ie.length==2*Z},Qt.checkStrictDER=function(k,A,Z,X,ie){var me=Qt;if(void 0===Z){if("string"!=typeof k)throw new Error("not hex string");if(k=k.toLowerCase(),!De.lang.String.isHex(k))throw new Error("not hex string");Z=k.length,ie=(X=k.length/2)<128?1:Math.ceil(X.toString(16))+1}if(me.getL(k,A).length>2*ie)throw new Error("L of TLV too long: idx="+A);var Pe=me.getVblen(k,A);if(Pe>X)throw new Error("value of L too long than hex: idx="+A);var Ve=me.getTLV(k,A),Me=Ve.length-2-me.getL(k,A).length;if(Me!==2*Pe)throw new Error("V string length and L's value not the same:"+Me+"/"+2*Pe);if(0===A&&k.length!=Ve.length)throw new Error("total length and TLV length unmatch:"+k.length+"!="+Ve.length);var Be=k.substr(A,2);if("02"===Be){var $e=me.getVidx(k,A);if("00"==k.substr($e,2)&&k.charCodeAt($e+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(Be,16)){for(var Ge=me.getVblen(k,A),We=0,nt=me.getChildIdx(k,A),d=0;d<nt.length;d++)We+=me.getTLV(k,nt[d]).length,me.checkStrictDER(k,nt[d],Z,X,ie);if(2*Ge!=We)throw new Error("sum of children's TLV length and L unmatch: "+2*Ge+"!="+We)}},Qt.oidname=function(k){var A=De.asn1;De.lang.String.isHex(k)&&(k=A.ASN1Util.oidHexToInt(k));var Z=A.x509.OID.oid2name(k);return""===Z&&(Z=k),Z},void 0!==De&&De||(S.KJUR=De={}),void 0!==De.lang&&De.lang||(De.lang={}),De.lang.String=function(){},"function"==typeof K?(S.utf8tob64u=Br=function(A){return Pn(K.from(A,"utf8").toString("base64"))},S.b64utoutf8=ar=function(A){return K.from(zn(A),"base64").toString("utf8")}):(S.utf8tob64u=Br=function(A){return Cn(Za(Di(A)))},S.b64utoutf8=ar=function(A){return decodeURIComponent(Gi(cn(A)))}),De.lang.String.isInteger=function(k){return!!k.match(/^[0-9]+$/)||!!k.match(/^-[0-9]+$/)},De.lang.String.isHex=function(k){return Ti(k)},De.lang.String.isBase64=function(k){return!(!(k=k.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||k.length%4!=0)},De.lang.String.isBase64URL=function(k){return!k.match(/[+/=]/)&&(k=zn(k),De.lang.String.isBase64(k))},De.lang.String.isIntegerArray=function(k){return!!(k=k.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},De.lang.String.isPrintable=function(k){return null!==k.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},De.lang.String.isIA5=function(k){return null!==k.match(/^[\x20-\x21\x23-\x7f]*$/)},De.lang.String.isMail=function(k){return null!==k.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Qr=function(A,Z,X){return null==X&&(X="0"),A.length>=Z?A:new Array(Z-A.length+1).join(X)+A};void 0!==De&&De||(S.KJUR=De={}),void 0!==De.crypto&&De.crypto||(De.crypto={}),De.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:U.algo.MD5,sha1:U.algo.SHA1,sha224:U.algo.SHA224,sha256:U.algo.SHA256,sha384:U.algo.SHA384,sha512:U.algo.SHA512,ripemd160:U.algo.RIPEMD160},this.getDigestInfoHex=function(k,A){if(void 0===this.DIGESTINFOHEAD[A])throw"alg not supported in Util.DIGESTINFOHEAD: "+A;return this.DIGESTINFOHEAD[A]+k},this.getPaddedDigestInfoHex=function(k,A,Z){var X=this.getDigestInfoHex(k,A),ie=Z/4;if(X.length+22>ie)throw"key is too short for SigAlg: keylen="+Z+","+A;for(var Pe="00"+X,Ve="",Me=ie-4-Pe.length,Be=0;Be<Me;Be+=2)Ve+="ff";return"0001"+Ve+Pe},this.hashString=function(k,A){return new De.crypto.MessageDigest({alg:A}).digestString(k)},this.hashHex=function(k,A){return new De.crypto.MessageDigest({alg:A}).digestHex(k)},this.sha1=function(k){return this.hashString(k,"sha1")},this.sha256=function(k){return this.hashString(k,"sha256")},this.sha256Hex=function(k){return this.hashHex(k,"sha256")},this.sha512=function(k){return this.hashString(k,"sha512")},this.sha512Hex=function(k){return this.hashHex(k,"sha512")},this.isKey=function(k){return k instanceof zt||k instanceof De.crypto.DSA||k instanceof De.crypto.ECDSA}},De.crypto.Util.md5=function(k){return new De.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(k)},De.crypto.Util.ripemd160=function(k){return new De.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(k)},De.crypto.Util.SECURERANDOMGEN=new at,De.crypto.Util.getRandomHexOfNbytes=function(k){var A=new Array(k);return De.crypto.Util.SECURERANDOMGEN.nextBytes(A),_t(A)},De.crypto.Util.getRandomBigIntegerOfNbytes=function(k){return new he(De.crypto.Util.getRandomHexOfNbytes(k),16)},De.crypto.Util.getRandomHexOfNbits=function(k){var A=k%8,Z=new Array((k-A)/8+1);return De.crypto.Util.SECURERANDOMGEN.nextBytes(Z),Z[0]=(255<<A&255^255)&Z[0],_t(Z)},De.crypto.Util.getRandomBigIntegerOfNbits=function(k){return new he(De.crypto.Util.getRandomHexOfNbits(k),16)},De.crypto.Util.getRandomBigIntegerZeroToMax=function(k){for(var A=k.bitLength();;){var Z=De.crypto.Util.getRandomBigIntegerOfNbits(A);if(-1!=k.compareTo(Z))return Z}},De.crypto.Util.getRandomBigIntegerMinToMax=function(k,A){var Z=k.compareTo(A);if(1==Z)throw"biMin is greater than biMax";if(0==Z)return k;var X=A.subtract(k);return De.crypto.Util.getRandomBigIntegerZeroToMax(X).add(k)},De.crypto.MessageDigest=function(k){this.setAlgAndProvider=function(A,Z){if(null!==(A=De.crypto.MessageDigest.getCanonicalAlgName(A))&&void 0===Z&&(Z=De.crypto.Util.DEFAULTPROVIDER[A]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(A)&&"cryptojs"==Z){try{this.md=De.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[A].create()}catch(X){throw"setAlgAndProvider hash alg set fail alg="+A+"/"+X}this.updateString=function(X){this.md.update(X)},this.updateHex=function(X){var ie=U.enc.Hex.parse(X);this.md.update(ie)},this.digest=function(){return this.md.finalize().toString(U.enc.Hex)},this.digestString=function(X){return this.updateString(X),this.digest()},this.digestHex=function(X){return this.updateHex(X),this.digest()}}if(-1!=":sha256:".indexOf(A)&&"sjcl"==Z){try{this.md=new sjcl.hash.sha256}catch(X){throw"setAlgAndProvider hash alg set fail alg="+A+"/"+X}this.updateString=function(X){this.md.update(X)},this.updateHex=function(X){var ie=sjcl.codec.hex.toBits(X);this.md.update(ie)},this.digest=function(){var X=this.md.finalize();return sjcl.codec.hex.fromBits(X)},this.digestString=function(X){return this.updateString(X),this.digest()},this.digestHex=function(X){return this.updateHex(X),this.digest()}}},this.updateString=function(A){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(A){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(A){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(A){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==k&&void 0!==k.alg&&(this.algName=k.alg,void 0===k.prov&&(this.provName=De.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},De.crypto.MessageDigest.getCanonicalAlgName=function(k){return"string"==typeof k&&(k=(k=k.toLowerCase()).replace(/-/,"")),k},De.crypto.MessageDigest.getHashLength=function(k){var A=De.crypto.MessageDigest,Z=A.getCanonicalAlgName(k);if(void 0===A.HASHLENGTH[Z])throw"not supported algorithm: "+k;return A.HASHLENGTH[Z]},De.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},De.crypto.Mac=function(k){this.setAlgAndProvider=function(A,Z){if(null==(A=A.toLowerCase())&&(A="hmacsha1"),"hmac"!=(A=A.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+A;void 0===Z&&(Z=De.crypto.Util.DEFAULTPROVIDER[A]),this.algProv=A+"/"+Z;var X=A.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(X)&&"cryptojs"==Z){try{this.mac=U.algo.HMAC.create(De.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[X],this.pass)}catch(me){throw"setAlgAndProvider hash alg set fail hashAlg="+X+"/"+me}this.updateString=function(me){this.mac.update(me)},this.updateHex=function(me){var Pe=U.enc.Hex.parse(me);this.mac.update(Pe)},this.doFinal=function(){return this.mac.finalize().toString(U.enc.Hex)},this.doFinalString=function(me){return this.updateString(me),this.doFinal()},this.doFinalHex=function(me){return this.updateHex(me),this.doFinal()}}},this.updateString=function(A){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(A){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(A){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(A){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(A){if("string"==typeof A){var Z=A;return A.length%2!=1&&A.match(/^[0-9A-Fa-f]+$/)||(Z=kr(A)),void(this.pass=U.enc.Hex.parse(Z))}if("object"!=(void 0===A?"undefined":B(A)))throw"KJUR.crypto.Mac unsupported password type: "+A;if(Z=null,void 0!==A.hex){if(A.hex.length%2!=0||!A.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+A.hex;Z=A.hex}if(void 0!==A.utf8&&(Z=Fr(A.utf8)),void 0!==A.rstr&&(Z=kr(A.rstr)),void 0!==A.b64&&(Z=ve(A.b64)),void 0!==A.b64u&&(Z=cn(A.b64u)),null==Z)throw"KJUR.crypto.Mac unsupported password type: "+A;this.pass=U.enc.Hex.parse(Z)},void 0!==k&&(void 0!==k.pass&&this.setPassword(k.pass),void 0!==k.alg&&(this.algName=k.alg,void 0===k.prov&&(this.provName=De.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},De.crypto.Signature=function(k){var A=null;if(this._setAlgNames=function(){var Z=this.algName.match(/^(.+)with(.+)$/);Z&&(this.mdAlgName=Z[1].toLowerCase(),this.pubkeyAlgName=Z[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(Z,X){for(var ie="",me=X/4-Z.length,Pe=0;Pe<me;Pe++)ie+="0";return ie+Z},this.setAlgAndProvider=function(Z,X){if(this._setAlgNames(),"cryptojs/jsrsa"!=X)throw new Error("provider not supported: "+X);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new De.crypto.MessageDigest({alg:this.mdAlgName})}catch(ie){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+ie)}this.init=function(ie,me){var Pe=null;try{Pe=void 0===me?fr.getKey(ie):fr.getKey(ie,me)}catch(Ve){throw"init failed:"+Ve}if(!0===Pe.isPrivate)this.prvKey=Pe,this.state="SIGN";else{if(!0!==Pe.isPublic)throw"init failed.:"+Pe;this.pubKey=Pe,this.state="VERIFY"}},this.updateString=function(ie){this.md.updateString(ie)},this.updateHex=function(ie){this.md.updateHex(ie)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==De.crypto.ECDSA&&(this.prvKey=new De.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof zt&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof zt&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof De.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof De.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(ie){return this.updateString(ie),this.sign()},this.signHex=function(ie){return this.updateHex(ie),this.sign()},this.verify=function(ie){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==De.crypto.ECDSA&&(this.pubKey=new De.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof zt&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,ie,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof zt&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,ie);if(void 0!==De.crypto.ECDSA&&this.pubKey instanceof De.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,ie);if(void 0!==De.crypto.DSA&&this.pubKey instanceof De.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,ie);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(Z,X){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(Z){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(Z){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(Z){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(Z){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(Z){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=k,void 0!==k&&(void 0!==k.alg&&(this.algName=k.alg,this.provName=void 0===k.prov?De.crypto.Util.DEFAULTPROVIDER[this.algName]:k.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==k.psssaltlen&&(this.pssSaltLen=k.psssaltlen),void 0!==k.prvkeypem)){if(void 0!==k.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{A=fr.getKey(k.prvkeypem),this.init(A)}catch(Z){throw"fatal error to load pem private key: "+Z}}},De.crypto.Cipher=function(k){},De.crypto.Cipher.encrypt=function(k,A,Z){if(A instanceof zt&&A.isPublic){var X=De.crypto.Cipher.getAlgByKeyAndName(A,Z);if("RSA"===X)return A.encrypt(k);if("RSAOAEP"===X)return A.encryptOAEP(k,"sha1");var ie=X.match(/^RSAOAEP(\d+)$/);if(null!==ie)return A.encryptOAEP(k,"sha"+ie[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+Z}throw"Cipher.encrypt: unsupported key or algorithm"},De.crypto.Cipher.decrypt=function(k,A,Z){if(A instanceof zt&&A.isPrivate){var X=De.crypto.Cipher.getAlgByKeyAndName(A,Z);if("RSA"===X)return A.decrypt(k);if("RSAOAEP"===X)return A.decryptOAEP(k,"sha1");var ie=X.match(/^RSAOAEP(\d+)$/);if(null!==ie)return A.decryptOAEP(k,"sha"+ie[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+Z}throw"Cipher.decrypt: unsupported key or algorithm"},De.crypto.Cipher.getAlgByKeyAndName=function(k,A){if(k instanceof zt){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(A))return A;if(null==A)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+A}throw"getAlgByKeyAndName: not supported algorithm name: "+A},De.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==De&&De||(S.KJUR=De={}),void 0!==De.crypto&&De.crypto||(De.crypto={}),De.crypto.ECDSA=function(k){var A=Error,Z=he,X=Xt,ie=De.crypto.ECDSA,me=De.crypto.ECParameterDB,Pe=ie.getName,Me=Qt.getVbyListEx,Be=Qt.isASN1HEX,$e=new at;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(Ge){return new Z(Ge.bitLength(),$e).mod(Ge.subtract(Z.ONE)).add(Z.ONE)},this.setNamedCurve=function(Ge){this.ecparams=me.getByName(Ge),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=Ge},this.setPrivateKeyHex=function(Ge){this.isPrivate=!0,this.prvKeyHex=Ge},this.setPublicKeyHex=function(Ge){this.isPublic=!0,this.pubKeyHex=Ge},this.getPublicKeyXYHex=function(){var Ge=this.pubKeyHex;if("04"!==Ge.substr(0,2))throw"this method supports uncompressed format(04) only";var We=this.ecparams.keylen/4;if(Ge.length!==2+2*We)throw"malformed public key hex length";var nt={};return nt.x=Ge.substr(2,We),nt.y=Ge.substr(2+We),nt},this.getShortNISTPCurveName=function(){var Ge=this.curveName;return"secp256r1"===Ge||"NIST P-256"===Ge||"P-256"===Ge||"prime256v1"===Ge?"P-256":"secp384r1"===Ge||"NIST P-384"===Ge||"P-384"===Ge?"P-384":null},this.generateKeyPairHex=function(){var We=this.getBigRandom(this.ecparams.n),nt=this.ecparams.G.multiply(We),d=nt.getX().toBigInteger(),gt=nt.getY().toBigInteger(),Et=this.ecparams.keylen/4,Ee=("0000000000"+We.toString(16)).slice(-Et),ze="04"+("0000000000"+d.toString(16)).slice(-Et)+("0000000000"+gt.toString(16)).slice(-Et);return this.setPrivateKeyHex(Ee),this.setPublicKeyHex(ze),{ecprvhex:Ee,ecpubhex:ze}},this.signWithMessageHash=function(Ge){return this.signHex(Ge,this.prvKeyHex)},this.signHex=function(Ge,We){var nt=new Z(We,16),d=this.ecparams.n,gt=new Z(Ge.substring(0,this.ecparams.keylen/4),16);do{var Et=this.getBigRandom(d),Ee=this.ecparams.G.multiply(Et).getX().toBigInteger().mod(d)}while(Ee.compareTo(Z.ZERO)<=0);var ze=Et.modInverse(d).multiply(gt.add(nt.multiply(Ee))).mod(d);return ie.biRSSigToASN1Sig(Ee,ze)},this.sign=function(Ge,We){var nt=We,d=this.ecparams.n,gt=Z.fromByteArrayUnsigned(Ge);do{var Et=this.getBigRandom(d),Ee=this.ecparams.G.multiply(Et).getX().toBigInteger().mod(d)}while(Ee.compareTo(he.ZERO)<=0);var ze=Et.modInverse(d).multiply(gt.add(nt.multiply(Ee))).mod(d);return this.serializeSig(Ee,ze)},this.verifyWithMessageHash=function(Ge,We){return this.verifyHex(Ge,We,this.pubKeyHex)},this.verifyHex=function(Ge,We,nt){try{var d,gt,Et=ie.parseSigHex(We);d=Et.r,gt=Et.s;var Ee=X.decodeFromHex(this.ecparams.curve,nt),ze=new Z(Ge.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(ze,d,gt,Ee)}catch{return!1}},this.verify=function(Ge,We,nt){var d,gt,Et;if(Bitcoin.Util.isArray(We)){var Ee=this.parseSig(We);d=Ee.r,gt=Ee.s}else{if("object"!==(void 0===We?"undefined":B(We))||!We.r||!We.s)throw"Invalid value for signature";d=We.r,gt=We.s}if(nt instanceof Xt)Et=nt;else{if(!Bitcoin.Util.isArray(nt))throw"Invalid format for pubkey value, must be byte array or ECPointFp";Et=X.decodeFrom(this.ecparams.curve,nt)}var ze=Z.fromByteArrayUnsigned(Ge);return this.verifyRaw(ze,d,gt,Et)},this.verifyRaw=function(Ge,We,nt,d){var gt=this.ecparams.n,Et=this.ecparams.G;if(We.compareTo(Z.ONE)<0||We.compareTo(gt)>=0||nt.compareTo(Z.ONE)<0||nt.compareTo(gt)>=0)return!1;var Ee=nt.modInverse(gt),ze=Ge.multiply(Ee).mod(gt),Ke=We.multiply(Ee).mod(gt);return Et.multiply(ze).add(d.multiply(Ke)).getX().toBigInteger().mod(gt).equals(We)},this.serializeSig=function(Ge,We){var nt=Ge.toByteArraySigned(),d=We.toByteArraySigned(),gt=[];return gt.push(2),gt.push(nt.length),(gt=gt.concat(nt)).push(2),gt.push(d.length),(gt=gt.concat(d)).unshift(gt.length),gt.unshift(48),gt},this.parseSig=function(Ge){var We;if(48!=Ge[0])throw new Error("Signature not a valid DERSequence");if(2!=Ge[We=2])throw new Error("First element in signature must be a DERInteger");var nt=Ge.slice(We+2,We+2+Ge[We+1]);if(2!=Ge[We+=2+Ge[We+1]])throw new Error("Second element in signature must be a DERInteger");var d=Ge.slice(We+2,We+2+Ge[We+1]);return We+=2+Ge[We+1],{r:Z.fromByteArrayUnsigned(nt),s:Z.fromByteArrayUnsigned(d)}},this.parseSigCompact=function(Ge){if(65!==Ge.length)throw"Signature has the wrong length";var We=Ge[0]-27;if(We<0||We>7)throw"Invalid signature type";var nt=this.ecparams.n;return{r:Z.fromByteArrayUnsigned(Ge.slice(1,33)).mod(nt),s:Z.fromByteArrayUnsigned(Ge.slice(33,65)).mod(nt),i:We}},this.readPKCS5PrvKeyHex=function(Ge){if(!1===Be(Ge))throw new Error("not ASN.1 hex string");var We,nt,d;try{We=Me(Ge,0,["[0]",0],"06"),nt=Me(Ge,0,[1],"04");try{d=Me(Ge,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=Pe(We),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(d),this.setPrivateKeyHex(nt),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(Ge){if(!1===Be(Ge))throw new A("not ASN.1 hex string");var We,nt,d;try{Me(Ge,0,[1,0],"06"),We=Me(Ge,0,[1,1],"06"),nt=Me(Ge,0,[2,0,1],"04");try{d=Me(Ge,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new A("malformed PKCS#8 plain ECC private key")}if(this.curveName=Pe(We),void 0===this.curveName)throw new A("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(d),this.setPrivateKeyHex(nt),this.isPublic=!1},this.readPKCS8PubKeyHex=function(Ge){if(!1===Be(Ge))throw new A("not ASN.1 hex string");var We,nt;try{Me(Ge,0,[0,0],"06"),We=Me(Ge,0,[0,1],"06"),nt=Me(Ge,0,[1],"03")}catch{throw new A("malformed PKCS#8 ECC public key")}if(this.curveName=Pe(We),null===this.curveName)throw new A("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(nt)},this.readCertPubKeyHex=function(Ge,We){if(!1===Be(Ge))throw new A("not ASN.1 hex string");var nt,d;try{nt=Me(Ge,0,[0,5,0,1],"06"),d=Me(Ge,0,[0,5,1],"03")}catch{throw new A("malformed X.509 certificate ECC public key")}if(this.curveName=Pe(nt),null===this.curveName)throw new A("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(d)},void 0!==k&&void 0!==k.curve&&(this.curveName=k.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==k&&(void 0!==k.prv&&this.setPrivateKeyHex(k.prv),void 0!==k.pub&&this.setPublicKeyHex(k.pub))},De.crypto.ECDSA.parseSigHex=function(k){var A=De.crypto.ECDSA.parseSigHexInHexRS(k);return{r:new he(A.r,16),s:new he(A.s,16)}},De.crypto.ECDSA.parseSigHexInHexRS=function(k){var Z=Qt.getChildIdx,X=Qt.getV;if(Qt.checkStrictDER(k,0),"30"!=k.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var ie=Z(k,0);if(2!=ie.length)throw new Error("signature shall have two elements");var me=ie[0],Pe=ie[1];if("02"!=k.substr(me,2))throw new Error("1st item not ASN.1 integer");if("02"!=k.substr(Pe,2))throw new Error("2nd item not ASN.1 integer");return{r:X(k,me),s:X(k,Pe)}},De.crypto.ECDSA.asn1SigToConcatSig=function(k){var A=De.crypto.ECDSA.parseSigHexInHexRS(k),Z=A.r,X=A.s;if("00"==Z.substr(0,2)&&Z.length%32==2&&(Z=Z.substr(2)),"00"==X.substr(0,2)&&X.length%32==2&&(X=X.substr(2)),Z.length%32==30&&(Z="00"+Z),X.length%32==30&&(X="00"+X),Z.length%32!=0)throw"unknown ECDSA sig r length error";if(X.length%32!=0)throw"unknown ECDSA sig s length error";return Z+X},De.crypto.ECDSA.concatSigToASN1Sig=function(k){if(k.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var A=k.substr(0,k.length/2),Z=k.substr(k.length/2);return De.crypto.ECDSA.hexRSSigToASN1Sig(A,Z)},De.crypto.ECDSA.hexRSSigToASN1Sig=function(k,A){var Z=new he(k,16),X=new he(A,16);return De.crypto.ECDSA.biRSSigToASN1Sig(Z,X)},De.crypto.ECDSA.biRSSigToASN1Sig=function(k,A){var Z=De.asn1,X=new Z.DERInteger({bigint:k}),ie=new Z.DERInteger({bigint:A});return new Z.DERSequence({array:[X,ie]}).getEncodedHex()},De.crypto.ECDSA.getName=function(k){return"2b8104001f"===k?"secp192k1":"2a8648ce3d030107"===k?"secp256r1":"2b8104000a"===k?"secp256k1":"2b81040021"===k?"secp224r1":"2b81040022"===k?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(k)?"secp256r1":-1!=="|secp256k1|".indexOf(k)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(k)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(k)?"secp384r1":null},void 0!==De&&De||(S.KJUR=De={}),void 0!==De.crypto&&De.crypto||(De.crypto={}),De.crypto.ECParameterDB=new function(){var k={},A={};function Z(X){return new he(X,16)}this.getByName=function(X){var ie=X;if(void 0!==A[ie]&&(ie=A[X]),void 0!==k[ie])return k[ie];throw"unregistered EC curve name: "+ie},this.regist=function(X,ie,me,Pe,Ve,Me,Be,$e,Ge,We,nt,d){k[X]={};var gt=Z(me),Et=Z(Pe),Ee=Z(Ve),ze=Z(Me),Ke=Z(Be),Xe=new Kn(gt,Et,Ee),yt=Xe.decodePointHex("04"+$e+Ge);k[X].name=X,k[X].keylen=ie,k[X].curve=Xe,k[X].G=yt,k[X].n=ze,k[X].h=Ke,k[X].oid=nt,k[X].info=d;for(var At=0;At<We.length;At++)A[We[At]]=X}},De.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),De.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),De.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),De.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),De.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),De.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),De.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),De.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),De.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),De.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var fr=function(){var k=function(Be,$e,Ge){return A(U.AES,Be,$e,Ge)},A=function(Be,$e,Ge,We){var nt=U.enc.Hex.parse($e),d=U.enc.Hex.parse(Ge),gt=U.enc.Hex.parse(We),Et={};Et.key=d,Et.iv=gt,Et.ciphertext=nt;var Ee=Be.decrypt(Et,d,{iv:gt});return U.enc.Hex.stringify(Ee)},Z=function(Be,$e,Ge){return X(U.AES,Be,$e,Ge)},X=function(Be,$e,Ge,We){var nt=U.enc.Hex.parse($e),d=U.enc.Hex.parse(Ge),gt=U.enc.Hex.parse(We),Et=Be.encrypt(nt,d,{iv:gt}),Ee=U.enc.Hex.parse(Et.toString());return U.enc.Base64.stringify(Ee)},ie={"AES-256-CBC":{proc:k,eproc:Z,keylen:32,ivlen:16},"AES-192-CBC":{proc:k,eproc:Z,keylen:24,ivlen:16},"AES-128-CBC":{proc:k,eproc:Z,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(Be,$e,Ge){return A(U.TripleDES,Be,$e,Ge)},eproc:function(Be,$e,Ge){return X(U.TripleDES,Be,$e,Ge)},keylen:24,ivlen:8},"DES-CBC":{proc:function(Be,$e,Ge){return A(U.DES,Be,$e,Ge)},eproc:function(Be,$e,Ge){return X(U.DES,Be,$e,Ge)},keylen:8,ivlen:8}},me=function(Be){var $e={},Ge=Be.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));Ge&&($e.cipher=Ge[1],$e.ivsalt=Ge[2]);var We=Be.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));We&&($e.type=We[1]);var nt=-1,d=0;-1!=Be.indexOf("\r\n\r\n")&&(nt=Be.indexOf("\r\n\r\n"),d=2),-1!=Be.indexOf("\n\n")&&(nt=Be.indexOf("\n\n"),d=1);var gt=Be.indexOf("-----END");if(-1!=nt&&-1!=gt){var Et=Be.substring(nt+2*d,gt-d);Et=Et.replace(/\s+/g,""),$e.data=Et}return $e},Pe=function(Be,$e,Ge){for(var We=Ge.substring(0,16),nt=U.enc.Hex.parse(We),d=U.enc.Utf8.parse($e),gt=ie[Be].keylen+ie[Be].ivlen,Et="",Ee=null;;){var ze=U.algo.MD5.create();if(null!=Ee&&ze.update(Ee),ze.update(d),ze.update(nt),Ee=ze.finalize(),(Et+=U.enc.Hex.stringify(Ee)).length>=2*gt)break}var Ke={};return Ke.keyhex=Et.substr(0,2*ie[Be].keylen),Ke.ivhex=Et.substr(2*ie[Be].keylen,2*ie[Be].ivlen),Ke},Ve=function(Be,$e,Ge,We){var nt=U.enc.Base64.parse(Be),d=U.enc.Hex.stringify(nt);return(0,ie[$e].proc)(d,Ge,We)};return{version:"1.0.0",parsePKCS5PEM:function(Be){return me(Be)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(Be,$e,Ge){return Pe(Be,$e,Ge)},decryptKeyB64:function(Be,$e,Ge,We){return Ve(Be,$e,Ge,We)},getDecryptedKeyHex:function(Be,$e){var Ge=me(Be),We=Ge.cipher,nt=Ge.ivsalt,d=Ge.data,gt=Pe(We,$e,nt).keyhex;return Ve(d,We,gt,nt)},getEncryptedPKCS5PEMFromPrvKeyHex:function(Be,$e,Ge,We,nt){var Ee,ze,d="";if(void 0!==We&&null!=We||(We="AES-256-CBC"),void 0===ie[We])throw"KEYUTIL unsupported algorithm: "+We;void 0!==nt&&null!=nt||(nt=(Ee=ie[We].ivlen,ze=U.lib.WordArray.random(Ee),U.enc.Hex.stringify(ze)).toUpperCase());var gt=function(Ee,ze,Ke,Xe){return(0,ie[ze].eproc)(Ee,Ke,Xe)}($e,We,Pe(We,Ge,nt).keyhex,nt);return d="-----BEGIN "+Be+" PRIVATE KEY-----\r\n",d+="Proc-Type: 4,ENCRYPTED\r\n",d+="DEK-Info: "+We+","+nt+"\r\n",d+="\r\n",(d+=gt.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+Be+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(Be){var Ge=Qt.getChildIdx,We=Qt.getV,nt={},d=Ge(Be,0);if(2!=d.length)throw"malformed format: SEQUENCE(0).items != 2: "+d.length;nt.ciphertext=We(Be,d[1]);var gt=Ge(Be,d[0]);if(2!=gt.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+gt.length;if("2a864886f70d01050d"!=We(Be,gt[0]))throw"this only supports pkcs5PBES2";var Et=Ge(Be,gt[1]);if(2!=gt.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+Et.length;var Ee=Ge(Be,Et[1]);if(2!=Ee.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+Ee.length;if("2a864886f70d0307"!=We(Be,Ee[0]))throw"this only supports TripleDES";nt.encryptionSchemeAlg="TripleDES",nt.encryptionSchemeIV=We(Be,Ee[1]);var ze=Ge(Be,Et[0]);if(2!=ze.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+ze.length;if("2a864886f70d01050c"!=We(Be,ze[0]))throw"this only supports pkcs5PBKDF2";var Ke=Ge(Be,ze[1]);if(Ke.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Ke.length;nt.pbkdf2Salt=We(Be,Ke[0]);var Xe=We(Be,Ke[1]);try{nt.pbkdf2Iter=parseInt(Xe,16)}catch{throw"malformed format pbkdf2Iter: "+Xe}return nt},getPBKDF2KeyHexFromParam:function(Be,$e){var Ge=U.enc.Hex.parse(Be.pbkdf2Salt),nt=U.PBKDF2($e,Ge,{keySize:6,iterations:Be.pbkdf2Iter});return U.enc.Hex.stringify(nt)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(Be,$e){var Ge=ci(Be,"ENCRYPTED PRIVATE KEY"),We=this.parseHexOfEncryptedPKCS8(Ge),nt=fr.getPBKDF2KeyHexFromParam(We,$e),d={};d.ciphertext=U.enc.Hex.parse(We.ciphertext);var gt=U.enc.Hex.parse(nt),Et=U.enc.Hex.parse(We.encryptionSchemeIV),Ee=U.TripleDES.decrypt(d,gt,{iv:Et});return U.enc.Hex.stringify(Ee)},getKeyFromEncryptedPKCS8PEM:function(Be,$e){var Ge=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(Be,$e);return this.getKeyFromPlainPrivatePKCS8Hex(Ge)},parsePlainPrivatePKCS8Hex:function(Be){var $e=Qt,Ge=$e.getChildIdx,We=$e.getV,nt={algparam:null};if("30"!=Be.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var d=Ge(Be,0);if(3!=d.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=Be.substr(d[1],2))throw"malformed PKCS8 private key(code:003)";var gt=Ge(Be,d[1]);if(2!=gt.length)throw"malformed PKCS8 private key(code:004)";if("06"!=Be.substr(gt[0],2))throw"malformed PKCS8 private key(code:005)";if(nt.algoid=We(Be,gt[0]),"06"==Be.substr(gt[1],2)&&(nt.algparam=We(Be,gt[1])),"04"!=Be.substr(d[2],2))throw"malformed PKCS8 private key(code:006)";return nt.keyidx=$e.getVidx(Be,d[2]),nt},getKeyFromPlainPrivatePKCS8PEM:function(Be){var $e=ci(Be,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex($e)},getKeyFromPlainPrivatePKCS8Hex:function(Be){var $e,Ge=this.parsePlainPrivatePKCS8Hex(Be);if("2a864886f70d010101"==Ge.algoid)$e=new zt;else if("2a8648ce380401"==Ge.algoid)$e=new De.crypto.DSA;else{if("2a8648ce3d0201"!=Ge.algoid)throw"unsupported private key algorithm";$e=new De.crypto.ECDSA}return $e.readPKCS8PrvKeyHex(Be),$e},_getKeyFromPublicPKCS8Hex:function(Be){var $e,Ge=Qt.getVbyList(Be,0,[0,0],"06");if("2a864886f70d010101"===Ge)$e=new zt;else if("2a8648ce380401"===Ge)$e=new De.crypto.DSA;else{if("2a8648ce3d0201"!==Ge)throw"unsupported PKCS#8 public key hex";$e=new De.crypto.ECDSA}return $e.readPKCS8PubKeyHex(Be),$e},parsePublicRawRSAKeyHex:function(Be){var Ge=Qt.getChildIdx,We=Qt.getV,nt={};if("30"!=Be.substr(0,2))throw"malformed RSA key(code:001)";var d=Ge(Be,0);if(2!=d.length)throw"malformed RSA key(code:002)";if("02"!=Be.substr(d[0],2))throw"malformed RSA key(code:003)";if(nt.n=We(Be,d[0]),"02"!=Be.substr(d[1],2))throw"malformed RSA key(code:004)";return nt.e=We(Be,d[1]),nt},parsePublicPKCS8Hex:function(Be){var $e=Qt,Ge=$e.getChildIdx,We=$e.getV,nt={algparam:null},d=Ge(Be,0);if(2!=d.length)throw"outer DERSequence shall have 2 elements: "+d.length;var gt=d[0];if("30"!=Be.substr(gt,2))throw"malformed PKCS8 public key(code:001)";var Et=Ge(Be,gt);if(2!=Et.length)throw"malformed PKCS8 public key(code:002)";if("06"!=Be.substr(Et[0],2))throw"malformed PKCS8 public key(code:003)";if(nt.algoid=We(Be,Et[0]),"06"==Be.substr(Et[1],2)?nt.algparam=We(Be,Et[1]):"30"==Be.substr(Et[1],2)&&(nt.algparam={},nt.algparam.p=$e.getVbyList(Be,Et[1],[0],"02"),nt.algparam.q=$e.getVbyList(Be,Et[1],[1],"02"),nt.algparam.g=$e.getVbyList(Be,Et[1],[2],"02")),"03"!=Be.substr(d[1],2))throw"malformed PKCS8 public key(code:004)";return nt.key=We(Be,d[1]).substr(2),nt}}}();fr.getKey=function(k,A,Z){var gr,X=(Et=Qt).getChildIdx,ie=Et.getVbyList,me=De.crypto,Pe=me.ECDSA,Ve=me.DSA,Me=zt,Be=ci,$e=fr;if(void 0!==Me&&k instanceof Me||void 0!==Pe&&k instanceof Pe||void 0!==Ve&&k instanceof Ve)return k;if(void 0!==k.curve&&void 0!==k.xy&&void 0===k.d)return new Pe({pub:k.xy,curve:k.curve});if(void 0!==k.curve&&void 0!==k.d)return new Pe({prv:k.d,curve:k.curve});if(void 0===k.kty&&void 0!==k.n&&void 0!==k.e&&void 0===k.d)return(gn=new Me).setPublic(k.n,k.e),gn;if(void 0===k.kty&&void 0!==k.n&&void 0!==k.e&&void 0!==k.d&&void 0!==k.p&&void 0!==k.q&&void 0!==k.dp&&void 0!==k.dq&&void 0!==k.co&&void 0===k.qi)return(gn=new Me).setPrivateEx(k.n,k.e,k.d,k.p,k.q,k.dp,k.dq,k.co),gn;if(void 0===k.kty&&void 0!==k.n&&void 0!==k.e&&void 0!==k.d&&void 0===k.p)return(gn=new Me).setPrivate(k.n,k.e,k.d),gn;if(void 0!==k.p&&void 0!==k.q&&void 0!==k.g&&void 0!==k.y&&void 0===k.x)return(gn=new Ve).setPublic(k.p,k.q,k.g,k.y),gn;if(void 0!==k.p&&void 0!==k.q&&void 0!==k.g&&void 0!==k.y&&void 0!==k.x)return(gn=new Ve).setPrivate(k.p,k.q,k.g,k.y,k.x),gn;if("RSA"===k.kty&&void 0!==k.n&&void 0!==k.e&&void 0===k.d)return(gn=new Me).setPublic(cn(k.n),cn(k.e)),gn;if("RSA"===k.kty&&void 0!==k.n&&void 0!==k.e&&void 0!==k.d&&void 0!==k.p&&void 0!==k.q&&void 0!==k.dp&&void 0!==k.dq&&void 0!==k.qi)return(gn=new Me).setPrivateEx(cn(k.n),cn(k.e),cn(k.d),cn(k.p),cn(k.q),cn(k.dp),cn(k.dq),cn(k.qi)),gn;if("RSA"===k.kty&&void 0!==k.n&&void 0!==k.e&&void 0!==k.d)return(gn=new Me).setPrivate(cn(k.n),cn(k.e),cn(k.d)),gn;if("EC"===k.kty&&void 0!==k.crv&&void 0!==k.x&&void 0!==k.y&&void 0===k.d){var Ge=(en=new Pe({curve:k.crv})).ecparams.keylen/4,We="04"+("0000000000"+cn(k.x)).slice(-Ge)+("0000000000"+cn(k.y)).slice(-Ge);return en.setPublicKeyHex(We),en}if("EC"===k.kty&&void 0!==k.crv&&void 0!==k.x&&void 0!==k.y&&void 0!==k.d){Ge=(en=new Pe({curve:k.crv})).ecparams.keylen/4,We="04"+("0000000000"+cn(k.x)).slice(-Ge)+("0000000000"+cn(k.y)).slice(-Ge);var nt=("0000000000"+cn(k.d)).slice(-Ge);return en.setPublicKeyHex(We),en.setPrivateKeyHex(nt),en}if("pkcs5prv"===Z){var d,gt=k,Et=Qt;if(9===(d=X(gt,0)).length)(gn=new Me).readPKCS5PrvKeyHex(gt);else if(6===d.length)(gn=new Ve).readPKCS5PrvKeyHex(gt);else{if(!(d.length>2&&"04"===gt.substr(d[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(gn=new Pe).readPKCS5PrvKeyHex(gt)}return gn}if("pkcs8prv"===Z)return $e.getKeyFromPlainPrivatePKCS8Hex(k);if("pkcs8pub"===Z)return $e._getKeyFromPublicPKCS8Hex(k);if("x509pub"===Z)return mr.getPublicKeyFromCertHex(k);if(-1!=k.indexOf("-END CERTIFICATE-",0)||-1!=k.indexOf("-END X509 CERTIFICATE-",0)||-1!=k.indexOf("-END TRUSTED CERTIFICATE-",0))return mr.getPublicKeyFromCertPEM(k);if(-1!=k.indexOf("-END PUBLIC KEY-")){var Ee=ci(k,"PUBLIC KEY");return $e._getKeyFromPublicPKCS8Hex(Ee)}if(-1!=k.indexOf("-END RSA PRIVATE KEY-")&&-1==k.indexOf("4,ENCRYPTED")){var ze=Be(k,"RSA PRIVATE KEY");return $e.getKey(ze,null,"pkcs5prv")}if(-1!=k.indexOf("-END DSA PRIVATE KEY-")&&-1==k.indexOf("4,ENCRYPTED")){var Ke=ie(gr=Be(k,"DSA PRIVATE KEY"),0,[1],"02"),Xe=ie(gr,0,[2],"02"),yt=ie(gr,0,[3],"02"),At=ie(gr,0,[4],"02"),Wt=ie(gr,0,[5],"02");return(gn=new Ve).setPrivate(new he(Ke,16),new he(Xe,16),new he(yt,16),new he(At,16),new he(Wt,16)),gn}if(-1!=k.indexOf("-END EC PRIVATE KEY-")&&-1==k.indexOf("4,ENCRYPTED"))return ze=Be(k,"EC PRIVATE KEY"),$e.getKey(ze,null,"pkcs5prv");if(-1!=k.indexOf("-END PRIVATE KEY-"))return $e.getKeyFromPlainPrivatePKCS8PEM(k);if(-1!=k.indexOf("-END RSA PRIVATE KEY-")&&-1!=k.indexOf("4,ENCRYPTED")){var jt=$e.getDecryptedKeyHex(k,A),Bn=new zt;return Bn.readPKCS5PrvKeyHex(jt),Bn}if(-1!=k.indexOf("-END EC PRIVATE KEY-")&&-1!=k.indexOf("4,ENCRYPTED")){var en,gn=ie(gr=$e.getDecryptedKeyHex(k,A),0,[1],"04"),or=ie(gr,0,[2,0],"06"),hr=ie(gr,0,[3,0],"03").substr(2);if(void 0===De.crypto.OID.oidhex2name[or])throw"undefined OID(hex) in KJUR.crypto.OID: "+or;return(en=new Pe({curve:De.crypto.OID.oidhex2name[or]})).setPublicKeyHex(hr),en.setPrivateKeyHex(gn),en.isPublic=!1,en}if(-1!=k.indexOf("-END DSA PRIVATE KEY-")&&-1!=k.indexOf("4,ENCRYPTED"))return Ke=ie(gr=$e.getDecryptedKeyHex(k,A),0,[1],"02"),Xe=ie(gr,0,[2],"02"),yt=ie(gr,0,[3],"02"),At=ie(gr,0,[4],"02"),Wt=ie(gr,0,[5],"02"),(gn=new Ve).setPrivate(new he(Ke,16),new he(Xe,16),new he(yt,16),new he(At,16),new he(Wt,16)),gn;if(-1!=k.indexOf("-END ENCRYPTED PRIVATE KEY-"))return $e.getKeyFromEncryptedPKCS8PEM(k,A);throw new Error("not supported argument")},fr.generateKeypair=function(k,A){if("RSA"==k){var Z=A;(Pe=new zt).generate(Z,"10001"),Pe.isPrivate=!0,Pe.isPublic=!0;var X=new zt,ie=Pe.n.toString(16),me=Pe.e.toString(16);return X.setPublic(ie,me),X.isPrivate=!1,X.isPublic=!0,(Ve={}).prvKeyObj=Pe,Ve.pubKeyObj=X,Ve}if("EC"==k){var Pe,Ve,Me=A,Be=new De.crypto.ECDSA({curve:Me}).generateKeyPairHex();return(Pe=new De.crypto.ECDSA({curve:Me})).setPublicKeyHex(Be.ecpubhex),Pe.setPrivateKeyHex(Be.ecprvhex),Pe.isPrivate=!0,Pe.isPublic=!1,(X=new De.crypto.ECDSA({curve:Me})).setPublicKeyHex(Be.ecpubhex),X.isPrivate=!1,X.isPublic=!0,(Ve={}).prvKeyObj=Pe,Ve.pubKeyObj=X,Ve}throw"unknown algorithm: "+k},fr.getPEM=function(k,A,Z,X,ie,me){var Ve=De.asn1,Me=Ve.DERObjectIdentifier,Be=Ve.DERInteger,$e=Ve.ASN1Util.newObject,We=De.crypto,nt=We.DSA,d=We.ECDSA,gt=zt;function Et(en){return $e({seq:[{int:0},{int:{bigint:en.n}},{int:en.e},{int:{bigint:en.d}},{int:{bigint:en.p}},{int:{bigint:en.q}},{int:{bigint:en.dmp1}},{int:{bigint:en.dmq1}},{int:{bigint:en.coeff}}]})}function Ee(en){return $e({seq:[{int:1},{octstr:{hex:en.prvKeyHex}},{tag:["a0",!0,{oid:{name:en.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+en.pubKeyHex}}]}]})}function ze(en){return $e({seq:[{int:0},{int:{bigint:en.p}},{int:{bigint:en.q}},{int:{bigint:en.g}},{int:{bigint:en.y}},{int:{bigint:en.x}}]})}if((void 0!==gt&&k instanceof gt||void 0!==nt&&k instanceof nt||void 0!==d&&k instanceof d)&&1==k.isPublic&&(void 0===A||"PKCS8PUB"==A))return Lr(At=new(0,Ve.x509.SubjectPublicKeyInfo)(k).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==A&&void 0!==gt&&k instanceof gt&&(void 0===Z||null==Z)&&1==k.isPrivate)return Lr(At=Et(k).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==A&&void 0!==d&&k instanceof d&&(void 0===Z||null==Z)&&1==k.isPrivate){var Ke=new Me({name:k.curveName}).getEncodedHex(),Xe=Ee(k).getEncodedHex(),yt="";return(yt+=Lr(Ke,"EC PARAMETERS"))+Lr(Xe,"EC PRIVATE KEY")}if("PKCS1PRV"==A&&void 0!==nt&&k instanceof nt&&(void 0===Z||null==Z)&&1==k.isPrivate)return Lr(At=ze(k).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==A&&void 0!==gt&&k instanceof gt&&void 0!==Z&&null!=Z&&1==k.isPrivate){var At=Et(k).getEncodedHex();return void 0===X&&(X="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",At,Z,X,me)}if("PKCS5PRV"==A&&void 0!==d&&k instanceof d&&void 0!==Z&&null!=Z&&1==k.isPrivate)return At=Ee(k).getEncodedHex(),void 0===X&&(X="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",At,Z,X,me);if("PKCS5PRV"==A&&void 0!==nt&&k instanceof nt&&void 0!==Z&&null!=Z&&1==k.isPrivate)return At=ze(k).getEncodedHex(),void 0===X&&(X="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",At,Z,X,me);var Wt=function(gn,or){var hr=jt(gn,or);return new $e({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:hr.pbkdf2Salt}},{int:hr.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:hr.encryptionSchemeIV}}]}]}]},{octstr:{hex:hr.ciphertext}}]}).getEncodedHex()},jt=function(gn,or){var hr=U.lib.WordArray.random(8),gr=U.lib.WordArray.random(8),ii=U.PBKDF2(or,hr,{keySize:6,iterations:100}),Yr=U.enc.Hex.parse(gn),jr=U.TripleDES.encrypt(Yr,ii,{iv:gr})+"",Ze={};return Ze.ciphertext=jr,Ze.pbkdf2Salt=U.enc.Hex.stringify(hr),Ze.pbkdf2Iter=100,Ze.encryptionSchemeAlg="DES-EDE3-CBC",Ze.encryptionSchemeIV=U.enc.Hex.stringify(gr),Ze};if("PKCS8PRV"==A&&null!=gt&&k instanceof gt&&1==k.isPrivate){var Bn=Et(k).getEncodedHex();return At=$e({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:Bn}}]}).getEncodedHex(),void 0===Z||null==Z?Lr(At,"PRIVATE KEY"):Lr(Xe=Wt(At,Z),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==A&&void 0!==d&&k instanceof d&&1==k.isPrivate)return Bn=new $e({seq:[{int:1},{octstr:{hex:k.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+k.pubKeyHex}}]}]}).getEncodedHex(),At=$e({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:k.curveName}}]},{octstr:{hex:Bn}}]}).getEncodedHex(),void 0===Z||null==Z?Lr(At,"PRIVATE KEY"):Lr(Xe=Wt(At,Z),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==A&&void 0!==nt&&k instanceof nt&&1==k.isPrivate)return Bn=new Be({bigint:k.x}).getEncodedHex(),At=$e({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:k.p}},{int:{bigint:k.q}},{int:{bigint:k.g}}]}]},{octstr:{hex:Bn}}]}).getEncodedHex(),void 0===Z||null==Z?Lr(At,"PRIVATE KEY"):Lr(Xe=Wt(At,Z),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},fr.getKeyFromCSRPEM=function(k){var A=ci(k,"CERTIFICATE REQUEST");return fr.getKeyFromCSRHex(A)},fr.getKeyFromCSRHex=function(k){var A=fr.parseCSRHex(k);return fr.getKey(A.p8pubkeyhex,null,"pkcs8pub")},fr.parseCSRHex=function(k){var Z=Qt.getChildIdx,X=Qt.getTLV,ie={},me=k;if("30"!=me.substr(0,2))throw"malformed CSR(code:001)";var Pe=Z(me,0);if(Pe.length<1)throw"malformed CSR(code:002)";if("30"!=me.substr(Pe[0],2))throw"malformed CSR(code:003)";var Ve=Z(me,Pe[0]);if(Ve.length<3)throw"malformed CSR(code:004)";return ie.p8pubkeyhex=X(me,Ve[2]),ie},fr.getKeyID=function(k){var A=fr,Z=Qt;"string"==typeof k&&-1!=k.indexOf("BEGIN ")&&(k=A.getKey(k));var X=ci(A.getPEM(k)),ie=Z.getIdxbyList(X,0,[1]),me=Z.getV(X,ie).substring(2);return De.crypto.Util.hashHex(me,"sha1")},fr.getJWKFromKey=function(k){var A={};if(k instanceof zt&&k.isPrivate)return A.kty="RSA",A.n=Cn(k.n.toString(16)),A.e=Cn(k.e.toString(16)),A.d=Cn(k.d.toString(16)),A.p=Cn(k.p.toString(16)),A.q=Cn(k.q.toString(16)),A.dp=Cn(k.dmp1.toString(16)),A.dq=Cn(k.dmq1.toString(16)),A.qi=Cn(k.coeff.toString(16)),A;if(k instanceof zt&&k.isPublic)return A.kty="RSA",A.n=Cn(k.n.toString(16)),A.e=Cn(k.e.toString(16)),A;if(k instanceof De.crypto.ECDSA&&k.isPrivate){if("P-256"!==(X=k.getShortNISTPCurveName())&&"P-384"!==X)throw"unsupported curve name for JWT: "+X;var Z=k.getPublicKeyXYHex();return A.kty="EC",A.crv=X,A.x=Cn(Z.x),A.y=Cn(Z.y),A.d=Cn(k.prvKeyHex),A}if(k instanceof De.crypto.ECDSA&&k.isPublic){var X;if("P-256"!==(X=k.getShortNISTPCurveName())&&"P-384"!==X)throw"unsupported curve name for JWT: "+X;return Z=k.getPublicKeyXYHex(),A.kty="EC",A.crv=X,A.x=Cn(Z.x),A.y=Cn(Z.y),A}throw"not supported key object"},zt.getPosArrayOfChildrenFromHex=function(k){return Qt.getChildIdx(k,0)},zt.getHexValueArrayOfChildrenFromHex=function(k){var A,Z=Qt.getV,X=Z(k,(A=zt.getPosArrayOfChildrenFromHex(k))[0]),ie=Z(k,A[1]),me=Z(k,A[2]),Pe=Z(k,A[3]),Ve=Z(k,A[4]),Me=Z(k,A[5]),Be=Z(k,A[6]),$e=Z(k,A[7]),Ge=Z(k,A[8]);return(A=new Array).push(X,ie,me,Pe,Ve,Me,Be,$e,Ge),A},zt.prototype.readPrivateKeyFromPEMString=function(k){var A=ci(k),Z=zt.getHexValueArrayOfChildrenFromHex(A);this.setPrivateEx(Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7],Z[8])},zt.prototype.readPKCS5PrvKeyHex=function(k){var A=zt.getHexValueArrayOfChildrenFromHex(k);this.setPrivateEx(A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8])},zt.prototype.readPKCS8PrvKeyHex=function(k){var A,Z,X,ie,me,Pe,Ve,Me,$e=Qt.getVbyListEx;if(!1===Qt.isASN1HEX(k))throw new Error("not ASN.1 hex string");try{A=$e(k,0,[2,0,1],"02"),Z=$e(k,0,[2,0,2],"02"),X=$e(k,0,[2,0,3],"02"),ie=$e(k,0,[2,0,4],"02"),me=$e(k,0,[2,0,5],"02"),Pe=$e(k,0,[2,0,6],"02"),Ve=$e(k,0,[2,0,7],"02"),Me=$e(k,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(A,Z,X,ie,me,Pe,Ve,Me)},zt.prototype.readPKCS5PubKeyHex=function(k){var A=Qt,Z=A.getV;if(!1===A.isASN1HEX(k))throw new Error("keyHex is not ASN.1 hex string");var X=A.getChildIdx(k,0);if(2!==X.length||"02"!==k.substr(X[0],2)||"02"!==k.substr(X[1],2))throw new Error("wrong hex for PKCS#5 public key");var ie=Z(k,X[0]),me=Z(k,X[1]);this.setPublic(ie,me)},zt.prototype.readPKCS8PubKeyHex=function(k){var A=Qt;if(!1===A.isASN1HEX(k))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==A.getTLVbyListEx(k,0,[0,0]))throw new Error("not PKCS8 RSA public key");var Z=A.getTLVbyListEx(k,0,[1,0]);this.readPKCS5PubKeyHex(Z)},zt.prototype.readCertPubKeyHex=function(k,A){var Z,X;(Z=new mr).readCertHex(k),X=Z.getPublicKeyHex(),this.readPKCS8PubKeyHex(X)};var ho=new RegExp("[^0-9a-f]","gi");function wa(k,A){for(var Z="",X=A/4-k.length,ie=0;ie<X;ie++)Z+="0";return Z+k}function di(k,A,Z){for(var X="",ie=0;X.length<A;)X+=wn(Z(kr(k+String.fromCharCode.apply(String,[(4278190080&ie)>>24,(16711680&ie)>>16,(65280&ie)>>8,255&ie])))),ie+=1;return X}function da(k){for(var A in De.crypto.Util.DIGESTINFOHEAD){var Z=De.crypto.Util.DIGESTINFOHEAD[A],X=Z.length;if(k.substring(0,X)==Z)return[A,k.substring(X)]}return[]}function mr(k){var A,Z=Qt,X=Z.getChildIdx,ie=Z.getV,me=Z.getTLV,Pe=Z.getVbyList,Ve=Z.getVbyListEx,Me=Z.getTLVbyList,Be=Z.getTLVbyListEx,$e=Z.getIdxbyList,Ge=Z.getIdxbyListEx,We=Z.getVidx,nt=Z.oidname,d=Z.hextooidstr,gt=mr,Et=ci;try{A=De.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==Me(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return Ve(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var Ee=Be(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(Ee)},this.getAlgorithmIdentifierName=function(Ee){for(var ze in A)if(Ee===A[ze])return ze;return nt(Ve(Ee,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return Me(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return gt.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return Me(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return gt.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var Ee=Pe(this.hex,0,[0,4+this.foffset,0]);return Ee=Ee.replace(/(..)/g,"%$1"),decodeURIComponent(Ee)},this.getNotAfter=function(){var Ee=Pe(this.hex,0,[0,4+this.foffset,1]);return Ee=Ee.replace(/(..)/g,"%$1"),decodeURIComponent(Ee)},this.getPublicKeyHex=function(){return Z.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return $e(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var Ee=this.getPublicKeyIdx();return $e(this.hex,Ee,[1,0],"30")},this.getPublicKey=function(){return fr.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var Ee=Me(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(Ee)},this.getSignatureValueHex=function(){return Pe(this.hex,0,[2],"03",!0)},this.verifySignature=function(Ee){var ze=this.getSignatureAlgorithmField(),Ke=this.getSignatureValueHex(),Xe=Me(this.hex,0,[0],"30"),yt=new De.crypto.Signature({alg:ze});return yt.init(Ee),yt.updateHex(Xe),yt.verify(Ke)},this.parseExt=function(Ee){var ze,Ke,Xe;if(void 0===Ee){if(3!==this.version)return-1;ze=$e(Xe=this.hex,0,[0,7,0],"30"),Ke=X(Xe,ze)}else{Xe=ci(Ee);var yt=$e(Xe,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=ie(Xe,yt))return void(this.aExtInfo=new Array);ze=$e(Xe,0,[0,3,0,1,0],"30"),Ke=X(Xe,ze),this.hex=Xe}this.aExtInfo=new Array;for(var At=0;At<Ke.length;At++){var Wt={critical:!1},jt=0;3===X(Xe,Ke[At]).length&&(Wt.critical=!0,jt=1),Wt.oid=Z.hextooidstr(Pe(Xe,Ke[At],[0],"06"));var Bn=$e(Xe,Ke[At],[1+jt]);Wt.vidx=We(Xe,Bn),this.aExtInfo.push(Wt)}},this.getExtInfo=function(Ee){var ze=this.aExtInfo,Ke=Ee;if(Ee.match(/^[0-9.]+$/)||(Ke=De.asn1.x509.OID.name2oid(Ee)),""!==Ke)for(var Xe=0;Xe<ze.length;Xe++)if(ze[Xe].oid===Ke)return ze[Xe]},this.getExtBasicConstraints=function(Ee,ze){if(void 0===Ee&&void 0===ze){var Ke=this.getExtInfo("basicConstraints");if(void 0===Ke)return;Ee=me(this.hex,Ke.vidx),ze=Ke.critical}var Xe={extname:"basicConstraints"};if(ze&&(Xe.critical=!0),"3000"===Ee)return Xe;if("30030101ff"===Ee)return Xe.cA=!0,Xe;if("30060101ff02"===Ee.substr(0,12)){var yt=ie(Ee,10),At=parseInt(yt,16);return Xe.cA=!0,Xe.pathLen=At,Xe}throw new Error("hExtV parse error: "+Ee)},this.getExtKeyUsage=function(Ee,ze){if(void 0===Ee&&void 0===ze){var Ke=this.getExtInfo("keyUsage");if(void 0===Ke)return;Ee=me(this.hex,Ke.vidx),ze=Ke.critical}var Xe={extname:"keyUsage"};return ze&&(Xe.critical=!0),Xe.names=this.getExtKeyUsageString(Ee).split(","),Xe},this.getExtKeyUsageBin=function(Ee){if(void 0===Ee){var ze=this.getExtInfo("keyUsage");if(void 0===ze)return"";Ee=me(this.hex,ze.vidx)}if(8!=Ee.length&&10!=Ee.length)throw new Error("malformed key usage value: "+Ee);var Ke="000000000000000"+parseInt(Ee.substr(6),16).toString(2);return 8==Ee.length&&(Ke=Ke.slice(-8)),10==Ee.length&&(Ke=Ke.slice(-16)),""==(Ke=Ke.replace(/0+$/,""))&&(Ke="0"),Ke},this.getExtKeyUsageString=function(Ee){for(var ze=this.getExtKeyUsageBin(Ee),Ke=new Array,Xe=0;Xe<ze.length;Xe++)"1"==ze.substr(Xe,1)&&Ke.push(mr.KEYUSAGE_NAME[Xe]);return Ke.join(",")},this.getExtSubjectKeyIdentifier=function(Ee,ze){if(void 0===Ee&&void 0===ze){var Ke=this.getExtInfo("subjectKeyIdentifier");if(void 0===Ke)return;Ee=me(this.hex,Ke.vidx),ze=Ke.critical}var Xe={extname:"subjectKeyIdentifier"};ze&&(Xe.critical=!0);var yt=ie(Ee,0);return Xe.kid={hex:yt},Xe},this.getExtAuthorityKeyIdentifier=function(Ee,ze){if(void 0===Ee&&void 0===ze){var Ke=this.getExtInfo("authorityKeyIdentifier");if(void 0===Ke)return;Ee=me(this.hex,Ke.vidx),ze=Ke.critical}var Xe={extname:"authorityKeyIdentifier"};ze&&(Xe.critical=!0);for(var yt=X(Ee,0),At=0;At<yt.length;At++){var Wt=Ee.substr(yt[At],2);if("80"===Wt&&(Xe.kid={hex:ie(Ee,yt[At])}),"a1"===Wt){var jt=me(Ee,yt[At]),Bn=this.getGeneralNames(jt);Xe.issuer=Bn[0].dn}"82"===Wt&&(Xe.sn={hex:ie(Ee,yt[At])})}return Xe},this.getExtExtKeyUsage=function(Ee,ze){if(void 0===Ee&&void 0===ze){var Ke=this.getExtInfo("extKeyUsage");if(void 0===Ke)return;Ee=me(this.hex,Ke.vidx),ze=Ke.critical}var Xe={extname:"extKeyUsage",array:[]};ze&&(Xe.critical=!0);for(var yt=X(Ee,0),At=0;At<yt.length;At++)Xe.array.push(nt(ie(Ee,yt[At])));return Xe},this.getExtExtKeyUsageName=function(){var Ee=this.getExtInfo("extKeyUsage");if(void 0===Ee)return Ee;var ze=new Array,Ke=me(this.hex,Ee.vidx);if(""===Ke)return ze;for(var Xe=X(Ke,0),yt=0;yt<Xe.length;yt++)ze.push(nt(ie(Ke,Xe[yt])));return ze},this.getExtSubjectAltName=function(Ee,ze){if(void 0===Ee&&void 0===ze){var Ke=this.getExtInfo("subjectAltName");if(void 0===Ke)return;Ee=me(this.hex,Ke.vidx),ze=Ke.critical}var Xe={extname:"subjectAltName",array:[]};return ze&&(Xe.critical=!0),Xe.array=this.getGeneralNames(Ee),Xe},this.getExtIssuerAltName=function(Ee,ze){if(void 0===Ee&&void 0===ze){var Ke=this.getExtInfo("issuerAltName");if(void 0===Ke)return;Ee=me(this.hex,Ke.vidx),ze=Ke.critical}var Xe={extname:"issuerAltName",array:[]};return ze&&(Xe.critical=!0),Xe.array=this.getGeneralNames(Ee),Xe},this.getGeneralNames=function(Ee){for(var ze=X(Ee,0),Ke=[],Xe=0;Xe<ze.length;Xe++){var yt=this.getGeneralName(me(Ee,ze[Xe]));void 0!==yt&&Ke.push(yt)}return Ke},this.getGeneralName=function(Ee){var ze=Ee.substr(0,2),Ke=ie(Ee,0),Xe=wn(Ke);return"81"==ze?{rfc822:Xe}:"82"==ze?{dns:Xe}:"86"==ze?{uri:Xe}:"87"==ze?{ip:Ca(Ke)}:"a4"==ze?{dn:this.getX500Name(Ke)}:void 0},this.getExtSubjectAltName2=function(){var Ee,ze,Ke,Xe=this.getExtInfo("subjectAltName");if(void 0===Xe)return Xe;for(var yt=new Array,At=me(this.hex,Xe.vidx),Wt=X(At,0),jt=0;jt<Wt.length;jt++)Ke=At.substr(Wt[jt],2),Ee=ie(At,Wt[jt]),"81"===Ke&&(ze=lr(Ee),yt.push(["MAIL",ze])),"82"===Ke&&(ze=lr(Ee),yt.push(["DNS",ze])),"84"===Ke&&(ze=mr.hex2dn(Ee,0),yt.push(["DN",ze])),"86"===Ke&&(ze=lr(Ee),yt.push(["URI",ze])),"87"===Ke&&(ze=Ca(Ee),yt.push(["IP",ze]));return yt},this.getExtCRLDistributionPoints=function(Ee,ze){if(void 0===Ee&&void 0===ze){var Ke=this.getExtInfo("cRLDistributionPoints");if(void 0===Ke)return;Ee=me(this.hex,Ke.vidx),ze=Ke.critical}var Xe={extname:"cRLDistributionPoints",array:[]};ze&&(Xe.critical=!0);for(var yt=X(Ee,0),At=0;At<yt.length;At++){var Wt=me(Ee,yt[At]);Xe.array.push(this.getDistributionPoint(Wt))}return Xe},this.getDistributionPoint=function(Ee){for(var ze={},Ke=X(Ee,0),Xe=0;Xe<Ke.length;Xe++){var yt=Ee.substr(Ke[Xe],2),At=me(Ee,Ke[Xe]);"a0"==yt&&(ze.dpname=this.getDistributionPointName(At))}return ze},this.getDistributionPointName=function(Ee){for(var ze={},Ke=X(Ee,0),Xe=0;Xe<Ke.length;Xe++){var yt=Ee.substr(Ke[Xe],2),At=me(Ee,Ke[Xe]);"a0"==yt&&(ze.full=this.getGeneralNames(At))}return ze},this.getExtCRLDistributionPointsURI=function(){var Ee=this.getExtInfo("cRLDistributionPoints");if(void 0===Ee)return Ee;for(var ze=new Array,Ke=X(this.hex,Ee.vidx),Xe=0;Xe<Ke.length;Xe++)try{var yt=lr(Pe(this.hex,Ke[Xe],[0,0,0],"86"));ze.push(yt)}catch{}return ze},this.getExtAIAInfo=function(){var Ee=this.getExtInfo("authorityInfoAccess");if(void 0===Ee)return Ee;for(var ze={ocsp:[],caissuer:[]},Ke=X(this.hex,Ee.vidx),Xe=0;Xe<Ke.length;Xe++){var yt=Pe(this.hex,Ke[Xe],[0],"06"),At=Pe(this.hex,Ke[Xe],[1],"86");"2b06010505073001"===yt&&ze.ocsp.push(lr(At)),"2b06010505073002"===yt&&ze.caissuer.push(lr(At))}return ze},this.getExtAuthorityInfoAccess=function(Ee,ze){if(void 0===Ee&&void 0===ze){var Ke=this.getExtInfo("authorityInfoAccess");if(void 0===Ke)return;Ee=me(this.hex,Ke.vidx),ze=Ke.critical}var Xe={extname:"authorityInfoAccess",array:[]};ze&&(Xe.critical=!0);for(var yt=X(Ee,0),At=0;At<yt.length;At++){var Wt=Ve(Ee,yt[At],[0],"06"),jt=lr(Pe(Ee,yt[At],[1],"86"));if("2b06010505073001"==Wt)Xe.array.push({ocsp:jt});else{if("2b06010505073002"!=Wt)throw new Error("unknown method: "+Wt);Xe.array.push({caissuer:jt})}}return Xe},this.getExtCertificatePolicies=function(Ee,ze){if(void 0===Ee&&void 0===ze){var Ke=this.getExtInfo("certificatePolicies");if(void 0===Ke)return;Ee=me(this.hex,Ke.vidx),ze=Ke.critical}var Xe={extname:"certificatePolicies",array:[]};ze&&(Xe.critical=!0);for(var yt=X(Ee,0),At=0;At<yt.length;At++){var Wt=me(Ee,yt[At]),jt=this.getPolicyInformation(Wt);Xe.array.push(jt)}return Xe},this.getPolicyInformation=function(Ee){var ze={},Ke=Pe(Ee,0,[0],"06");ze.policyoid=nt(Ke);var Xe=Ge(Ee,0,[1],"30");if(-1!=Xe){ze.array=[];for(var yt=X(Ee,Xe),At=0;At<yt.length;At++){var Wt=me(Ee,yt[At]),jt=this.getPolicyQualifierInfo(Wt);ze.array.push(jt)}}return ze},this.getPolicyQualifierInfo=function(Ee){var ze={},Ke=Pe(Ee,0,[0],"06");if("2b06010505070201"===Ke){var Xe=Ve(Ee,0,[1],"16");ze.cps=wn(Xe)}else if("2b06010505070202"===Ke){var yt=Me(Ee,0,[1],"30");ze.unotice=this.getUserNotice(yt)}return ze},this.getUserNotice=function(Ee){for(var ze={},Ke=X(Ee,0),Xe=0;Xe<Ke.length;Xe++){var yt=me(Ee,Ke[Xe]);"30"!=yt.substr(0,2)&&(ze.exptext=this.getDisplayText(yt))}return ze},this.getDisplayText=function(Ee){var ze={};return ze.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[Ee.substr(0,2)],ze.str=wn(ie(Ee,0)),ze},this.getExtCRLNumber=function(Ee,ze){var Ke={extname:"cRLNumber"};if(ze&&(Ke.critical=!0),"02"==Ee.substr(0,2))return Ke.num={hex:ie(Ee,0)},Ke;throw new Error("hExtV parse error: "+Ee)},this.getExtCRLReason=function(Ee,ze){var Ke={extname:"cRLReason"};if(ze&&(Ke.critical=!0),"0a"==Ee.substr(0,2))return Ke.code=parseInt(ie(Ee,0),16),Ke;throw new Error("hExtV parse error: "+Ee)},this.getExtOcspNonce=function(Ee,ze){var Ke={extname:"ocspNonce"};ze&&(Ke.critical=!0);var Xe=ie(Ee,0);return Ke.hex=Xe,Ke},this.getExtOcspNoCheck=function(Ee,ze){var Ke={extname:"ocspNoCheck"};return ze&&(Ke.critical=!0),Ke},this.getExtAdobeTimeStamp=function(Ee,ze){if(void 0===Ee&&void 0===ze){var Ke=this.getExtInfo("adobeTimeStamp");if(void 0===Ke)return;Ee=me(this.hex,Ke.vidx),ze=Ke.critical}var Xe={extname:"adobeTimeStamp"};ze&&(Xe.critical=!0);var yt=X(Ee,0);if(yt.length>1){var At=me(Ee,yt[1]),Wt=this.getGeneralName(At);null!=Wt.uri&&(Xe.uri=Wt.uri)}if(yt.length>2){var jt=me(Ee,yt[2]);"0101ff"==jt&&(Xe.reqauth=!0),"010100"==jt&&(Xe.reqauth=!1)}return Xe},this.getX500NameRule=function(Ee){for(var ze=null,Ke=[],Xe=0;Xe<Ee.length;Xe++)for(var yt=Ee[Xe],At=0;At<yt.length;At++)Ke.push(yt[At]);for(Xe=0;Xe<Ke.length;Xe++){var Wt=Ke[Xe],jt=Wt.ds,en=Wt.type;if("prn"!=jt&&"utf8"!=jt&&"ia5"!=jt)return"mixed";if("ia5"==jt){if("CN"!=en)return"mixed";if(De.lang.String.isMail(Wt.value))continue;return"mixed"}if("C"==en){if("prn"==jt)continue;return"mixed"}if(null==ze)ze=jt;else if(ze!==jt)return"mixed"}return ze??"prn"},this.getX500Name=function(Ee){var ze=this.getX500NameArray(Ee);return{array:ze,str:this.dnarraytostr(ze)}},this.getX500NameArray=function(Ee){for(var ze=[],Ke=X(Ee,0),Xe=0;Xe<Ke.length;Xe++)ze.push(this.getRDN(me(Ee,Ke[Xe])));return ze},this.getRDN=function(Ee){for(var ze=[],Ke=X(Ee,0),Xe=0;Xe<Ke.length;Xe++)ze.push(this.getAttrTypeAndValue(me(Ee,Ke[Xe])));return ze},this.getAttrTypeAndValue=function(Ee){var ze={type:null,value:null,ds:null},Ke=X(Ee,0),Xe=Pe(Ee,Ke[0],[],"06"),yt=Pe(Ee,Ke[1],[]),At=De.asn1.ASN1Util.oidHexToInt(Xe);return ze.type=De.asn1.x509.OID.oid2atype(At),ze.value=wn(yt),ze.ds=this.HEX2STAG[Ee.substr(Ke[1],2)],ze},this.readCertPEM=function(Ee){this.readCertHex(Et(Ee))},this.readCertHex=function(Ee){this.hex=Ee,this.getVersion();try{$e(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var Ee={};return Ee.version=this.getVersion(),Ee.serial={hex:this.getSerialNumberHex()},Ee.sigalg=this.getSignatureAlgorithmField(),Ee.issuer=this.getIssuer(),Ee.notbefore=this.getNotBefore(),Ee.notafter=this.getNotAfter(),Ee.subject=this.getSubject(),Ee.sbjpubkey=Lr(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(Ee.ext=this.getExtParamArray()),Ee.sighex=this.getSignatureValueHex(),Ee},this.getExtParamArray=function(Ee){null==Ee&&-1!=Ge(this.hex,0,[0,"[3]"])&&(Ee=Be(this.hex,0,[0,"[3]",0],"30"));for(var ze=[],Ke=X(Ee,0),Xe=0;Xe<Ke.length;Xe++){var yt=me(Ee,Ke[Xe]),At=this.getExtParam(yt);null!=At&&ze.push(At)}return ze},this.getExtParam=function(Ee){var ze=X(Ee,0).length;if(2!=ze&&3!=ze)throw new Error("wrong number elements in Extension: "+ze+" "+Ee);var Ke=d(Pe(Ee,0,[0],"06")),Xe=!1;3==ze&&"0101ff"==Me(Ee,0,[1])&&(Xe=!0);var yt=Me(Ee,0,[ze-1,0]),At=void 0;if("2.5.29.14"==Ke?At=this.getExtSubjectKeyIdentifier(yt,Xe):"2.5.29.15"==Ke?At=this.getExtKeyUsage(yt,Xe):"2.5.29.17"==Ke?At=this.getExtSubjectAltName(yt,Xe):"2.5.29.18"==Ke?At=this.getExtIssuerAltName(yt,Xe):"2.5.29.19"==Ke?At=this.getExtBasicConstraints(yt,Xe):"2.5.29.31"==Ke?At=this.getExtCRLDistributionPoints(yt,Xe):"2.5.29.32"==Ke?At=this.getExtCertificatePolicies(yt,Xe):"2.5.29.35"==Ke?At=this.getExtAuthorityKeyIdentifier(yt,Xe):"2.5.29.37"==Ke?At=this.getExtExtKeyUsage(yt,Xe):"1.3.6.1.5.5.7.1.1"==Ke?At=this.getExtAuthorityInfoAccess(yt,Xe):"2.5.29.20"==Ke?At=this.getExtCRLNumber(yt,Xe):"2.5.29.21"==Ke?At=this.getExtCRLReason(yt,Xe):"1.3.6.1.5.5.7.48.1.2"==Ke?At=this.getExtOcspNonce(yt,Xe):"1.3.6.1.5.5.7.48.1.5"==Ke?At=this.getExtOcspNoCheck(yt,Xe):"1.2.840.113583.1.1.9.1"==Ke&&(At=this.getExtAdobeTimeStamp(yt,Xe)),null!=At)return At;var Wt={extname:Ke,extn:yt};return Xe&&(Wt.critical=!0),Wt},this.findExt=function(Ee,ze){for(var Ke=0;Ke<Ee.length;Ke++)if(Ee[Ke].extname==ze)return Ee[Ke];return null},this.updateExtCDPFullURI=function(Ee,ze){var Ke=this.findExt(Ee,"cRLDistributionPoints");if(null!=Ke&&null!=Ke.array)for(var Xe=Ke.array,yt=0;yt<Xe.length;yt++)if(null!=Xe[yt].dpname&&null!=Xe[yt].dpname.full)for(var At=Xe[yt].dpname.full,Wt=0;Wt<At.length;Wt++){var jt=At[yt];null!=jt.uri&&(jt.uri=ze)}},this.updateExtAIAOCSP=function(Ee,ze){var Ke=this.findExt(Ee,"authorityInfoAccess");if(null!=Ke&&null!=Ke.array)for(var Xe=Ke.array,yt=0;yt<Xe.length;yt++)null!=Xe[yt].ocsp&&(Xe[yt].ocsp=ze)},this.updateExtAIACAIssuer=function(Ee,ze){var Ke=this.findExt(Ee,"authorityInfoAccess");if(null!=Ke&&null!=Ke.array)for(var Xe=Ke.array,yt=0;yt<Xe.length;yt++)null!=Xe[yt].caissuer&&(Xe[yt].caissuer=ze)},this.dnarraytostr=function(Ee){return"/"+Ee.map(function(ze){return ze.map(function(yt){return(Wt=yt).type+"="+Wt.value;var Wt}).join("+")}).join("/")},this.getInfo=function(){var Ee,ze,Ke,ii,yt=function(ii){for(var Yr="",jr=ii.array,Ze=0;Ze<jr.length;Ze++){var lt=jr[Ze];if(Yr+="    policy oid: "+lt.policyoid+"\n",void 0!==lt.array)for(var ct=0;ct<lt.array.length;ct++){var wt=lt.array[ct];void 0!==wt.cps&&(Yr+="    cps: "+wt.cps+"\n")}}return Yr},At=function(ii){for(var Yr="",jr=ii.array,Ze=0;Ze<jr.length;Ze++){var lt=jr[Ze];try{void 0!==lt.dpname.full[0].uri&&(Yr+="    "+lt.dpname.full[0].uri+"\n")}catch{}try{void 0!==lt.dname.full[0].dn.hex&&(Yr+="    "+mr.hex2dn(lt.dpname.full[0].dn.hex)+"\n")}catch{}}return Yr},Wt=function(ii){for(var Yr="",jr=ii.array,Ze=0;Ze<jr.length;Ze++){var lt=jr[Ze];void 0!==lt.caissuer&&(Yr+="    caissuer: "+lt.caissuer+"\n"),void 0!==lt.ocsp&&(Yr+="    ocsp: "+lt.ocsp+"\n")}return Yr};if(Ee="Basic Fields\n",Ee+="  serial number: "+this.getSerialNumberHex()+"\n",Ee+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",Ee+="  issuer: "+this.getIssuerString()+"\n",Ee+="  notBefore: "+this.getNotBefore()+"\n",Ee+="  notAfter: "+this.getNotAfter()+"\n",Ee+="  subject: "+this.getSubjectString()+"\n",Ee+="  subject public key info: \n",Ee+="    key algorithm: "+(ze=this.getPublicKey()).type+"\n","RSA"===ze.type&&(Ee+="    n="+hi(ze.n.toString(16)).substr(0,16)+"...\n",Ee+="    e="+hi(ze.e.toString(16))+"\n"),null!=(Ke=this.aExtInfo)){Ee+="X509v3 Extensions:\n";for(var jt=0;jt<Ke.length;jt++){var Bn=Ke[jt],en=De.asn1.x509.OID.oid2name(Bn.oid);""===en&&(en=Bn.oid);var gn="";if(!0===Bn.critical&&(gn="CRITICAL"),Ee+="  "+en+" "+gn+":\n","basicConstraints"===en){var or=this.getExtBasicConstraints();void 0===or.cA?Ee+="    {}\n":(Ee+="    cA=true",void 0!==or.pathLen&&(Ee+=", pathLen="+or.pathLen),Ee+="\n")}else if("keyUsage"===en)Ee+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===en)Ee+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===en){var hr=this.getExtAuthorityKeyIdentifier();void 0!==hr.kid&&(Ee+="    kid="+hr.kid.hex+"\n")}else"extKeyUsage"===en?Ee+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===en?Ee+="    "+(ii=this.getExtSubjectAltName(),JSON.stringify(ii.array).replace(/[\[\]\{\}\"]/g,"")+"\n"):"cRLDistributionPoints"===en?Ee+=At(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===en?Ee+=Wt(this.getExtAuthorityInfoAccess()):"certificatePolicies"===en&&(Ee+=yt(this.getExtCertificatePolicies()))}}return(Ee+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof k&&(-1!=k.indexOf("-----BEGIN")?this.readCertPEM(k):De.lang.String.isHex(k)&&this.readCertHex(k))}zt.prototype.sign=function(k,A){var Z=function(ie){return De.crypto.Util.hashString(ie,A)}(k);return this.signWithMessageHash(Z,A)},zt.prototype.signWithMessageHash=function(k,A){var Z=Tt(De.crypto.Util.getPaddedDigestInfoHex(k,A,this.n.bitLength()),16);return wa(this.doPrivate(Z).toString(16),this.n.bitLength())},zt.prototype.signPSS=function(k,A,Z){var me,X=(me=kr(k),De.crypto.Util.hashHex(me,A));return void 0===Z&&(Z=-1),this.signWithMessageHashPSS(X,A,Z)},zt.prototype.signWithMessageHashPSS=function(k,A,Z){var X,ie=wn(k),me=ie.length,Pe=this.n.bitLength()-1,Ve=Math.ceil(Pe/8),Me=function(Ee){return De.crypto.Util.hashHex(Ee,A)};if(-1===Z||void 0===Z)Z=me;else if(-2===Z)Z=Ve-me-2;else if(Z<-2)throw new Error("invalid salt length");if(Ve<me+Z+2)throw new Error("data too long");var Be="";Z>0&&(Be=new Array(Z),(new at).nextBytes(Be),Be=String.fromCharCode.apply(String,Be));var $e=wn(Me(kr("\0\0\0\0\0\0\0\0"+ie+Be))),Ge=[];for(X=0;X<Ve-Z-me-2;X+=1)Ge[X]=0;var We=String.fromCharCode.apply(String,Ge)+"\x01"+Be,nt=di($e,We.length,Me),d=[];for(X=0;X<We.length;X+=1)d[X]=We.charCodeAt(X)^nt.charCodeAt(X);for(d[0]&=~(65280>>8*Ve-Pe&255),X=0;X<me;X++)d.push($e.charCodeAt(X));return d.push(188),wa(this.doPrivate(new he(d)).toString(16),this.n.bitLength())},zt.prototype.verify=function(k,A){var Z=Tt(A=(A=A.replace(ho,"")).replace(/[ \n]+/g,""),16);if(Z.bitLength()>this.n.bitLength())return 0;var X=da(this.doPublic(Z).toString(16).replace(/^1f+00/,""));return 0!=X.length&&X[1]==De.crypto.Util.hashString(k,X[0])},zt.prototype.verifyWithMessageHash=function(k,A){if(A.length!=Math.ceil(this.n.bitLength()/4))return!1;var Z=Tt(A,16);if(Z.bitLength()>this.n.bitLength())return 0;var X=da(this.doPublic(Z).toString(16).replace(/^1f+00/,""));return 0!=X.length&&X[1]==k},zt.prototype.verifyPSS=function(k,A,Z,X){var Pe,ie=(Pe=kr(k),De.crypto.Util.hashHex(Pe,Z));return void 0===X&&(X=-1),this.verifyWithMessageHashPSS(ie,A,Z,X)},zt.prototype.verifyWithMessageHashPSS=function(k,A,Z,X){if(A.length!=Math.ceil(this.n.bitLength()/4))return!1;var ie,me=new he(A,16),Pe=function(Ke){return De.crypto.Util.hashHex(Ke,Z)},Ve=wn(k),Me=Ve.length,Be=this.n.bitLength()-1,$e=Math.ceil(Be/8);if(-1===X||void 0===X)X=Me;else if(-2===X)X=$e-Me-2;else if(X<-2)throw new Error("invalid salt length");if($e<Me+X+2)throw new Error("data too long");var Ge=this.doPublic(me).toByteArray();for(ie=0;ie<Ge.length;ie+=1)Ge[ie]&=255;for(;Ge.length<$e;)Ge.unshift(0);if(188!==Ge[$e-1])throw new Error("encoded message does not end in 0xbc");var We=(Ge=String.fromCharCode.apply(String,Ge)).substr(0,$e-Me-1),nt=Ge.substr(We.length,Me),d=65280>>8*$e-Be&255;if(We.charCodeAt(0)&d)throw new Error("bits beyond keysize not zero");var gt=di(nt,We.length,Pe),Et=[];for(ie=0;ie<We.length;ie+=1)Et[ie]=We.charCodeAt(ie)^gt.charCodeAt(ie);Et[0]&=~d;var Ee=$e-Me-X-2;for(ie=0;ie<Ee;ie+=1)if(0!==Et[ie])throw new Error("leftmost octets not zero");if(1!==Et[Ee])throw new Error("0x01 marker not found");return nt===wn(Pe(kr("\0\0\0\0\0\0\0\0"+Ve+String.fromCharCode.apply(String,Et.slice(-X)))))},zt.SALT_LEN_HLEN=-1,zt.SALT_LEN_MAX=-2,zt.SALT_LEN_RECOVER=-2,mr.hex2dn=function(k,A){if(void 0===A&&(A=0),"30"!==k.substr(A,2))throw new Error("malformed DN");for(var Z=new Array,X=Qt.getChildIdx(k,A),ie=0;ie<X.length;ie++)Z.push(mr.hex2rdn(k,X[ie]));return"/"+(Z=Z.map(function(me){return me.replace("/","\\/")})).join("/")},mr.hex2rdn=function(k,A){if(void 0===A&&(A=0),"31"!==k.substr(A,2))throw new Error("malformed RDN");for(var Z=new Array,X=Qt.getChildIdx(k,A),ie=0;ie<X.length;ie++)Z.push(mr.hex2attrTypeValue(k,X[ie]));return(Z=Z.map(function(me){return me.replace("+","\\+")})).join("+")},mr.hex2attrTypeValue=function(k,A){var Z=Qt,X=Z.getV;if(void 0===A&&(A=0),"30"!==k.substr(A,2))throw new Error("malformed attribute type and value");var ie=Z.getChildIdx(k,A);2!==ie.length||k.substr(ie[0],2);var me=X(k,ie[0]),Pe=De.asn1.ASN1Util.oidHexToInt(me);return De.asn1.x509.OID.oid2atype(Pe)+"="+wn(X(k,ie[1]))},mr.getPublicKeyFromCertHex=function(k){var A=new mr;return A.readCertHex(k),A.getPublicKey()},mr.getPublicKeyFromCertPEM=function(k){var A=new mr;return A.readCertPEM(k),A.getPublicKey()},mr.getPublicKeyInfoPropOfCertPEM=function(k){var A,Z,X=Qt.getVbyList,ie={algparam:null};return(A=new mr).readCertPEM(k),Z=A.getPublicKeyHex(),ie.keyhex=X(Z,0,[1],"03").substr(2),ie.algoid=X(Z,0,[0,0],"06"),"2a8648ce3d0201"===ie.algoid&&(ie.algparam=X(Z,0,[0,1],"06")),ie},mr.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==De&&De||(S.KJUR=De={}),void 0!==De.jws&&De.jws||(De.jws={}),De.jws.JWS=function(){var k=De.jws.JWS.isSafeJSONString;this.parseJWS=function(A,Z){if(void 0===this.parsedJWS||!Z&&void 0===this.parsedJWS.sigvalH){var X=A.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==X)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var ie=X[1],me=X[2],Pe=X[3],Ve=ie+"."+me;if(this.parsedJWS={},this.parsedJWS.headB64U=ie,this.parsedJWS.payloadB64U=me,this.parsedJWS.sigvalB64U=Pe,this.parsedJWS.si=Ve,!Z){var Me=cn(Pe),Be=Tt(Me,16);this.parsedJWS.sigvalH=Me,this.parsedJWS.sigvalBI=Be}var $e=ar(ie),Ge=ar(me);if(this.parsedJWS.headS=$e,this.parsedJWS.payloadS=Ge,!k($e,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+$e}}},De.jws.JWS.sign=function(k,A,Z,X,ie){var me,Pe,Ve,Be=De.jws.JWS,$e=Be.readSafeJSONString,Ge=Be.isSafeJSONString,We=De.crypto,nt=We.Mac,d=We.Signature,gt=JSON;if("string"!=typeof A&&"object"!=(void 0===A?"undefined":B(A)))throw"spHeader must be JSON string or object: "+A;if("object"==(void 0===A?"undefined":B(A))&&(me=gt.stringify(Pe=A)),"string"==typeof A){if(!Ge(me=A))throw"JWS Head is not safe JSON string: "+me;Pe=$e(me)}if(Ve=Z,"object"==(void 0===Z?"undefined":B(Z))&&(Ve=gt.stringify(Z)),""!=k&&null!=k||void 0===Pe.alg||(k=Pe.alg),""!=k&&null!=k&&void 0===Pe.alg&&(Pe.alg=k,me=gt.stringify(Pe)),k!==Pe.alg)throw"alg and sHeader.alg doesn't match: "+k+"!="+Pe.alg;var Et=null;if(void 0===Be.jwsalg2sigalg[k])throw"unsupported alg name: "+k;Et=Be.jwsalg2sigalg[k];var Ee=Br(me)+"."+Br(Ve),ze="";if("Hmac"==Et.substr(0,4)){if(void 0===X)throw"mac key shall be specified for HS* alg";var Ke=new nt({alg:Et,prov:"cryptojs",pass:X});Ke.updateString(Ee),ze=Ke.doFinal()}else if(-1!=Et.indexOf("withECDSA")){(yt=new d({alg:Et})).init(X,ie),yt.updateString(Ee);var Xe=yt.sign();ze=De.crypto.ECDSA.asn1SigToConcatSig(Xe)}else{var yt;"none"!=Et&&((yt=new d({alg:Et})).init(X,ie),yt.updateString(Ee),ze=yt.sign())}return Ee+"."+Cn(ze)},De.jws.JWS.verify=function(k,A,Z){var X,me=De.jws.JWS,Pe=me.readSafeJSONString,Ve=De.crypto,Me=Ve.ECDSA,Be=Ve.Mac,$e=Ve.Signature;void 0!==B(zt)&&(X=zt);var Ge=k.split(".");if(3!==Ge.length)return!1;var Et,We=Ge[0]+"."+Ge[1],nt=cn(Ge[2]),d=Pe(ar(Ge[0])),gt=null;if(void 0===d.alg)throw"algorithm not specified in header";if(Et=(gt=d.alg).substr(0,2),null!=Z&&"[object Array]"===Object.prototype.toString.call(Z)&&Z.length>0&&-1==(":"+Z.join(":")+":").indexOf(":"+gt+":"))throw"algorithm '"+gt+"' not accepted in the list";if("none"!=gt&&null===A)throw"key shall be specified to verify.";if("string"==typeof A&&-1!=A.indexOf("-----BEGIN ")&&(A=fr.getKey(A)),!("RS"!=Et&&"PS"!=Et||A instanceof X))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==Et&&!(A instanceof Me))throw"key shall be a ECDSA obj for ES* algs";var Ee=null;if(void 0===me.jwsalg2sigalg[d.alg])throw"unsupported alg name: "+gt;if("none"==(Ee=me.jwsalg2sigalg[gt]))throw"not supported";if("Hmac"==Ee.substr(0,4)){if(void 0===A)throw"hexadecimal key shall be specified for HMAC";var ze=new Be({alg:Ee,pass:A});return ze.updateString(We),nt==ze.doFinal()}if(-1!=Ee.indexOf("withECDSA")){var Ke,Xe=null;try{Xe=Me.concatSigToASN1Sig(nt)}catch{return!1}return(Ke=new $e({alg:Ee})).init(A),Ke.updateString(We),Ke.verify(Xe)}return(Ke=new $e({alg:Ee})).init(A),Ke.updateString(We),Ke.verify(nt)},De.jws.JWS.parse=function(k){var Z,X,ie=k.split("."),me={};if(2!=ie.length&&3!=ie.length)throw"malformed sJWS: wrong number of '.' splitted elements";return Z=ie[1],3==ie.length&&(X=ie[2]),me.headerObj=De.jws.JWS.readSafeJSONString(ar(ie[0])),me.payloadObj=De.jws.JWS.readSafeJSONString(ar(Z)),me.headerPP=JSON.stringify(me.headerObj,null,"  "),me.payloadPP=null==me.payloadObj?ar(Z):JSON.stringify(me.payloadObj,null,"  "),void 0!==X&&(me.sigHex=cn(X)),me},De.jws.JWS.verifyJWT=function(k,A,Z){var X=De.jws,ie=X.JWS,me=ie.readSafeJSONString,Pe=ie.inArray,Ve=ie.includedArray,Me=k.split("."),Be=Me[0],$e=Me[1],Ge=(cn(Me[2]),me(ar(Be))),We=me(ar($e));if(void 0===Ge.alg)return!1;if(void 0===Z.alg)throw"acceptField.alg shall be specified";if(!Pe(Ge.alg,Z.alg)||void 0!==We.iss&&"object"===B(Z.iss)&&!Pe(We.iss,Z.iss)||void 0!==We.sub&&"object"===B(Z.sub)&&!Pe(We.sub,Z.sub))return!1;if(void 0!==We.aud&&"object"===B(Z.aud))if("string"==typeof We.aud){if(!Pe(We.aud,Z.aud))return!1}else if("object"==B(We.aud)&&!Ve(We.aud,Z.aud))return!1;var nt=X.IntDate.getNow();return void 0!==Z.verifyAt&&"number"==typeof Z.verifyAt&&(nt=Z.verifyAt),void 0!==Z.gracePeriod&&"number"==typeof Z.gracePeriod||(Z.gracePeriod=0),!(void 0!==We.exp&&"number"==typeof We.exp&&We.exp+Z.gracePeriod<nt||void 0!==We.nbf&&"number"==typeof We.nbf&&nt<We.nbf-Z.gracePeriod||void 0!==We.iat&&"number"==typeof We.iat&&nt<We.iat-Z.gracePeriod||void 0!==We.jti&&void 0!==Z.jti&&We.jti!==Z.jti||!ie.verify(k,A,Z.alg))},De.jws.JWS.includedArray=function(k,A){var Z=De.jws.JWS.inArray;if(null===k||"object"!==(void 0===k?"undefined":B(k))||"number"!=typeof k.length)return!1;for(var X=0;X<k.length;X++)if(!Z(k[X],A))return!1;return!0},De.jws.JWS.inArray=function(k,A){if(null===A||"object"!==(void 0===A?"undefined":B(A))||"number"!=typeof A.length)return!1;for(var Z=0;Z<A.length;Z++)if(A[Z]==k)return!0;return!1},De.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},De.jws.JWS.isSafeJSONString=function(k,A,Z){var X=null;try{return"object"!=(void 0===(X=Un(k))?"undefined":B(X))||X.constructor===Array?0:(A&&(A[Z]=X),1)}catch{return 0}},De.jws.JWS.readSafeJSONString=function(k){var A=null;try{return"object"!=(void 0===(A=Un(k))?"undefined":B(A))||A.constructor===Array?null:A}catch{return null}},De.jws.JWS.getEncodedSignatureValueFromJWS=function(k){var A=k.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==A)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return A[1]},De.jws.JWS.getJWKthumbprint=function(k){if("RSA"!==k.kty&&"EC"!==k.kty&&"oct"!==k.kty)throw"unsupported algorithm for JWK Thumprint";var A="{";if("RSA"===k.kty){if("string"!=typeof k.n||"string"!=typeof k.e)throw"wrong n and e value for RSA key";A+='"e":"'+k.e+'",',A+='"kty":"'+k.kty+'",',A+='"n":"'+k.n+'"}'}else if("EC"===k.kty){if("string"!=typeof k.crv||"string"!=typeof k.x||"string"!=typeof k.y)throw"wrong crv, x and y value for EC key";A+='"crv":"'+k.crv+'",',A+='"kty":"'+k.kty+'",',A+='"x":"'+k.x+'",',A+='"y":"'+k.y+'"}'}else if("oct"===k.kty){if("string"!=typeof k.k)throw"wrong k value for oct(symmetric) key";A+='"kty":"'+k.kty+'",',A+='"k":"'+k.k+'"}'}var Z=kr(A);return Cn(De.crypto.Util.hashHex(Z,"sha256"))},De.jws.IntDate={},De.jws.IntDate.get=function(k){var A=De.jws.IntDate,Z=A.getNow,X=A.getZulu;if("now"==k)return Z();if("now + 1hour"==k)return Z()+3600;if("now + 1day"==k)return Z()+86400;if("now + 1month"==k)return Z()+2592e3;if("now + 1year"==k)return Z()+31536e3;if(k.match(/Z$/))return X(k);if(k.match(/^[0-9]+$/))return parseInt(k);throw"unsupported format: "+k},De.jws.IntDate.getZulu=function(k){return zi(k)},De.jws.IntDate.getNow=function(){return~~(new Date/1e3)},De.jws.IntDate.intDate2UTCString=function(k){return new Date(1e3*k).toUTCString()},De.jws.IntDate.intDate2Zulu=function(k){var A=new Date(1e3*k);return("0000"+A.getUTCFullYear()).slice(-4)+("00"+(A.getUTCMonth()+1)).slice(-2)+("00"+A.getUTCDate()).slice(-2)+("00"+A.getUTCHours()).slice(-2)+("00"+A.getUTCMinutes()).slice(-2)+("00"+A.getUTCSeconds()).slice(-2)+"Z"},S.SecureRandom=at,S.rng_seed_time=xe,S.BigInteger=he,S.RSAKey=zt,S.EDSA=De.crypto.EDSA,S.DSA=De.crypto.DSA,S.Signature=De.crypto.Signature,S.MessageDigest=De.crypto.MessageDigest,S.Mac=De.crypto.Mac,S.Cipher=De.crypto.Cipher,S.KEYUTIL=fr,S.ASN1HEX=Qt,S.X509=mr,S.CryptoJS=U,S.b64tohex=ve,S.b64toBA=_e,S.stoBA=ba,S.BAtos=ki,S.BAtohex=_t,S.stohex=Pt,S.stob64=function(A){return ae(Pt(A))},S.stob64u=function(A){return Pn(ae(Pt(A)))},S.b64utos=function(A){return ki(_e(zn(A)))},S.b64tob64u=Pn,S.b64utob64=zn,S.hex2b64=ae,S.hextob64u=Cn,S.b64utohex=cn,S.utf8tob64u=Br,S.b64utoutf8=ar,S.utf8tob64=function(A){return ae(Za(Di(A)))},S.b64toutf8=function(A){return decodeURIComponent(Gi(ve(A)))},S.utf8tohex=Fr,S.hextoutf8=lr,S.hextorstr=wn,S.rstrtohex=kr,S.hextob64=Qn,S.hextob64nl=Vi,S.b64nltohex=Xr,S.hextopem=Lr,S.pemtohex=ci,S.hextoArrayBuffer=function(A){if(A.length%2!=0)throw"input is not even length";if(null==A.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var Z=new ArrayBuffer(A.length/2),X=new DataView(Z),ie=0;ie<A.length/2;ie++)X.setUint8(ie,parseInt(A.substr(2*ie,2),16));return Z},S.ArrayBuffertohex=function(A){for(var Z="",X=new DataView(A),ie=0;ie<A.byteLength;ie++)Z+=("00"+X.getUint8(ie).toString(16)).slice(-2);return Z},S.zulutomsec=Ba,S.zulutosec=zi,S.zulutodate=function(A){return new Date(Ba(A))},S.datetozulu=function(A,Z,X){var ie,me=A.getUTCFullYear();if(Z){if(me<1950||2049<me)throw"not proper year for UTCTime: "+me;ie=(""+me).slice(-2)}else ie=("000"+me).slice(-4);if(ie+=("0"+(A.getUTCMonth()+1)).slice(-2),ie+=("0"+A.getUTCDate()).slice(-2),ie+=("0"+A.getUTCHours()).slice(-2),ie+=("0"+A.getUTCMinutes()).slice(-2),ie+=("0"+A.getUTCSeconds()).slice(-2),X){var Pe=A.getUTCMilliseconds();0!==Pe&&(ie+="."+(Pe=(Pe=("00"+Pe).slice(-3)).replace(/0+$/g,"")))}return ie+"Z"},S.uricmptohex=Za,S.hextouricmp=Gi,S.ipv6tohex=Ri,S.hextoipv6=Hi,S.hextoip=Ca,S.iptohex=function(A){var Z="malformed IP address";if(!(A=A.toLowerCase(A)).match(/^[0-9.]+$/)){if(A.match(/^[0-9a-f:]+$/)&&-1!==A.indexOf(":"))return Ri(A);throw Z}var X=A.split(".");if(4!==X.length)throw Z;var ie="";try{for(var me=0;me<4;me++)ie+=("0"+parseInt(X[me]).toString(16)).slice(-2);return ie}catch{throw Z}},S.encodeURIComponentAll=Di,S.newline_toUnix=function(A){return A.replace(/\r\n/gm,"\n")},S.newline_toDos=function(A){return(A=A.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},S.hextoposhex=hi,S.intarystrtohex=function(A){A=(A=(A=A.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return A.split(/,/).map(function(Z,X,ie){var me=parseInt(Z);if(me<0||255<me)throw"integer not in range 0-255";return("00"+me.toString(16)).slice(-2)}).join("")}catch(Z){throw"malformed integer array string: "+Z}},S.strdiffidx=function(A,Z){var X=A.length;A.length>Z.length&&(X=Z.length);for(var ie=0;ie<X;ie++)if(A.charCodeAt(ie)!=Z.charCodeAt(ie))return ie;return A.length!=Z.length?X:-1},S.KJUR=De,S.crypto=De.crypto,S.asn1=De.asn1,S.jws=De.jws,S.lang=De.lang}).call(this,M(28).Buffer)},function(V,S,M){"use strict";(function(K){var B=M(30),r=M(31),y=M(32);function f(){return _.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function g(de,J){if(f()<J)throw new RangeError("Invalid typed array length");return _.TYPED_ARRAY_SUPPORT?(de=new Uint8Array(J)).__proto__=_.prototype:(null===de&&(de=new _(J)),de.length=J),de}function _(de,J,oe){if(!(_.TYPED_ARRAY_SUPPORT||this instanceof _))return new _(de,J,oe);if("number"==typeof de){if("string"==typeof J)throw new Error("If encoding is specified then the first argument must be a string");return j(this,de)}return P(this,de,J,oe)}function P(de,J,oe,Ae){if("number"==typeof J)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&J instanceof ArrayBuffer?function(pe,xe,ut,be){if(ut<0||xe.byteLength<ut)throw new RangeError("'offset' is out of bounds");if(xe.byteLength<ut+(be||0))throw new RangeError("'length' is out of bounds");return xe=void 0===ut&&void 0===be?new Uint8Array(xe):void 0===be?new Uint8Array(xe,ut):new Uint8Array(xe,ut,be),_.TYPED_ARRAY_SUPPORT?(pe=xe).__proto__=_.prototype:pe=v(pe,xe),pe}(de,J,oe,Ae):"string"==typeof J?function(pe,xe,ut){if("string"==typeof ut&&""!==ut||(ut="utf8"),!_.isEncoding(ut))throw new TypeError('"encoding" must be a valid string encoding');var be=0|G(xe,ut),ce=(pe=g(pe,be)).write(xe,ut);return ce!==be&&(pe=pe.slice(0,ce)),pe}(de,J,oe):function(pe,xe){if(_.isBuffer(xe)){var ut=0|b(xe.length);return 0===(pe=g(pe,ut)).length||xe.copy(pe,0,0,ut),pe}if(xe){if(typeof ArrayBuffer<"u"&&xe.buffer instanceof ArrayBuffer||"length"in xe)return"number"!=typeof xe.length||(ce=xe.length)!=ce?g(pe,0):v(pe,xe);if("Buffer"===xe.type&&y(xe.data))return v(pe,xe.data)}var ce;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(de,J)}function O(de){if("number"!=typeof de)throw new TypeError('"size" argument must be a number');if(de<0)throw new RangeError('"size" argument must not be negative')}function j(de,J){if(O(J),de=g(de,J<0?0:0|b(J)),!_.TYPED_ARRAY_SUPPORT)for(var oe=0;oe<J;++oe)de[oe]=0;return de}function v(de,J){var oe=J.length<0?0:0|b(J.length);de=g(de,oe);for(var Ae=0;Ae<oe;Ae+=1)de[Ae]=255&J[Ae];return de}function b(de){if(de>=f())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f().toString(16)+" bytes");return 0|de}function G(de,J){if(_.isBuffer(de))return de.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(de)||de instanceof ArrayBuffer))return de.byteLength;"string"!=typeof de&&(de=""+de);var oe=de.length;if(0===oe)return 0;for(var Ae=!1;;)switch(J){case"ascii":case"latin1":case"binary":return oe;case"utf8":case"utf-8":case void 0:return et(de).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*oe;case"hex":return oe>>>1;case"base64":return je(de).length;default:if(Ae)return et(de).length;J=(""+J).toLowerCase(),Ae=!0}}function z(de,J,oe){var Ae=!1;if((void 0===J||J<0)&&(J=0),J>this.length||((void 0===oe||oe>this.length)&&(oe=this.length),oe<=0)||(oe>>>=0)<=(J>>>=0))return"";for(de||(de="utf8");;)switch(de){case"hex":return D(this,J,oe);case"utf8":case"utf-8":return R(this,J,oe);case"ascii":return I(this,J,oe);case"latin1":case"binary":return L(this,J,oe);case"base64":return x(this,J,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,J,oe);default:if(Ae)throw new TypeError("Unknown encoding: "+de);de=(de+"").toLowerCase(),Ae=!0}}function H(de,J,oe){var Ae=de[J];de[J]=de[oe],de[oe]=Ae}function ee(de,J,oe,Ae,Ne){if(0===de.length)return-1;if("string"==typeof oe?(Ae=oe,oe=0):oe>2147483647?oe=2147483647:oe<-2147483648&&(oe=-2147483648),oe=+oe,isNaN(oe)&&(oe=Ne?0:de.length-1),oe<0&&(oe=de.length+oe),oe>=de.length){if(Ne)return-1;oe=de.length-1}else if(oe<0){if(!Ne)return-1;oe=0}if("string"==typeof J&&(J=_.from(J,Ae)),_.isBuffer(J))return 0===J.length?-1:U(de,J,oe,Ae,Ne);if("number"==typeof J)return J&=255,_.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?Ne?Uint8Array.prototype.indexOf.call(de,J,oe):Uint8Array.prototype.lastIndexOf.call(de,J,oe):U(de,[J],oe,Ae,Ne);throw new TypeError("val must be string, number or Buffer")}function U(de,J,oe,Ae,Ne){var pe,xe=1,ut=de.length,be=J.length;if(void 0!==Ae&&("ucs2"===(Ae=String(Ae).toLowerCase())||"ucs-2"===Ae||"utf16le"===Ae||"utf-16le"===Ae)){if(de.length<2||J.length<2)return-1;xe=2,ut/=2,be/=2,oe/=2}function ce(Tt,Vt){return 1===xe?Tt[Vt]:Tt.readUInt16BE(Vt*xe)}if(Ne){var le=-1;for(pe=oe;pe<ut;pe++)if(ce(de,pe)===ce(J,-1===le?0:pe-le)){if(-1===le&&(le=pe),pe-le+1===be)return le*xe}else-1!==le&&(pe-=pe-le),le=-1}else for(oe+be>ut&&(oe=ut-be),pe=oe;pe>=0;pe--){for(var Ie=!0,at=0;at<be;at++)if(ce(de,pe+at)!==ce(J,at)){Ie=!1;break}if(Ie)return pe}return-1}function W(de,J,oe,Ae){oe=Number(oe)||0;var Ne=de.length-oe;Ae?(Ae=Number(Ae))>Ne&&(Ae=Ne):Ae=Ne;var pe=J.length;if(pe%2!=0)throw new TypeError("Invalid hex string");Ae>pe/2&&(Ae=pe/2);for(var xe=0;xe<Ae;++xe){var ut=parseInt(J.substr(2*xe,2),16);if(isNaN(ut))return xe;de[oe+xe]=ut}return xe}function Y(de,J,oe,Ae){return it(et(J,de.length-oe),de,oe,Ae)}function ae(de,J,oe,Ae){return it(function(pe){for(var xe=[],ut=0;ut<pe.length;++ut)xe.push(255&pe.charCodeAt(ut));return xe}(J),de,oe,Ae)}function ve(de,J,oe,Ae){return ae(de,J,oe,Ae)}function _e(de,J,oe,Ae){return it(je(J),de,oe,Ae)}function he(de,J,oe,Ae){return it(function(pe,xe){for(var ut,be,le=[],Ie=0;Ie<pe.length&&!((xe-=2)<0);++Ie)be=(ut=pe.charCodeAt(Ie))>>8,le.push(ut%256),le.push(be);return le}(J,de.length-oe),de,oe,Ae)}function x(de,J,oe){return B.fromByteArray(0===J&&oe===de.length?de:de.slice(J,oe))}function R(de,J,oe){oe=Math.min(de.length,oe);for(var Ae=[],Ne=J;Ne<oe;){var pe,xe,ut,be,ce=de[Ne],le=null,Ie=ce>239?4:ce>223?3:ce>191?2:1;if(Ne+Ie<=oe)switch(Ie){case 1:ce<128&&(le=ce);break;case 2:128==(192&(pe=de[Ne+1]))&&(be=(31&ce)<<6|63&pe)>127&&(le=be);break;case 3:xe=de[Ne+2],128==(192&(pe=de[Ne+1]))&&128==(192&xe)&&(be=(15&ce)<<12|(63&pe)<<6|63&xe)>2047&&(be<55296||be>57343)&&(le=be);break;case 4:xe=de[Ne+2],ut=de[Ne+3],128==(192&(pe=de[Ne+1]))&&128==(192&xe)&&128==(192&ut)&&(be=(15&ce)<<18|(63&pe)<<12|(63&xe)<<6|63&ut)>65535&&be<1114112&&(le=be)}null===le?(le=65533,Ie=1):le>65535&&(Ae.push((le-=65536)>>>10&1023|55296),le=56320|1023&le),Ae.push(le),Ne+=Ie}return function(Tt){var Vt=Tt.length;if(Vt<=E)return String.fromCharCode.apply(String,Tt);for(var zt="",un=0;un<Vt;)zt+=String.fromCharCode.apply(String,Tt.slice(un,un+=E));return zt}(Ae)}S.Buffer=_,S.SlowBuffer=function(J){return+J!=J&&(J=0),_.alloc(+J)},S.INSPECT_MAX_BYTES=50,_.TYPED_ARRAY_SUPPORT=void 0!==K.TYPED_ARRAY_SUPPORT?K.TYPED_ARRAY_SUPPORT:function(){try{var J=new Uint8Array(1);return J.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===J.foo()&&"function"==typeof J.subarray&&0===J.subarray(1,1).byteLength}catch{return!1}}(),S.kMaxLength=f(),_.poolSize=8192,_._augment=function(de){return de.__proto__=_.prototype,de},_.from=function(de,J,oe){return P(null,de,J,oe)},_.TYPED_ARRAY_SUPPORT&&(_.prototype.__proto__=Uint8Array.prototype,_.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&_[Symbol.species]===_&&Object.defineProperty(_,Symbol.species,{value:null,configurable:!0})),_.alloc=function(de,J,oe){return null,xe=J,ut=oe,O(pe=de),pe<=0?g(null,pe):void 0!==xe?"string"==typeof ut?g(null,pe).fill(xe,ut):g(null,pe).fill(xe):g(null,pe);var pe,xe,ut},_.allocUnsafe=function(de){return j(null,de)},_.allocUnsafeSlow=function(de){return j(null,de)},_.isBuffer=function(J){return!(null==J||!J._isBuffer)},_.compare=function(J,oe){if(!_.isBuffer(J)||!_.isBuffer(oe))throw new TypeError("Arguments must be Buffers");if(J===oe)return 0;for(var Ae=J.length,Ne=oe.length,pe=0,xe=Math.min(Ae,Ne);pe<xe;++pe)if(J[pe]!==oe[pe]){Ae=J[pe],Ne=oe[pe];break}return Ae<Ne?-1:Ne<Ae?1:0},_.isEncoding=function(J){switch(String(J).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(J,oe){if(!y(J))throw new TypeError('"list" argument must be an Array of Buffers');if(0===J.length)return _.alloc(0);var Ae;if(void 0===oe)for(oe=0,Ae=0;Ae<J.length;++Ae)oe+=J[Ae].length;var Ne=_.allocUnsafe(oe),pe=0;for(Ae=0;Ae<J.length;++Ae){var xe=J[Ae];if(!_.isBuffer(xe))throw new TypeError('"list" argument must be an Array of Buffers');xe.copy(Ne,pe),pe+=xe.length}return Ne},_.byteLength=G,_.prototype._isBuffer=!0,_.prototype.swap16=function(){var J=this.length;if(J%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var oe=0;oe<J;oe+=2)H(this,oe,oe+1);return this},_.prototype.swap32=function(){var J=this.length;if(J%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var oe=0;oe<J;oe+=4)H(this,oe,oe+3),H(this,oe+1,oe+2);return this},_.prototype.swap64=function(){var J=this.length;if(J%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var oe=0;oe<J;oe+=8)H(this,oe,oe+7),H(this,oe+1,oe+6),H(this,oe+2,oe+5),H(this,oe+3,oe+4);return this},_.prototype.toString=function(){var J=0|this.length;return 0===J?"":0===arguments.length?R(this,0,J):z.apply(this,arguments)},_.prototype.equals=function(J){if(!_.isBuffer(J))throw new TypeError("Argument must be a Buffer");return this===J||0===_.compare(this,J)},_.prototype.inspect=function(){var J="",oe=S.INSPECT_MAX_BYTES;return this.length>0&&(J=this.toString("hex",0,oe).match(/.{2}/g).join(" "),this.length>oe&&(J+=" ... ")),"<Buffer "+J+">"},_.prototype.compare=function(J,oe,Ae,Ne,pe){if(!_.isBuffer(J))throw new TypeError("Argument must be a Buffer");if(void 0===oe&&(oe=0),void 0===Ae&&(Ae=J?J.length:0),void 0===Ne&&(Ne=0),void 0===pe&&(pe=this.length),oe<0||Ae>J.length||Ne<0||pe>this.length)throw new RangeError("out of range index");if(Ne>=pe&&oe>=Ae)return 0;if(Ne>=pe)return-1;if(oe>=Ae)return 1;if(this===J)return 0;for(var xe=(pe>>>=0)-(Ne>>>=0),ut=(Ae>>>=0)-(oe>>>=0),be=Math.min(xe,ut),ce=this.slice(Ne,pe),le=J.slice(oe,Ae),Ie=0;Ie<be;++Ie)if(ce[Ie]!==le[Ie]){xe=ce[Ie],ut=le[Ie];break}return xe<ut?-1:ut<xe?1:0},_.prototype.includes=function(J,oe,Ae){return-1!==this.indexOf(J,oe,Ae)},_.prototype.indexOf=function(J,oe,Ae){return ee(this,J,oe,Ae,!0)},_.prototype.lastIndexOf=function(J,oe,Ae){return ee(this,J,oe,Ae,!1)},_.prototype.write=function(J,oe,Ae,Ne){if(void 0===oe)Ne="utf8",Ae=this.length,oe=0;else if(void 0===Ae&&"string"==typeof oe)Ne=oe,Ae=this.length,oe=0;else{if(!isFinite(oe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");oe|=0,isFinite(Ae)?(Ae|=0,void 0===Ne&&(Ne="utf8")):(Ne=Ae,Ae=void 0)}var pe=this.length-oe;if((void 0===Ae||Ae>pe)&&(Ae=pe),J.length>0&&(Ae<0||oe<0)||oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ne||(Ne="utf8");for(var xe=!1;;)switch(Ne){case"hex":return W(this,J,oe,Ae);case"utf8":case"utf-8":return Y(this,J,oe,Ae);case"ascii":return ae(this,J,oe,Ae);case"latin1":case"binary":return ve(this,J,oe,Ae);case"base64":return _e(this,J,oe,Ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,J,oe,Ae);default:if(xe)throw new TypeError("Unknown encoding: "+Ne);Ne=(""+Ne).toLowerCase(),xe=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function I(de,J,oe){var Ae="";oe=Math.min(de.length,oe);for(var Ne=J;Ne<oe;++Ne)Ae+=String.fromCharCode(127&de[Ne]);return Ae}function L(de,J,oe){var Ae="";oe=Math.min(de.length,oe);for(var Ne=J;Ne<oe;++Ne)Ae+=String.fromCharCode(de[Ne]);return Ae}function D(de,J,oe){var Ae=de.length;(!J||J<0)&&(J=0),(!oe||oe<0||oe>Ae)&&(oe=Ae);for(var Ne="",pe=J;pe<oe;++pe)Ne+=vt(de[pe]);return Ne}function Q(de,J,oe){for(var Ae=de.slice(J,oe),Ne="",pe=0;pe<Ae.length;pe+=2)Ne+=String.fromCharCode(Ae[pe]+256*Ae[pe+1]);return Ne}function te(de,J,oe){if(de%1!=0||de<0)throw new RangeError("offset is not uint");if(de+J>oe)throw new RangeError("Trying to access beyond buffer length")}function Re(de,J,oe,Ae,Ne,pe){if(!_.isBuffer(de))throw new TypeError('"buffer" argument must be a Buffer instance');if(J>Ne||J<pe)throw new RangeError('"value" argument is out of bounds');if(oe+Ae>de.length)throw new RangeError("Index out of range")}function ne(de,J,oe,Ae){J<0&&(J=65535+J+1);for(var Ne=0,pe=Math.min(de.length-oe,2);Ne<pe;++Ne)de[oe+Ne]=(J&255<<8*(Ae?Ne:1-Ne))>>>8*(Ae?Ne:1-Ne)}function Fe(de,J,oe,Ae){J<0&&(J=4294967295+J+1);for(var Ne=0,pe=Math.min(de.length-oe,4);Ne<pe;++Ne)de[oe+Ne]=J>>>8*(Ae?Ne:3-Ne)&255}function rt(de,J,oe,Ae,Ne,pe){if(oe+Ae>de.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("Index out of range")}function Te(de,J,oe,Ae,Ne){return Ne||rt(de,0,oe,4),r.write(de,J,oe,Ae,23,4),oe+4}function tt(de,J,oe,Ae,Ne){return Ne||rt(de,0,oe,8),r.write(de,J,oe,Ae,52,8),oe+8}_.prototype.slice=function(J,oe){var Ae,Ne=this.length;if((J=~~J)<0?(J+=Ne)<0&&(J=0):J>Ne&&(J=Ne),(oe=void 0===oe?Ne:~~oe)<0?(oe+=Ne)<0&&(oe=0):oe>Ne&&(oe=Ne),oe<J&&(oe=J),_.TYPED_ARRAY_SUPPORT)(Ae=this.subarray(J,oe)).__proto__=_.prototype;else{var pe=oe-J;Ae=new _(pe,void 0);for(var xe=0;xe<pe;++xe)Ae[xe]=this[xe+J]}return Ae},_.prototype.readUIntLE=function(J,oe,Ae){J|=0,oe|=0,Ae||te(J,oe,this.length);for(var Ne=this[J],pe=1,xe=0;++xe<oe&&(pe*=256);)Ne+=this[J+xe]*pe;return Ne},_.prototype.readUIntBE=function(J,oe,Ae){J|=0,oe|=0,Ae||te(J,oe,this.length);for(var Ne=this[J+--oe],pe=1;oe>0&&(pe*=256);)Ne+=this[J+--oe]*pe;return Ne},_.prototype.readUInt8=function(J,oe){return oe||te(J,1,this.length),this[J]},_.prototype.readUInt16LE=function(J,oe){return oe||te(J,2,this.length),this[J]|this[J+1]<<8},_.prototype.readUInt16BE=function(J,oe){return oe||te(J,2,this.length),this[J]<<8|this[J+1]},_.prototype.readUInt32LE=function(J,oe){return oe||te(J,4,this.length),(this[J]|this[J+1]<<8|this[J+2]<<16)+16777216*this[J+3]},_.prototype.readUInt32BE=function(J,oe){return oe||te(J,4,this.length),16777216*this[J]+(this[J+1]<<16|this[J+2]<<8|this[J+3])},_.prototype.readIntLE=function(J,oe,Ae){J|=0,oe|=0,Ae||te(J,oe,this.length);for(var Ne=this[J],pe=1,xe=0;++xe<oe&&(pe*=256);)Ne+=this[J+xe]*pe;return Ne>=(pe*=128)&&(Ne-=Math.pow(2,8*oe)),Ne},_.prototype.readIntBE=function(J,oe,Ae){J|=0,oe|=0,Ae||te(J,oe,this.length);for(var Ne=oe,pe=1,xe=this[J+--Ne];Ne>0&&(pe*=256);)xe+=this[J+--Ne]*pe;return xe>=(pe*=128)&&(xe-=Math.pow(2,8*oe)),xe},_.prototype.readInt8=function(J,oe){return oe||te(J,1,this.length),128&this[J]?-1*(255-this[J]+1):this[J]},_.prototype.readInt16LE=function(J,oe){oe||te(J,2,this.length);var Ae=this[J]|this[J+1]<<8;return 32768&Ae?4294901760|Ae:Ae},_.prototype.readInt16BE=function(J,oe){oe||te(J,2,this.length);var Ae=this[J+1]|this[J]<<8;return 32768&Ae?4294901760|Ae:Ae},_.prototype.readInt32LE=function(J,oe){return oe||te(J,4,this.length),this[J]|this[J+1]<<8|this[J+2]<<16|this[J+3]<<24},_.prototype.readInt32BE=function(J,oe){return oe||te(J,4,this.length),this[J]<<24|this[J+1]<<16|this[J+2]<<8|this[J+3]},_.prototype.readFloatLE=function(J,oe){return oe||te(J,4,this.length),r.read(this,J,!0,23,4)},_.prototype.readFloatBE=function(J,oe){return oe||te(J,4,this.length),r.read(this,J,!1,23,4)},_.prototype.readDoubleLE=function(J,oe){return oe||te(J,8,this.length),r.read(this,J,!0,52,8)},_.prototype.readDoubleBE=function(J,oe){return oe||te(J,8,this.length),r.read(this,J,!1,52,8)},_.prototype.writeUIntLE=function(J,oe,Ae,Ne){J=+J,oe|=0,Ae|=0,Ne||Re(this,J,oe,Ae,Math.pow(2,8*Ae)-1,0);var pe=1,xe=0;for(this[oe]=255&J;++xe<Ae&&(pe*=256);)this[oe+xe]=J/pe&255;return oe+Ae},_.prototype.writeUIntBE=function(J,oe,Ae,Ne){J=+J,oe|=0,Ae|=0,Ne||Re(this,J,oe,Ae,Math.pow(2,8*Ae)-1,0);var pe=Ae-1,xe=1;for(this[oe+pe]=255&J;--pe>=0&&(xe*=256);)this[oe+pe]=J/xe&255;return oe+Ae},_.prototype.writeUInt8=function(J,oe,Ae){return J=+J,oe|=0,Ae||Re(this,J,oe,1,255,0),_.TYPED_ARRAY_SUPPORT||(J=Math.floor(J)),this[oe]=255&J,oe+1},_.prototype.writeUInt16LE=function(J,oe,Ae){return J=+J,oe|=0,Ae||Re(this,J,oe,2,65535,0),_.TYPED_ARRAY_SUPPORT?(this[oe]=255&J,this[oe+1]=J>>>8):ne(this,J,oe,!0),oe+2},_.prototype.writeUInt16BE=function(J,oe,Ae){return J=+J,oe|=0,Ae||Re(this,J,oe,2,65535,0),_.TYPED_ARRAY_SUPPORT?(this[oe]=J>>>8,this[oe+1]=255&J):ne(this,J,oe,!1),oe+2},_.prototype.writeUInt32LE=function(J,oe,Ae){return J=+J,oe|=0,Ae||Re(this,J,oe,4,4294967295,0),_.TYPED_ARRAY_SUPPORT?(this[oe+3]=J>>>24,this[oe+2]=J>>>16,this[oe+1]=J>>>8,this[oe]=255&J):Fe(this,J,oe,!0),oe+4},_.prototype.writeUInt32BE=function(J,oe,Ae){return J=+J,oe|=0,Ae||Re(this,J,oe,4,4294967295,0),_.TYPED_ARRAY_SUPPORT?(this[oe]=J>>>24,this[oe+1]=J>>>16,this[oe+2]=J>>>8,this[oe+3]=255&J):Fe(this,J,oe,!1),oe+4},_.prototype.writeIntLE=function(J,oe,Ae,Ne){if(J=+J,oe|=0,!Ne){var pe=Math.pow(2,8*Ae-1);Re(this,J,oe,Ae,pe-1,-pe)}var xe=0,ut=1,be=0;for(this[oe]=255&J;++xe<Ae&&(ut*=256);)J<0&&0===be&&0!==this[oe+xe-1]&&(be=1),this[oe+xe]=(J/ut>>0)-be&255;return oe+Ae},_.prototype.writeIntBE=function(J,oe,Ae,Ne){if(J=+J,oe|=0,!Ne){var pe=Math.pow(2,8*Ae-1);Re(this,J,oe,Ae,pe-1,-pe)}var xe=Ae-1,ut=1,be=0;for(this[oe+xe]=255&J;--xe>=0&&(ut*=256);)J<0&&0===be&&0!==this[oe+xe+1]&&(be=1),this[oe+xe]=(J/ut>>0)-be&255;return oe+Ae},_.prototype.writeInt8=function(J,oe,Ae){return J=+J,oe|=0,Ae||Re(this,J,oe,1,127,-128),_.TYPED_ARRAY_SUPPORT||(J=Math.floor(J)),J<0&&(J=255+J+1),this[oe]=255&J,oe+1},_.prototype.writeInt16LE=function(J,oe,Ae){return J=+J,oe|=0,Ae||Re(this,J,oe,2,32767,-32768),_.TYPED_ARRAY_SUPPORT?(this[oe]=255&J,this[oe+1]=J>>>8):ne(this,J,oe,!0),oe+2},_.prototype.writeInt16BE=function(J,oe,Ae){return J=+J,oe|=0,Ae||Re(this,J,oe,2,32767,-32768),_.TYPED_ARRAY_SUPPORT?(this[oe]=J>>>8,this[oe+1]=255&J):ne(this,J,oe,!1),oe+2},_.prototype.writeInt32LE=function(J,oe,Ae){return J=+J,oe|=0,Ae||Re(this,J,oe,4,2147483647,-2147483648),_.TYPED_ARRAY_SUPPORT?(this[oe]=255&J,this[oe+1]=J>>>8,this[oe+2]=J>>>16,this[oe+3]=J>>>24):Fe(this,J,oe,!0),oe+4},_.prototype.writeInt32BE=function(J,oe,Ae){return J=+J,oe|=0,Ae||Re(this,J,oe,4,2147483647,-2147483648),J<0&&(J=4294967295+J+1),_.TYPED_ARRAY_SUPPORT?(this[oe]=J>>>24,this[oe+1]=J>>>16,this[oe+2]=J>>>8,this[oe+3]=255&J):Fe(this,J,oe,!1),oe+4},_.prototype.writeFloatLE=function(J,oe,Ae){return Te(this,J,oe,!0,Ae)},_.prototype.writeFloatBE=function(J,oe,Ae){return Te(this,J,oe,!1,Ae)},_.prototype.writeDoubleLE=function(J,oe,Ae){return tt(this,J,oe,!0,Ae)},_.prototype.writeDoubleBE=function(J,oe,Ae){return tt(this,J,oe,!1,Ae)},_.prototype.copy=function(J,oe,Ae,Ne){if(Ae||(Ae=0),Ne||0===Ne||(Ne=this.length),oe>=J.length&&(oe=J.length),oe||(oe=0),Ne>0&&Ne<Ae&&(Ne=Ae),Ne===Ae||0===J.length||0===this.length)return 0;if(oe<0)throw new RangeError("targetStart out of bounds");if(Ae<0||Ae>=this.length)throw new RangeError("sourceStart out of bounds");if(Ne<0)throw new RangeError("sourceEnd out of bounds");Ne>this.length&&(Ne=this.length),J.length-oe<Ne-Ae&&(Ne=J.length-oe+Ae);var pe,xe=Ne-Ae;if(this===J&&Ae<oe&&oe<Ne)for(pe=xe-1;pe>=0;--pe)J[pe+oe]=this[pe+Ae];else if(xe<1e3||!_.TYPED_ARRAY_SUPPORT)for(pe=0;pe<xe;++pe)J[pe+oe]=this[pe+Ae];else Uint8Array.prototype.set.call(J,this.subarray(Ae,Ae+xe),oe);return xe},_.prototype.fill=function(J,oe,Ae,Ne){if("string"==typeof J){if("string"==typeof oe?(Ne=oe,oe=0,Ae=this.length):"string"==typeof Ae&&(Ne=Ae,Ae=this.length),1===J.length){var pe=J.charCodeAt(0);pe<256&&(J=pe)}if(void 0!==Ne&&"string"!=typeof Ne)throw new TypeError("encoding must be a string");if("string"==typeof Ne&&!_.isEncoding(Ne))throw new TypeError("Unknown encoding: "+Ne)}else"number"==typeof J&&(J&=255);if(oe<0||this.length<oe||this.length<Ae)throw new RangeError("Out of range index");if(Ae<=oe)return this;var xe;if(oe>>>=0,Ae=void 0===Ae?this.length:Ae>>>0,J||(J=0),"number"==typeof J)for(xe=oe;xe<Ae;++xe)this[xe]=J;else{var ut=_.isBuffer(J)?J:et(new _(J,Ne).toString()),be=ut.length;for(xe=0;xe<Ae-oe;++xe)this[xe+oe]=ut[xe%be]}return this};var Qe=/[^+\/0-9A-Za-z-_]/g;function vt(de){return de<16?"0"+de.toString(16):de.toString(16)}function et(de,J){var oe;J=J||1/0;for(var Ae=de.length,Ne=null,pe=[],xe=0;xe<Ae;++xe){if((oe=de.charCodeAt(xe))>55295&&oe<57344){if(!Ne){if(oe>56319){(J-=3)>-1&&pe.push(239,191,189);continue}if(xe+1===Ae){(J-=3)>-1&&pe.push(239,191,189);continue}Ne=oe;continue}if(oe<56320){(J-=3)>-1&&pe.push(239,191,189),Ne=oe;continue}oe=65536+(Ne-55296<<10|oe-56320)}else Ne&&(J-=3)>-1&&pe.push(239,191,189);if(Ne=null,oe<128){if((J-=1)<0)break;pe.push(oe)}else if(oe<2048){if((J-=2)<0)break;pe.push(oe>>6|192,63&oe|128)}else if(oe<65536){if((J-=3)<0)break;pe.push(oe>>12|224,oe>>6&63|128,63&oe|128)}else{if(!(oe<1114112))throw new Error("Invalid code point");if((J-=4)<0)break;pe.push(oe>>18|240,oe>>12&63|128,oe>>6&63|128,63&oe|128)}}return pe}function je(de){return B.toByteArray(function(oe){if((oe=(Ne=oe,Ne.trim?Ne.trim():Ne.replace(/^\s+|\s+$/g,"")).replace(Qe,"")).length<2)return"";for(var Ne;oe.length%4!=0;)oe+="=";return oe}(de))}function it(de,J,oe,Ae){for(var Ne=0;Ne<Ae&&!(Ne+oe>=J.length||Ne>=de.length);++Ne)J[Ne+oe]=de[Ne];return Ne}}).call(this,M(29))},function(V,S){var M;M=function(){return this}();try{M=M||new Function("return this")()}catch{"object"==typeof window&&(M=window)}V.exports=M},function(V,S,M){"use strict";S.byteLength=function(j){var v=_(j),G=v[1];return 3*(v[0]+G)/4-G},S.toByteArray=function(j){var v,b,_e,G=_(j),z=G[0],H=G[1],ee=new r(3*(z+(_e=H))/4-_e),U=0,W=H>0?z-4:z;for(b=0;b<W;b+=4)v=B[j.charCodeAt(b)]<<18|B[j.charCodeAt(b+1)]<<12|B[j.charCodeAt(b+2)]<<6|B[j.charCodeAt(b+3)],ee[U++]=v>>16&255,ee[U++]=v>>8&255,ee[U++]=255&v;return 2===H&&(v=B[j.charCodeAt(b)]<<2|B[j.charCodeAt(b+1)]>>4,ee[U++]=255&v),1===H&&(v=B[j.charCodeAt(b)]<<10|B[j.charCodeAt(b+1)]<<4|B[j.charCodeAt(b+2)]>>2,ee[U++]=v>>8&255,ee[U++]=255&v),ee},S.fromByteArray=function(j){for(var v,b=j.length,G=b%3,z=[],H=16383,ee=0,U=b-G;ee<U;ee+=H)z.push(P(j,ee,ee+H>U?U:ee+H));return 1===G?z.push(K[(v=j[b-1])>>2]+K[v<<4&63]+"=="):2===G&&z.push(K[(v=(j[b-2]<<8)+j[b-1])>>10]+K[v>>4&63]+K[v<<2&63]+"="),z.join("")};for(var K=[],B=[],r=typeof Uint8Array<"u"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0;f<64;++f)K[f]=y[f],B[y.charCodeAt(f)]=f;function _(O){var j=O.length;if(j%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=O.indexOf("=");return-1===v&&(v=j),[v,v===j?0:4-v%4]}function P(O,j,v){for(var G,z=[],H=j;H<v;H+=3)z.push(K[(G=(O[H]<<16&16711680)+(O[H+1]<<8&65280)+(255&O[H+2]))>>18&63]+K[G>>12&63]+K[G>>6&63]+K[63&G]);return z.join("")}B["-".charCodeAt(0)]=62,B["_".charCodeAt(0)]=63},function(V,S){S.read=function(M,K,B,r,y){var f,g,_=8*y-r-1,P=(1<<_)-1,O=P>>1,j=-7,v=B?y-1:0,b=B?-1:1,G=M[K+v];for(v+=b,f=G&(1<<-j)-1,G>>=-j,j+=_;j>0;f=256*f+M[K+v],v+=b,j-=8);for(g=f&(1<<-j)-1,f>>=-j,j+=r;j>0;g=256*g+M[K+v],v+=b,j-=8);if(0===f)f=1-O;else{if(f===P)return g?NaN:1/0*(G?-1:1);g+=Math.pow(2,r),f-=O}return(G?-1:1)*g*Math.pow(2,f-r)},S.write=function(M,K,B,r,y,f){var g,_,P,O=8*f-y-1,j=(1<<O)-1,v=j>>1,b=23===y?Math.pow(2,-24)-Math.pow(2,-77):0,G=r?0:f-1,z=r?1:-1,H=K<0||0===K&&1/K<0?1:0;for(K=Math.abs(K),isNaN(K)||K===1/0?(_=isNaN(K)?1:0,g=j):(g=Math.floor(Math.log(K)/Math.LN2),K*(P=Math.pow(2,-g))<1&&(g--,P*=2),(K+=g+v>=1?b/P:b*Math.pow(2,1-v))*P>=2&&(g++,P/=2),g+v>=j?(_=0,g=j):g+v>=1?(_=(K*P-1)*Math.pow(2,y),g+=v):(_=K*Math.pow(2,v-1)*Math.pow(2,y),g=0));y>=8;M[B+G]=255&_,G+=z,_/=256,y-=8);for(g=g<<y|_,O+=y;O>0;M[B+G]=255&g,G+=z,g/=256,O-=8);M[B+G-z]|=128*H}},function(V,S){var M={}.toString;V.exports=Array.isArray||function(K){return"[object Array]"==M.call(K)}},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(r){var y=r.jws,f=r.KeyUtil,g=r.X509,_=r.crypto,P=r.hextob64u,O=r.b64tohex,j=r.AllowedSigningAlgs;return function(){function v(){!function(G,z){if(!(G instanceof z))throw new TypeError("Cannot call a class as a function")}(this,v)}return v.parseJwt=function(G){K.Log.debug("JoseUtil.parseJwt");try{var z=y.JWS.parse(G);return{header:z.headerObj,payload:z.payloadObj}}catch(H){K.Log.error(H)}},v.validateJwt=function(G,z,H,ee,U,W,Y){K.Log.debug("JoseUtil.validateJwt");try{if("RSA"===z.kty)if(z.e&&z.n)z=f.getKey(z);else{if(!z.x5c||!z.x5c.length)return K.Log.error("JoseUtil.validateJwt: RSA key missing key material",z),Promise.reject(new Error("RSA key missing key material"));var ae=O(z.x5c[0]);z=g.getPublicKeyFromCertHex(ae)}else{if("EC"!==z.kty)return K.Log.error("JoseUtil.validateJwt: Unsupported key type",z&&z.kty),Promise.reject(new Error(z.kty));if(!(z.crv&&z.x&&z.y))return K.Log.error("JoseUtil.validateJwt: EC key missing key material",z),Promise.reject(new Error("EC key missing key material"));z=f.getKey(z)}return v._validateJwt(G,z,H,ee,U,W,Y)}catch(ve){return K.Log.error(ve&&ve.message||ve),Promise.reject("JWT validation failed")}},v.validateJwtAttributes=function(G,z,H,ee,U,W){ee||(ee=0),U||(U=parseInt(Date.now()/1e3));var Y=v.parseJwt(G).payload;if(!Y.iss)return K.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(Y.iss!==z)return K.Log.error("JoseUtil._validateJwt: Invalid issuer in token",Y.iss),Promise.reject(new Error("Invalid issuer in token: "+Y.iss));if(!Y.aud)return K.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(Y.aud===H||Array.isArray(Y.aud)&&Y.aud.indexOf(H)>=0))return K.Log.error("JoseUtil._validateJwt: Invalid audience in token",Y.aud),Promise.reject(new Error("Invalid audience in token: "+Y.aud));if(Y.azp&&Y.azp!==H)return K.Log.error("JoseUtil._validateJwt: Invalid azp in token",Y.azp),Promise.reject(new Error("Invalid azp in token: "+Y.azp));if(!W){var ae=U+ee,ve=U-ee;if(!Y.iat)return K.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(ae<Y.iat)return K.Log.error("JoseUtil._validateJwt: iat is in the future",Y.iat),Promise.reject(new Error("iat is in the future: "+Y.iat));if(Y.nbf&&ae<Y.nbf)return K.Log.error("JoseUtil._validateJwt: nbf is in the future",Y.nbf),Promise.reject(new Error("nbf is in the future: "+Y.nbf));if(!Y.exp)return K.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(Y.exp<ve)return K.Log.error("JoseUtil._validateJwt: exp is in the past",Y.exp),Promise.reject(new Error("exp is in the past:"+Y.exp))}return Promise.resolve(Y)},v._validateJwt=function(G,z,H,ee,U,W,Y){return v.validateJwtAttributes(G,H,ee,U,W,Y).then(function(ae){try{return y.JWS.verify(G,z,j)?ae:(K.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(ve){return K.Log.error(ve&&ve.message||ve),Promise.reject(new Error("signature validation failed"))}})},v.hashString=function(G,z){try{return _.Util.hashString(G,z)}catch(H){K.Log.error(H)}},v.hexToBase64Url=function(G){try{return P(G)}catch(z){K.Log.error(z)}},v}()};var K=M(0);V.exports=S.default},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SigninResponse=void 0;var K=function(){function y(f,g){for(var _=0;_<g.length;_++){var P=g[_];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,P.key,P)}}return function(f,g,_){return g&&y(f.prototype,g),_&&y(f,_),f}}(),B=M(3);S.SigninResponse=function(){function y(f){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";!function r(y,f){if(!(y instanceof f))throw new TypeError("Cannot call a class as a function")}(this,y);var _=B.UrlUtility.parseUrlFragment(f,g);this.error=_.error,this.error_description=_.error_description,this.error_uri=_.error_uri,this.code=_.code,this.state=_.state,this.id_token=_.id_token,this.session_state=_.session_state,this.access_token=_.access_token,this.token_type=_.token_type,this.scope=_.scope,this.profile=void 0,this.expires_in=_.expires_in}return K(y,[{key:"expires_in",get:function(){if(this.expires_at){var g=parseInt(Date.now()/1e3);return this.expires_at-g}},set:function(g){var _=parseInt(g);if("number"==typeof _&&_>0){var P=parseInt(Date.now()/1e3);this.expires_at=P+_}}},{key:"expired",get:function(){var g=this.expires_in;if(void 0!==g)return g<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),y}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SignoutRequest=void 0;var K=M(0),B=M(3),r=M(9);S.SignoutRequest=function y(f){var g=f.url,_=f.id_token_hint,P=f.post_logout_redirect_uri,O=f.data,j=f.extraQueryParams,v=f.request_type;if(function(z,H){if(!(z instanceof H))throw new TypeError("Cannot call a class as a function")}(this,y),!g)throw K.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var b in _&&(g=B.UrlUtility.addQueryParam(g,"id_token_hint",_)),P&&(g=B.UrlUtility.addQueryParam(g,"post_logout_redirect_uri",P),O&&(this.state=new r.State({data:O,request_type:v}),g=B.UrlUtility.addQueryParam(g,"state",this.state.id))),j)g=B.UrlUtility.addQueryParam(g,b,j[b]);this.url=g}},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SignoutResponse=void 0;var K=M(3);S.SignoutResponse=function B(r){!function(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}(this,B);var y=K.UrlUtility.parseUrlFragment(r,"?");this.error=y.error,this.error_description=y.error_description,this.error_uri=y.error_uri,this.state=y.state}},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.InMemoryWebStorage=void 0;var K=function(){function r(y,f){for(var g=0;g<f.length;g++){var _=f[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,f,g){return f&&r(y.prototype,f),g&&r(y,g),y}}(),B=M(0);S.InMemoryWebStorage=function(){function r(){(function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,r),this._data={}}return r.prototype.getItem=function(f){return B.Log.debug("InMemoryWebStorage.getItem",f),this._data[f]},r.prototype.setItem=function(f,g){B.Log.debug("InMemoryWebStorage.setItem",f),this._data[f]=g},r.prototype.removeItem=function(f){B.Log.debug("InMemoryWebStorage.removeItem",f),delete this._data[f]},r.prototype.key=function(f){return Object.getOwnPropertyNames(this._data)[f]},K(r,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),r}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UserManager=void 0;var K=function(){function H(ee,U){for(var W=0;W<U.length;W++){var Y=U[W];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(ee,Y.key,Y)}}return function(ee,U,W){return U&&H(ee.prototype,U),W&&H(ee,W),ee}}(),B=M(0),r=M(10),y=M(39),f=M(15),g=M(45),_=M(47),P=M(18),O=M(8),j=M(20),v=M(11),b=M(4);S.UserManager=function(H){function ee(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.SilentRenewService,Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.SessionMonitor,ae=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j.TokenRevocationClient,ve=arguments.length>4&&void 0!==arguments[4]?arguments[4]:v.TokenClient,_e=arguments.length>5&&void 0!==arguments[5]?arguments[5]:b.JoseUtil;(function G(H,ee){if(!(H instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,ee),U instanceof y.UserManagerSettings||(U=new y.UserManagerSettings(U));var he=function z(H,ee){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ee||"object"!=typeof ee&&"function"!=typeof ee?H:ee}(this,H.call(this,U));return he._events=new g.UserManagerEvents(U),he._silentRenewService=new W(he),he.settings.automaticSilentRenew&&(B.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),he.startSilentRenew()),he.settings.monitorSession&&(B.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),he._sessionMonitor=new Y(he)),he._tokenRevocationClient=new ae(he._settings),he._tokenClient=new ve(he._settings),he._joseUtil=_e,he}return function(W,Y){if("function"!=typeof Y&&null!==Y)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);W.prototype=Object.create(Y&&Y.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(W,Y):W.__proto__=Y)}(ee,H),ee.prototype.getUser=function(){var W=this;return this._loadUser().then(function(Y){return Y?(B.Log.info("UserManager.getUser: user loaded"),W._events.load(Y,!1),Y):(B.Log.info("UserManager.getUser: user not found in storage"),null)})},ee.prototype.removeUser=function(){var W=this;return this.storeUser(null).then(function(){B.Log.info("UserManager.removeUser: user removed from storage"),W._events.unload()})},ee.prototype.signinRedirect=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(W=Object.assign({},W)).request_type="si:r",this._signinStart(W,this._redirectNavigator,{useReplaceToNavigate:W.useReplaceToNavigate}).then(function(){B.Log.info("UserManager.signinRedirect: successful")})},ee.prototype.signinRedirectCallback=function(W){return this._signinEnd(W||this._redirectNavigator.url).then(function(Y){return Y.profile&&Y.profile.sub?B.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",Y.profile.sub):B.Log.info("UserManager.signinRedirectCallback: no sub"),Y})},ee.prototype.signinPopup=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(W=Object.assign({},W)).request_type="si:p";var Y=W.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return Y?(W.redirect_uri=Y,W.display="popup",this._signin(W,this._popupNavigator,{startUrl:Y,popupWindowFeatures:W.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:W.popupWindowTarget||this.settings.popupWindowTarget}).then(function(ae){return ae&&(ae.profile&&ae.profile.sub?B.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",ae.profile.sub):B.Log.info("UserManager.signinPopup: no sub")),ae})):(B.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},ee.prototype.signinPopupCallback=function(W){return this._signinCallback(W,this._popupNavigator).then(function(Y){return Y&&(Y.profile&&Y.profile.sub?B.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",Y.profile.sub):B.Log.info("UserManager.signinPopupCallback: no sub")),Y}).catch(function(Y){B.Log.error(Y.message)})},ee.prototype.signinSilent=function(){var W=this,Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Y=Object.assign({},Y),this._loadUser().then(function(ae){return ae&&ae.refresh_token?(Y.refresh_token=ae.refresh_token,W._useRefreshToken(Y)):(Y.request_type="si:s",Y.id_token_hint=Y.id_token_hint||W.settings.includeIdTokenInSilentRenew&&ae&&ae.id_token,ae&&W._settings.validateSubOnSilentRenew&&(B.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",ae.profile.sub),Y.current_sub=ae.profile.sub),W._signinSilentIframe(Y))})},ee.prototype._useRefreshToken=function(){var W=this;return this._tokenClient.exchangeRefreshToken(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).then(function(ae){return ae?ae.access_token?W._loadUser().then(function(ve){if(ve){var _e=Promise.resolve();return ae.id_token&&(_e=W._validateIdTokenFromTokenRefreshToken(ve.profile,ae.id_token)),_e.then(function(){return B.Log.debug("UserManager._useRefreshToken: refresh token response success"),ve.id_token=ae.id_token||ve.id_token,ve.access_token=ae.access_token,ve.refresh_token=ae.refresh_token||ve.refresh_token,ve.expires_in=ae.expires_in,W.storeUser(ve).then(function(){return W._events.load(ve),ve})})}return null}):(B.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(B.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},ee.prototype._validateIdTokenFromTokenRefreshToken=function(W,Y){var ae=this;return this._metadataService.getIssuer().then(function(ve){return ae.settings.getEpochTime().then(function(_e){return ae._joseUtil.validateJwtAttributes(Y,ve,ae._settings.client_id,ae._settings.clockSkew,_e).then(function(he){return he?he.sub!==W.sub?(B.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):he.auth_time&&he.auth_time!==W.auth_time?(B.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):he.azp&&he.azp!==W.azp?(B.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!he.azp&&W.azp?(B.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(B.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},ee.prototype._signinSilentIframe=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Y=W.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return Y?(W.redirect_uri=Y,W.prompt=W.prompt||"none",this._signin(W,this._iframeNavigator,{startUrl:Y,silentRequestTimeout:W.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(ae){return ae&&(ae.profile&&ae.profile.sub?B.Log.info("UserManager.signinSilent: successful, signed in sub: ",ae.profile.sub):B.Log.info("UserManager.signinSilent: no sub")),ae})):(B.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},ee.prototype.signinSilentCallback=function(W){return this._signinCallback(W,this._iframeNavigator).then(function(Y){return Y&&(Y.profile&&Y.profile.sub?B.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",Y.profile.sub):B.Log.info("UserManager.signinSilentCallback: no sub")),Y})},ee.prototype.signinCallback=function(W){var Y=this;return this.readSigninResponseState(W).then(function(ae){var ve=ae.state;return"si:r"===ve.request_type?Y.signinRedirectCallback(W):"si:p"===ve.request_type?Y.signinPopupCallback(W):"si:s"===ve.request_type?Y.signinSilentCallback(W):Promise.reject(new Error("invalid response_type in state"))})},ee.prototype.signoutCallback=function(W,Y){var ae=this;return this.readSignoutResponseState(W).then(function(ve){var _e=ve.state,he=ve.response;return _e?"so:r"===_e.request_type?ae.signoutRedirectCallback(W):"so:p"===_e.request_type?ae.signoutPopupCallback(W,Y):Promise.reject(new Error("invalid response_type in state")):he})},ee.prototype.querySessionStatus=function(){var W=this,Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(Y=Object.assign({},Y)).request_type="si:s";var ae=Y.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return ae?(Y.redirect_uri=ae,Y.prompt="none",Y.response_type=Y.response_type||this.settings.query_status_response_type,Y.scope=Y.scope||"openid",Y.skipUserInfo=!0,this._signinStart(Y,this._iframeNavigator,{startUrl:ae,silentRequestTimeout:Y.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(ve){return W.processSigninResponse(ve.url).then(function(_e){if(B.Log.debug("UserManager.querySessionStatus: got signin response"),_e.session_state&&_e.profile.sub)return B.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",_e.profile.sub),{session_state:_e.session_state,sub:_e.profile.sub,sid:_e.profile.sid};B.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(_e){if(_e.session_state&&W.settings.monitorAnonymousSession&&("login_required"==_e.message||"consent_required"==_e.message||"interaction_required"==_e.message||"account_selection_required"==_e.message))return B.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:_e.session_state};throw _e})})):(B.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},ee.prototype._signin=function(W,Y){var ae=this;return this._signinStart(W,Y,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(_e){return ae._signinEnd(_e.url,W)})},ee.prototype._signinStart=function(W,Y){var ae=this,ve=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Y.prepare(ve).then(function(_e){return B.Log.debug("UserManager._signinStart: got navigator window handle"),ae.createSigninRequest(W).then(function(he){return B.Log.debug("UserManager._signinStart: got signin request"),ve.url=he.url,ve.id=he.state.id,_e.navigate(ve)}).catch(function(he){throw _e.close&&(B.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),_e.close()),he})})},ee.prototype._signinEnd=function(W){var Y=this,ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(W).then(function(ve){B.Log.debug("UserManager._signinEnd: got signin response");var _e=new f.User(ve);if(ae.current_sub){if(ae.current_sub!==_e.profile.sub)return B.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",_e.profile.sub),Promise.reject(new Error("login_required"));B.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return Y.storeUser(_e).then(function(){return B.Log.debug("UserManager._signinEnd: user stored"),Y._events.load(_e),_e})})},ee.prototype._signinCallback=function(W,Y){B.Log.debug("UserManager._signinCallback");var ae="query"===this._settings.response_mode||!this._settings.response_mode&&O.SigninRequest.isCode(this._settings.response_type)?"?":"#";return Y.callback(W,void 0,ae)},ee.prototype.signoutRedirect=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(W=Object.assign({},W)).request_type="so:r";var Y=W.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return Y&&(W.post_logout_redirect_uri=Y),this._signoutStart(W,this._redirectNavigator,{useReplaceToNavigate:W.useReplaceToNavigate}).then(function(){B.Log.info("UserManager.signoutRedirect: successful")})},ee.prototype.signoutRedirectCallback=function(W){return this._signoutEnd(W||this._redirectNavigator.url).then(function(Y){return B.Log.info("UserManager.signoutRedirectCallback: successful"),Y})},ee.prototype.signoutPopup=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(W=Object.assign({},W)).request_type="so:p";var Y=W.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return W.post_logout_redirect_uri=Y,W.display="popup",W.post_logout_redirect_uri&&(W.state=W.state||{}),this._signout(W,this._popupNavigator,{startUrl:Y,popupWindowFeatures:W.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:W.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){B.Log.info("UserManager.signoutPopup: successful")})},ee.prototype.signoutPopupCallback=function(W,Y){return void 0===Y&&"boolean"==typeof W&&(Y=W,W=null),this._popupNavigator.callback(W,Y,"?").then(function(){B.Log.info("UserManager.signoutPopupCallback: successful")})},ee.prototype._signout=function(W,Y){var ae=this;return this._signoutStart(W,Y,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(_e){return ae._signoutEnd(_e.url)})},ee.prototype._signoutStart=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Y=this,ve=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments[1].prepare(ve).then(function(_e){return B.Log.debug("UserManager._signoutStart: got navigator window handle"),Y._loadUser().then(function(he){return B.Log.debug("UserManager._signoutStart: loaded current user from storage"),(Y._settings.revokeAccessTokenOnSignout?Y._revokeInternal(he):Promise.resolve()).then(function(){var x=W.id_token_hint||he&&he.id_token;return x&&(B.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),W.id_token_hint=x),Y.removeUser().then(function(){return B.Log.debug("UserManager._signoutStart: user removed, creating signout request"),Y.createSignoutRequest(W).then(function(R){return B.Log.debug("UserManager._signoutStart: got signout request"),ve.url=R.url,R.state&&(ve.id=R.state.id),_e.navigate(ve)})})})}).catch(function(he){throw _e.close&&(B.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),_e.close()),he})})},ee.prototype._signoutEnd=function(W){return this.processSignoutResponse(W).then(function(Y){return B.Log.debug("UserManager._signoutEnd: got signout response"),Y})},ee.prototype.revokeAccessToken=function(){var W=this;return this._loadUser().then(function(Y){return W._revokeInternal(Y,!0).then(function(ae){if(ae)return B.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),Y.access_token=null,Y.refresh_token=null,Y.expires_at=null,Y.token_type=null,W.storeUser(Y).then(function(){B.Log.debug("UserManager.revokeAccessToken: user stored"),W._events.load(Y)})})}).then(function(){B.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},ee.prototype._revokeInternal=function(W,Y){var ae=this;if(W){var _e=W.refresh_token;return this._revokeAccessTokenInternal(W.access_token,Y).then(function(he){return ae._revokeRefreshTokenInternal(_e,Y).then(function(x){return he||x||B.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),he||x})})}return Promise.resolve(!1)},ee.prototype._revokeAccessTokenInternal=function(W,Y){return!W||W.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(W,Y).then(function(){return!0})},ee.prototype._revokeRefreshTokenInternal=function(W,Y){return W?this._tokenRevocationClient.revoke(W,Y,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},ee.prototype.startSilentRenew=function(){this._silentRenewService.start()},ee.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},ee.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(W){return W?(B.Log.debug("UserManager._loadUser: user storageString loaded"),f.User.fromStorageString(W)):(B.Log.debug("UserManager._loadUser: no user storageString"),null)})},ee.prototype.storeUser=function(W){if(W){B.Log.debug("UserManager.storeUser: storing user");var Y=W.toStorageString();return this._userStore.set(this._userStoreKey,Y)}return B.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},K(ee,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),ee}(r.OidcClient)},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UserManagerSettings=void 0;var K=function(){function v(b,G){for(var z=0;z<G.length;z++){var H=G[z];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(b,H.key,H)}}return function(b,G,z){return G&&v(b.prototype,G),z&&v(b,z),b}}(),B=(M(0),M(5)),r=M(40),y=M(41),f=M(43),g=M(6),_=M(1),P=M(8);S.UserManagerSettings=function(v){function b(){var G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},z=G.popup_redirect_uri,H=G.popup_post_logout_redirect_uri,ee=G.popupWindowFeatures,U=G.popupWindowTarget,W=G.silent_redirect_uri,Y=G.silentRequestTimeout,ae=G.automaticSilentRenew,ve=void 0!==ae&&ae,_e=G.validateSubOnSilentRenew,he=void 0!==_e&&_e,x=G.includeIdTokenInSilentRenew,R=void 0===x||x,E=G.monitorSession,I=void 0===E||E,L=G.monitorAnonymousSession,D=void 0!==L&&L,Q=G.checkSessionInterval,te=void 0===Q?2e3:Q,Re=G.stopCheckSessionOnError,ne=void 0===Re||Re,Fe=G.query_status_response_type,rt=G.revokeAccessTokenOnSignout,Te=void 0!==rt&&rt,tt=G.accessTokenExpiringNotificationTime,Qe=void 0===tt?60:tt,vt=G.redirectNavigator,et=void 0===vt?new r.RedirectNavigator:vt,je=G.popupNavigator,it=void 0===je?new y.PopupNavigator:je,de=G.iframeNavigator,J=void 0===de?new f.IFrameNavigator:de,oe=G.userStore,Ae=void 0===oe?new g.WebStorageStateStore({store:_.Global.sessionStorage}):oe;!function O(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var Ne=function j(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?v:b}(this,v.call(this,arguments[0]));return Ne._popup_redirect_uri=z,Ne._popup_post_logout_redirect_uri=H,Ne._popupWindowFeatures=ee,Ne._popupWindowTarget=U,Ne._silent_redirect_uri=W,Ne._silentRequestTimeout=Y,Ne._automaticSilentRenew=ve,Ne._validateSubOnSilentRenew=he,Ne._includeIdTokenInSilentRenew=R,Ne._accessTokenExpiringNotificationTime=Qe,Ne._monitorSession=I,Ne._monitorAnonymousSession=D,Ne._checkSessionInterval=te,Ne._stopCheckSessionOnError=ne,Ne._query_status_response_type=Fe||(arguments[0]&&arguments[0].response_type?P.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":"id_token"),Ne._revokeAccessTokenOnSignout=Te,Ne._redirectNavigator=et,Ne._popupNavigator=it,Ne._iframeNavigator=J,Ne._userStore=Ae,Ne}return function(z,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function, not "+typeof H);z.prototype=Object.create(H&&H.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(z,H):z.__proto__=H)}(b,v),K(b,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),b}(B.OidcClientSettings)},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.RedirectNavigator=void 0;var K=function(){function r(y,f){for(var g=0;g<f.length;g++){var _=f[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,f,g){return f&&r(y.prototype,f),g&&r(y,g),y}}(),B=M(0);S.RedirectNavigator=function(){function r(){!function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,r)}return r.prototype.prepare=function(){return Promise.resolve(this)},r.prototype.navigate=function(f){return f&&f.url?(f.useReplaceToNavigate?window.location.replace(f.url):window.location=f.url,Promise.resolve()):(B.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},K(r,[{key:"url",get:function(){return window.location.href}}]),r}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.PopupNavigator=void 0;var K=M(0),B=M(42);S.PopupNavigator=function(){function r(){!function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,r)}return r.prototype.prepare=function(f){var g=new B.PopupWindow(f);return Promise.resolve(g)},r.prototype.callback=function(f,g,_){K.Log.debug("PopupNavigator.callback");try{return B.PopupWindow.notifyOpener(f,g,_),Promise.resolve()}catch(P){return Promise.reject(P)}},r}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.PopupWindow=void 0;var K=function(){function y(f,g){for(var _=0;_<g.length;_++){var P=g[_];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,P.key,P)}}return function(f,g,_){return g&&y(f.prototype,g),_&&y(f,_),f}}(),B=M(0),r=M(3);S.PopupWindow=function(){function y(f){var g=this;(function(j,v){if(!(j instanceof v))throw new TypeError("Cannot call a class as a function")})(this,y),this._promise=new Promise(function(O,j){g._resolve=O,g._reject=j}),this._popup=window.open("",f.popupWindowTarget||"_blank",f.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;"),this._popup&&(B.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return y.prototype.navigate=function(g){return this._popup?g&&g.url?(B.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=g.id,this._id&&(window["popupCallback_"+g.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=g.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},y.prototype._success=function(g){B.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(g)},y.prototype._error=function(g){B.Log.error("PopupWindow.error: ",g),this._cleanup(),this._reject(new Error(g))},y.prototype.close=function(){this._cleanup(!1)},y.prototype._cleanup=function(g){B.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!g&&this._popup.close(),this._popup=null},y.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},y.prototype._callback=function(g,_){this._cleanup(_),g?(B.Log.debug("PopupWindow.callback success"),this._success({url:g})):(B.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},y.notifyOpener=function(g,_,P){if(window.opener){if(g=g||window.location.href){var O=r.UrlUtility.parseUrlFragment(g,P);if(O.state){var v=window.opener["popupCallback_"+O.state];v?(B.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),v(g,_)):B.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else B.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else B.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},K(y,[{key:"promise",get:function(){return this._promise}}]),y}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.IFrameNavigator=void 0;var K=M(0),B=M(44);S.IFrameNavigator=function(){function r(){!function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,r)}return r.prototype.prepare=function(f){var g=new B.IFrameWindow(f);return Promise.resolve(g)},r.prototype.callback=function(f){K.Log.debug("IFrameNavigator.callback");try{return B.IFrameWindow.notifyParent(f),Promise.resolve()}catch(g){return Promise.reject(g)}},r}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.IFrameWindow=void 0;var K=function(){function r(y,f){for(var g=0;g<f.length;g++){var _=f[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,f,g){return f&&r(y.prototype,f),g&&r(y,g),y}}(),B=M(0);S.IFrameWindow=function(){function r(y){var f=this;(function(_,P){if(!(_ instanceof P))throw new TypeError("Cannot call a class as a function")})(this,r),this._promise=new Promise(function(g,_){f._resolve=g,f._reject=_}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return r.prototype.navigate=function(f){if(f&&f.url){var g=f.silentRequestTimeout||1e4;B.Log.debug("IFrameWindow.navigate: Using timeout of:",g),this._timer=window.setTimeout(this._timeout.bind(this),g),this._frame.src=f.url}else this._error("No url provided");return this.promise},r.prototype._success=function(f){this._cleanup(),B.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(f)},r.prototype._error=function(f){this._cleanup(),B.Log.error(f),this._reject(new Error(f))},r.prototype.close=function(){this._cleanup()},r.prototype._cleanup=function(){this._frame&&(B.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},r.prototype._timeout=function(){B.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},r.prototype._message=function(f){if(B.Log.debug("IFrameWindow.message"),this._timer&&f.origin===this._origin&&f.source===this._frame.contentWindow&&"string"==typeof f.data&&(f.data.startsWith("http://")||f.data.startsWith("https://"))){var g=f.data;g?this._success({url:g}):this._error("Invalid response from frame")}},r.notifyParent=function(f){B.Log.debug("IFrameWindow.notifyParent"),(f=f||window.location.href)&&(B.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(f,location.protocol+"//"+location.host))},K(r,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),r}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UserManagerEvents=void 0;var K=M(0),B=M(16),r=M(17);S.UserManagerEvents=function(y){function f(g){!function(O,j){if(!(O instanceof j))throw new TypeError("Cannot call a class as a function")}(this,f);var _=function(O,j){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!j||"object"!=typeof j&&"function"!=typeof j?O:j}(this,y.call(this,g));return _._userLoaded=new r.Event("User loaded"),_._userUnloaded=new r.Event("User unloaded"),_._silentRenewError=new r.Event("Silent renew error"),_._userSignedIn=new r.Event("User signed in"),_._userSignedOut=new r.Event("User signed out"),_._userSessionChanged=new r.Event("User session changed"),_}return function(_,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);_.prototype=Object.create(P&&P.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(_,P):_.__proto__=P)}(f,y),f.prototype.load=function(_){var P=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];K.Log.debug("UserManagerEvents.load"),y.prototype.load.call(this,_),P&&this._userLoaded.raise(_)},f.prototype.unload=function(){K.Log.debug("UserManagerEvents.unload"),y.prototype.unload.call(this),this._userUnloaded.raise()},f.prototype.addUserLoaded=function(_){this._userLoaded.addHandler(_)},f.prototype.removeUserLoaded=function(_){this._userLoaded.removeHandler(_)},f.prototype.addUserUnloaded=function(_){this._userUnloaded.addHandler(_)},f.prototype.removeUserUnloaded=function(_){this._userUnloaded.removeHandler(_)},f.prototype.addSilentRenewError=function(_){this._silentRenewError.addHandler(_)},f.prototype.removeSilentRenewError=function(_){this._silentRenewError.removeHandler(_)},f.prototype._raiseSilentRenewError=function(_){K.Log.debug("UserManagerEvents._raiseSilentRenewError",_.message),this._silentRenewError.raise(_)},f.prototype.addUserSignedIn=function(_){this._userSignedIn.addHandler(_)},f.prototype.removeUserSignedIn=function(_){this._userSignedIn.removeHandler(_)},f.prototype._raiseUserSignedIn=function(){K.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},f.prototype.addUserSignedOut=function(_){this._userSignedOut.addHandler(_)},f.prototype.removeUserSignedOut=function(_){this._userSignedOut.removeHandler(_)},f.prototype._raiseUserSignedOut=function(){K.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},f.prototype.addUserSessionChanged=function(_){this._userSessionChanged.addHandler(_)},f.prototype.removeUserSessionChanged=function(_){this._userSessionChanged.removeHandler(_)},f.prototype._raiseUserSessionChanged=function(){K.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},f}(B.AccessTokenEvents)},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Timer=void 0;var K=function(){function _(P,O){for(var j=0;j<O.length;j++){var v=O[j];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(P,v.key,v)}}return function(P,O,j){return O&&_(P.prototype,O),j&&_(P,j),P}}(),B=M(0),r=M(1),y=M(17);S.Timer=function(_){function P(O){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Global.timer,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function f(_,P){if(!(_ instanceof P))throw new TypeError("Cannot call a class as a function")}(this,P);var b=function g(_,P){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?_:P}(this,_.call(this,O));return b._timer=j,b._nowFunc=v||function(){return Date.now()/1e3},b}return function(j,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);j.prototype=Object.create(v&&v.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(j,v):j.__proto__=v)}(P,_),P.prototype.init=function(j){j<=0&&(j=1),j=parseInt(j);var v=this.now+j;if(this.expiration===v&&this._timerHandle)B.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),B.Log.debug("Timer.init timer "+this._name+" for duration:",j),this._expiration=v;var b=5;j<b&&(b=j),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*b)}},P.prototype.cancel=function(){this._timerHandle&&(B.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},P.prototype._callback=function(){B.Log.debug("Timer.callback; "+this._name+" timer expires in:",this._expiration-this.now),this._expiration<=this.now&&(this.cancel(),_.prototype.raise.call(this))},K(P,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),P}(y.Event)},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SilentRenewService=void 0;var K=M(0);S.SilentRenewService=function(){function B(r){(function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,B),this._userManager=r}return B.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(y){}).catch(function(y){K.Log.error("SilentRenewService.start: Error from getUser:",y.message)}))},B.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},B.prototype._tokenExpiring=function(){var y=this;this._userManager.signinSilent().then(function(f){K.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(f){K.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",f.message),y._userManager.events._raiseSilentRenewError(f)})},B}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CordovaPopupNavigator=void 0;var K=M(21);S.CordovaPopupNavigator=function(){function B(){!function(y,f){if(!(y instanceof f))throw new TypeError("Cannot call a class as a function")}(this,B)}return B.prototype.prepare=function(y){var f=new K.CordovaPopupWindow(y);return Promise.resolve(f)},B}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CordovaIFrameNavigator=void 0;var K=M(21);S.CordovaIFrameNavigator=function(){function B(){!function(y,f){if(!(y instanceof f))throw new TypeError("Cannot call a class as a function")}(this,B)}return B.prototype.prepare=function(y){y.popupWindowFeatures="hidden=yes";var f=new K.CordovaPopupWindow(y);return Promise.resolve(f)},B}()},function(V,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Version="1.11.5"}])},77434:fe=>{var V=String.prototype.replace,S=/%20/g;fe.exports={default:"RFC3986",formatters:{RFC1738:function(B){return V.call(B,S,"+")},RFC3986:function(B){return String(B)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},93670:(fe,V,S)=>{var M=S(41799),K=S(42207),B=S(77434);fe.exports={formats:B,parse:K,stringify:M}},42207:(fe,V,S)=>{var M=S(98477),K=Object.prototype.hasOwnProperty,B=Array.isArray,r={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:M.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},y=function(G){return G.replace(/&#(\d+);/g,function(z,H){return String.fromCharCode(parseInt(H,10))})},f=function(G,z){return G&&"string"==typeof G&&z.comma&&G.indexOf(",")>-1?G.split(","):G},j=function(G,z,H,ee){if(G){var U=H.allowDots?G.replace(/\.([^.[]+)/g,"[$1]"):G,Y=/(\[[^[\]]*])/g,ae=H.depth>0&&/(\[[^[\]]*])/.exec(U),ve=ae?U.slice(0,ae.index):U,_e=[];if(ve){if(!H.plainObjects&&K.call(Object.prototype,ve)&&!H.allowPrototypes)return;_e.push(ve)}for(var he=0;H.depth>0&&null!==(ae=Y.exec(U))&&he<H.depth;){if(he+=1,!H.plainObjects&&K.call(Object.prototype,ae[1].slice(1,-1))&&!H.allowPrototypes)return;_e.push(ae[1])}return ae&&_e.push("["+U.slice(ae.index)+"]"),function(G,z,H,ee){for(var U=ee?z:f(z,H),W=G.length-1;W>=0;--W){var Y,ae=G[W];if("[]"===ae&&H.parseArrays)Y=[].concat(U);else{Y=H.plainObjects?Object.create(null):{};var ve="["===ae.charAt(0)&&"]"===ae.charAt(ae.length-1)?ae.slice(1,-1):ae,_e=parseInt(ve,10);H.parseArrays||""!==ve?!isNaN(_e)&&ae!==ve&&String(_e)===ve&&_e>=0&&H.parseArrays&&_e<=H.arrayLimit?(Y=[])[_e]=U:"__proto__"!==ve&&(Y[ve]=U):Y={0:U}}U=Y}return U}(_e,z,H,ee)}};fe.exports=function(b,G){var z=function(G){if(!G)return r;if(null!=G.decoder&&"function"!=typeof G.decoder)throw new TypeError("Decoder has to be a function.");if(typeof G.charset<"u"&&"utf-8"!==G.charset&&"iso-8859-1"!==G.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");return{allowDots:typeof G.allowDots>"u"?r.allowDots:!!G.allowDots,allowPrototypes:"boolean"==typeof G.allowPrototypes?G.allowPrototypes:r.allowPrototypes,allowSparse:"boolean"==typeof G.allowSparse?G.allowSparse:r.allowSparse,arrayLimit:"number"==typeof G.arrayLimit?G.arrayLimit:r.arrayLimit,charset:typeof G.charset>"u"?r.charset:G.charset,charsetSentinel:"boolean"==typeof G.charsetSentinel?G.charsetSentinel:r.charsetSentinel,comma:"boolean"==typeof G.comma?G.comma:r.comma,decoder:"function"==typeof G.decoder?G.decoder:r.decoder,delimiter:"string"==typeof G.delimiter||M.isRegExp(G.delimiter)?G.delimiter:r.delimiter,depth:"number"==typeof G.depth||!1===G.depth?+G.depth:r.depth,ignoreQueryPrefix:!0===G.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof G.interpretNumericEntities?G.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:"number"==typeof G.parameterLimit?G.parameterLimit:r.parameterLimit,parseArrays:!1!==G.parseArrays,plainObjects:"boolean"==typeof G.plainObjects?G.plainObjects:r.plainObjects,strictNullHandling:"boolean"==typeof G.strictNullHandling?G.strictNullHandling:r.strictNullHandling}}(G);if(""===b||null===b||typeof b>"u")return z.plainObjects?Object.create(null):{};for(var H="string"==typeof b?function(G,z){var ae,H={__proto__:null},W=(z.ignoreQueryPrefix?G.replace(/^\?/,""):G).split(z.delimiter,z.parameterLimit===1/0?void 0:z.parameterLimit),Y=-1,ve=z.charset;if(z.charsetSentinel)for(ae=0;ae<W.length;++ae)0===W[ae].indexOf("utf8=")&&("utf8=%E2%9C%93"===W[ae]?ve="utf-8":"utf8=%26%2310003%3B"===W[ae]&&(ve="iso-8859-1"),Y=ae,ae=W.length);for(ae=0;ae<W.length;++ae)if(ae!==Y){var R,E,_e=W[ae],he=_e.indexOf("]="),x=-1===he?_e.indexOf("="):he+1;-1===x?(R=z.decoder(_e,r.decoder,ve,"key"),E=z.strictNullHandling?null:""):(R=z.decoder(_e.slice(0,x),r.decoder,ve,"key"),E=M.maybeMap(f(_e.slice(x+1),z),function(I){return z.decoder(I,r.decoder,ve,"value")})),E&&z.interpretNumericEntities&&"iso-8859-1"===ve&&(E=y(E)),_e.indexOf("[]=")>-1&&(E=B(E)?[E]:E),H[R]=K.call(H,R)?M.combine(H[R],E):E}return H}(b,z):b,ee=z.plainObjects?Object.create(null):{},U=Object.keys(H),W=0;W<U.length;++W){var Y=U[W],ae=j(Y,H[Y],z,"string"==typeof b);ee=M.merge(ee,ae,z)}return!0===z.allowSparse?ee:M.compact(ee)}},41799:(fe,V,S)=>{var M=S(98432),K=S(98477),B=S(77434),r=Object.prototype.hasOwnProperty,y={brackets:function(ee){return ee+"[]"},comma:"comma",indices:function(ee,U){return ee+"["+U+"]"},repeat:function(ee){return ee}},f=Array.isArray,g=Array.prototype.push,_=function(ee,U){g.apply(ee,f(U)?U:[U])},P=Date.prototype.toISOString,O=B.default,j={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:K.encode,encodeValuesOnly:!1,format:O,formatter:B.formatters[O],indices:!1,serializeDate:function(ee){return P.call(ee)},skipNulls:!1,strictNullHandling:!1},b={},G=function H(ee,U,W,Y,ae,ve,_e,he,x,R,E,I,L,D,Q,te){for(var Re=ee,ne=te,Fe=0,rt=!1;void 0!==(ne=ne.get(b))&&!rt;){var Te=ne.get(ee);if(Fe+=1,typeof Te<"u"){if(Te===Fe)throw new RangeError("Cyclic object value");rt=!0}typeof ne.get(b)>"u"&&(Fe=0)}if("function"==typeof he?Re=he(U,Re):Re instanceof Date?Re=E(Re):"comma"===W&&f(Re)&&(Re=K.maybeMap(Re,function(Ne){return Ne instanceof Date?E(Ne):Ne})),null===Re){if(ae)return _e&&!D?_e(U,j.encoder,Q,"key",I):U;Re=""}if(function(ee){return"string"==typeof ee||"number"==typeof ee||"boolean"==typeof ee||"symbol"==typeof ee||"bigint"==typeof ee}(Re)||K.isBuffer(Re))return _e?[L(D?U:_e(U,j.encoder,Q,"key",I))+"="+L(_e(Re,j.encoder,Q,"value",I))]:[L(U)+"="+L(String(Re))];var vt,Qe=[];if(typeof Re>"u")return Qe;if("comma"===W&&f(Re))D&&_e&&(Re=K.maybeMap(Re,_e)),vt=[{value:Re.length>0?Re.join(",")||null:void 0}];else if(f(he))vt=he;else{var et=Object.keys(Re);vt=x?et.sort(x):et}for(var je=Y&&f(Re)&&1===Re.length?U+"[]":U,it=0;it<vt.length;++it){var de=vt[it],J="object"==typeof de&&typeof de.value<"u"?de.value:Re[de];if(!ve||null!==J){var oe=f(Re)?"function"==typeof W?W(je,de):je:je+(R?"."+de:"["+de+"]");te.set(ee,Fe);var Ae=M();Ae.set(b,te),_(Qe,H(J,oe,W,Y,ae,ve,"comma"===W&&D&&f(Re)?null:_e,he,x,R,E,I,L,D,Q,Ae))}}return Qe};fe.exports=function(H,ee){var Y,U=H,W=function(ee){if(!ee)return j;if(null!==ee.encoder&&typeof ee.encoder<"u"&&"function"!=typeof ee.encoder)throw new TypeError("Encoder has to be a function.");var U=ee.charset||j.charset;if(typeof ee.charset<"u"&&"utf-8"!==ee.charset&&"iso-8859-1"!==ee.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var W=B.default;if(typeof ee.format<"u"){if(!r.call(B.formatters,ee.format))throw new TypeError("Unknown format option provided.");W=ee.format}var Y=B.formatters[W],ae=j.filter;return("function"==typeof ee.filter||f(ee.filter))&&(ae=ee.filter),{addQueryPrefix:"boolean"==typeof ee.addQueryPrefix?ee.addQueryPrefix:j.addQueryPrefix,allowDots:typeof ee.allowDots>"u"?j.allowDots:!!ee.allowDots,charset:U,charsetSentinel:"boolean"==typeof ee.charsetSentinel?ee.charsetSentinel:j.charsetSentinel,delimiter:typeof ee.delimiter>"u"?j.delimiter:ee.delimiter,encode:"boolean"==typeof ee.encode?ee.encode:j.encode,encoder:"function"==typeof ee.encoder?ee.encoder:j.encoder,encodeValuesOnly:"boolean"==typeof ee.encodeValuesOnly?ee.encodeValuesOnly:j.encodeValuesOnly,filter:ae,format:W,formatter:Y,serializeDate:"function"==typeof ee.serializeDate?ee.serializeDate:j.serializeDate,skipNulls:"boolean"==typeof ee.skipNulls?ee.skipNulls:j.skipNulls,sort:"function"==typeof ee.sort?ee.sort:null,strictNullHandling:"boolean"==typeof ee.strictNullHandling?ee.strictNullHandling:j.strictNullHandling}}(ee);"function"==typeof W.filter?U=(0,W.filter)("",U):f(W.filter)&&(Y=W.filter);var ve=[];if("object"!=typeof U||null===U)return"";var he=y[ee&&ee.arrayFormat in y?ee.arrayFormat:ee&&"indices"in ee?ee.indices?"indices":"repeat":"indices"];if(ee&&"commaRoundTrip"in ee&&"boolean"!=typeof ee.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var x="comma"===he&&ee&&ee.commaRoundTrip;Y||(Y=Object.keys(U)),W.sort&&Y.sort(W.sort);for(var R=M(),E=0;E<Y.length;++E){var I=Y[E];W.skipNulls&&null===U[I]||_(ve,G(U[I],I,he,x,W.strictNullHandling,W.skipNulls,W.encode?W.encoder:null,W.filter,W.sort,W.allowDots,W.serializeDate,W.format,W.formatter,W.encodeValuesOnly,W.charset,R))}var L=ve.join(W.delimiter),D=!0===W.addQueryPrefix?"?":"";return W.charsetSentinel&&(D+="iso-8859-1"===W.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),L.length>0?D+L:""}},98477:(fe,V,S)=>{var M=S(77434),K=Object.prototype.hasOwnProperty,B=Array.isArray,r=function(){for(var H=[],ee=0;ee<256;++ee)H.push("%"+((ee<16?"0":"")+ee.toString(16)).toUpperCase());return H}(),f=function(ee,U){for(var W=U&&U.plainObjects?Object.create(null):{},Y=0;Y<ee.length;++Y)typeof ee[Y]<"u"&&(W[Y]=ee[Y]);return W};fe.exports={arrayToObject:f,assign:function(ee,U){return Object.keys(U).reduce(function(W,Y){return W[Y]=U[Y],W},ee)},combine:function(ee,U){return[].concat(ee,U)},compact:function(ee){for(var U=[{obj:{o:ee},prop:"o"}],W=[],Y=0;Y<U.length;++Y)for(var ae=U[Y],ve=ae.obj[ae.prop],_e=Object.keys(ve),he=0;he<_e.length;++he){var x=_e[he],R=ve[x];"object"==typeof R&&null!==R&&-1===W.indexOf(R)&&(U.push({obj:ve,prop:x}),W.push(R))}return function(ee){for(;ee.length>1;){var U=ee.pop(),W=U.obj[U.prop];if(B(W)){for(var Y=[],ae=0;ae<W.length;++ae)typeof W[ae]<"u"&&Y.push(W[ae]);U.obj[U.prop]=Y}}}(U),ee},decode:function(ee,U,W){var Y=ee.replace(/\+/g," ");if("iso-8859-1"===W)return Y.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(Y)}catch{return Y}},encode:function(ee,U,W,Y,ae){if(0===ee.length)return ee;var ve=ee;if("symbol"==typeof ee?ve=Symbol.prototype.toString.call(ee):"string"!=typeof ee&&(ve=String(ee)),"iso-8859-1"===W)return escape(ve).replace(/%u[0-9a-f]{4}/gi,function(R){return"%26%23"+parseInt(R.slice(2),16)+"%3B"});for(var _e="",he=0;he<ve.length;++he){var x=ve.charCodeAt(he);45===x||46===x||95===x||126===x||x>=48&&x<=57||x>=65&&x<=90||x>=97&&x<=122||ae===M.RFC1738&&(40===x||41===x)?_e+=ve.charAt(he):x<128?_e+=r[x]:x<2048?_e+=r[192|x>>6]+r[128|63&x]:x<55296||x>=57344?_e+=r[224|x>>12]+r[128|x>>6&63]+r[128|63&x]:(x=65536+((1023&x)<<10|1023&ve.charCodeAt(he+=1)),_e+=r[240|x>>18]+r[128|x>>12&63]+r[128|x>>6&63]+r[128|63&x])}return _e},isBuffer:function(ee){return!(!ee||"object"!=typeof ee||!(ee.constructor&&ee.constructor.isBuffer&&ee.constructor.isBuffer(ee)))},isRegExp:function(ee){return"[object RegExp]"===Object.prototype.toString.call(ee)},maybeMap:function(ee,U){if(B(ee)){for(var W=[],Y=0;Y<ee.length;Y+=1)W.push(U(ee[Y]));return W}return U(ee)},merge:function H(ee,U,W){if(!U)return ee;if("object"!=typeof U){if(B(ee))ee.push(U);else{if(!ee||"object"!=typeof ee)return[ee,U];(W&&(W.plainObjects||W.allowPrototypes)||!K.call(Object.prototype,U))&&(ee[U]=!0)}return ee}if(!ee||"object"!=typeof ee)return[ee].concat(U);var Y=ee;return B(ee)&&!B(U)&&(Y=f(ee,W)),B(ee)&&B(U)?(U.forEach(function(ae,ve){if(K.call(ee,ve)){var _e=ee[ve];_e&&"object"==typeof _e&&ae&&"object"==typeof ae?ee[ve]=H(_e,ae,W):ee.push(ae)}else ee[ve]=ae}),ee):Object.keys(U).reduce(function(ae,ve){var _e=U[ve];return ae[ve]=K.call(ae,ve)?H(ae[ve],_e,W):_e,ae},Y)}}},69877:(fe,V,S)=>{var K=S(66712),B=S(71856),r=S(45381);function y(p){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+p,w=1;w<arguments.length;w++)m+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!K)throw Error(y(227));function f(p,m,w,q,re,ye,ke,Ue,xt){var Mt=Array.prototype.slice.call(arguments,3);try{m.apply(w,Mt)}catch(Ht){this.onError(Ht)}}var g=!1,_=null,P=!1,O=null,j={onError:function(m){g=!0,_=m}};function v(p,m,w,q,re,ye,ke,Ue,xt){g=!1,_=null,f.apply(j,arguments)}var G=null,z=null,H=null;function ee(p,m,w){var q=p.type||"unknown-event";p.currentTarget=H(w),function b(p,m,w,q,re,ye,ke,Ue,xt){if(v.apply(this,arguments),g){if(!g)throw Error(y(198));var Mt=_;g=!1,_=null,P||(P=!0,O=Mt)}}(q,m,void 0,p),p.currentTarget=null}var U=null,W={};function Y(){if(U)for(var p in W){var m=W[p],w=U.indexOf(p);if(!(-1<w))throw Error(y(96,p));if(!ve[w]){if(!m.extractEvents)throw Error(y(97,p));for(var q in ve[w]=m,w=m.eventTypes){var re=void 0,ye=w[q],ke=m,Ue=q;if(_e.hasOwnProperty(Ue))throw Error(y(99,Ue));_e[Ue]=ye;var xt=ye.phasedRegistrationNames;if(xt){for(re in xt)xt.hasOwnProperty(re)&&ae(xt[re],ke,Ue);re=!0}else ye.registrationName?(ae(ye.registrationName,ke,Ue),re=!0):re=!1;if(!re)throw Error(y(98,q,p))}}}}function ae(p,m,w){if(he[p])throw Error(y(100,p));he[p]=m,x[p]=m.eventTypes[w].dependencies}var ve=[],_e={},he={},x={};function R(p){var w,m=!1;for(w in p)if(p.hasOwnProperty(w)){var q=p[w];if(!W.hasOwnProperty(w)||W[w]!==q){if(W[w])throw Error(y(102,w));W[w]=q,m=!0}}m&&Y()}var E=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I=null,L=null,D=null;function Q(p){if(p=z(p)){if("function"!=typeof I)throw Error(y(280));var m=p.stateNode;m&&(m=G(m),I(p.stateNode,p.type,m))}}function te(p){L?D?D.push(p):D=[p]:L=p}function Re(){if(L){var p=L,m=D;if(D=L=null,Q(p),m)for(p=0;p<m.length;p++)Q(m[p])}}function ne(p,m){return p(m)}function Fe(p,m,w,q,re){return p(m,w,q,re)}function rt(){}var Te=ne,tt=!1,Qe=!1;function vt(){(null!==L||null!==D)&&(rt(),Re())}function et(p,m,w){if(Qe)return p(m,w);Qe=!0;try{return Te(p,m,w)}finally{Qe=!1,vt()}}var je=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,it=Object.prototype.hasOwnProperty,de={},J={};function pe(p,m,w,q,re,ye){this.acceptsBooleans=2===m||3===m||4===m,this.attributeName=q,this.attributeNamespace=re,this.mustUseProperty=w,this.propertyName=p,this.type=m,this.sanitizeURL=ye}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){xe[p]=new pe(p,0,!1,p,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var m=p[0];xe[m]=new pe(m,1,!1,p[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){xe[p]=new pe(p,2,!1,p.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){xe[p]=new pe(p,2,!1,p,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){xe[p]=new pe(p,3,!1,p.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(p){xe[p]=new pe(p,3,!0,p,null,!1)}),["capture","download"].forEach(function(p){xe[p]=new pe(p,4,!1,p,null,!1)}),["cols","rows","size","span"].forEach(function(p){xe[p]=new pe(p,6,!1,p,null,!1)}),["rowSpan","start"].forEach(function(p){xe[p]=new pe(p,5,!1,p.toLowerCase(),null,!1)});var ut=/[\-:]([a-z])/g;function be(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var m=p.replace(ut,be);xe[m]=new pe(m,1,!1,p,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var m=p.replace(ut,be);xe[m]=new pe(m,1,!1,p,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var m=p.replace(ut,be);xe[m]=new pe(m,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(p){xe[p]=new pe(p,1,!1,p.toLowerCase(),null,!1)}),xe.xlinkHref=new pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(p){xe[p]=new pe(p,1,!1,p.toLowerCase(),null,!0)});var ce=K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function le(p,m,w,q){var re=xe.hasOwnProperty(m)?xe[m]:null;(null!==re?0===re.type:!q&&2<m.length&&("o"===m[0]||"O"===m[0])&&("n"===m[1]||"N"===m[1]))||(function Ne(p,m,w,q){if(null===m||typeof m>"u"||function Ae(p,m,w,q){if(null!==w&&0===w.type)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return!q&&(null!==w?!w.acceptsBooleans:"data-"!==(p=p.toLowerCase().slice(0,5))&&"aria-"!==p);default:return!1}}(p,m,w,q))return!0;if(q)return!1;if(null!==w)switch(w.type){case 3:return!m;case 4:return!1===m;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}(m,w,re,q)&&(w=null),q||null===re?function oe(p){return!!it.call(J,p)||!it.call(de,p)&&(je.test(p)?J[p]=!0:(de[p]=!0,!1))}(m)&&(null===w?p.removeAttribute(m):p.setAttribute(m,""+w)):re.mustUseProperty?p[re.propertyName]=null===w?3!==re.type&&"":w:(m=re.attributeName,q=re.attributeNamespace,null===w?p.removeAttribute(m):(w=3===(re=re.type)||4===re&&!0===w?"":""+w,q?p.setAttributeNS(q,m,w):p.setAttribute(m,w))))}ce.hasOwnProperty("ReactCurrentDispatcher")||(ce.ReactCurrentDispatcher={current:null}),ce.hasOwnProperty("ReactCurrentBatchConfig")||(ce.ReactCurrentBatchConfig={suspense:null});var Ie=/^(.*)[\\\/]/,at="function"==typeof Symbol&&Symbol.for,Tt=at?Symbol.for("react.element"):60103,Vt=at?Symbol.for("react.portal"):60106,zt=at?Symbol.for("react.fragment"):60107,un=at?Symbol.for("react.strict_mode"):60108,Xt=at?Symbol.for("react.profiler"):60114,Kn=at?Symbol.for("react.provider"):60109,Un=at?Symbol.for("react.context"):60110,De=at?Symbol.for("react.concurrent_mode"):60111,Br=at?Symbol.for("react.forward_ref"):60112,ar=at?Symbol.for("react.suspense"):60113,Qt=at?Symbol.for("react.suspense_list"):60120,ba=at?Symbol.for("react.memo"):60115,ki=at?Symbol.for("react.lazy"):60116,_t=at?Symbol.for("react.block"):60121,Pt="function"==typeof Symbol&&Symbol.iterator;function Pn(p){return null===p||"object"!=typeof p?null:"function"==typeof(p=Pt&&p[Pt]||p["@@iterator"])?p:null}function Cn(p){if(null==p)return null;if("function"==typeof p)return p.displayName||p.name||null;if("string"==typeof p)return p;switch(p){case zt:return"Fragment";case Vt:return"Portal";case Xt:return"Profiler";case un:return"StrictMode";case ar:return"Suspense";case Qt:return"SuspenseList"}if("object"==typeof p)switch(p.$$typeof){case Un:return"Context.Consumer";case Kn:return"Context.Provider";case Br:var m=p.render;return m=m.displayName||m.name||"",p.displayName||(""!==m?"ForwardRef("+m+")":"ForwardRef");case ba:return Cn(p.type);case _t:return Cn(p.render);case ki:if(p=1===p._status?p._result:null)return Cn(p)}return null}function cn(p){var m="";do{e:switch(p.tag){case 3:case 4:case 6:case 7:case 10:case 9:var w="";break e;default:var q=p._debugOwner,re=p._debugSource,ye=Cn(p.type);w=null,q&&(w=Cn(q.type)),q=ye,ye="",re?ye=" (at "+re.fileName.replace(Ie,"")+":"+re.lineNumber+")":w&&(ye=" (created by "+w+")"),w="\n    in "+(q||"Unknown")+ye}m+=w,p=p.return}while(p);return m}function Fr(p){switch(typeof p){case"boolean":case"number":case"object":case"string":case"undefined":return p;default:return""}}function lr(p){var m=p.type;return(p=p.nodeName)&&"input"===p.toLowerCase()&&("checkbox"===m||"radio"===m)}function kr(p){p._valueTracker||(p._valueTracker=function wn(p){var m=lr(p)?"checked":"value",w=Object.getOwnPropertyDescriptor(p.constructor.prototype,m),q=""+p[m];if(!p.hasOwnProperty(m)&&typeof w<"u"&&"function"==typeof w.get&&"function"==typeof w.set){var re=w.get,ye=w.set;return Object.defineProperty(p,m,{configurable:!0,get:function(){return re.call(this)},set:function(Ue){q=""+Ue,ye.call(this,Ue)}}),Object.defineProperty(p,m,{enumerable:w.enumerable}),{getValue:function(){return q},setValue:function(Ue){q=""+Ue},stopTracking:function(){p._valueTracker=null,delete p[m]}}}}(p))}function Qn(p){if(!p)return!1;var m=p._valueTracker;if(!m)return!0;var w=m.getValue(),q="";return p&&(q=lr(p)?p.checked?"true":"false":p.value),(p=q)!==w&&(m.setValue(p),!0)}function Vi(p,m){return B({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m.checked??p._wrapperState.initialChecked})}function Xr(p,m){var w=null==m.defaultValue?"":m.defaultValue,q=null!=m.checked?m.checked:m.defaultChecked;w=Fr(null!=m.value?m.value:w),p._wrapperState={initialChecked:q,initialValue:w,controlled:"checkbox"===m.type||"radio"===m.type?null!=m.checked:null!=m.value}}function Lr(p,m){null!=(m=m.checked)&&le(p,"checked",m,!1)}function ci(p,m){Lr(p,m);var w=Fr(m.value),q=m.type;if(null!=w)"number"===q?(0===w&&""===p.value||p.value!=w)&&(p.value=""+w):p.value!==""+w&&(p.value=""+w);else if("submit"===q||"reset"===q)return void p.removeAttribute("value");m.hasOwnProperty("value")?zi(p,m.type,w):m.hasOwnProperty("defaultValue")&&zi(p,m.type,Fr(m.defaultValue)),null==m.checked&&null!=m.defaultChecked&&(p.defaultChecked=!!m.defaultChecked)}function Ba(p,m,w){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var q=m.type;if(("submit"===q||"reset"===q)&&null==m.value)return;m=""+p._wrapperState.initialValue,w||m===p.value||(p.value=m),p.defaultValue=m}""!==(w=p.name)&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,""!==w&&(p.name=w)}function zi(p,m,w){("number"!==m||p.ownerDocument.activeElement!==p)&&(null==w?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+w&&(p.defaultValue=""+w))}function Gi(p,m){return p=B({children:void 0},m),(m=function Za(p){var m="";return K.Children.forEach(p,function(w){null!=w&&(m+=w)}),m}(m.children))&&(p.children=m),p}function Ri(p,m,w,q){if(p=p.options,m){m={};for(var re=0;re<w.length;re++)m["$"+w[re]]=!0;for(w=0;w<p.length;w++)re=m.hasOwnProperty("$"+p[w].value),p[w].selected!==re&&(p[w].selected=re),re&&q&&(p[w].defaultSelected=!0)}else{for(w=""+Fr(w),m=null,re=0;re<p.length;re++){if(p[re].value===w)return p[re].selected=!0,void(q&&(p[re].defaultSelected=!0));null!==m||p[re].disabled||(m=p[re])}null!==m&&(m.selected=!0)}}function Hi(p,m){if(null!=m.dangerouslySetInnerHTML)throw Error(y(91));return B({},m,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Ca(p,m){var w=m.value;if(null==w){if(w=m.children,m=m.defaultValue,null!=w){if(null!=m)throw Error(y(92));if(Array.isArray(w)){if(!(1>=w.length))throw Error(y(93));w=w[0]}m=w}null==m&&(m=""),w=m}p._wrapperState={initialValue:Fr(w)}}function Di(p,m){var w=Fr(m.value),q=Fr(m.defaultValue);null!=w&&((w=""+w)!==p.value&&(p.value=w),null==m.defaultValue&&p.defaultValue!==w&&(p.defaultValue=w)),null!=q&&(p.defaultValue=""+q)}function Ti(p){var m=p.textContent;m===p._wrapperState.initialValue&&""!==m&&null!==m&&(p.value=m)}function Qr(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fr(p,m){return null==p||"http://www.w3.org/1999/xhtml"===p?Qr(m):"http://www.w3.org/2000/svg"===p&&"foreignObject"===m?"http://www.w3.org/1999/xhtml":p}var ho,p,wa=(p=function(p,m){if("http://www.w3.org/2000/svg"!==p.namespaceURI||"innerHTML"in p)p.innerHTML=m;else{for((ho=ho||document.createElement("div")).innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=ho.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;m.firstChild;)p.appendChild(m.firstChild)}},typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,w,q,re){MSApp.execUnsafeLocalFunction(function(){return p(m,w)})}:p);function di(p,m){if(m){var w=p.firstChild;if(w&&w===p.lastChild&&3===w.nodeType)return void(w.nodeValue=m)}p.textContent=m}function da(p,m){var w={};return w[p.toLowerCase()]=m.toLowerCase(),w["Webkit"+p]="webkit"+m,w["Moz"+p]="moz"+m,w}var mr={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionend:da("Transition","TransitionEnd")},Sa={},To={};function us(p){if(Sa[p])return Sa[p];if(!mr[p])return p;var w,m=mr[p];for(w in m)if(m.hasOwnProperty(w)&&w in To)return Sa[p]=m[w];return p}E&&(To=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);var Io=us("animationend"),ls=us("animationiteration"),$s=us("animationstart"),Oo=us("transitionend"),Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new("function"==typeof WeakMap?WeakMap:Map);function cs(p){var m=Du.get(p);return void 0===m&&Du.set(p,m=new Map),m}function k(p){var m=p,w=p;if(p.alternate)for(;m.return;)m=m.return;else{p=m;do{1026&(m=p).effectTag&&(w=m.return),p=m.return}while(p)}return 3===m.tag?w:null}function A(p){if(13===p.tag){var m=p.memoizedState;if(null===m&&null!==(p=p.alternate)&&(m=p.memoizedState),null!==m)return m.dehydrated}return null}function Z(p){if(k(p)!==p)throw Error(y(188))}function me(p,m){if(null==m)throw Error(y(30));return null==p?m:Array.isArray(p)?Array.isArray(m)?(p.push.apply(p,m),p):(p.push(m),p):Array.isArray(m)?[p].concat(m):[p,m]}function Pe(p,m,w){Array.isArray(p)?p.forEach(m,w):p&&m.call(w,p)}var Ve=null;function Me(p){if(p){var m=p._dispatchListeners,w=p._dispatchInstances;if(Array.isArray(m))for(var q=0;q<m.length&&!p.isPropagationStopped();q++)ee(p,m[q],w[q]);else m&&ee(p,m,w);p._dispatchListeners=null,p._dispatchInstances=null,p.isPersistent()||p.constructor.release(p)}}function Be(p){if(null!==p&&(Ve=me(Ve,p)),p=Ve,Ve=null,p){if(Pe(p,Me),Ve)throw Error(y(95));if(P)throw p=O,P=!1,O=null,p}}function $e(p){return(p=p.target||p.srcElement||window).correspondingUseElement&&(p=p.correspondingUseElement),3===p.nodeType?p.parentNode:p}function Ge(p){if(!E)return!1;var m=(p="on"+p)in document;return m||((m=document.createElement("div")).setAttribute(p,"return;"),m="function"==typeof m[p]),m}var We=[];function nt(p){p.topLevelType=null,p.nativeEvent=null,p.targetInst=null,p.ancestors.length=0,10>We.length&&We.push(p)}function d(p,m,w,q){if(We.length){var re=We.pop();return re.topLevelType=p,re.eventSystemFlags=q,re.nativeEvent=m,re.targetInst=w,re}return{topLevelType:p,eventSystemFlags:q,nativeEvent:m,targetInst:w,ancestors:[]}}function gt(p){var m=p.targetInst,w=m;do{if(!w){p.ancestors.push(w);break}var q=w;if(3===q.tag)q=q.stateNode.containerInfo;else{for(;q.return;)q=q.return;q=3!==q.tag?null:q.stateNode.containerInfo}if(!q)break;5!==(m=w.tag)&&6!==m||p.ancestors.push(w),w=Hs(q)}while(w);for(w=0;w<p.ancestors.length;w++){m=p.ancestors[w];var re=$e(p.nativeEvent);q=p.topLevelType;var ye=p.nativeEvent,ke=p.eventSystemFlags;0===w&&(ke|=64);for(var Ue=null,xt=0;xt<ve.length;xt++){var Mt=ve[xt];Mt&&(Mt=Mt.extractEvents(q,m,ye,re,ke))&&(Ue=me(Ue,Mt))}Be(Ue)}}function Et(p,m,w){if(!w.has(p)){switch(p){case"scroll":Zr(m,"scroll",!0);break;case"focus":case"blur":Zr(m,"focus",!0),Zr(m,"blur",!0),w.set("blur",null),w.set("focus",null);break;case"cancel":case"close":Ge(p)&&Zr(m,p,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Fo.indexOf(p)&&tr(p,m)}w.set(p,null)}}var Ee,ze,Ke,Xe=!1,yt=[],At=null,Wt=null,jt=null,Bn=new Map,en=new Map,gn=[],or="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),hr="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function ii(p,m,w,q,re){return{blockedOn:p,topLevelType:m,eventSystemFlags:32|w,nativeEvent:re,container:q}}function Yr(p,m){switch(p){case"focus":case"blur":At=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Bn.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":en.delete(m.pointerId)}}function jr(p,m,w,q,re,ye){return null===p||p.nativeEvent!==ye?(p=ii(m,w,q,re,ye),null!==m&&null!==(m=Fu(m))&&ze(m),p):(p.eventSystemFlags|=q,p)}function lt(p){var m=Hs(p.target);if(null!==m){var w=k(m);if(null!==w)if(13===(m=w.tag)){if(null!==(m=A(w)))return p.blockedOn=m,void r.unstable_runWithPriority(p.priority,function(){Ke(w)})}else if(3===m&&w.stateNode.hydrate)return void(p.blockedOn=3===w.tag?w.stateNode.containerInfo:null)}p.blockedOn=null}function ct(p){if(null!==p.blockedOn)return!1;var m=pa(p.topLevelType,p.eventSystemFlags,p.container,p.nativeEvent);if(null!==m){var w=Fu(m);return null!==w&&ze(w),p.blockedOn=m,!1}return!0}function wt(p,m,w){ct(p)&&w.delete(m)}function Ft(){for(Xe=!1;0<yt.length;){var p=yt[0];if(null!==p.blockedOn){null!==(p=Fu(p.blockedOn))&&Ee(p);break}var m=pa(p.topLevelType,p.eventSystemFlags,p.container,p.nativeEvent);null!==m?p.blockedOn=m:yt.shift()}null!==At&&ct(At)&&(At=null),null!==Wt&&ct(Wt)&&(Wt=null),null!==jt&&ct(jt)&&(jt=null),Bn.forEach(wt),en.forEach(wt)}function Rt(p,m){p.blockedOn===m&&(p.blockedOn=null,Xe||(Xe=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ft)))}function Jt(p){function m(re){return Rt(re,p)}if(0<yt.length){Rt(yt[0],p);for(var w=1;w<yt.length;w++){var q=yt[w];q.blockedOn===p&&(q.blockedOn=null)}}for(null!==At&&Rt(At,p),null!==Wt&&Rt(Wt,p),null!==jt&&Rt(jt,p),Bn.forEach(m),en.forEach(m),w=0;w<gn.length;w++)(q=gn[w]).blockedOn===p&&(q.blockedOn=null);for(;0<gn.length&&null===(w=gn[0]).blockedOn;)lt(w),null===w.blockedOn&&gn.shift()}var vn={},Sn=new Map,Yn=new Map,In=["abort","abort",Io,"animationEnd",ls,"animationIteration",$s,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Oo,"transitionEnd","waiting","waiting"];function cr(p,m){for(var w=0;w<p.length;w+=2){var q=p[w],re=p[w+1],ye="on"+(re[0].toUpperCase()+re.slice(1));ye={phasedRegistrationNames:{bubbled:ye,captured:ye+"Capture"},dependencies:[q],eventPriority:m},Yn.set(q,m),Sn.set(q,ye),vn[re]=ye}}cr("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),cr("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),cr(In,2);for(var ai="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Mr=0;Mr<ai.length;Mr++)Yn.set(ai[Mr],0);var Jr=r.unstable_UserBlockingPriority,Ci=r.unstable_runWithPriority,$r=!0;function tr(p,m){Zr(m,p,!1)}function Zr(p,m,w){var q=Yn.get(m);switch(void 0===q?2:q){case 0:q=Ea.bind(null,m,1,p);break;case 1:q=La.bind(null,m,1,p);break;default:q=Cr.bind(null,m,1,p)}p.addEventListener(m,q,!!w)}function Ea(p,m,w,q){tt||rt();var re=Cr,ye=tt;tt=!0;try{Fe(re,p,m,w,q)}finally{(tt=ye)||vt()}}function La(p,m,w,q){Ci(Jr,Cr.bind(null,p,m,w,q))}function Cr(p,m,w,q){if($r)if(0<yt.length&&-1<or.indexOf(p))p=ii(null,p,m,w,q),yt.push(p);else{var re=pa(p,m,w,q);if(null===re)Yr(p,q);else if(-1<or.indexOf(p))p=ii(re,p,m,w,q),yt.push(p);else if(!function Ze(p,m,w,q,re){switch(m){case"focus":return At=jr(At,p,m,w,q,re),!0;case"dragenter":return Wt=jr(Wt,p,m,w,q,re),!0;case"mouseover":return jt=jr(jt,p,m,w,q,re),!0;case"pointerover":var ye=re.pointerId;return Bn.set(ye,jr(Bn.get(ye)||null,p,m,w,q,re)),!0;case"gotpointercapture":return en.set(ye=re.pointerId,jr(en.get(ye)||null,p,m,w,q,re)),!0}return!1}(re,p,m,w,q)){Yr(p,q),p=d(p,q,null,m);try{et(gt,p)}finally{nt(p)}}}}function pa(p,m,w,q){if(null!==(w=Hs(w=$e(q)))){var re=k(w);if(null===re)w=null;else{var ye=re.tag;if(13===ye){if(null!==(w=A(re)))return w;w=null}else if(3===ye){if(re.stateNode.hydrate)return 3===re.tag?re.stateNode.containerInfo:null;w=null}else re!==w&&(w=null)}}p=d(p,q,w,m);try{et(gt,p)}finally{nt(p)}return null}var ja={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ei=["Webkit","ms","Moz","O"];function Us(p,m,w){return null==m||"boolean"==typeof m||""===m?"":w||"number"!=typeof m||0===m||ja.hasOwnProperty(p)&&ja[p]?(""+m).trim():m+"px"}function eo(p,m){for(var w in p=p.style,m)if(m.hasOwnProperty(w)){var q=0===w.indexOf("--"),re=Us(w,m[w],q);"float"===w&&(w="cssFloat"),q?p.setProperty(w,re):p[w]=re}}Object.keys(ja).forEach(function(p){ei.forEach(function(m){m=m+p.charAt(0).toUpperCase()+p.substring(1),ja[m]=ja[p]})});var go=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tu(p,m){if(m){if(go[p]&&(null!=m.children||null!=m.dangerouslySetInnerHTML))throw Error(y(137,p,""));if(null!=m.dangerouslySetInnerHTML){if(null!=m.children)throw Error(y(60));if("object"!=typeof m.dangerouslySetInnerHTML||!("__html"in m.dangerouslySetInnerHTML))throw Error(y(61))}if(null!=m.style&&"object"!=typeof m.style)throw Error(y(62,""))}}function Iu(p,m){if(-1===p.indexOf("-"))return"string"==typeof m.is;switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou="http://www.w3.org/1999/xhtml";function vo(p,m){var w=cs(p=9===p.nodeType||11===p.nodeType?p:p.ownerDocument);m=x[m];for(var q=0;q<m.length;q++)Et(m[q],p,w)}function ap(){}function op(p){if(typeof(p=p||(typeof document<"u"?document:void 0))>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function E_(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function P_(p,m){var q,w=E_(p);for(p=0;w;){if(3===w.nodeType){if(q=p+w.textContent.length,p<=m&&q>=m)return{node:w,offset:m-p};p=q}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=E_(w)}}function A_(p,m){return!(!p||!m)&&(p===m||(!p||3!==p.nodeType)&&(m&&3===m.nodeType?A_(p,m.parentNode):"contains"in p?p.contains(m):!!p.compareDocumentPosition&&!!(16&p.compareDocumentPosition(m))))}function k_(){for(var p=window,m=op();m instanceof p.HTMLIFrameElement;){try{var w="string"==typeof m.contentWindow.location.href}catch{w=!1}if(!w)break;m=op((p=m.contentWindow).document)}return m}function Mo(p){var m=p&&p.nodeName&&p.nodeName.toLowerCase();return m&&("input"===m&&("text"===p.type||"search"===p.type||"tel"===p.type||"url"===p.type||"password"===p.type)||"textarea"===m||"true"===p.contentEditable)}var R_="$",D_="/$",sp="$?",T_="$!",up=null,lp=null;function I_(p,m){switch(p){case"button":case"input":case"select":case"textarea":return!!m.autoFocus}return!1}function cp(p,m){return"textarea"===p||"option"===p||"noscript"===p||"string"==typeof m.children||"number"==typeof m.children||"object"==typeof m.dangerouslySetInnerHTML&&null!==m.dangerouslySetInnerHTML&&null!=m.dangerouslySetInnerHTML.__html}var dp="function"==typeof setTimeout?setTimeout:void 0,LE="function"==typeof clearTimeout?clearTimeout:void 0;function zs(p){for(;null!=p;p=p.nextSibling){var m=p.nodeType;if(1===m||3===m)break}return p}function O_(p){p=p.previousSibling;for(var m=0;p;){if(8===p.nodeType){var w=p.data;if(w===R_||w===T_||w===sp){if(0===m)return p;m--}else w===D_&&m++}p=p.previousSibling}return null}var pp=Math.random().toString(36).slice(2),No="__reactInternalInstance$"+pp,fp="__reactEventHandlers$"+pp,Gs="__reactContainere$"+pp;function Hs(p){var m=p[No];if(m)return m;for(var w=p.parentNode;w;){if(m=w[Gs]||w[No]){if(w=m.alternate,null!==m.child||null!==w&&null!==w.child)for(p=O_(p);null!==p;){if(w=p[No])return w;p=O_(p)}return m}w=(p=w).parentNode}return null}function Fu(p){return!(p=p[No]||p[Gs])||5!==p.tag&&6!==p.tag&&13!==p.tag&&3!==p.tag?null:p}function ds(p){if(5===p.tag||6===p.tag)return p.stateNode;throw Error(y(33))}function mp(p){return p[fp]||null}function yo(p){do{p=p.return}while(p&&5!==p.tag);return p||null}function F_(p,m){var w=p.stateNode;if(!w)return null;var q=G(w);if(!q)return null;w=q[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(q=!q.disabled)||(q=!("button"===(p=p.type)||"input"===p||"select"===p||"textarea"===p)),p=!q;break e;default:p=!1}if(p)return null;if(w&&"function"!=typeof w)throw Error(y(231,m,typeof w));return w}function jE(p,m,w){(m=F_(p,w.dispatchConfig.phasedRegistrationNames[m]))&&(w._dispatchListeners=me(w._dispatchListeners,m),w._dispatchInstances=me(w._dispatchInstances,p))}function $E(p){if(p&&p.dispatchConfig.phasedRegistrationNames){for(var m=p._targetInst,w=[];m;)w.push(m),m=yo(m);for(m=w.length;0<m--;)jE(w[m],"captured",p);for(m=0;m<w.length;m++)jE(w[m],"bubbled",p)}}function hp(p,m,w){p&&w&&w.dispatchConfig.registrationName&&(m=F_(p,w.dispatchConfig.registrationName))&&(w._dispatchListeners=me(w._dispatchListeners,m),w._dispatchInstances=me(w._dispatchInstances,p))}function ps(p){Pe(p,$E)}var Vo=null,gp=null,Zl=null;function N_(){if(Zl)return Zl;var p,q,m=gp,w=m.length,re="value"in Vo?Vo.value:Vo.textContent,ye=re.length;for(p=0;p<w&&m[p]===re[p];p++);var ke=w-p;for(q=1;q<=ke&&m[w-q]===re[ye-q];q++);return Zl=re.slice(p,1<q?1-q:void 0)}function Ll(){return!0}function vp(){return!1}function fa(p,m,w,q){for(var re in this.dispatchConfig=p,this._targetInst=m,this.nativeEvent=w,p=this.constructor.Interface)p.hasOwnProperty(re)&&((m=p[re])?this[re]=m(w):"target"===re?this.target=q:this[re]=w[re]);return this.isDefaultPrevented=(null!=w.defaultPrevented?w.defaultPrevented:!1===w.returnValue)?Ll:vp,this.isPropagationStopped=vp,this}function UE(p,m,w,q){if(this.eventPool.length){var re=this.eventPool.pop();return this.call(re,p,m,w,q),re}return new this(p,m,w,q)}function V_(p){if(!(p instanceof this))throw Error(y(279));p.destructor(),10>this.eventPool.length&&this.eventPool.push(p)}function yp(p){p.eventPool=[],p.getPooled=UE,p.release=V_}B(fa.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():"unknown"!=typeof m.returnValue&&(m.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():"unknown"!=typeof m.cancelBubble&&(m.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){this.isPersistent=Ll},isPersistent:vp,destructor:function(){var w,m=this.constructor.Interface;for(w in m)this[w]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=vp,this._dispatchInstances=this._dispatchListeners=null}}),fa.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},fa.extend=function(p){function m(){}function w(){return q.apply(this,arguments)}var q=this;m.prototype=q.prototype;var re=new m;return B(re,w.prototype),(w.prototype=re).constructor=w,w.Interface=B({},q.Interface,p),w.extend=q.extend,yp(w),w},yp(fa);var zE=fa.extend({data:null}),GE=fa.extend({data:null}),HE=[9,13,27,32],_p=E&&"CompositionEvent"in window,Mu=null;E&&"documentMode"in document&&(Mu=document.documentMode);var mk=E&&"TextEvent"in window&&!Mu,B_=E&&(!_p||Mu&&8<Mu&&11>=Mu),Z_=String.fromCharCode(32),_o={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},L_=!1;function j_(p,m){switch(p){case"keyup":return-1!==HE.indexOf(m.keyCode);case"keydown":return 229!==m.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function $_(p){return"object"==typeof(p=p.detail)&&"data"in p?p.data:null}var Ks=!1,KE={eventTypes:_o,extractEvents:function(m,w,q,re){var ye;if(_p)e:{switch(m){case"compositionstart":var ke=_o.compositionStart;break e;case"compositionend":ke=_o.compositionEnd;break e;case"compositionupdate":ke=_o.compositionUpdate;break e}ke=void 0}else Ks?j_(m,q)&&(ke=_o.compositionEnd):"keydown"===m&&229===q.keyCode&&(ke=_o.compositionStart);return ke?(B_&&"ko"!==q.locale&&(Ks||ke!==_o.compositionStart?ke===_o.compositionEnd&&Ks&&(ye=N_()):(gp="value"in(Vo=re)?Vo.value:Vo.textContent,Ks=!0)),ke=zE.getPooled(ke,w,q,re),(ye||null!==(ye=$_(q)))&&(ke.data=ye),ps(ke),ye=ke):ye=null,(m=mk?function hk(p,m){switch(p){case"compositionend":return $_(m);case"keypress":return 32!==m.which?null:(L_=!0,Z_);case"textInput":return(p=m.data)===Z_&&L_?null:p;default:return null}}(m,q):function qE(p,m){if(Ks)return"compositionend"===p||!_p&&j_(p,m)?(p=N_(),Zl=gp=Vo=null,Ks=!1,p):null;switch(p){case"paste":default:return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return B_&&"ko"!==m.locale?null:m.data}}(m,q))?((w=GE.getPooled(_o.beforeInput,w,q,re)).data=m,ps(w)):w=null,null===ye?w:null===w?ye:[ye,w]}},WE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U_(p){var m=p&&p.nodeName&&p.nodeName.toLowerCase();return"input"===m?!!WE[p.type]:"textarea"===m}var z_={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function G_(p,m,w){return(p=fa.getPooled(z_.change,p,m,w)).type="change",te(w),ps(p),p}var Nu=null,Vu=null;function gk(p){Be(p)}function jl(p){if(Qn(ds(p)))return p}function XE(p,m){if("change"===p)return m}var xp=!1;function H_(){Nu&&(Nu.detachEvent("onpropertychange",q_),Vu=Nu=null)}function q_(p){if("value"===p.propertyName&&jl(Vu))if(p=G_(Vu,p,$e(p)),tt)Be(p);else{tt=!0;try{ne(gk,p)}finally{tt=!1,vt()}}}function QE(p,m,w){"focus"===p?(H_(),Vu=w,(Nu=m).attachEvent("onpropertychange",q_)):"blur"===p&&H_()}function YE(p){if("selectionchange"===p||"keyup"===p||"keydown"===p)return jl(Vu)}function vk(p,m){if("click"===p)return jl(m)}function JE(p,m){if("input"===p||"change"===p)return jl(m)}E&&(xp=Ge("input")&&(!document.documentMode||9<document.documentMode));var e2={eventTypes:z_,_isInputEventSupported:xp,extractEvents:function(m,w,q,re){var ye=w?ds(w):window,ke=ye.nodeName&&ye.nodeName.toLowerCase();if("select"===ke||"input"===ke&&"file"===ye.type)var Ue=XE;else if(U_(ye))if(xp)Ue=JE;else{Ue=YE;var xt=QE}else(ke=ye.nodeName)&&"input"===ke.toLowerCase()&&("checkbox"===ye.type||"radio"===ye.type)&&(Ue=vk);if(Ue&&(Ue=Ue(m,w)))return G_(Ue,q,re);xt&&xt(m,ye,w),"blur"===m&&(m=ye._wrapperState)&&m.controlled&&"number"===ye.type&&zi(ye,"number",ye.value)}},Bu=fa.extend({view:null,detail:null}),t2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n2(p){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(p):!!(p=t2[p])&&!!m[p]}function bp(){return n2}var r2=0,K_=0,W_=!1,Cp=!1,Zu=Bu.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:bp,button:null,buttons:null,relatedTarget:function(m){return m.relatedTarget||(m.fromElement===m.srcElement?m.toElement:m.fromElement)},movementX:function(m){if("movementX"in m)return m.movementX;var w=r2;return r2=m.screenX,W_?"mousemove"===m.type?m.screenX-w:0:(W_=!0,0)},movementY:function(m){if("movementY"in m)return m.movementY;var w=K_;return K_=m.screenY,Cp?"mousemove"===m.type?m.screenY-w:0:(Cp=!0,0)}}),X_=Zu.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Lu={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},a2={eventTypes:Lu,extractEvents:function(m,w,q,re,ye){var ke="mouseover"===m||"pointerover"===m,Ue="mouseout"===m||"pointerout"===m;if(ke&&!(32&ye)&&(q.relatedTarget||q.fromElement)||!Ue&&!ke)return null;if(ke=re.window===re?re:(ke=re.ownerDocument)?ke.defaultView||ke.parentWindow:window,Ue?(Ue=w,null!==(w=(w=q.relatedTarget||q.toElement)?Hs(w):null)&&(w!==k(w)||5!==w.tag&&6!==w.tag)&&(w=null)):Ue=null,Ue===w)return null;if("mouseout"===m||"mouseover"===m)var Mt=Zu,Ht=Lu.mouseLeave,yn=Lu.mouseEnter,bn="mouse";else("pointerout"===m||"pointerover"===m)&&(Mt=X_,Ht=Lu.pointerLeave,yn=Lu.pointerEnter,bn="pointer");if(m=null==Ue?ke:ds(Ue),ke=null==w?ke:ds(w),(Ht=Mt.getPooled(Ht,Ue,q,re)).type=bn+"leave",Ht.target=m,Ht.relatedTarget=ke,(q=Mt.getPooled(yn,w,q,re)).type=bn+"enter",q.target=ke,q.relatedTarget=m,bn=w,(re=Ue)&&bn)e:{for(yn=bn,Ue=0,m=Mt=re;m;m=yo(m))Ue++;for(m=0,w=yn;w;w=yo(w))m++;for(;0<Ue-m;)Mt=yo(Mt),Ue--;for(;0<m-Ue;)yn=yo(yn),m--;for(;Ue--;){if(Mt===yn||Mt===yn.alternate)break e;Mt=yo(Mt),yn=yo(yn)}Mt=null}else Mt=null;for(yn=Mt,Mt=[];re&&re!==yn&&(null===(Ue=re.alternate)||Ue!==yn);)Mt.push(re),re=yo(re);for(re=[];bn&&bn!==yn&&(null===(Ue=bn.alternate)||Ue!==yn);)re.push(bn),bn=yo(bn);for(bn=0;bn<Mt.length;bn++)hp(Mt[bn],"bubbled",Ht);for(bn=re.length;0<bn--;)hp(re[bn],"captured",q);return 64&ye?[Ht,q]:[Ht]}},Ws="function"==typeof Object.is?Object.is:function o2(p,m){return p===m&&(0!==p||1/p==1/m)||p!=p&&m!=m},s2=Object.prototype.hasOwnProperty;function ju(p,m){if(Ws(p,m))return!0;if("object"!=typeof p||null===p||"object"!=typeof m||null===m)return!1;var w=Object.keys(p),q=Object.keys(m);if(w.length!==q.length)return!1;for(q=0;q<w.length;q++)if(!s2.call(m,w[q])||!Ws(p[w[q]],m[w[q]]))return!1;return!0}var u2=E&&"documentMode"in document&&11>=document.documentMode,Q_={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Xs=null,wp=null,$u=null,Y_=!1;function J_(p,m){var w=m.window===m?m.document:9===m.nodeType?m:m.ownerDocument;return Y_||null==Xs||Xs!==op(w)?null:(w="selectionStart"in(w=Xs)&&Mo(w)?{start:w.selectionStart,end:w.selectionEnd}:{anchorNode:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset},$u&&ju($u,w)?null:($u=w,(p=fa.getPooled(Q_.select,wp,p,m)).type="select",p.target=Xs,ps(p),p))}var l2={eventTypes:Q_,extractEvents:function(m,w,q,re,ye,ke){if(!(ke=!(ye=ke||(re.window===re?re.document:9===re.nodeType?re:re.ownerDocument)))){e:{ye=cs(ye),ke=x.onSelect;for(var Ue=0;Ue<ke.length;Ue++)if(!ye.has(ke[Ue])){ye=!1;break e}ye=!0}ke=!ye}if(ke)return null;switch(ye=w?ds(w):window,m){case"focus":(U_(ye)||"true"===ye.contentEditable)&&(Xs=ye,wp=w,$u=null);break;case"blur":$u=wp=Xs=null;break;case"mousedown":Y_=!0;break;case"contextmenu":case"mouseup":case"dragend":return Y_=!1,J_(q,re);case"selectionchange":if(u2)break;case"keydown":case"keyup":return J_(q,re)}return null}},c2=fa.extend({animationName:null,elapsedTime:null,pseudoElement:null}),d2=fa.extend({clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),p2=Bu.extend({relatedTarget:null});function $l(p){var m=p.keyCode;return"charCode"in p?0===(p=p.charCode)&&13===m&&(p=13):p=m,10===p&&(p=13),32<=p||13===p?p:0}var yk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m2=Bu.extend({key:function(m){if(m.key){var w=yk[m.key]||m.key;if("Unidentified"!==w)return w}return"keypress"===m.type?13===(m=$l(m))?"Enter":String.fromCharCode(m):"keydown"===m.type||"keyup"===m.type?f2[m.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:bp,charCode:function(m){return"keypress"===m.type?$l(m):0},keyCode:function(m){return"keydown"===m.type||"keyup"===m.type?m.keyCode:0},which:function(m){return"keypress"===m.type?$l(m):"keydown"===m.type||"keyup"===m.type?m.keyCode:0}}),e0=Zu.extend({dataTransfer:null}),h2=Bu.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:bp}),g2=fa.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),v2=Zu.extend({deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:null,deltaMode:null}),y2={eventTypes:vn,extractEvents:function(m,w,q,re){var ye=Sn.get(m);if(!ye)return null;switch(m){case"keypress":if(0===$l(q))return null;case"keydown":case"keyup":m=m2;break;case"blur":case"focus":m=p2;break;case"click":if(2===q.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=e0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=h2;break;case Io:case ls:case $s:m=c2;break;case Oo:m=g2;break;case"scroll":m=Bu;break;case"wheel":m=v2;break;case"copy":case"cut":case"paste":m=d2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=X_;break;default:m=fa}return ps(w=m.getPooled(ye,w,q,re)),w}};if(U)throw Error(y(101));U=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Y(),G=mp,z=Fu,H=ds,R({SimpleEventPlugin:y2,EnterLeaveEventPlugin:a2,ChangeEventPlugin:e2,SelectEventPlugin:l2,BeforeInputEventPlugin:KE});var t0=[],Qs=-1;function Ur(p){0>Qs||(p.current=t0[Qs],t0[Qs]=null,Qs--)}function qr(p,m){Qs++,t0[Qs]=p.current,p.current=m}var fs={},oi={current:fs},qi={current:!1},ms=fs;function Ys(p,m){var w=p.type.contextTypes;if(!w)return fs;var q=p.stateNode;if(q&&q.__reactInternalMemoizedUnmaskedChildContext===m)return q.__reactInternalMemoizedMaskedChildContext;var ye,re={};for(ye in w)re[ye]=m[ye];return q&&((p=p.stateNode).__reactInternalMemoizedUnmaskedChildContext=m,p.__reactInternalMemoizedMaskedChildContext=re),re}function Ki(p){return null!=p.childContextTypes}function Ul(){Ur(qi),Ur(oi)}function n0(p,m,w){if(oi.current!==fs)throw Error(y(168));qr(oi,m),qr(qi,w)}function r0(p,m,w){var q=p.stateNode;if(p=m.childContextTypes,"function"!=typeof q.getChildContext)return w;for(var re in q=q.getChildContext())if(!(re in p))throw Error(y(108,Cn(m)||"Unknown",re));return B({},w,{},q)}function hs(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||fs,ms=oi.current,qr(oi,p),qr(qi,qi.current),!0}function qe(p,m,w){var q=p.stateNode;if(!q)throw Error(y(169));w?(p=r0(p,m,ms),q.__reactInternalMemoizedMergedChildContext=p,Ur(qi),Ur(oi),qr(oi,p)):Ur(qi),qr(qi,w)}var a0=r.unstable_runWithPriority,Zt=r.unstable_scheduleCallback,Bt=r.unstable_cancelCallback,Ce=r.unstable_requestPaint,Js=r.unstable_now,x2=r.unstable_getCurrentPriorityLevel,zl=r.unstable_ImmediatePriority,o0=r.unstable_UserBlockingPriority,s0=r.unstable_NormalPriority,u0=r.unstable_LowPriority,gi=r.unstable_IdlePriority,Gl={},b2=r.unstable_shouldYield,C2=void 0!==Ce?Ce:function(){},xo=null,vr=null,dr=!1,Rr=Js(),Wi=1e4>Rr?Js:function(){return Js()-Rr};function si(){switch(x2()){case zl:return 99;case o0:return 98;case s0:return 97;case u0:return 96;case gi:return 95;default:throw Error(y(332))}}function Bi(p){switch(p){case 99:return zl;case 98:return o0;case 97:return s0;case 96:return u0;case 95:return gi;default:throw Error(y(332))}}function An(p,m){return p=Bi(p),a0(p,m)}function Bo(p,m,w){return p=Bi(p),Zt(p,m,w)}function Pa(p){return null===xo?(xo=[p],vr=Zt(zl,$a)):xo.push(p),Gl}function Zi(){if(null!==vr){var p=vr;vr=null,Bt(p)}$a()}function $a(){if(!dr&&null!==xo){dr=!0;var p=0;try{var m=xo;An(99,function(){for(;p<m.length;p++){var w=m[p];do{w=w(!0)}while(null!==w)}}),xo=null}catch(w){throw null!==xo&&(xo=xo.slice(p+1)),Zt(zl,Zi),w}finally{dr=!1}}}function Le(p,m,w){return 1073741821-(1+((1073741821-p+m/10)/(w/=10)|0))*w}function Li(p,m){if(p&&p.defaultProps)for(var w in m=B({},m),p=p.defaultProps)void 0===m[w]&&(m[w]=p[w]);return m}var Hl={current:null},ql=null,ma=null,Uu=null;function Sp(){Uu=ma=ql=null}function eu(p){var m=Hl.current;Ur(Hl),p.type._context._currentValue=m}function l0(p,m){for(;null!==p;){var w=p.alternate;if(p.childExpirationTime<m)p.childExpirationTime=m,null!==w&&w.childExpirationTime<m&&(w.childExpirationTime=m);else{if(!(null!==w&&w.childExpirationTime<m))break;w.childExpirationTime=m}p=p.return}}function tu(p,m){ql=p,Uu=ma=null,null!==(p=p.dependencies)&&null!==p.firstContext&&(p.expirationTime>=m&&(ao=!0),p.firstContext=null)}function Aa(p,m){if(Uu!==p&&!1!==m&&0!==m)if(("number"!=typeof m||1073741823===m)&&(Uu=p,m=1073741823),m={context:p,observedBits:m,next:null},null===ma){if(null===ql)throw Error(y(308));ma=m,ql.dependencies={expirationTime:0,firstContext:m,responders:null}}else ma=ma.next=m;return p._currentValue}var fn=!1;function Ir(p){p.updateQueue={baseState:p.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Ua(p,m){m.updateQueue===(p=p.updateQueue)&&(m.updateQueue={baseState:p.baseState,baseQueue:p.baseQueue,shared:p.shared,effects:p.effects})}function bo(p,m){return(p={expirationTime:p,suspenseConfig:m,tag:0,payload:null,callback:null,next:null}).next=p}function Zo(p,m){if(null!==(p=p.updateQueue)){var w=(p=p.shared).pending;null===w?m.next=m:(m.next=w.next,w.next=m),p.pending=m}}function c0(p,m){var w=p.alternate;null!==w&&Ua(w,p),null===(w=(p=p.updateQueue).baseQueue)?(p.baseQueue=m.next=m,m.next=m):(m.next=w.next,w.next=m)}function Kl(p,m,w,q){var re=p.updateQueue;fn=!1;var ye=re.baseQueue,ke=re.shared.pending;if(null!==ke){if(null!==ye){var Ue=ye.next;ye.next=ke.next,ke.next=Ue}ye=ke,re.shared.pending=null,null!==(Ue=p.alternate)&&null!==(Ue=Ue.updateQueue)&&(Ue.baseQueue=ke)}if(null!==ye){var xt=re.baseState,Mt=0,Ht=null,yn=null,bn=null;if(null!==(Ue=ye.next))for(var sr=Ue;;){if((ke=sr.expirationTime)<q){var Ta={expirationTime:sr.expirationTime,suspenseConfig:sr.suspenseConfig,tag:sr.tag,payload:sr.payload,callback:sr.callback,next:null};null===bn?(yn=bn=Ta,Ht=xt):bn=bn.next=Ta,ke>Mt&&(Mt=ke)}else{null!==bn&&(bn=bn.next={expirationTime:1073741823,suspenseConfig:sr.suspenseConfig,tag:sr.tag,payload:sr.payload,callback:sr.callback,next:null}),ef(ke,sr.suspenseConfig);e:{var Ei=p,St=sr;switch(ke=m,Ta=w,St.tag){case 1:if("function"==typeof(Ei=St.payload)){xt=Ei.call(Ta,xt,ke);break e}xt=Ei;break e;case 3:Ei.effectTag=-4097&Ei.effectTag|64;case 0:if(null==(ke="function"==typeof(Ei=St.payload)?Ei.call(Ta,xt,ke):Ei))break e;xt=B({},xt,ke);break e;case 2:fn=!0}}null!==sr.callback&&(p.effectTag|=32,null===(ke=re.effects)?re.effects=[sr]:ke.push(sr))}if(null===(sr=sr.next)||sr===Ue){if(null===(ke=re.shared.pending))break;sr=ye.next=ke.next,ke.next=Ue,re.baseQueue=ye=ke,re.shared.pending=null}}null===bn?Ht=xt:bn.next=yn,re.baseState=Ht,re.baseQueue=bn,dl(Mt),p.expirationTime=Mt,p.memoizedState=xt}}function d0(p,m,w){if(p=m.effects,m.effects=null,null!==p)for(m=0;m<p.length;m++){var q=p[m],re=q.callback;if(null!==re){if(q.callback=null,q=re,re=w,"function"!=typeof q)throw Error(y(191,q));q.call(re)}}}var zu=ce.ReactCurrentBatchConfig,p0=(new K.Component).refs;function Ep(p,m,w,q){w=null==(w=w(q,m=p.memoizedState))?m:B({},m,w),p.memoizedState=w,0===p.expirationTime&&(p.updateQueue.baseState=w)}var Lo={isMounted:function(m){return!!(m=m._reactInternalFiber)&&k(m)===m},enqueueSetState:function(m,w,q){m=m._reactInternalFiber;var re=Ra(),ye=zu.suspense;(ye=bo(re=du(re,m,ye),ye)).payload=w,null!=q&&(ye.callback=q),Zo(m,ye),zo(m,re)},enqueueReplaceState:function(m,w,q){m=m._reactInternalFiber;var re=Ra(),ye=zu.suspense;(ye=bo(re=du(re,m,ye),ye)).tag=1,ye.payload=w,null!=q&&(ye.callback=q),Zo(m,ye),zo(m,re)},enqueueForceUpdate:function(m,w){m=m._reactInternalFiber;var q=Ra(),re=zu.suspense;(re=bo(q=du(q,m,re),re)).tag=2,null!=w&&(re.callback=w),Zo(m,re),zo(m,q)}};function Pp(p,m,w,q,re,ye,ke){return"function"==typeof(p=p.stateNode).shouldComponentUpdate?p.shouldComponentUpdate(q,ye,ke):!(m.prototype&&m.prototype.isPureReactComponent&&ju(w,q)&&ju(re,ye))}function gs(p,m,w){var q=!1,re=fs,ye=m.contextType;return"object"==typeof ye&&null!==ye?ye=Aa(ye):(re=Ki(m)?ms:oi.current,ye=(q=null!=(q=m.contextTypes))?Ys(p,re):fs),m=new m(w,ye),p.memoizedState=null!=m.state?m.state:null,m.updater=Lo,p.stateNode=m,m._reactInternalFiber=p,q&&((p=p.stateNode).__reactInternalMemoizedUnmaskedChildContext=re,p.__reactInternalMemoizedMaskedChildContext=ye),m}function f0(p,m,w,q){p=m.state,"function"==typeof m.componentWillReceiveProps&&m.componentWillReceiveProps(w,q),"function"==typeof m.UNSAFE_componentWillReceiveProps&&m.UNSAFE_componentWillReceiveProps(w,q),m.state!==p&&Lo.enqueueReplaceState(m,m.state,null)}function Wl(p,m,w,q){var re=p.stateNode;re.props=w,re.state=p.memoizedState,re.refs=p0,Ir(p);var ye=m.contextType;"object"==typeof ye&&null!==ye?re.context=Aa(ye):(ye=Ki(m)?ms:oi.current,re.context=Ys(p,ye)),Kl(p,w,re,q),re.state=p.memoizedState,"function"==typeof(ye=m.getDerivedStateFromProps)&&(Ep(p,m,ye,w),re.state=p.memoizedState),"function"==typeof m.getDerivedStateFromProps||"function"==typeof re.getSnapshotBeforeUpdate||"function"!=typeof re.UNSAFE_componentWillMount&&"function"!=typeof re.componentWillMount||(m=re.state,"function"==typeof re.componentWillMount&&re.componentWillMount(),"function"==typeof re.UNSAFE_componentWillMount&&re.UNSAFE_componentWillMount(),m!==re.state&&Lo.enqueueReplaceState(re,re.state,null),Kl(p,w,re,q),re.state=p.memoizedState),"function"==typeof re.componentDidMount&&(p.effectTag|=4)}var Gu=Array.isArray;function Hu(p,m,w){if(null!==(p=w.ref)&&"function"!=typeof p&&"object"!=typeof p){if(w._owner){if(w=w._owner){if(1!==w.tag)throw Error(y(309));var q=w.stateNode}if(!q)throw Error(y(147,p));var re=""+p;return null!==m&&null!==m.ref&&"function"==typeof m.ref&&m.ref._stringRef===re?m.ref:((m=function(ke){var Ue=q.refs;Ue===p0&&(Ue=q.refs={}),null===ke?delete Ue[re]:Ue[re]=ke})._stringRef=re,m)}if("string"!=typeof p)throw Error(y(284));if(!w._owner)throw Error(y(290,p))}return p}function Xl(p,m){if("textarea"!==p.type)throw Error(y(31,"[object Object]"===Object.prototype.toString.call(m)?"object with keys {"+Object.keys(m).join(", ")+"}":m,""))}function qu(p){function m(St,ht){if(p){var It=St.lastEffect;null!==It?(It.nextEffect=ht,St.lastEffect=ht):St.firstEffect=St.lastEffect=ht,ht.nextEffect=null,ht.effectTag=8}}function w(St,ht){if(!p)return null;for(;null!==ht;)m(St,ht),ht=ht.sibling;return null}function q(St,ht){for(St=new Map;null!==ht;)St.set(null!==ht.key?ht.key:ht.index,ht),ht=ht.sibling;return St}function re(St,ht){return(St=ws(St,ht)).index=0,St.sibling=null,St}function ye(St,ht,It){return St.index=It,p?null!==(It=St.alternate)?(It=It.index)<ht?(St.effectTag=2,ht):It:(St.effectTag=2,ht):ht}function ke(St){return p&&null===St.alternate&&(St.effectTag=2),St}function Ue(St,ht,It,Kt){return null===ht||6!==ht.tag?((ht=rf(It,St.mode,Kt)).return=St,ht):((ht=re(ht,It)).return=St,ht)}function xt(St,ht,It,Kt){return null!==ht&&ht.elementType===It.type?((Kt=re(ht,It.props)).ref=Hu(St,ht,It),Kt.return=St,Kt):((Kt=Ac(It.type,It.key,It.props,null,St.mode,Kt)).ref=Hu(St,ht,It),Kt.return=St,Kt)}function Mt(St,ht,It,Kt){return null===ht||4!==ht.tag||ht.stateNode.containerInfo!==It.containerInfo||ht.stateNode.implementation!==It.implementation?((ht=af(It,St.mode,Kt)).return=St,ht):((ht=re(ht,It.children||[])).return=St,ht)}function Ht(St,ht,It,Kt,rn){return null===ht||7!==ht.tag?((ht=Ho(It,St.mode,Kt,rn)).return=St,ht):((ht=re(ht,It)).return=St,ht)}function yn(St,ht,It){if("string"==typeof ht||"number"==typeof ht)return(ht=rf(""+ht,St.mode,It)).return=St,ht;if("object"==typeof ht&&null!==ht){switch(ht.$$typeof){case Tt:return(It=Ac(ht.type,ht.key,ht.props,null,St.mode,It)).ref=Hu(St,null,ht),It.return=St,It;case Vt:return(ht=af(ht,St.mode,It)).return=St,ht}if(Gu(ht)||Pn(ht))return(ht=Ho(ht,St.mode,It,null)).return=St,ht;Xl(St,ht)}return null}function bn(St,ht,It,Kt){var rn=null!==ht?ht.key:null;if("string"==typeof It||"number"==typeof It)return null!==rn?null:Ue(St,ht,""+It,Kt);if("object"==typeof It&&null!==It){switch(It.$$typeof){case Tt:return It.key===rn?It.type===zt?Ht(St,ht,It.props.children,Kt,rn):xt(St,ht,It,Kt):null;case Vt:return It.key===rn?Mt(St,ht,It,Kt):null}if(Gu(It)||Pn(It))return null!==rn?null:Ht(St,ht,It,Kt,null);Xl(St,It)}return null}function sr(St,ht,It,Kt,rn){if("string"==typeof Kt||"number"==typeof Kt)return Ue(ht,St=St.get(It)||null,""+Kt,rn);if("object"==typeof Kt&&null!==Kt){switch(Kt.$$typeof){case Tt:return St=St.get(null===Kt.key?It:Kt.key)||null,Kt.type===zt?Ht(ht,St,Kt.props.children,rn,Kt.key):xt(ht,St,Kt,rn);case Vt:return Mt(ht,St=St.get(null===Kt.key?It:Kt.key)||null,Kt,rn)}if(Gu(Kt)||Pn(Kt))return Ht(ht,St=St.get(It)||null,Kt,rn,null);Xl(ht,Kt)}return null}return function(St,ht,It,Kt){var rn="object"==typeof It&&null!==It&&It.type===zt&&null===It.key;rn&&(It=It.props.children);var dn="object"==typeof It&&null!==It;if(dn)switch(It.$$typeof){case Tt:e:{for(dn=It.key,rn=ht;null!==rn;){if(rn.key===dn){if(7===rn.tag){if(It.type===zt){w(St,rn.sibling),(ht=re(rn,It.props.children)).return=St,St=ht;break e}}else if(rn.elementType===It.type){w(St,rn.sibling),(ht=re(rn,It.props)).ref=Hu(St,rn,It),ht.return=St,St=ht;break e}w(St,rn);break}m(St,rn),rn=rn.sibling}It.type===zt?((ht=Ho(It.props.children,St.mode,Kt,It.key)).return=St,St=ht):((Kt=Ac(It.type,It.key,It.props,null,St.mode,Kt)).ref=Hu(St,ht,It),Kt.return=St,St=Kt)}return ke(St);case Vt:e:{for(rn=It.key;null!==ht;){if(ht.key===rn){if(4===ht.tag&&ht.stateNode.containerInfo===It.containerInfo&&ht.stateNode.implementation===It.implementation){w(St,ht.sibling),(ht=re(ht,It.children||[])).return=St,St=ht;break e}w(St,ht);break}m(St,ht),ht=ht.sibling}(ht=af(It,St.mode,Kt)).return=St,St=ht}return ke(St)}if("string"==typeof It||"number"==typeof It)return It=""+It,null!==ht&&6===ht.tag?(w(St,ht.sibling),(ht=re(ht,It)).return=St,St=ht):(w(St,ht),(ht=rf(It,St.mode,Kt)).return=St,St=ht),ke(St);if(Gu(It))return function Ta(St,ht,It,Kt){for(var rn=null,dn=null,_n=ht,nr=ht=0,rr=null;null!==_n&&nr<It.length;nr++){_n.index>nr?(rr=_n,_n=null):rr=_n.sibling;var Wn=bn(St,_n,It[nr],Kt);if(null===Wn){null===_n&&(_n=rr);break}p&&_n&&null===Wn.alternate&&m(St,_n),ht=ye(Wn,ht,nr),null===dn?rn=Wn:dn.sibling=Wn,dn=Wn,_n=rr}if(nr===It.length)return w(St,_n),rn;if(null===_n){for(;nr<It.length;nr++)null!==(_n=yn(St,It[nr],Kt))&&(ht=ye(_n,ht,nr),null===dn?rn=_n:dn.sibling=_n,dn=_n);return rn}for(_n=q(St,_n);nr<It.length;nr++)null!==(rr=sr(_n,St,nr,It[nr],Kt))&&(p&&null!==rr.alternate&&_n.delete(null===rr.key?nr:rr.key),ht=ye(rr,ht,nr),null===dn?rn=rr:dn.sibling=rr,dn=rr);return p&&_n.forEach(function(_r){return m(St,_r)}),rn}(St,ht,It,Kt);if(Pn(It))return function Ei(St,ht,It,Kt){var rn=Pn(It);if("function"!=typeof rn)throw Error(y(150));if(null==(It=rn.call(It)))throw Error(y(151));for(var dn=rn=null,_n=ht,nr=ht=0,rr=null,Wn=It.next();null!==_n&&!Wn.done;nr++,Wn=It.next()){_n.index>nr?(rr=_n,_n=null):rr=_n.sibling;var _r=bn(St,_n,Wn.value,Kt);if(null===_r){null===_n&&(_n=rr);break}p&&_n&&null===_r.alternate&&m(St,_n),ht=ye(_r,ht,nr),null===dn?rn=_r:dn.sibling=_r,dn=_r,_n=rr}if(Wn.done)return w(St,_n),rn;if(null===_n){for(;!Wn.done;nr++,Wn=It.next())null!==(Wn=yn(St,Wn.value,Kt))&&(ht=ye(Wn,ht,nr),null===dn?rn=Wn:dn.sibling=Wn,dn=Wn);return rn}for(_n=q(St,_n);!Wn.done;nr++,Wn=It.next())null!==(Wn=sr(_n,St,nr,Wn.value,Kt))&&(p&&null!==Wn.alternate&&_n.delete(null===Wn.key?nr:Wn.key),ht=ye(Wn,ht,nr),null===dn?rn=Wn:dn.sibling=Wn,dn=Wn);return p&&_n.forEach(function(Ck){return m(St,Ck)}),rn}(St,ht,It,Kt);if(dn&&Xl(St,It),typeof It>"u"&&!rn)switch(St.tag){case 1:case 0:throw St=St.type,Error(y(152,St.displayName||St.name||"Component"))}return w(St,ht)}}var vi=qu(!0),Ap=qu(!1),Ql={},za={current:Ql},nu={current:Ql},Ku={current:Ql};function Co(p){if(p===Ql)throw Error(y(174));return p}function Wu(p,m){switch(qr(Ku,m),qr(nu,p),qr(za,Ql),p=m.nodeType){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:fr(null,"");break;default:m=fr(m=(p=8===p?m.parentNode:m).namespaceURI||null,p=p.tagName)}Ur(za),qr(za,m)}function ru(){Ur(za),Ur(nu),Ur(Ku)}function m0(p){Co(Ku.current);var m=Co(za.current),w=fr(m,p.type);m!==w&&(qr(nu,p),qr(za,w))}function kp(p){nu.current===p&&(Ur(za),Ur(nu))}var zr={current:0};function to(p){for(var m=p;null!==m;){if(13===m.tag){var w=m.memoizedState;if(null!==w&&(null===(w=w.dehydrated)||w.data===sp||w.data===T_))return m}else if(19===m.tag&&void 0!==m.memoizedProps.revealOrder){if(64&m.effectTag)return m}else if(null!==m.child){m.child.return=m,m=m.child;continue}if(m===p)break;for(;null===m.sibling;){if(null===m.return||m.return===p)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function Ga(p,m){return{responder:p,props:m}}var Xu=ce.ReactCurrentDispatcher,ji=ce.ReactCurrentBatchConfig,no=0,ui=null,wi=null,Si=null,Yl=!1;function Xi(){throw Error(y(321))}function Rp(p,m){if(null===m)return!1;for(var w=0;w<m.length&&w<p.length;w++)if(!Ws(p[w],m[w]))return!1;return!0}function Dp(p,m,w,q,re,ye){if(no=ye,ui=m,m.memoizedState=null,m.updateQueue=null,m.expirationTime=0,Xu.current=null===p||null===p.memoizedState?ys:_0,p=w(q,re),m.expirationTime===no){ye=0;do{if(m.expirationTime=0,!(25>ye))throw Error(y(301));ye+=1,Si=wi=null,m.updateQueue=null,Xu.current=el,p=w(q,re)}while(m.expirationTime===no)}if(Xu.current=Np,m=null!==wi&&null!==wi.next,no=0,Si=wi=ui=null,Yl=!1,m)throw Error(y(300));return p}function iu(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Si?ui.memoizedState=Si=p:Si=Si.next=p,Si}function au(){if(null===wi){var p=ui.alternate;p=null!==p?p.memoizedState:null}else p=wi.next;var m=null===Si?ui.memoizedState:Si.next;if(null!==m)Si=m,wi=p;else{if(null===p)throw Error(y(310));p={memoizedState:(wi=p).memoizedState,baseState:wi.baseState,baseQueue:wi.baseQueue,queue:wi.queue,next:null},null===Si?ui.memoizedState=Si=p:Si=Si.next=p}return Si}function vs(p,m){return"function"==typeof m?m(p):m}function Jl(p){var m=au(),w=m.queue;if(null===w)throw Error(y(311));w.lastRenderedReducer=p;var q=wi,re=q.baseQueue,ye=w.pending;if(null!==ye){if(null!==re){var ke=re.next;re.next=ye.next,ye.next=ke}q.baseQueue=re=ye,w.pending=null}if(null!==re){q=q.baseState;var Ue=ke=ye=null,xt=re=re.next;do{var Mt=xt.expirationTime;if(Mt<no){var Ht={expirationTime:xt.expirationTime,suspenseConfig:xt.suspenseConfig,action:xt.action,eagerReducer:xt.eagerReducer,eagerState:xt.eagerState,next:null};null===Ue?(ke=Ue=Ht,ye=q):Ue=Ue.next=Ht,Mt>ui.expirationTime&&(ui.expirationTime=Mt,dl(Mt))}else null!==Ue&&(Ue=Ue.next={expirationTime:1073741823,suspenseConfig:xt.suspenseConfig,action:xt.action,eagerReducer:xt.eagerReducer,eagerState:xt.eagerState,next:null}),ef(Mt,xt.suspenseConfig),q=xt.eagerReducer===p?xt.eagerState:p(q,xt.action);xt=xt.next}while(null!==xt&&xt!==re);null===Ue?ye=q:Ue.next=ke,Ws(q,m.memoizedState)||(ao=!0),m.memoizedState=q,m.baseState=ye,m.baseQueue=Ue,w.lastRenderedState=q}return[m.memoizedState,w.dispatch]}function ec(p){var m=au(),w=m.queue;if(null===w)throw Error(y(311));w.lastRenderedReducer=p;var q=w.dispatch,re=w.pending,ye=m.memoizedState;if(null!==re){w.pending=null;var ke=re=re.next;do{ye=p(ye,ke.action),ke=ke.next}while(ke!==re);Ws(ye,m.memoizedState)||(ao=!0),m.memoizedState=ye,null===m.baseQueue&&(m.baseState=ye),w.lastRenderedState=ye}return[ye,q]}function Tp(p){var m=iu();return"function"==typeof p&&(p=p()),m.memoizedState=m.baseState=p,p=(p=m.queue={pending:null,dispatch:null,lastRenderedReducer:vs,lastRenderedState:p}).dispatch=w2.bind(null,ui,p),[m.memoizedState,p]}function Ip(p,m,w,q){return p={tag:p,create:m,destroy:w,deps:q,next:null},null===(m=ui.updateQueue)?(ui.updateQueue=m={lastEffect:null},m.lastEffect=p.next=p):null===(w=m.lastEffect)?m.lastEffect=p.next=p:(q=w.next,w.next=p,p.next=q,m.lastEffect=p),p}function h0(){return au().memoizedState}function Op(p,m,w,q){var re=iu();ui.effectTag|=p,re.memoizedState=Ip(1|m,w,void 0,void 0===q?null:q)}function Qu(p,m,w,q){var re=au();q=void 0===q?null:q;var ye=void 0;if(null!==wi){var ke=wi.memoizedState;if(ye=ke.destroy,null!==q&&Rp(q,ke.deps))return void Ip(m,w,ye,q)}ui.effectTag|=p,re.memoizedState=Ip(1|m,w,ye,q)}function Yu(p,m){return Op(516,4,p,m)}function tc(p,m){return Qu(516,4,p,m)}function g0(p,m){return Qu(4,2,p,m)}function nc(p,m){return"function"==typeof m?(p=p(),m(p),function(){m(null)}):null!=m?(p=p(),m.current=p,function(){m.current=null}):void 0}function Fp(p,m,w){return w=null!=w?w.concat([p]):null,Qu(4,2,nc.bind(null,m,p),w)}function Mp(){}function ou(p,m){return iu().memoizedState=[p,void 0===m?null:m],p}function Ju(p,m){var w=au();m=void 0===m?null:m;var q=w.memoizedState;return null!==q&&null!==m&&Rp(m,q[1])?q[0]:(w.memoizedState=[p,m],p)}function v0(p,m){var w=au();m=void 0===m?null:m;var q=w.memoizedState;return null!==q&&null!==m&&Rp(m,q[1])?q[0]:(p=p(),w.memoizedState=[p,m],p)}function y0(p,m,w){var q=si();An(98>q?98:q,function(){p(!0)}),An(97<q?97:q,function(){var re=ji.suspense;ji.suspense=void 0===m?null:m;try{p(!1),w()}finally{ji.suspense=re}})}function w2(p,m,w){var q=Ra(),re=zu.suspense;re={expirationTime:q=du(q,p,re),suspenseConfig:re,action:w,eagerReducer:null,eagerState:null,next:null};var ye=m.pending;if(null===ye?re.next=re:(re.next=ye.next,ye.next=re),m.pending=re,ye=p.alternate,p===ui||null!==ye&&ye===ui)Yl=!0,re.expirationTime=no,ui.expirationTime=no;else{if(0===p.expirationTime&&(null===ye||0===ye.expirationTime)&&null!==(ye=m.lastRenderedReducer))try{var ke=m.lastRenderedState,Ue=ye(ke,w);if(re.eagerReducer=ye,re.eagerState=Ue,Ws(Ue,ke))return}catch{}zo(p,q)}}var Np={readContext:Aa,useCallback:Xi,useContext:Xi,useEffect:Xi,useImperativeHandle:Xi,useLayoutEffect:Xi,useMemo:Xi,useReducer:Xi,useRef:Xi,useState:Xi,useDebugValue:Xi,useResponder:Xi,useDeferredValue:Xi,useTransition:Xi},ys={readContext:Aa,useCallback:ou,useContext:Aa,useEffect:Yu,useImperativeHandle:function(m,w,q){return q=null!=q?q.concat([m]):null,Op(4,2,nc.bind(null,w,m),q)},useLayoutEffect:function(m,w){return Op(4,2,m,w)},useMemo:function(m,w){var q=iu();return w=void 0===w?null:w,m=m(),q.memoizedState=[m,w],m},useReducer:function(m,w,q){var re=iu();return w=void 0!==q?q(w):w,re.memoizedState=re.baseState=w,m=(m=re.queue={pending:null,dispatch:null,lastRenderedReducer:m,lastRenderedState:w}).dispatch=w2.bind(null,ui,m),[re.memoizedState,m]},useRef:function(m){return iu().memoizedState={current:m}},useState:Tp,useDebugValue:Mp,useResponder:Ga,useDeferredValue:function(m,w){var q=Tp(m),re=q[0],ye=q[1];return Yu(function(){var ke=ji.suspense;ji.suspense=void 0===w?null:w;try{ye(m)}finally{ji.suspense=ke}},[m,w]),re},useTransition:function(m){var w=Tp(!1),q=w[0];return[ou(y0.bind(null,w=w[1],m),[w,m]),q]}},_0={readContext:Aa,useCallback:Ju,useContext:Aa,useEffect:tc,useImperativeHandle:Fp,useLayoutEffect:g0,useMemo:v0,useReducer:Jl,useRef:h0,useState:function(){return Jl(vs)},useDebugValue:Mp,useResponder:Ga,useDeferredValue:function(m,w){var q=Jl(vs),re=q[0],ye=q[1];return tc(function(){var ke=ji.suspense;ji.suspense=void 0===w?null:w;try{ye(m)}finally{ji.suspense=ke}},[m,w]),re},useTransition:function(m){var w=Jl(vs),q=w[0];return[Ju(y0.bind(null,w=w[1],m),[w,m]),q]}},el={readContext:Aa,useCallback:Ju,useContext:Aa,useEffect:tc,useImperativeHandle:Fp,useLayoutEffect:g0,useMemo:v0,useReducer:ec,useRef:h0,useState:function(){return ec(vs)},useDebugValue:Mp,useResponder:Ga,useDeferredValue:function(m,w){var q=ec(vs),re=q[0],ye=q[1];return tc(function(){var ke=ji.suspense;ji.suspense=void 0===w?null:w;try{ye(m)}finally{ji.suspense=ke}},[m,w]),re},useTransition:function(m){var w=ec(vs),q=w[0];return[Ju(y0.bind(null,w=w[1],m),[w,m]),q]}},ro=null,wo=null,io=!1;function tl(p,m){var w=Da(5,null,null,0);w.elementType="DELETED",w.type="DELETED",w.stateNode=m,w.return=p,w.effectTag=8,null!==p.lastEffect?(p.lastEffect.nextEffect=w,p.lastEffect=w):p.firstEffect=p.lastEffect=w}function ti(p,m){switch(p.tag){case 5:return null!==(m=1!==m.nodeType||p.type.toLowerCase()!==m.nodeName.toLowerCase()?null:m)&&(p.stateNode=m,!0);case 6:return null!==(m=""===p.pendingProps||3!==m.nodeType?null:m)&&(p.stateNode=m,!0);default:return!1}}function Vp(p){if(io){var m=wo;if(m){var w=m;if(!ti(p,m)){if(!(m=zs(w.nextSibling))||!ti(p,m))return p.effectTag=-1025&p.effectTag|2,io=!1,void(ro=p);tl(ro,w)}ro=p,wo=zs(m.firstChild)}else p.effectTag=-1025&p.effectTag|2,io=!1,ro=p}}function S2(p){for(p=p.return;null!==p&&5!==p.tag&&3!==p.tag&&13!==p.tag;)p=p.return;ro=p}function nl(p){if(p!==ro)return!1;if(!io)return S2(p),io=!0,!1;var m=p.type;if(5!==p.tag||"head"!==m&&"body"!==m&&!cp(m,p.memoizedProps))for(m=wo;m;)tl(p,m),m=zs(m.nextSibling);if(S2(p),13===p.tag){if(!(p=null!==(p=p.memoizedState)?p.dehydrated:null))throw Error(y(317));e:{for(p=p.nextSibling,m=0;p;){if(8===p.nodeType){var w=p.data;if(w===D_){if(0===m){wo=zs(p.nextSibling);break e}m--}else w!==R_&&w!==T_&&w!==sp||m++}p=p.nextSibling}wo=null}}else wo=ro?zs(p.stateNode.nextSibling):null;return!0}function yr(){wo=ro=null,io=!1}var Jn=ce.ReactCurrentOwner,ao=!1;function ha(p,m,w,q){m.child=null===p?Ap(m,null,w,q):vi(m,p.child,w,q)}function x0(p,m,w,q,re){w=w.render;var ye=m.ref;return tu(m,re),q=Dp(p,m,w,q,ye,re),null===p||ao?(m.effectTag|=1,ha(p,m,q,re),m.child):(m.updateQueue=p.updateQueue,m.effectTag&=-517,p.expirationTime<=re&&(p.expirationTime=0),So(p,m,re))}function b0(p,m,w,q,re,ye){if(null===p){var ke=w.type;return"function"!=typeof ke||fl(ke)||void 0!==ke.defaultProps||null!==w.compare||void 0!==w.defaultProps?((p=Ac(w.type,null,q,null,m.mode,ye)).ref=m.ref,p.return=m,m.child=p):(m.tag=15,m.type=ke,C0(p,m,ke,q,re,ye))}return ke=p.child,re<ye&&(w=null!==(w=w.compare)?w:ju)(re=ke.memoizedProps,q)&&p.ref===m.ref?So(p,m,ye):(m.effectTag|=1,(p=ws(ke,q)).ref=m.ref,p.return=m,m.child=p)}function C0(p,m,w,q,re,ye){return null!==p&&ju(p.memoizedProps,q)&&p.ref===m.ref&&(ao=!1,re<ye)?(m.expirationTime=p.expirationTime,So(p,m,ye)):Bp(p,m,w,q,ye)}function w0(p,m){var w=m.ref;(null===p&&null!==w||null!==p&&p.ref!==w)&&(m.effectTag|=128)}function Bp(p,m,w,q,re){var ye=Ki(w)?ms:oi.current;return ye=Ys(m,ye),tu(m,re),w=Dp(p,m,w,q,ye,re),null===p||ao?(m.effectTag|=1,ha(p,m,w,re),m.child):(m.updateQueue=p.updateQueue,m.effectTag&=-517,p.expirationTime<=re&&(p.expirationTime=0),So(p,m,re))}function S0(p,m,w,q,re){if(Ki(w)){var ye=!0;hs(m)}else ye=!1;if(tu(m,re),null===m.stateNode)null!==p&&(p.alternate=null,m.alternate=null,m.effectTag|=2),gs(m,w,q),Wl(m,w,q,re),q=!0;else if(null===p){var ke=m.stateNode,Ue=m.memoizedProps;ke.props=Ue;var xt=ke.context,Mt=w.contextType;Mt="object"==typeof Mt&&null!==Mt?Aa(Mt):Ys(m,Mt=Ki(w)?ms:oi.current);var Ht=w.getDerivedStateFromProps,yn="function"==typeof Ht||"function"==typeof ke.getSnapshotBeforeUpdate;yn||"function"!=typeof ke.UNSAFE_componentWillReceiveProps&&"function"!=typeof ke.componentWillReceiveProps||(Ue!==q||xt!==Mt)&&f0(m,ke,q,Mt),fn=!1;var bn=m.memoizedState;ke.state=bn,Kl(m,q,ke,re),xt=m.memoizedState,Ue!==q||bn!==xt||qi.current||fn?("function"==typeof Ht&&(Ep(m,w,Ht,q),xt=m.memoizedState),(Ue=fn||Pp(m,w,Ue,q,bn,xt,Mt))?(yn||"function"!=typeof ke.UNSAFE_componentWillMount&&"function"!=typeof ke.componentWillMount||("function"==typeof ke.componentWillMount&&ke.componentWillMount(),"function"==typeof ke.UNSAFE_componentWillMount&&ke.UNSAFE_componentWillMount()),"function"==typeof ke.componentDidMount&&(m.effectTag|=4)):("function"==typeof ke.componentDidMount&&(m.effectTag|=4),m.memoizedProps=q,m.memoizedState=xt),ke.props=q,ke.state=xt,ke.context=Mt,q=Ue):("function"==typeof ke.componentDidMount&&(m.effectTag|=4),q=!1)}else ke=m.stateNode,Ua(p,m),Ue=m.memoizedProps,ke.props=m.type===m.elementType?Ue:Li(m.type,Ue),xt=ke.context,Mt="object"==typeof(Mt=w.contextType)&&null!==Mt?Aa(Mt):Ys(m,Mt=Ki(w)?ms:oi.current),(yn="function"==typeof(Ht=w.getDerivedStateFromProps)||"function"==typeof ke.getSnapshotBeforeUpdate)||"function"!=typeof ke.UNSAFE_componentWillReceiveProps&&"function"!=typeof ke.componentWillReceiveProps||(Ue!==q||xt!==Mt)&&f0(m,ke,q,Mt),fn=!1,ke.state=xt=m.memoizedState,Kl(m,q,ke,re),bn=m.memoizedState,Ue!==q||xt!==bn||qi.current||fn?("function"==typeof Ht&&(Ep(m,w,Ht,q),bn=m.memoizedState),(Ht=fn||Pp(m,w,Ue,q,xt,bn,Mt))?(yn||"function"!=typeof ke.UNSAFE_componentWillUpdate&&"function"!=typeof ke.componentWillUpdate||("function"==typeof ke.componentWillUpdate&&ke.componentWillUpdate(q,bn,Mt),"function"==typeof ke.UNSAFE_componentWillUpdate&&ke.UNSAFE_componentWillUpdate(q,bn,Mt)),"function"==typeof ke.componentDidUpdate&&(m.effectTag|=4),"function"==typeof ke.getSnapshotBeforeUpdate&&(m.effectTag|=256)):("function"!=typeof ke.componentDidUpdate||Ue===p.memoizedProps&&xt===p.memoizedState||(m.effectTag|=4),"function"!=typeof ke.getSnapshotBeforeUpdate||Ue===p.memoizedProps&&xt===p.memoizedState||(m.effectTag|=256),m.memoizedProps=q,m.memoizedState=bn),ke.props=q,ke.state=bn,ke.context=Mt,q=Ht):("function"!=typeof ke.componentDidUpdate||Ue===p.memoizedProps&&xt===p.memoizedState||(m.effectTag|=4),"function"!=typeof ke.getSnapshotBeforeUpdate||Ue===p.memoizedProps&&xt===p.memoizedState||(m.effectTag|=256),q=!1);return rl(p,m,w,q,ye,re)}function rl(p,m,w,q,re,ye){w0(p,m);var ke=0!=(64&m.effectTag);if(!q&&!ke)return re&&qe(m,w,!1),So(p,m,ye);q=m.stateNode,Jn.current=m;var Ue=ke&&"function"!=typeof w.getDerivedStateFromError?null:q.render();return m.effectTag|=1,null!==p&&ke?(m.child=vi(m,p.child,null,ye),m.child=vi(m,null,Ue,ye)):ha(p,m,Ue,ye),m.memoizedState=q.state,re&&qe(m,w,!0),m.child}function mt(p){var m=p.stateNode;m.pendingContext?n0(0,m.pendingContext,m.pendingContext!==m.context):m.context&&n0(0,m.context,!1),Wu(p,m.containerInfo)}var xs,su,Zp,uu,il={dehydrated:null,retryTime:0};function rc(p,m,w){var Ue,q=m.mode,re=m.pendingProps,ye=zr.current,ke=!1;if((Ue=0!=(64&m.effectTag))||(Ue=0!=(2&ye)&&(null===p||null!==p.memoizedState)),Ue?(ke=!0,m.effectTag&=-65):null!==p&&null===p.memoizedState||void 0===re.fallback||!0===re.unstable_avoidThisFallback||(ye|=1),qr(zr,1&ye),null===p){if(void 0!==re.fallback&&Vp(m),ke){if(ke=re.fallback,(re=Ho(null,q,0,null)).return=m,!(2&m.mode))for(re.child=p=null!==m.memoizedState?m.child.child:m.child;null!==p;)p.return=re,p=p.sibling;return(w=Ho(ke,q,w,null)).return=m,re.sibling=w,m.memoizedState=il,m.child=re,w}return q=re.children,m.memoizedState=null,m.child=Ap(m,null,q,w)}if(null!==p.memoizedState){if(q=(p=p.child).sibling,ke){if(re=re.fallback,(w=ws(p,p.pendingProps)).return=m,!(2&m.mode)&&(ke=null!==m.memoizedState?m.child.child:m.child)!==p.child)for(w.child=ke;null!==ke;)ke.return=w,ke=ke.sibling;return(q=ws(q,re)).return=m,w.sibling=q,w.childExpirationTime=0,m.memoizedState=il,m.child=w,q}return w=vi(m,p.child,re.children,w),m.memoizedState=null,m.child=w}if(p=p.child,ke){if(ke=re.fallback,(re=Ho(null,q,0,null)).return=m,re.child=p,null!==p&&(p.return=re),!(2&m.mode))for(re.child=p=null!==m.memoizedState?m.child.child:m.child;null!==p;)p.return=re,p=p.sibling;return(w=Ho(ke,q,w,null)).return=m,re.sibling=w,w.effectTag|=2,re.childExpirationTime=0,m.memoizedState=il,m.child=re,w}return m.memoizedState=null,m.child=vi(m,p,re.children,w)}function E0(p,m){p.expirationTime<m&&(p.expirationTime=m);var w=p.alternate;null!==w&&w.expirationTime<m&&(w.expirationTime=m),l0(p.return,m)}function ic(p,m,w,q,re,ye){var ke=p.memoizedState;null===ke?p.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:q,tail:w,tailExpiration:0,tailMode:re,lastEffect:ye}:(ke.isBackwards=m,ke.rendering=null,ke.renderingStartTime=0,ke.last=q,ke.tail=w,ke.tailExpiration=0,ke.tailMode=re,ke.lastEffect=ye)}function _s(p,m,w){var q=m.pendingProps,re=q.revealOrder,ye=q.tail;if(ha(p,m,q.children,w),2&(q=zr.current))q=1&q|2,m.effectTag|=64;else{if(null!==p&&64&p.effectTag)e:for(p=m.child;null!==p;){if(13===p.tag)null!==p.memoizedState&&E0(p,w);else if(19===p.tag)E0(p,w);else if(null!==p.child){p.child.return=p,p=p.child;continue}if(p===m)break e;for(;null===p.sibling;){if(null===p.return||p.return===m)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}q&=1}if(qr(zr,q),2&m.mode)switch(re){case"forwards":for(w=m.child,re=null;null!==w;)null!==(p=w.alternate)&&null===to(p)&&(re=w),w=w.sibling;null===(w=re)?(re=m.child,m.child=null):(re=w.sibling,w.sibling=null),ic(m,!1,re,w,ye,m.lastEffect);break;case"backwards":for(w=null,re=m.child,m.child=null;null!==re;){if(null!==(p=re.alternate)&&null===to(p)){m.child=re;break}p=re.sibling,re.sibling=w,w=re,re=p}ic(m,!0,w,null,ye,m.lastEffect);break;case"together":ic(m,!1,null,null,void 0,m.lastEffect);break;default:m.memoizedState=null}else m.memoizedState=null;return m.child}function So(p,m,w){null!==p&&(m.dependencies=p.dependencies);var q=m.expirationTime;if(0!==q&&dl(q),m.childExpirationTime<w)return null;if(null!==p&&m.child!==p.child)throw Error(y(153));if(null!==m.child){for(w=ws(p=m.child,p.pendingProps),m.child=w,w.return=m;null!==p.sibling;)(w=w.sibling=ws(p=p.sibling,p.pendingProps)).return=m;w.sibling=null}return m.child}function Lp(p,m){switch(p.tailMode){case"hidden":m=p.tail;for(var w=null;null!==m;)null!==m.alternate&&(w=m),m=m.sibling;null===w?p.tail=null:w.sibling=null;break;case"collapsed":w=p.tail;for(var q=null;null!==w;)null!==w.alternate&&(q=w),w=w.sibling;null===q?m||null===p.tail?p.tail=null:p.tail.sibling=null:q.sibling=null}}function P0(p,m,w){var q=m.pendingProps;switch(m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return Ki(m.type)&&Ul(),null;case 3:return ru(),Ur(qi),Ur(oi),(w=m.stateNode).pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),null!==p&&null!==p.child||!nl(m)||(m.effectTag|=4),su(m),null;case 5:kp(m),w=Co(Ku.current);var re=m.type;if(null!==p&&null!=m.stateNode)Zp(p,m,re,q,w),p.ref!==m.ref&&(m.effectTag|=128);else{if(!q){if(null===m.stateNode)throw Error(y(166));return null}if(p=Co(za.current),nl(m)){re=m.type;var ye=m.memoizedProps;switch((q=m.stateNode)[No]=m,q[fp]=ye,re){case"iframe":case"object":case"embed":tr("load",q);break;case"video":case"audio":for(p=0;p<Fo.length;p++)tr(Fo[p],q);break;case"source":tr("error",q);break;case"img":case"image":case"link":tr("error",q),tr("load",q);break;case"form":tr("reset",q),tr("submit",q);break;case"details":tr("toggle",q);break;case"input":Xr(q,ye),tr("invalid",q),vo(w,"onChange");break;case"select":q._wrapperState={wasMultiple:!!ye.multiple},tr("invalid",q),vo(w,"onChange");break;case"textarea":Ca(q,ye),tr("invalid",q),vo(w,"onChange")}for(var ke in Tu(re,ye),p=null,ye)if(ye.hasOwnProperty(ke)){var Ue=ye[ke];"children"===ke?"string"==typeof Ue?q.textContent!==Ue&&(p=["children",Ue]):"number"==typeof Ue&&q.textContent!==""+Ue&&(p=["children",""+Ue]):he.hasOwnProperty(ke)&&null!=Ue&&vo(w,ke)}switch(re){case"input":kr(q),Ba(q,ye,!0);break;case"textarea":kr(q),Ti(q);break;case"select":case"option":break;default:"function"==typeof ye.onClick&&(q.onclick=ap)}m.updateQueue=w=p,null!==w&&(m.effectTag|=4)}else{switch(ke=9===w.nodeType?w:w.ownerDocument,p===Ou&&(p=Qr(re)),p===Ou?"script"===re?((p=ke.createElement("div")).innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):"string"==typeof q.is?p=ke.createElement(re,{is:q.is}):(p=ke.createElement(re),"select"===re&&(ke=p,q.multiple?ke.multiple=!0:q.size&&(ke.size=q.size))):p=ke.createElementNS(p,re),p[No]=m,p[fp]=q,xs(p,m,!1,!1),m.stateNode=p,ke=Iu(re,q),re){case"iframe":case"object":case"embed":tr("load",p),Ue=q;break;case"video":case"audio":for(Ue=0;Ue<Fo.length;Ue++)tr(Fo[Ue],p);Ue=q;break;case"source":tr("error",p),Ue=q;break;case"img":case"image":case"link":tr("error",p),tr("load",p),Ue=q;break;case"form":tr("reset",p),tr("submit",p),Ue=q;break;case"details":tr("toggle",p),Ue=q;break;case"input":Xr(p,q),Ue=Vi(p,q),tr("invalid",p),vo(w,"onChange");break;case"option":Ue=Gi(p,q);break;case"select":p._wrapperState={wasMultiple:!!q.multiple},Ue=B({},q,{value:void 0}),tr("invalid",p),vo(w,"onChange");break;case"textarea":Ca(p,q),Ue=Hi(p,q),tr("invalid",p),vo(w,"onChange");break;default:Ue=q}Tu(re,Ue);var xt=Ue;for(ye in xt)if(xt.hasOwnProperty(ye)){var Mt=xt[ye];"style"===ye?eo(p,Mt):"dangerouslySetInnerHTML"===ye?null!=(Mt=Mt?Mt.__html:void 0)&&wa(p,Mt):"children"===ye?"string"==typeof Mt?("textarea"!==re||""!==Mt)&&di(p,Mt):"number"==typeof Mt&&di(p,""+Mt):"suppressContentEditableWarning"!==ye&&"suppressHydrationWarning"!==ye&&"autoFocus"!==ye&&(he.hasOwnProperty(ye)?null!=Mt&&vo(w,ye):null!=Mt&&le(p,ye,Mt,ke))}switch(re){case"input":kr(p),Ba(p,q,!1);break;case"textarea":kr(p),Ti(p);break;case"option":null!=q.value&&p.setAttribute("value",""+Fr(q.value));break;case"select":p.multiple=!!q.multiple,null!=(w=q.value)?Ri(p,!!q.multiple,w,!1):null!=q.defaultValue&&Ri(p,!!q.multiple,q.defaultValue,!0);break;default:"function"==typeof Ue.onClick&&(p.onclick=ap)}I_(re,q)&&(m.effectTag|=4)}null!==m.ref&&(m.effectTag|=128)}return null;case 6:if(p&&null!=m.stateNode)uu(p,m,p.memoizedProps,q);else{if("string"!=typeof q&&null===m.stateNode)throw Error(y(166));w=Co(Ku.current),Co(za.current),nl(m)?(q=m.memoizedProps,(w=m.stateNode)[No]=m,w.nodeValue!==q&&(m.effectTag|=4)):((w=(9===w.nodeType?w:w.ownerDocument).createTextNode(q))[No]=m,m.stateNode=w)}return null;case 13:return Ur(zr),q=m.memoizedState,64&m.effectTag?(m.expirationTime=w,m):(w=null!==q,q=!1,null===p?void 0!==m.memoizedProps.fallback&&nl(m):(q=null!==(re=p.memoizedState),w||null===re||null!==(re=p.child.sibling)&&(null!==(ye=m.firstEffect)?(m.firstEffect=re,re.nextEffect=ye):(m.firstEffect=m.lastEffect=re,re.nextEffect=null),re.effectTag=8)),w&&!q&&2&m.mode&&(null===p&&!0!==m.memoizedProps.unstable_avoidThisFallback||1&zr.current?yi===jo&&(yi=bs):((yi===jo||yi===bs)&&(yi=pc),0!==cu&&null!==Yi&&(Ss(Yi,$i),pn(Yi,cu)))),(w||q)&&(m.effectTag|=4),null);case 4:return ru(),su(m),null;case 10:return eu(m),null;case 19:if(Ur(zr),null===(q=m.memoizedState))return null;if(re=0!=(64&m.effectTag),null===(ye=q.rendering)){if(re)Lp(q,!1);else if(yi!==jo||null!==p&&64&p.effectTag)for(ye=m.child;null!==ye;){if(null!==(p=to(ye))){for(m.effectTag|=64,Lp(q,!1),null!==(re=p.updateQueue)&&(m.updateQueue=re,m.effectTag|=4),null===q.lastEffect&&(m.firstEffect=null),m.lastEffect=q.lastEffect,q=m.child;null!==q;)ye=w,(re=q).effectTag&=2,re.nextEffect=null,re.firstEffect=null,re.lastEffect=null,null===(p=re.alternate)?(re.childExpirationTime=0,re.expirationTime=ye,re.child=null,re.memoizedProps=null,re.memoizedState=null,re.updateQueue=null,re.dependencies=null):(re.childExpirationTime=p.childExpirationTime,re.expirationTime=p.expirationTime,re.child=p.child,re.memoizedProps=p.memoizedProps,re.memoizedState=p.memoizedState,re.updateQueue=p.updateQueue,re.dependencies=null===(ye=p.dependencies)?null:{expirationTime:ye.expirationTime,firstContext:ye.firstContext,responders:ye.responders}),q=q.sibling;return qr(zr,1&zr.current|2),m.child}ye=ye.sibling}}else{if(!re)if(null!==(p=to(ye))){if(m.effectTag|=64,re=!0,null!==(w=p.updateQueue)&&(m.updateQueue=w,m.effectTag|=4),Lp(q,!0),null===q.tail&&"hidden"===q.tailMode&&!ye.alternate)return null!==(m=m.lastEffect=q.lastEffect)&&(m.nextEffect=null),null}else 2*Wi()-q.renderingStartTime>q.tailExpiration&&1<w&&(m.effectTag|=64,re=!0,Lp(q,!1),m.expirationTime=m.childExpirationTime=w-1);q.isBackwards?(ye.sibling=m.child,m.child=ye):(null!==(w=q.last)?w.sibling=ye:m.child=ye,q.last=ye)}return null!==q.tail?(0===q.tailExpiration&&(q.tailExpiration=Wi()+500),q.rendering=w=q.tail,q.tail=w.sibling,q.lastEffect=m.lastEffect,q.renderingStartTime=Wi(),w.sibling=null,m=zr.current,qr(zr,re?1&m|2:1&m),w):null}throw Error(y(156,m.tag))}function A0(p){switch(p.tag){case 1:Ki(p.type)&&Ul();var m=p.effectTag;return 4096&m?(p.effectTag=-4097&m|64,p):null;case 3:if(ru(),Ur(qi),Ur(oi),64&(m=p.effectTag))throw Error(y(285));return p.effectTag=-4097&m|64,p;case 5:return kp(p),null;case 13:return Ur(zr),4096&(m=p.effectTag)?(p.effectTag=-4097&m|64,p):null;case 19:return Ur(zr),null;case 4:return ru(),null;case 10:return eu(p),null;default:return null}}function ac(p,m){return{value:p,source:m,stack:cn(m)}}xs=function(m,w){for(var q=w.child;null!==q;){if(5===q.tag||6===q.tag)m.appendChild(q.stateNode);else if(4!==q.tag&&null!==q.child){q.child.return=q,q=q.child;continue}if(q===w)break;for(;null===q.sibling;){if(null===q.return||q.return===w)return;q=q.return}q.sibling.return=q.return,q=q.sibling}},su=function(){},Zp=function(m,w,q,re,ye){var ke=m.memoizedProps;if(ke!==re){var xt,Mt,Ue=w.stateNode;switch(Co(za.current),m=null,q){case"input":ke=Vi(Ue,ke),re=Vi(Ue,re),m=[];break;case"option":ke=Gi(Ue,ke),re=Gi(Ue,re),m=[];break;case"select":ke=B({},ke,{value:void 0}),re=B({},re,{value:void 0}),m=[];break;case"textarea":ke=Hi(Ue,ke),re=Hi(Ue,re),m=[];break;default:"function"!=typeof ke.onClick&&"function"==typeof re.onClick&&(Ue.onclick=ap)}for(xt in Tu(q,re),q=null,ke)if(!re.hasOwnProperty(xt)&&ke.hasOwnProperty(xt)&&null!=ke[xt])if("style"===xt)for(Mt in Ue=ke[xt])Ue.hasOwnProperty(Mt)&&(q||(q={}),q[Mt]="");else"dangerouslySetInnerHTML"!==xt&&"children"!==xt&&"suppressContentEditableWarning"!==xt&&"suppressHydrationWarning"!==xt&&"autoFocus"!==xt&&(he.hasOwnProperty(xt)?m||(m=[]):(m=m||[]).push(xt,null));for(xt in re){var Ht=re[xt];if(Ue=ke?.[xt],re.hasOwnProperty(xt)&&Ht!==Ue&&(null!=Ht||null!=Ue))if("style"===xt)if(Ue){for(Mt in Ue)!Ue.hasOwnProperty(Mt)||Ht&&Ht.hasOwnProperty(Mt)||(q||(q={}),q[Mt]="");for(Mt in Ht)Ht.hasOwnProperty(Mt)&&Ue[Mt]!==Ht[Mt]&&(q||(q={}),q[Mt]=Ht[Mt])}else q||(m||(m=[]),m.push(xt,q)),q=Ht;else"dangerouslySetInnerHTML"===xt?(Ue=Ue?Ue.__html:void 0,null!=(Ht=Ht?Ht.__html:void 0)&&Ue!==Ht&&(m=m||[]).push(xt,Ht)):"children"===xt?Ue===Ht||"string"!=typeof Ht&&"number"!=typeof Ht||(m=m||[]).push(xt,""+Ht):"suppressContentEditableWarning"!==xt&&"suppressHydrationWarning"!==xt&&(he.hasOwnProperty(xt)?(null!=Ht&&vo(ye,xt),m||Ue===Ht||(m=[])):(m=m||[]).push(xt,Ht))}q&&(m=m||[]).push("style",q),(w.updateQueue=ye=m)&&(w.effectTag|=4)}},uu=function(m,w,q,re){q!==re&&(w.effectTag|=4)};var E2="function"==typeof WeakSet?WeakSet:Set;function oc(p,m){var w=m.source,q=m.stack;null===q&&null!==w&&(q=cn(w)),null!==w&&Cn(w.type),m=m.value,null!==p&&1===p.tag&&Cn(p.type);try{console.error(m)}catch(re){setTimeout(function(){throw re})}}function jp(p){var m=p.ref;if(null!==m)if("function"==typeof m)try{m(null)}catch(w){fu(p,w)}else m.current=null}function Qi(p,m){switch(m.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&m.effectTag&&null!==p){var w=p.memoizedProps,q=p.memoizedState;m=(p=m.stateNode).getSnapshotBeforeUpdate(m.elementType===m.type?w:Li(m.type,w),q),p.__reactInternalSnapshotBeforeUpdate=m}return}throw Error(y(163))}function $p(p,m){if(null!==(m=null!==(m=m.updateQueue)?m.lastEffect:null)){var w=m=m.next;do{if((w.tag&p)===p){var q=w.destroy;w.destroy=void 0,void 0!==q&&q()}w=w.next}while(w!==m)}}function Up(p,m){if(null!==(m=null!==(m=m.updateQueue)?m.lastEffect:null)){var w=m=m.next;do{(w.tag&p)===p&&(w.destroy=(0,w.create)()),w=w.next}while(w!==m)}}function al(p,m,w){switch(w.tag){case 0:case 11:case 15:case 22:return void Up(3,w);case 1:if(p=w.stateNode,4&w.effectTag)if(null===m)p.componentDidMount();else{var q=w.elementType===w.type?m.memoizedProps:Li(w.type,m.memoizedProps);p.componentDidUpdate(q,m.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}return void(null!==(m=w.updateQueue)&&d0(w,m,p));case 3:if(null!==(m=w.updateQueue)){if(p=null,null!==w.child)switch(w.child.tag){case 5:case 1:p=w.child.stateNode}d0(w,m,p)}return;case 5:return p=w.stateNode,void(null===m&&4&w.effectTag&&I_(w.type,w.memoizedProps)&&p.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===w.memoizedState&&(w=w.alternate,null!==w&&(w=w.memoizedState,null!==w&&(w=w.dehydrated,null!==w&&Jt(w)))))}throw Error(y(163))}function zp(p,m,w){switch("function"==typeof tf&&tf(m),m.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(p=m.updateQueue)&&null!==(p=p.lastEffect)){var q=p.next;An(97<w?97:w,function(){var re=q;do{var ye=re.destroy;if(void 0!==ye){var ke=m;try{ye()}catch(Ue){fu(ke,Ue)}}re=re.next}while(re!==q)})}break;case 1:jp(m),"function"==typeof(w=m.stateNode).componentWillUnmount&&function P2(p,m){try{m.props=p.memoizedProps,m.state=p.memoizedState,m.componentWillUnmount()}catch(w){fu(p,w)}}(m,w);break;case 5:jp(m);break;case 4:R0(p,m,w)}}function k0(p){var m=p.alternate;p.return=null,p.child=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.alternate=null,p.firstEffect=null,p.lastEffect=null,p.pendingProps=null,p.memoizedProps=null,p.stateNode=null,null!==m&&k0(m)}function Gp(p){return 5===p.tag||3===p.tag||4===p.tag}function sc(p){e:{for(var m=p.return;null!==m;){if(Gp(m)){var w=m;break e}m=m.return}throw Error(y(160))}switch(m=w.stateNode,w.tag){case 5:var q=!1;break;case 3:case 4:m=m.containerInfo,q=!0;break;default:throw Error(y(161))}16&w.effectTag&&(di(m,""),w.effectTag&=-17);e:t:for(w=p;;){for(;null===w.sibling;){if(null===w.return||Gp(w.return)){w=null;break e}w=w.return}for(w.sibling.return=w.return,w=w.sibling;5!==w.tag&&6!==w.tag&&18!==w.tag;){if(2&w.effectTag||null===w.child||4===w.tag)continue t;w.child.return=w,w=w.child}if(!(2&w.effectTag)){w=w.stateNode;break e}}q?ol(p,w,m):Hp(p,w,m)}function ol(p,m,w){var q=p.tag,re=5===q||6===q;if(re)p=re?p.stateNode:p.stateNode.instance,m?8===w.nodeType?w.parentNode.insertBefore(p,m):w.insertBefore(p,m):(8===w.nodeType?(m=w.parentNode).insertBefore(p,w):(m=w).appendChild(p),null!=(w=w._reactRootContainer)||null!==m.onclick||(m.onclick=ap));else if(4!==q&&null!==(p=p.child))for(ol(p,m,w),p=p.sibling;null!==p;)ol(p,m,w),p=p.sibling}function Hp(p,m,w){var q=p.tag,re=5===q||6===q;if(re)p=re?p.stateNode:p.stateNode.instance,m?w.insertBefore(p,m):w.appendChild(p);else if(4!==q&&null!==(p=p.child))for(Hp(p,m,w),p=p.sibling;null!==p;)Hp(p,m,w),p=p.sibling}function R0(p,m,w){for(var ye,ke,q=m,re=!1;;){if(!re){re=q.return;e:for(;;){if(null===re)throw Error(y(160));switch(ye=re.stateNode,re.tag){case 5:ke=!1;break e;case 3:case 4:ye=ye.containerInfo,ke=!0;break e}re=re.return}re=!0}if(5===q.tag||6===q.tag){e:for(var Ue=p,xt=q,Mt=w,Ht=xt;;)if(zp(Ue,Ht,Mt),null!==Ht.child&&4!==Ht.tag)Ht.child.return=Ht,Ht=Ht.child;else{if(Ht===xt)break e;for(;null===Ht.sibling;){if(null===Ht.return||Ht.return===xt)break e;Ht=Ht.return}Ht.sibling.return=Ht.return,Ht=Ht.sibling}ke?(xt=q.stateNode,8===(Ue=ye).nodeType?Ue.parentNode.removeChild(xt):Ue.removeChild(xt)):ye.removeChild(q.stateNode)}else if(4===q.tag){if(null!==q.child){ye=q.stateNode.containerInfo,ke=!0,q.child.return=q,q=q.child;continue}}else if(zp(p,q,w),null!==q.child){q.child.return=q,q=q.child;continue}if(q===m)break;for(;null===q.sibling;){if(null===q.return||q.return===m)return;4===(q=q.return).tag&&(re=!1)}q.sibling.return=q.return,q=q.sibling}}function lu(p,m){switch(m.tag){case 0:case 11:case 14:case 15:case 22:return void $p(3,m);case 1:case 12:case 17:return;case 5:var w=m.stateNode;if(null!=w){var q=m.memoizedProps,re=null!==p?p.memoizedProps:q;p=m.type;var ye=m.updateQueue;if(m.updateQueue=null,null!==ye){for(w[fp]=q,"input"===p&&"radio"===q.type&&null!=q.name&&Lr(w,q),Iu(p,re),m=Iu(p,q),re=0;re<ye.length;re+=2){var ke=ye[re],Ue=ye[re+1];"style"===ke?eo(w,Ue):"dangerouslySetInnerHTML"===ke?wa(w,Ue):"children"===ke?di(w,Ue):le(w,ke,Ue,m)}switch(p){case"input":ci(w,q);break;case"textarea":Di(w,q);break;case"select":m=w._wrapperState.wasMultiple,w._wrapperState.wasMultiple=!!q.multiple,null!=(p=q.value)?Ri(w,!!q.multiple,p,!1):m!==!!q.multiple&&(null!=q.defaultValue?Ri(w,!!q.multiple,q.defaultValue,!0):Ri(w,!!q.multiple,q.multiple?[]:"",!1))}}}return;case 6:if(null===m.stateNode)throw Error(y(162));return void(m.stateNode.nodeValue=m.memoizedProps);case 3:return void((m=m.stateNode).hydrate&&(m.hydrate=!1,Jt(m.containerInfo)));case 13:if(w=m,null===m.memoizedState?q=!1:(q=!0,w=m.child,hc=Wi()),null!==w)e:for(p=w;;){if(5===p.tag)ye=p.stateNode,q?"function"==typeof(ye=ye.style).setProperty?ye.setProperty("display","none","important"):ye.display="none":(ye=p.stateNode,re=null!=(re=p.memoizedProps.style)&&re.hasOwnProperty("display")?re.display:null,ye.style.display=Us("display",re));else if(6===p.tag)p.stateNode.nodeValue=q?"":p.memoizedProps;else{if(13===p.tag&&null!==p.memoizedState&&null===p.memoizedState.dehydrated){(ye=p.child.sibling).return=p,p=ye;continue}if(null!==p.child){p.child.return=p,p=p.child;continue}}if(p===w)break;for(;null===p.sibling;){if(null===p.return||p.return===w)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}return void uc(m);case 19:return void uc(m)}throw Error(y(163))}function uc(p){var m=p.updateQueue;if(null!==m){p.updateQueue=null;var w=p.stateNode;null===w&&(w=p.stateNode=new E2),m.forEach(function(q){var re=Pc.bind(null,p,q);w.has(q)||(w.add(q),q.then(re,re))})}}var D0="function"==typeof WeakMap?WeakMap:Map;function qp(p,m,w){(w=bo(w,null)).tag=3,w.payload={element:null};var q=m.value;return w.callback=function(){gc||(gc=!0,vc=q),oc(p,m)},w}function T0(p,m,w){(w=bo(w,null)).tag=3;var q=p.type.getDerivedStateFromError;if("function"==typeof q){var re=m.value;w.payload=function(){return oc(p,m),q(re)}}var ye=p.stateNode;return null!==ye&&"function"==typeof ye.componentDidCatch&&(w.callback=function(){"function"!=typeof q&&(null===$o?$o=new Set([this]):$o.add(this),oc(p,m));var ke=m.stack;this.componentDidCatch(m.value,{componentStack:null!==ke?ke:""})}),w}var M0,lc=Math.ceil,cc=ce.ReactCurrentDispatcher,Kp=ce.ReactCurrentOwner,li=0,dc=8,ka=16,oo=32,jo=0,Wp=1,I0=2,bs=3,pc=4,fc=5,On=li,Yi=null,Gn=null,$i=0,yi=jo,Dr=null,er=1073741823,sl=1073741823,mc=null,cu=0,ul=!1,hc=0,Xp=500,xn=null,gc=!1,vc=null,$o=null,Qp=!1,yc=null,_c=90,Uo=null,ll=0,xc=null,bc=0;function Ra(){return(On&(ka|oo))!==li?1073741821-(Wi()/10|0):0!==bc?bc:bc=1073741821-(Wi()/10|0)}function du(p,m,w){if(!(2&(m=m.mode)))return 1073741823;var q=si();if(!(4&m))return 99===q?1073741823:1073741822;if((On&ka)!==li)return $i;if(null!==w)p=Le(p,0|w.timeoutMs||5e3,250);else switch(q){case 99:p=1073741823;break;case 98:p=Le(p,150,100);break;case 97:case 96:p=Le(p,5e3,250);break;case 95:p=2;break;default:throw Error(y(326))}return null!==Yi&&p===$i&&--p,p}function zo(p,m){if(50<ll)throw ll=0,xc=null,Error(y(185));if(null!==(p=Yp(p,m))){var w=si();1073741823===m?(On&dc)!==li&&(On&(ka|oo))===li?cl(p):(ga(p),On===li&&Zi()):ga(p),(4&On)===li||98!==w&&99!==w||(null===Uo?Uo=new Map([[p,m]]):(void 0===(w=Uo.get(p))||w>m)&&Uo.set(p,m))}}function Yp(p,m){p.expirationTime<m&&(p.expirationTime=m);var w=p.alternate;null!==w&&w.expirationTime<m&&(w.expirationTime=m);var q=p.return,re=null;if(null===q&&3===p.tag)re=p.stateNode;else for(;null!==q;){if(w=q.alternate,q.childExpirationTime<m&&(q.childExpirationTime=m),null!==w&&w.childExpirationTime<m&&(w.childExpirationTime=m),null===q.return&&3===q.tag){re=q.stateNode;break}q=q.return}return null!==re&&(Yi===re&&(dl(m),yi===pc&&Ss(re,$i)),pn(re,m)),re}function Cc(p){var m=p.lastExpiredTime;if(0!==m||!N0(p,m=p.firstPendingTime))return m;var w=p.lastPingedTime;return 2>=(p=w>(p=p.nextKnownPendingLevel)?w:p)&&m!==p?0:p}function ga(p){if(0!==p.lastExpiredTime)p.callbackExpirationTime=1073741823,p.callbackPriority=99,p.callbackNode=Pa(cl.bind(null,p));else{var m=Cc(p),w=p.callbackNode;if(0===m)null!==w&&(p.callbackNode=null,p.callbackExpirationTime=0,p.callbackPriority=90);else{var q=Ra();if(q=1073741823===m?99:1===m||2===m?95:0>=(q=10*(1073741821-m)-10*(1073741821-q))?99:250>=q?98:5250>=q?97:95,null!==w){if(p.callbackExpirationTime===m&&p.callbackPriority>=q)return;w!==Gl&&Bt(w)}p.callbackExpirationTime=m,p.callbackPriority=q,m=1073741823===m?Pa(cl.bind(null,p)):Bo(q,Ui.bind(null,p),{timeout:10*(1073741821-m)-Wi()}),p.callbackNode=m}}}function Ui(p,m){if(bc=0,m)return $n(p,m=Ra()),ga(p),null;var w=Cc(p);if(0!==w){if(m=p.callbackNode,(On&(ka|oo))!==li)throw Error(y(327));if(so(),p===Yi&&w===$i||Cs(p,w),null!==Gn){var q=On;On|=ka;for(var re=Ec();;)try{A2();break}catch(Ue){pu(p,Ue)}if(Sp(),On=q,cc.current=re,yi===Wp)throw m=Dr,Cs(p,w),Ss(p,w),ga(p),m;if(null===Gn)switch(re=p.finishedWork=p.current.alternate,p.finishedExpirationTime=w,q=yi,Yi=null,q){case jo:case Wp:throw Error(y(345));case I0:$n(p,2<w?2:w);break;case bs:if(Ss(p,w),w===(q=p.lastSuspendedTime)&&(p.nextKnownPendingLevel=F0(re)),1073741823===er&&10<(re=hc+Xp-Wi())){if(ul){var ye=p.lastPingedTime;if(0===ye||ye>=w){p.lastPingedTime=w,Cs(p,w);break}}if(0!==(ye=Cc(p))&&ye!==w)break;if(0!==q&&q!==w){p.lastPingedTime=q;break}p.timeoutHandle=dp(_i.bind(null,p),re);break}_i(p);break;case pc:if(Ss(p,w),w===(q=p.lastSuspendedTime)&&(p.nextKnownPendingLevel=F0(re)),ul&&(0===(re=p.lastPingedTime)||re>=w)){p.lastPingedTime=w,Cs(p,w);break}if(0!==(re=Cc(p))&&re!==w)break;if(0!==q&&q!==w){p.lastPingedTime=q;break}if(1073741823!==sl?q=10*(1073741821-sl)-Wi():1073741823===er?q=0:(q=10*(1073741821-er)-5e3,0>(q=(re=Wi())-q)&&(q=0),(w=10*(1073741821-w)-re)<(q=(120>q?120:480>q?480:1080>q?1080:1920>q?1920:3e3>q?3e3:4320>q?4320:1960*lc(q/1960))-q)&&(q=w)),10<q){p.timeoutHandle=dp(_i.bind(null,p),q);break}_i(p);break;case fc:if(1073741823!==er&&null!==mc){ye=er;var ke=mc;if(0>=(q=0|ke.busyMinDurationMs)?q=0:(re=0|ke.busyDelayMs,q=(ye=Wi()-(10*(1073741821-ye)-(0|ke.timeoutMs||5e3)))<=re?0:re+q-ye),10<q){Ss(p,w),p.timeoutHandle=dp(_i.bind(null,p),q);break}}_i(p);break;default:throw Error(y(329))}if(ga(p),p.callbackNode===m)return Ui.bind(null,p)}}return null}function cl(p){var m=p.lastExpiredTime;if(m=0!==m?m:1073741823,(On&(ka|oo))!==li)throw Error(y(327));if(so(),p===Yi&&m===$i||Cs(p,m),null!==Gn){var w=On;On|=ka;for(var q=Ec();;)try{_k();break}catch(re){pu(p,re)}if(Sp(),On=w,cc.current=q,yi===Wp)throw w=Dr,Cs(p,m),Ss(p,m),ga(p),w;if(null!==Gn)throw Error(y(261));p.finishedWork=p.current.alternate,p.finishedExpirationTime=m,Yi=null,_i(p),ga(p)}return null}function Sc(p,m){var w=On;On&=-2,On|=dc;try{return p(m)}finally{(On=w)===li&&Zi()}}function Cs(p,m){p.finishedWork=null,p.finishedExpirationTime=0;var w=p.timeoutHandle;if(-1!==w&&(p.timeoutHandle=-1,LE(w)),null!==Gn)for(w=Gn.return;null!==w;){var q=w;switch(q.tag){case 1:null!=(q=q.type.childContextTypes)&&Ul();break;case 3:ru(),Ur(qi),Ur(oi);break;case 5:kp(q);break;case 4:ru();break;case 13:case 19:Ur(zr);break;case 10:eu(q)}w=w.return}Yi=p,Gn=ws(p.current,null),$i=m,yi=jo,Dr=null,sl=er=1073741823,mc=null,cu=0,ul=!1}function pu(p,m){for(;;){try{if(Sp(),Xu.current=Np,Yl)for(var w=ui.memoizedState;null!==w;){var q=w.queue;null!==q&&(q.pending=null),w=w.next}if(no=0,Si=wi=ui=null,Yl=!1,null===Gn||null===Gn.return)return yi=Wp,Dr=m,Gn=null;e:{var re=p,ye=Gn.return,ke=Gn,Ue=m;if(m=$i,ke.effectTag|=2048,ke.firstEffect=ke.lastEffect=null,null!==Ue&&"object"==typeof Ue&&"function"==typeof Ue.then){var xt=Ue;if(!(2&ke.mode)){var Mt=ke.alternate;Mt?(ke.updateQueue=Mt.updateQueue,ke.memoizedState=Mt.memoizedState,ke.expirationTime=Mt.expirationTime):(ke.updateQueue=null,ke.memoizedState=null)}var Ht=0!=(1&zr.current),yn=ye;do{var bn;if(bn=13===yn.tag){var sr=yn.memoizedState;if(null!==sr)bn=null!==sr.dehydrated;else{var Ta=yn.memoizedProps;bn=void 0!==Ta.fallback&&(!0!==Ta.unstable_avoidThisFallback||!Ht)}}if(bn){var Ei=yn.updateQueue;if(null===Ei){var St=new Set;St.add(xt),yn.updateQueue=St}else Ei.add(xt);if(!(2&yn.mode)){if(yn.effectTag|=64,ke.effectTag&=-2981,1===ke.tag)if(null===ke.alternate)ke.tag=17;else{var ht=bo(1073741823,null);ht.tag=2,Zo(ke,ht)}ke.expirationTime=1073741823;break e}Ue=void 0,ke=m;var It=re.pingCache;if(null===It?(It=re.pingCache=new D0).set(xt,Ue=new Set):void 0===(Ue=It.get(xt))&&It.set(xt,Ue=new Set),!Ue.has(ke)){Ue.add(ke);var Kt=xk.bind(null,re,xt,ke);xt.then(Kt,Kt)}yn.effectTag|=4096,yn.expirationTime=m;break e}yn=yn.return}while(null!==yn);Ue=Error((Cn(ke.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+cn(ke))}yi!==fc&&(yi=I0),Ue=ac(Ue,ke),yn=ye;do{switch(yn.tag){case 3:xt=Ue,yn.effectTag|=4096,yn.expirationTime=m,c0(yn,qp(yn,xt,m));break e;case 1:xt=Ue;var _n=yn.stateNode;if(!(64&yn.effectTag||"function"!=typeof yn.type.getDerivedStateFromError&&(null===_n||"function"!=typeof _n.componentDidCatch||null!==$o&&$o.has(_n)))){yn.effectTag|=4096,yn.expirationTime=m,c0(yn,T0(yn,xt,m));break e}}yn=yn.return}while(null!==yn)}Gn=pl(Gn)}catch(rr){m=rr;continue}break}}function Ec(){var p=cc.current;return cc.current=Np,null===p?Np:p}function ef(p,m){p<er&&2<p&&(er=p),null!==m&&p<sl&&2<p&&(sl=p,mc=m)}function dl(p){p>cu&&(cu=p)}function _k(){for(;null!==Gn;)Gn=O0(Gn)}function A2(){for(;null!==Gn&&!b2();)Gn=O0(Gn)}function O0(p){var m=M0(p.alternate,p,$i);return p.memoizedProps=p.pendingProps,null===m&&(m=pl(p)),Kp.current=null,m}function pl(p){Gn=p;do{var m=Gn.alternate;if(p=Gn.return,2048&Gn.effectTag){if(null!==(m=A0(Gn)))return m.effectTag&=2047,m;null!==p&&(p.firstEffect=p.lastEffect=null,p.effectTag|=2048)}else{if(m=P0(m,Gn,$i),1===$i||1!==Gn.childExpirationTime){for(var w=0,q=Gn.child;null!==q;){var re=q.expirationTime,ye=q.childExpirationTime;re>w&&(w=re),ye>w&&(w=ye),q=q.sibling}Gn.childExpirationTime=w}if(null!==m)return m;null!==p&&!(2048&p.effectTag)&&(null===p.firstEffect&&(p.firstEffect=Gn.firstEffect),null!==Gn.lastEffect&&(null!==p.lastEffect&&(p.lastEffect.nextEffect=Gn.firstEffect),p.lastEffect=Gn.lastEffect),1<Gn.effectTag&&(null!==p.lastEffect?p.lastEffect.nextEffect=Gn:p.firstEffect=Gn,p.lastEffect=Gn))}if(null!==(m=Gn.sibling))return m;Gn=p}while(null!==Gn);return yi===jo&&(yi=fc),null}function F0(p){var m=p.expirationTime;return m>(p=p.childExpirationTime)?m:p}function _i(p){var m=si();return An(99,k2.bind(null,p,m)),null}function k2(p,m){do{so()}while(null!==yc);if((On&(ka|oo))!==li)throw Error(y(327));var w=p.finishedWork,q=p.finishedExpirationTime;if(null===w)return null;if(p.finishedWork=null,p.finishedExpirationTime=0,w===p.current)throw Error(y(177));p.callbackNode=null,p.callbackExpirationTime=0,p.callbackPriority=90,p.nextKnownPendingLevel=0;var re=F0(w);if(p.firstPendingTime=re,q<=p.lastSuspendedTime?p.firstSuspendedTime=p.lastSuspendedTime=p.nextKnownPendingLevel=0:q<=p.firstSuspendedTime&&(p.firstSuspendedTime=q-1),q<=p.lastPingedTime&&(p.lastPingedTime=0),q<=p.lastExpiredTime&&(p.lastExpiredTime=0),p===Yi&&(Gn=Yi=null,$i=0),1<w.effectTag?null!==w.lastEffect?(w.lastEffect.nextEffect=w,re=w.firstEffect):re=w:re=w.firstEffect,null!==re){var ye=On;On|=oo,Kp.current=null,up=$r;var ke=k_();if(Mo(ke)){if("selectionStart"in ke)var Ue={start:ke.selectionStart,end:ke.selectionEnd};else{var xt=(Ue=(Ue=ke.ownerDocument)&&Ue.defaultView||window).getSelection&&Ue.getSelection();if(xt&&0!==xt.rangeCount){Ue=xt.anchorNode;var Mt=xt.anchorOffset,Ht=xt.focusNode;xt=xt.focusOffset;var yn=0,bn=-1,sr=-1,Ta=0,Ei=0,St=ke,ht=null;t:for(;;){for(var It;St!==Ue||0!==Mt&&3!==St.nodeType||(bn=yn+Mt),St!==Ht||0!==xt&&3!==St.nodeType||(sr=yn+xt),3===St.nodeType&&(yn+=St.nodeValue.length),null!==(It=St.firstChild);)ht=St,St=It;for(;;){if(St===ke)break t;if(ht===Ue&&++Ta===Mt&&(bn=yn),ht===Ht&&++Ei===xt&&(sr=yn),null!==(It=St.nextSibling))break;ht=(St=ht).parentNode}St=It}Ue=-1===bn||-1===sr?null:{start:bn,end:sr}}else Ue=null}Ue=Ue||{start:0,end:0}}else Ue=null;lp={activeElementDetached:null,focusedElem:ke,selectionRange:Ue},$r=!1,xn=re;do{try{R2()}catch(Wn){if(null===xn)throw Error(y(330));fu(xn,Wn),xn=xn.nextEffect}}while(null!==xn);xn=re;do{try{for(ke=p,Ue=m;null!==xn;){var Kt=xn.effectTag;if(16&Kt&&di(xn.stateNode,""),128&Kt){var rn=xn.alternate;if(null!==rn){var dn=rn.ref;null!==dn&&("function"==typeof dn?dn(null):dn.current=null)}}switch(1038&Kt){case 2:sc(xn),xn.effectTag&=-3;break;case 6:sc(xn),xn.effectTag&=-3,lu(xn.alternate,xn);break;case 1024:xn.effectTag&=-1025;break;case 1028:xn.effectTag&=-1025,lu(xn.alternate,xn);break;case 4:lu(xn.alternate,xn);break;case 8:R0(ke,Mt=xn,Ue),k0(Mt)}xn=xn.nextEffect}}catch(Wn){if(null===xn)throw Error(y(330));fu(xn,Wn),xn=xn.nextEffect}}while(null!==xn);if(dn=lp,rn=k_(),Ue=dn.selectionRange,rn!==(Kt=dn.focusedElem)&&Kt&&Kt.ownerDocument&&A_(Kt.ownerDocument.documentElement,Kt)){for((null!==Ue&&Mo(Kt)&&(rn=Ue.start,void 0===(dn=Ue.end)&&(dn=rn),"selectionStart"in Kt?(Kt.selectionStart=rn,Kt.selectionEnd=Math.min(dn,Kt.value.length)):(dn=(rn=Kt.ownerDocument||document)&&rn.defaultView||window).getSelection&&(dn=dn.getSelection(),Mt=Kt.textContent.length,ke=Math.min(Ue.start,Mt),Ue=void 0===Ue.end?ke:Math.min(Ue.end,Mt),!dn.extend&&ke>Ue&&(Mt=Ue,Ue=ke,ke=Mt),Mt=P_(Kt,ke),Ht=P_(Kt,Ue),Mt&&Ht&&(1!==dn.rangeCount||dn.anchorNode!==Mt.node||dn.anchorOffset!==Mt.offset||dn.focusNode!==Ht.node||dn.focusOffset!==Ht.offset)&&((rn=rn.createRange()).setStart(Mt.node,Mt.offset),dn.removeAllRanges(),ke>Ue?(dn.addRange(rn),dn.extend(Ht.node,Ht.offset)):(rn.setEnd(Ht.node,Ht.offset),dn.addRange(rn))))),rn=[],dn=Kt);dn=dn.parentNode;)1===dn.nodeType&&rn.push({element:dn,left:dn.scrollLeft,top:dn.scrollTop});for("function"==typeof Kt.focus&&Kt.focus(),Kt=0;Kt<rn.length;Kt++)(dn=rn[Kt]).element.scrollLeft=dn.left,dn.element.scrollTop=dn.top}$r=!!up,lp=up=null,p.current=w,xn=re;do{try{for(Kt=p;null!==xn;){var _n=xn.effectTag;if(36&_n&&al(Kt,xn.alternate,xn),128&_n){rn=void 0;var nr=xn.ref;if(null!==nr)rn=xn.stateNode,"function"==typeof nr?nr(rn):nr.current=rn}xn=xn.nextEffect}}catch(Wn){if(null===xn)throw Error(y(330));fu(xn,Wn),xn=xn.nextEffect}}while(null!==xn);xn=null,C2(),On=ye}else p.current=w;if(Qp)Qp=!1,yc=p,_c=m;else for(xn=re;null!==xn;)m=xn.nextEffect,xn.nextEffect=null,xn=m;if(0===(m=p.firstPendingTime)&&($o=null),1073741823===m?p===xc?ll++:(ll=0,xc=p):ll=0,"function"==typeof Go&&Go(w.stateNode,q),ga(p),gc)throw gc=!1,p=vc,vc=null,p;return(On&dc)!==li||Zi(),null}function R2(){for(;null!==xn;){var p=xn.effectTag;256&p&&Qi(xn.alternate,xn),!(512&p)||Qp||(Qp=!0,Bo(97,function(){return so(),null})),xn=xn.nextEffect}}function so(){if(90!==_c){var p=97<_c?97:_c;return _c=90,An(p,D2)}}function D2(){if(null===yc)return!1;var p=yc;if(yc=null,(On&(ka|oo))!==li)throw Error(y(331));var m=On;for(On|=oo,p=p.current.firstEffect;null!==p;){try{var w=p;if(512&w.effectTag)switch(w.tag){case 0:case 11:case 15:case 22:$p(5,w),Up(5,w)}}catch(q){if(null===p)throw Error(y(330));fu(p,q)}w=p.nextEffect,p.nextEffect=null,p=w}return On=m,Zi(),!0}function T2(p,m,w){Zo(p,m=qp(p,m=ac(w,m),1073741823)),null!==(p=Yp(p,1073741823))&&ga(p)}function fu(p,m){if(3===p.tag)T2(p,p,m);else for(var w=p.return;null!==w;){if(3===w.tag){T2(w,p,m);break}if(1===w.tag){var q=w.stateNode;if("function"==typeof w.type.getDerivedStateFromError||"function"==typeof q.componentDidCatch&&(null===$o||!$o.has(q))){Zo(w,p=T0(w,p=ac(m,p),1073741823)),null!==(w=Yp(w,1073741823))&&ga(w);break}}w=w.return}}function xk(p,m,w){var q=p.pingCache;null!==q&&q.delete(m),Yi===p&&$i===w?yi===pc||yi===bs&&1073741823===er&&Wi()-hc<Xp?Cs(p,$i):ul=!0:N0(p,w)&&(0!==(m=p.lastPingedTime)&&m<w||(p.lastPingedTime=w,ga(p)))}function Pc(p,m){var w=p.stateNode;null!==w&&w.delete(m),0==(m=0)&&(m=du(m=Ra(),p,null)),null!==(p=Yp(p,m))&&ga(p)}M0=function(m,w,q){var re=w.expirationTime;if(null!==m){var ye=w.pendingProps;if(m.memoizedProps!==ye||qi.current)ao=!0;else{if(re<q){switch(ao=!1,w.tag){case 3:mt(w),yr();break;case 5:if(m0(w),4&w.mode&&1!==q&&ye.hidden)return w.expirationTime=w.childExpirationTime=1,null;break;case 1:Ki(w.type)&&hs(w);break;case 4:Wu(w,w.stateNode.containerInfo);break;case 10:re=w.memoizedProps.value,qr(Hl,(ye=w.type._context)._currentValue),ye._currentValue=re;break;case 13:if(null!==w.memoizedState)return 0!==(re=w.child.childExpirationTime)&&re>=q?rc(m,w,q):(qr(zr,1&zr.current),null!==(w=So(m,w,q))?w.sibling:null);qr(zr,1&zr.current);break;case 19:if(re=w.childExpirationTime>=q,64&m.effectTag){if(re)return _s(m,w,q);w.effectTag|=64}if(null!==(ye=w.memoizedState)&&(ye.rendering=null,ye.tail=null),qr(zr,zr.current),!re)return null}return So(m,w,q)}ao=!1}}else ao=!1;switch(w.expirationTime=0,w.tag){case 2:if(re=w.type,null!==m&&(m.alternate=null,w.alternate=null,w.effectTag|=2),m=w.pendingProps,ye=Ys(w,oi.current),tu(w,q),ye=Dp(null,w,re,m,ye,q),w.effectTag|=1,"object"==typeof ye&&null!==ye&&"function"==typeof ye.render&&void 0===ye.$$typeof){if(w.tag=1,w.memoizedState=null,w.updateQueue=null,Ki(re)){var ke=!0;hs(w)}else ke=!1;w.memoizedState=null!=ye.state?ye.state:null,Ir(w);var Ue=re.getDerivedStateFromProps;"function"==typeof Ue&&Ep(w,re,Ue,m),ye.updater=Lo,w.stateNode=ye,ye._reactInternalFiber=w,Wl(w,re,m,q),w=rl(null,w,re,!0,ke,q)}else w.tag=0,ha(null,w,ye,q),w=w.child;return w;case 16:e:{if(ye=w.elementType,null!==m&&(m.alternate=null,w.alternate=null,w.effectTag|=2),m=w.pendingProps,function zn(p){if(-1===p._status){p._status=0;var m=p._ctor;m=m(),p._result=m,m.then(function(w){0===p._status&&(w=w.default,p._status=1,p._result=w)},function(w){0===p._status&&(p._status=2,p._result=w)})}}(ye),1!==ye._status)throw ye._result;switch(w.type=ye=ye._result,ke=w.tag=function nf(p){if("function"==typeof p)return fl(p)?1:0;if(null!=p){if((p=p.$$typeof)===Br)return 11;if(p===ba)return 14}return 2}(ye),m=Li(ye,m),ke){case 0:w=Bp(null,w,ye,m,q);break e;case 1:w=S0(null,w,ye,m,q);break e;case 11:w=x0(null,w,ye,m,q);break e;case 14:w=b0(null,w,ye,Li(ye.type,m),re,q);break e}throw Error(y(306,ye,""))}return w;case 0:return ye=w.pendingProps,Bp(m,w,re=w.type,ye=w.elementType===re?ye:Li(re,ye),q);case 1:return ye=w.pendingProps,S0(m,w,re=w.type,ye=w.elementType===re?ye:Li(re,ye),q);case 3:if(mt(w),re=w.updateQueue,null===m||null===re)throw Error(y(282));if(re=w.pendingProps,ye=null!==(ye=w.memoizedState)?ye.element:null,Ua(m,w),Kl(w,re,null,q),(re=w.memoizedState.element)===ye)yr(),w=So(m,w,q);else{if((ye=w.stateNode.hydrate)&&(wo=zs(w.stateNode.containerInfo.firstChild),ro=w,ye=io=!0),ye)for(q=Ap(w,null,re,q),w.child=q;q;)q.effectTag=-3&q.effectTag|1024,q=q.sibling;else ha(m,w,re,q),yr();w=w.child}return w;case 5:return m0(w),null===m&&Vp(w),ke=null!==m?m.memoizedProps:null,Ue=(ye=w.pendingProps).children,cp(re=w.type,ye)?Ue=null:null!==ke&&cp(re,ke)&&(w.effectTag|=16),w0(m,w),4&w.mode&&1!==q&&ye.hidden?(w.expirationTime=w.childExpirationTime=1,w=null):(ha(m,w,Ue,q),w=w.child),w;case 6:return null===m&&Vp(w),null;case 13:return rc(m,w,q);case 4:return Wu(w,w.stateNode.containerInfo),re=w.pendingProps,null===m?w.child=vi(w,null,re,q):ha(m,w,re,q),w.child;case 11:return ye=w.pendingProps,x0(m,w,re=w.type,ye=w.elementType===re?ye:Li(re,ye),q);case 7:return ha(m,w,w.pendingProps,q),w.child;case 8:case 12:return ha(m,w,w.pendingProps.children,q),w.child;case 10:e:{re=w.type._context,Ue=w.memoizedProps,ke=(ye=w.pendingProps).value;var xt=w.type._context;if(qr(Hl,xt._currentValue),xt._currentValue=ke,null!==Ue)if(0==(ke=Ws(xt=Ue.value,ke)?0:0|("function"==typeof re._calculateChangedBits?re._calculateChangedBits(xt,ke):1073741823))){if(Ue.children===ye.children&&!qi.current){w=So(m,w,q);break e}}else for(null!==(xt=w.child)&&(xt.return=w);null!==xt;){var Mt=xt.dependencies;if(null!==Mt){Ue=xt.child;for(var Ht=Mt.firstContext;null!==Ht;){if(Ht.context===re&&Ht.observedBits&ke){1===xt.tag&&((Ht=bo(q,null)).tag=2,Zo(xt,Ht)),xt.expirationTime<q&&(xt.expirationTime=q),null!==(Ht=xt.alternate)&&Ht.expirationTime<q&&(Ht.expirationTime=q),l0(xt.return,q),Mt.expirationTime<q&&(Mt.expirationTime=q);break}Ht=Ht.next}}else Ue=10===xt.tag&&xt.type===w.type?null:xt.child;if(null!==Ue)Ue.return=xt;else for(Ue=xt;null!==Ue;){if(Ue===w){Ue=null;break}if(null!==(xt=Ue.sibling)){xt.return=Ue.return,Ue=xt;break}Ue=Ue.return}xt=Ue}ha(m,w,ye.children,q),w=w.child}return w;case 9:return ye=w.type,re=(ke=w.pendingProps).children,tu(w,q),re=re(ye=Aa(ye,ke.unstable_observedBits)),w.effectTag|=1,ha(m,w,re,q),w.child;case 14:return ke=Li(ye=w.type,w.pendingProps),b0(m,w,ye,ke=Li(ye.type,ke),re,q);case 15:return C0(m,w,w.type,w.pendingProps,re,q);case 17:return ye=w.pendingProps,ye=w.elementType===(re=w.type)?ye:Li(re,ye),null!==m&&(m.alternate=null,w.alternate=null,w.effectTag|=2),w.tag=1,Ki(re)?(m=!0,hs(w)):m=!1,tu(w,q),gs(w,re,ye),Wl(w,re,ye,q),rl(null,w,re,!0,m,q);case 19:return _s(m,w,q)}throw Error(y(156,w.tag))};var Go=null,tf=null;function st(p,m,w,q){this.tag=p,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=q,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Da(p,m,w,q){return new st(p,m,w,q)}function fl(p){return!(!(p=p.prototype)||!p.isReactComponent)}function ws(p,m){var w=p.alternate;return null===w?((w=Da(p.tag,m,p.key,p.mode)).elementType=p.elementType,w.type=p.type,w.stateNode=p.stateNode,w.alternate=p,p.alternate=w):(w.pendingProps=m,w.effectTag=0,w.nextEffect=null,w.firstEffect=null,w.lastEffect=null),w.childExpirationTime=p.childExpirationTime,w.expirationTime=p.expirationTime,w.child=p.child,w.memoizedProps=p.memoizedProps,w.memoizedState=p.memoizedState,w.updateQueue=p.updateQueue,w.dependencies=null===(m=p.dependencies)?null:{expirationTime:m.expirationTime,firstContext:m.firstContext,responders:m.responders},w.sibling=p.sibling,w.index=p.index,w.ref=p.ref,w}function Ac(p,m,w,q,re,ye){var ke=2;if(q=p,"function"==typeof p)fl(p)&&(ke=1);else if("string"==typeof p)ke=5;else e:switch(p){case zt:return Ho(w.children,re,ye,m);case De:ke=8,re|=7;break;case un:ke=8,re|=1;break;case Xt:return(p=Da(12,w,m,8|re)).elementType=Xt,p.type=Xt,p.expirationTime=ye,p;case ar:return(p=Da(13,w,m,re)).type=ar,p.elementType=ar,p.expirationTime=ye,p;case Qt:return(p=Da(19,w,m,re)).elementType=Qt,p.expirationTime=ye,p;default:if("object"==typeof p&&null!==p)switch(p.$$typeof){case Kn:ke=10;break e;case Un:ke=9;break e;case Br:ke=11;break e;case ba:ke=14;break e;case ki:ke=16,q=null;break e;case _t:ke=22;break e}throw Error(y(130,null==p?p:typeof p,""))}return(m=Da(ke,w,m,re)).elementType=p,m.type=q,m.expirationTime=ye,m}function Ho(p,m,w,q){return(p=Da(7,p,q,m)).expirationTime=w,p}function rf(p,m,w){return(p=Da(6,p,null,m)).expirationTime=w,p}function af(p,m,w){return(m=Da(4,null!==p.children?p.children:[],p.key,m)).expirationTime=w,m.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},m}function sf(p,m,w){this.tag=m,this.current=null,this.containerInfo=p,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=w,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function N0(p,m){var w=p.firstSuspendedTime;return p=p.lastSuspendedTime,0!==w&&w>=m&&p<=m}function Ss(p,m){var w=p.firstSuspendedTime,q=p.lastSuspendedTime;w<m&&(p.firstSuspendedTime=m),(q>m||0===w)&&(p.lastSuspendedTime=m),m<=p.lastPingedTime&&(p.lastPingedTime=0),m<=p.lastExpiredTime&&(p.lastExpiredTime=0)}function pn(p,m){m>p.firstPendingTime&&(p.firstPendingTime=m);var w=p.firstSuspendedTime;0!==w&&(m>=w?p.firstSuspendedTime=p.lastSuspendedTime=p.nextKnownPendingLevel=0:m>=p.lastSuspendedTime&&(p.lastSuspendedTime=m+1),m>p.nextKnownPendingLevel&&(p.nextKnownPendingLevel=m))}function $n(p,m){var w=p.lastExpiredTime;(0===w||w>m)&&(p.lastExpiredTime=m)}function kc(p,m,w,q){var re=m.current,ye=Ra(),ke=zu.suspense;ye=du(ye,re,ke);e:if(w){t:{if(k(w=w._reactInternalFiber)!==w||1!==w.tag)throw Error(y(170));var Ue=w;do{switch(Ue.tag){case 3:Ue=Ue.stateNode.context;break t;case 1:if(Ki(Ue.type)){Ue=Ue.stateNode.__reactInternalMemoizedMergedChildContext;break t}}Ue=Ue.return}while(null!==Ue);throw Error(y(171))}if(1===w.tag){var xt=w.type;if(Ki(xt)){w=r0(w,xt,Ue);break e}}w=Ue}else w=fs;return null===m.context?m.context=w:m.pendingContext=w,(m=bo(ye,ke)).payload={element:p},null!==(q=void 0===q?null:q)&&(m.callback=q),Zo(re,m),zo(re,ye),ye}function uf(p){return(p=p.current).child?p.child.stateNode:null}function Rc(p,m){null!==(p=p.memoizedState)&&null!==p.dehydrated&&p.retryTime<m&&(p.retryTime=m)}function lf(p,m){Rc(p,m),(p=p.alternate)&&Rc(p,m)}function cf(p,m,w){var q=new sf(p,m,w=null!=w&&!0===w.hydrate),re=Da(3,null,null,2===m?7:1===m?3:0);q.current=re,re.stateNode=q,Ir(re),p[Gs]=q.current,w&&0!==m&&function gr(p,m){var w=cs(m);or.forEach(function(q){Et(q,m,w)}),hr.forEach(function(q){Et(q,m,w)})}(0,9===p.nodeType?p:p.ownerDocument),this._internalRoot=q}function ml(p){return!(!p||1!==p.nodeType&&9!==p.nodeType&&11!==p.nodeType&&(8!==p.nodeType||" react-mount-point-unstable "!==p.nodeValue))}function uo(p,m,w,q,re){var ye=w._reactRootContainer;if(ye){var ke=ye._internalRoot;if("function"==typeof re){var Ue=re;re=function(){var Ht=uf(ke);Ue.call(Ht)}}kc(m,ke,p,re)}else{if(ye=w._reactRootContainer=function Dc(p,m){if(m||(m=!(!(m=p?9===p.nodeType?p.documentElement:p.firstChild:null)||1!==m.nodeType||!m.hasAttribute("data-reactroot"))),!m)for(var w;w=p.lastChild;)p.removeChild(w);return new cf(p,0,m?{hydrate:!0}:void 0)}(w,q),ke=ye._internalRoot,"function"==typeof re){var xt=re;re=function(){var Ht=uf(ke);xt.call(Ht)}}Sc(function(){kc(m,ke,p,re)})}return uf(ke)}cf.prototype.render=function(p){kc(p,this._internalRoot,null,null)},cf.prototype.unmount=function(){var p=this._internalRoot,m=p.containerInfo;kc(null,p,null,function(){m[Gs]=null})},Ee=function(m){if(13===m.tag){var w=Le(Ra(),150,100);zo(m,w),lf(m,w)}},ze=function(m){13===m.tag&&(zo(m,3),lf(m,3))},Ke=function(m){if(13===m.tag){var w=Ra();zo(m,w=du(w,m,null)),lf(m,w)}},I=function(m,w,q){switch(w){case"input":if(ci(m,q),w=q.name,"radio"===q.type&&null!=w){for(q=m;q.parentNode;)q=q.parentNode;for(q=q.querySelectorAll("input[name="+JSON.stringify(""+w)+'][type="radio"]'),w=0;w<q.length;w++){var re=q[w];if(re!==m&&re.form===m.form){var ye=mp(re);if(!ye)throw Error(y(90));Qn(re),ci(re,ye)}}}break;case"textarea":Di(m,q);break;case"select":null!=(w=q.value)&&Ri(m,!!q.multiple,w,!1)}},ne=function wc(p,m){var w=On;On|=1;try{return p(m)}finally{(On=w)===li&&Zi()}},Fe=function(m,w,q,re,ye){var ke=On;On|=4;try{return An(98,m.bind(null,w,q,re,ye))}finally{(On=ke)===li&&Zi()}},rt=function(){(On&(1|ka|oo))===li&&(function Jp(){if(null!==Uo){var p=Uo;Uo=null,p.forEach(function(m,w){$n(w,m),ga(w)}),Zi()}}(),so())},Te=function(m,w){var q=On;On|=2;try{return m(w)}finally{(On=q)===li&&Zi()}};(function(p){var m=p.findFiberByHostInstance;!function bk(p){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)return!0;try{var w=m.inject(p);Go=function(re){try{m.onCommitFiberRoot(w,re,void 0,64==(64&re.current.effectTag))}catch{}},tf=function(re){try{m.onCommitFiberUnmount(w,re)}catch{}}}catch{}}(B({},p,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(q){return null===(q=function ie(p){if(p=function X(p){var m=p.alternate;if(!m){if(null===(m=k(p)))throw Error(y(188));return m!==p?null:p}for(var w=p,q=m;;){var re=w.return;if(null===re)break;var ye=re.alternate;if(null===ye){if(null!==(q=re.return)){w=q;continue}break}if(re.child===ye.child){for(ye=re.child;ye;){if(ye===w)return Z(re),p;if(ye===q)return Z(re),m;ye=ye.sibling}throw Error(y(188))}if(w.return!==q.return)w=re,q=ye;else{for(var ke=!1,Ue=re.child;Ue;){if(Ue===w){ke=!0,w=re,q=ye;break}if(Ue===q){ke=!0,q=re,w=ye;break}Ue=Ue.sibling}if(!ke){for(Ue=ye.child;Ue;){if(Ue===w){ke=!0,w=ye,q=re;break}if(Ue===q){ke=!0,q=ye,w=re;break}Ue=Ue.sibling}if(!ke)throw Error(y(189))}}if(w.alternate!==q)throw Error(y(190))}if(3!==w.tag)throw Error(y(188));return w.stateNode.current===w?p:m}(p),!p)return null;for(var m=p;;){if(5===m.tag||6===m.tag)return m;if(m.child)m.child.return=m,m=m.child;else{if(m===p)break;for(;!m.sibling;){if(!m.return||m.return===p)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}}return null}(q))?null:q.stateNode},findFiberByHostInstance:function(q){return m?m(q):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Hs,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),V.render=function(p,m,w){if(!ml(m))throw Error(y(200));return uo(null,p,m,!1,w)},V.unmountComponentAtNode=function(p){if(!ml(p))throw Error(y(40));return!!p._reactRootContainer&&(Sc(function(){uo(null,null,p,!1,function(){p._reactRootContainer=null,p[Gs]=null})}),!0)}},37628:(fe,V,S)=>{(function M(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||"function"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M)}catch(K){console.error(K)}})(),fe.exports=S(69877)},70298:(fe,V,S)=>{var M=S(71856),K="function"==typeof Symbol&&Symbol.for,B=K?Symbol.for("react.element"):60103,r=K?Symbol.for("react.portal"):60106,y=K?Symbol.for("react.fragment"):60107,f=K?Symbol.for("react.strict_mode"):60108,g=K?Symbol.for("react.profiler"):60114,_=K?Symbol.for("react.provider"):60109,P=K?Symbol.for("react.context"):60110,O=K?Symbol.for("react.forward_ref"):60112,j=K?Symbol.for("react.suspense"):60113,v=K?Symbol.for("react.memo"):60115,b=K?Symbol.for("react.lazy"):60116,G="function"==typeof Symbol&&Symbol.iterator;function z(je){for(var it="https://reactjs.org/docs/error-decoder.html?invariant="+je,de=1;de<arguments.length;de++)it+="&args[]="+encodeURIComponent(arguments[de]);return"Minified React error #"+je+"; visit "+it+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee={};function U(je,it,de){this.props=je,this.context=it,this.refs=ee,this.updater=de||H}function W(){}function Y(je,it,de){this.props=je,this.context=it,this.refs=ee,this.updater=de||H}U.prototype.isReactComponent={},U.prototype.setState=function(je,it){if("object"!=typeof je&&"function"!=typeof je&&null!=je)throw Error(z(85));this.updater.enqueueSetState(this,je,it,"setState")},U.prototype.forceUpdate=function(je){this.updater.enqueueForceUpdate(this,je,"forceUpdate")},W.prototype=U.prototype;var ae=Y.prototype=new W;ae.constructor=Y,M(ae,U.prototype),ae.isPureReactComponent=!0;var ve={current:null},_e=Object.prototype.hasOwnProperty,he={key:!0,ref:!0,__self:!0,__source:!0};function x(je,it,de){var J,oe={},Ae=null,Ne=null;if(null!=it)for(J in void 0!==it.ref&&(Ne=it.ref),void 0!==it.key&&(Ae=""+it.key),it)_e.call(it,J)&&!he.hasOwnProperty(J)&&(oe[J]=it[J]);var pe=arguments.length-2;if(1===pe)oe.children=de;else if(1<pe){for(var xe=Array(pe),ut=0;ut<pe;ut++)xe[ut]=arguments[ut+2];oe.children=xe}if(je&&je.defaultProps)for(J in pe=je.defaultProps)void 0===oe[J]&&(oe[J]=pe[J]);return{$$typeof:B,type:je,key:Ae,ref:Ne,props:oe,_owner:ve.current}}function E(je){return"object"==typeof je&&null!==je&&je.$$typeof===B}var L=/\/+/g,D=[];function Q(je,it,de,J){if(D.length){var oe=D.pop();return oe.result=je,oe.keyPrefix=it,oe.func=de,oe.context=J,oe.count=0,oe}return{result:je,keyPrefix:it,func:de,context:J,count:0}}function te(je){je.result=null,je.keyPrefix=null,je.func=null,je.context=null,je.count=0,10>D.length&&D.push(je)}function Re(je,it,de,J){var oe=typeof je;("undefined"===oe||"boolean"===oe)&&(je=null);var Ae=!1;if(null===je)Ae=!0;else switch(oe){case"string":case"number":Ae=!0;break;case"object":switch(je.$$typeof){case B:case r:Ae=!0}}if(Ae)return de(J,je,""===it?"."+Fe(je,0):it),1;if(Ae=0,it=""===it?".":it+":",Array.isArray(je))for(var Ne=0;Ne<je.length;Ne++){var pe=it+Fe(oe=je[Ne],Ne);Ae+=Re(oe,pe,de,J)}else if("function"==typeof(pe=null===je||"object"!=typeof je?null:"function"==typeof(pe=G&&je[G]||je["@@iterator"])?pe:null))for(je=pe.call(je),Ne=0;!(oe=je.next()).done;)Ae+=Re(oe=oe.value,pe=it+Fe(oe,Ne++),de,J);else if("object"===oe)throw de=""+je,Error(z(31,"[object Object]"===de?"object with keys {"+Object.keys(je).join(", ")+"}":de,""));return Ae}function ne(je,it,de){return null==je?0:Re(je,"",it,de)}function Fe(je,it){return"object"==typeof je&&null!==je&&null!=je.key?function I(je){var it={"=":"=0",":":"=2"};return"$"+(""+je).replace(/[=:]/g,function(de){return it[de]})}(je.key):it.toString(36)}function rt(je,it){je.func.call(je.context,it,je.count++)}function Te(je,it,de){var J=je.result,oe=je.keyPrefix;je=je.func.call(je.context,it,je.count++),Array.isArray(je)?tt(je,J,de,function(Ae){return Ae}):null!=je&&(E(je)&&(je=function R(je,it){return{$$typeof:B,type:je.type,key:it,ref:je.ref,props:je.props,_owner:je._owner}}(je,oe+(!je.key||it&&it.key===je.key?"":(""+je.key).replace(L,"$&/")+"/")+de)),J.push(je))}function tt(je,it,de,J,oe){var Ae="";null!=de&&(Ae=(""+de).replace(L,"$&/")+"/"),ne(je,Te,it=Q(it,Ae,J,oe)),te(it)}var Qe={current:null};function vt(){var je=Qe.current;if(null===je)throw Error(z(321));return je}var et={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:ve,IsSomeRendererActing:{current:!1},assign:M};V.Children={map:function(it,de,J){if(null==it)return it;var oe=[];return tt(it,oe,null,de,J),oe},forEach:function(it,de,J){if(null==it)return it;ne(it,rt,de=Q(null,null,de,J)),te(de)},count:function(it){return ne(it,function(){return null},null)},toArray:function(it){var de=[];return tt(it,de,null,function(J){return J}),de},only:function(it){if(!E(it))throw Error(z(143));return it}},V.Component=U,V.Fragment=y,V.Profiler=g,V.PureComponent=Y,V.StrictMode=f,V.Suspense=j,V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=et,V.cloneElement=function(je,it,de){if(null==je)throw Error(z(267,je));var J=M({},je.props),oe=je.key,Ae=je.ref,Ne=je._owner;if(null!=it){if(void 0!==it.ref&&(Ae=it.ref,Ne=ve.current),void 0!==it.key&&(oe=""+it.key),je.type&&je.type.defaultProps)var pe=je.type.defaultProps;for(xe in it)_e.call(it,xe)&&!he.hasOwnProperty(xe)&&(J[xe]=void 0===it[xe]&&void 0!==pe?pe[xe]:it[xe])}var xe=arguments.length-2;if(1===xe)J.children=de;else if(1<xe){pe=Array(xe);for(var ut=0;ut<xe;ut++)pe[ut]=arguments[ut+2];J.children=pe}return{$$typeof:B,type:je.type,key:oe,ref:Ae,props:J,_owner:Ne}},V.createContext=function(je,it){return void 0===it&&(it=null),(je={$$typeof:P,_calculateChangedBits:it,_currentValue:je,_currentValue2:je,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:_,_context:je},je.Consumer=je},V.createElement=x,V.createFactory=function(je){var it=x.bind(null,je);return it.type=je,it},V.createRef=function(){return{current:null}},V.forwardRef=function(je){return{$$typeof:O,render:je}},V.isValidElement=E,V.lazy=function(je){return{$$typeof:b,_ctor:je,_status:-1,_result:null}},V.memo=function(je,it){return{$$typeof:v,type:je,compare:void 0===it?null:it}},V.useCallback=function(je,it){return vt().useCallback(je,it)},V.useContext=function(je,it){return vt().useContext(je,it)},V.useDebugValue=function(){},V.useEffect=function(je,it){return vt().useEffect(je,it)},V.useImperativeHandle=function(je,it,de){return vt().useImperativeHandle(je,it,de)},V.useLayoutEffect=function(je,it){return vt().useLayoutEffect(je,it)},V.useMemo=function(je,it){return vt().useMemo(je,it)},V.useReducer=function(je,it,de){return vt().useReducer(je,it,de)},V.useRef=function(je){return vt().useRef(je)},V.useState=function(je){return vt().useState(je)},V.version="16.14.0"},66712:(fe,V,S)=>{fe.exports=S(70298)},8055:function(fe,V,S){var K,B,M=S(9482).default;typeof self<"u"&&self,fe.exports=(K={182:function(y){var f={NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",STRING:"STRING",NULL:"NULL",UNDEFINED:"UNDEFINED",DATE:"DATE",ARRAY:"ARRAY",MAP:"MAP",SET:"SET",ITERABLE_OBJECT:"ITERABLE_OBJECT",DEFAULT:"OBJECT"};y.exports={types:f,iterableTypes:[f.ITERABLE_OBJECT,f.MAP,f.ARRAY,f.SET],errors:{EMPTY_DIFF:"No diff object is provided, Nothing to apply",INVALID_DIFF_FORMAT:"Invalid diff format",INVALID_DIFF_OP:"Unsupported operation provided into diff object"}}},688:function(y,f,g){var _,P=g(182),O=P.types,j=P.iterableTypes,v=P.errors,b=g(555),G=(M(_={},O.NUMBER,b.isNumber),M(_,O.BOOLEAN,b.isBoolean),M(_,O.STRING,b.isString),M(_,O.DATE,b.isDate),M(_,O.UNDEFINED,b.isUndefined),M(_,O.NULL,b.isNull),M(_,O.ARRAY,b.isArray),M(_,O.MAP,b.isMap),M(_,O.SET,b.isSet),M(_,O.ITERABLE_OBJECT,b.isIterableObject),_),z=M({},O.DATE,b.areDatesEqual);function H(Y){for(var ae=Object.keys(G),ve=O.DEFAULT,_e=0;_e<ae.length;_e+=1)if(G[ae[_e]](Y)){ve=ae[_e];break}return ve}function ee(Y,ae,ve,_e,he){var x={op:ve,path:_e};return"add"!==ve&&"update"!==ve||(x.val=ae),he&&"add"!==ve&&(x.oldVal=Y),x}function U(Y,ae,ve,_e,he){var Fe,x=H(Y),R=H(ae),E=_e||[],I=he||[];if((Fe=x)===R&&j.indexOf(Fe)>=0)for(var L=function(Fe,rt,Te){if(Te===O.ARRAY){var tt=new Array(Fe.length>rt.length?Fe.length:rt.length);return tt.fill(0),new Set(tt.map(function(Qe,vt){return vt}))}return new Set(Object.keys(Fe).concat(Object.keys(rt)))}(Y,ae,x).values(),D=L.next(),Q=D.value,te=D.done;!te;){Object.prototype.hasOwnProperty.call(Y,Q)?Object.prototype.hasOwnProperty.call(ae,Q)?U(Y[Q],ae[Q],ve,E.concat(Q),I):I.push(ee(Y[Q],ae[Q],"delete",E.concat(Q),ve)):I.push(ee(Y[Q],ae[Q],"add",E.concat(Q),ve));var Re=L.next();Q=Re.value,te=Re.done}else{var ne=function(Fe,rt,Te,tt){var Qe,vt,et,je;return Te===O.UNDEFINED&&tt!==O.UNDEFINED?Qe="add":Te!==O.UNDEFINED&&tt===O.UNDEFINED?Qe="delete":(vt=Fe,et=rt,(je=Te)===tt&&(z[je]?z[je](vt,et):vt===et)?b.noop():Qe="update"),Qe}(Y,ae,x,R);null!=ne&&I.push(ee(Y,ae,ne,_e,ve))}return I}var W={add:b.setValueByPath,update:b.setValueByPath,delete:b.deleteValueByPath};y.exports={getDiff:function(ae,ve){return U(ae,ve,arguments.length>2&&void 0!==arguments[2]&&arguments[2])},applyDiff:function(ae,ve,_e){return function(he,x,R){if(!(x instanceof Array))throw new Error(v.INVALID_DIFF_FORMAT);var E=he;return x.forEach(function(I){var L=I.op,D=I.val,Q=I.path;if(!W[L])throw new Error(v.INVALID_DIFF_OP);E=W[L](E,Q,D,R)}),E}(ae,ve,_e)}}},555:function(y){var f=function(b){return function(G){return G instanceof b}},g=f(Date),_=f(Array),P=f(Map),O=f(Set),j=function(b){return"[object Object]"===Object.prototype.toString.call(b)};y.exports={isNumber:function(b){return"number"==typeof b},isBoolean:function(b){return"boolean"==typeof b},isString:function(b){return"string"==typeof b},isDate:g,isUndefined:function(b){return void 0===b},isNull:function(b){return null===b},isArray:_,isMap:P,isSet:O,isIterableObject:j,noop:function(){},areDatesEqual:function(b,G){return b.getTime()===G.getTime()},setValueByPath:function(b){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],z=arguments.length>2?arguments[2]:void 0,H=arguments.length>3?arguments[3]:void 0;if(!_(G))throw new Error('Diff path: "'.concat(G,'" is not valid'));var ee=G.length;if(0===ee)return z;for(var U=b,W=0;W<ee;W+=1){var Y=G[W];if(!U)throw new Error('Invalid path: "'.concat(G,'" for object: ').concat(JSON.stringify(b,null,2)));if(null==Y)throw new Error('Invalid path: "'.concat(G,'" for object: ').concat(JSON.stringify(b,null,2)));W!==ee-1?(U=U[Y],H&&H(U)):U[Y]=z}return b},deleteValueByPath:function(b,G){var z=G||[];if(0!==z.length){for(var H=b,ee=z.length,U=0;U<ee;U+=1)if(U!==ee-1){if(!H[z[U]])throw new Error('Invalid path: "'.concat(G,'" for object: ').concat(JSON.stringify(b,null,2)));H=H[z[U]]}else if(j(H))delete H[z[U]];else for(var W=parseInt(z[U],10);H.length>W;)H.pop();return b}}}}},B={},function r(y){var f=B[y];if(void 0!==f)return f.exports;var g=B[y]={exports:{}};return K[y](g,g.exports,r),g.exports}(688))},76317:(fe,V,S)=>{S.d(V,{X:()=>_});var M=S(78069),K=S(48047),B=S(4089),r=S(20265),y=S(24582),f=S(28694),_=function(P){(0,y.Z)(j,P);var O=(0,f.Z)(j);function j(v){var b;return(0,M.Z)(this,j),(b=O.call(this))._value=v,b}return(0,K.Z)(j,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(b){var G=(0,B.Z)((0,r.Z)(j.prototype),"_subscribe",this).call(this,b);return!G.closed&&b.next(this._value),G}},{key:"getValue",value:function(){var z=this._value;if(this.hasError)throw this.thrownError;return this._throwIfClosed(),z}},{key:"next",value:function(b){(0,B.Z)((0,r.Z)(j.prototype),"next",this).call(this,this._value=b)}}]),j}(S(50253).x)},26067:(fe,V,S)=>{S.d(V,{t:()=>P});var M=S(78069),K=S(48047),B=S(4089),r=S(20265),y=S(24582),f=S(28694),g=S(50253),_=S(67654),P=function(O){(0,y.Z)(v,O);var j=(0,f.Z)(v);function v(){var b,G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.l;return(0,M.Z)(this,v),(b=j.call(this))._bufferSize=G,b._windowTime=z,b._timestampProvider=H,b._buffer=[],b._infiniteTimeWindow=!0,b._infiniteTimeWindow=z===1/0,b._bufferSize=Math.max(1,G),b._windowTime=Math.max(1,z),b}return(0,K.Z)(v,[{key:"next",value:function(G){var H=this._buffer,ee=this._infiniteTimeWindow,U=this._timestampProvider,W=this._windowTime;this.isStopped||(H.push(G),!ee&&H.push(U.now()+W)),this._trimBuffer(),(0,B.Z)((0,r.Z)(v.prototype),"next",this).call(this,G)}},{key:"_subscribe",value:function(G){this._throwIfClosed(),this._trimBuffer();for(var z=this._innerSubscribe(G),H=this._infiniteTimeWindow,U=this._buffer.slice(),W=0;W<U.length&&!G.closed;W+=H?1:2)G.next(U[W]);return this._checkFinalizedStatuses(G),z}},{key:"_trimBuffer",value:function(){var G=this._bufferSize,z=this._timestampProvider,H=this._buffer,ee=this._infiniteTimeWindow,U=(ee?1:2)*G;if(G<1/0&&U<H.length&&H.splice(0,H.length-U),!ee){for(var W=z.now(),Y=0,ae=1;ae<H.length&&H[ae]<=W;ae+=2)Y=ae;Y&&H.splice(0,Y+1)}}}]),v}(g.x)},26562:(fe,V,S)=>{S.d(V,{a:()=>O});var M=S(90833),K=S(45756),B=S(37400),r=S(89173),y=S(58385),f=S(10420),g=S(11054),_=S(93945),P=S(1817);function O(){for(var b=arguments.length,G=new Array(b),z=0;z<b;z++)G[z]=arguments[z];var H=(0,f.yG)(G),ee=(0,f.jO)(G),U=(0,K.D)(G),W=U.args,Y=U.keys;if(0===W.length)return(0,B.D)([],H);var ae=new M.y(function j(b,G){var z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.y;return function(H){v(G,function(){for(var ee=b.length,U=new Array(ee),W=ee,Y=ee,ae=function(he){v(G,function(){var x=(0,B.D)(b[he],G),R=!1;x.subscribe((0,_.x)(H,function(E){U[he]=E,R||(R=!0,Y--),Y||H.next(z(U.slice()))},function(){--W||H.complete()}))},H)},ve=0;ve<ee;ve++)ae(ve)},H)}}(W,H,Y?function(ve){return(0,g.n)(Y,ve)}:r.y));return ee?ae.pipe((0,y.Z)(ee)):ae}function v(b,G,z){b?(0,P.f)(z,b,G):G()}},59319:(fe,V,S)=>{S.d(V,{z:()=>y});var M=S(1308),B=S(10420),r=S(37400);function y(){for(var f=arguments.length,g=new Array(f),_=0;_<f;_++)g[_]=arguments[_];return function K(){return(0,M.J)(1)}()((0,r.D)(g,(0,B.yG)(g)))}},21954:(fe,V,S)=>{S.d(V,{P:()=>B});var M=S(90833),K=S(54987);function B(r){return new M.y(function(y){(0,K.Xf)(r()).subscribe(y)})}},91640:(fe,V,S)=>{S.d(V,{D:()=>_});var M=S(90833),K=S(45756),B=S(54987),r=S(10420),y=S(93945),f=S(58385),g=S(11054);function _(){for(var P=arguments.length,O=new Array(P),j=0;j<P;j++)O[j]=arguments[j];var v=(0,r.jO)(O),b=(0,K.D)(O),G=b.args,z=b.keys,H=new M.y(function(ee){var U=G.length;if(U)for(var W=new Array(U),Y=U,ae=U,ve=function(x){var R=!1;(0,B.Xf)(G[x]).subscribe((0,y.x)(ee,function(E){R||(R=!0,ae--),W[x]=E},function(){return Y--},void 0,function(){(!Y||!R)&&(ae||ee.next(z?(0,g.n)(z,W):W),ee.complete())}))},_e=0;_e<U;_e++)ve(_e);else ee.complete()});return v?H.pipe((0,f.Z)(v)):H}},36646:(fe,V,S)=>{S.d(V,{T:()=>f});var M=S(1308),K=S(54987),B=S(20591),r=S(10420),y=S(37400);function f(){for(var g=arguments.length,_=new Array(g),P=0;P<g;P++)_[P]=arguments[P];var O=(0,r.yG)(_),j=(0,r._6)(_,1/0),v=_;return v.length?1===v.length?(0,K.Xf)(v[0]):(0,M.J)(j)((0,y.D)(v,O)):B.E}},63853:(fe,V,S)=>{S.d(V,{b:()=>B});var M=S(49525),K=S(92971);function B(r,y){return(0,K.m)(y)?(0,M.z)(r,y,1):(0,M.z)(r,1)}},71989:(fe,V,S)=>{S.d(V,{b:()=>r});var M=S(96936),K=S(41944),B=S(93945);function r(y){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.z;return(0,K.e)(function(g,_){var P=null,O=null,j=null,v=function(){if(P){P.unsubscribe(),P=null;var z=O;O=null,_.next(z)}};function b(){var G=j+y,z=f.now();if(z<G)return P=this.schedule(void 0,G-z),void _.add(P);v()}g.subscribe((0,B.x)(_,function(G){O=G,j=f.now(),P||(P=f.schedule(b,y),_.add(P))},function(){v(),_.complete()},void 0,function(){O=P=null}))})}},64744:(fe,V,S)=>{S.d(V,{d:()=>B});var M=S(41944),K=S(93945);function B(r){return(0,M.e)(function(y,f){var g=!1;y.subscribe((0,K.x)(f,function(_){g=!0,f.next(_)},function(){g||f.next(r),f.complete()}))})}},76234:(fe,V,S)=>{S.d(V,{g:()=>P});var M=S(96936),K=S(59319),B=S(59295),r=S(90023),y=S(73),f=S(49525);function g(O,j){return j?function(v){return(0,K.z)(j.pipe((0,B.q)(1),(0,r.l)()),v.pipe(g(O)))}:(0,f.z)(function(v,b){return O(v,b).pipe((0,B.q)(1),(0,y.h)(v))})}var _=S(78947);function P(O){var v=(0,_.H)(O,arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.z);return g(function(){return v})}},98977:(fe,V,S)=>{S.d(V,{x:()=>r});var M=S(89173),K=S(41944),B=S(93945);function r(f){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.y;return f=f??y,(0,K.e)(function(_,P){var O,j=!0;_.subscribe((0,B.x)(P,function(v){var b=g(v);(j||!f(O,b))&&(j=!1,O=b,P.next(v))}))})}function y(f,g){return f===g}},60116:(fe,V,S)=>{S.d(V,{h:()=>B});var M=S(41944),K=S(93945);function B(r,y){return(0,M.e)(function(f,g){var _=0;f.subscribe((0,K.x)(g,function(P){return r.call(y,P,_++)&&g.next(P)}))})}},80155:(fe,V,S)=>{S.d(V,{P:()=>g});var M=S(14423),K=S(60116),B=S(59295),r=S(64744),y=S(77354),f=S(89173);function g(_,P){var O=arguments.length>=2;return function(j){return j.pipe(_?(0,K.h)(function(v,b){return _(v,b,j)}):f.y,(0,B.q)(1),O?(0,r.d)(P):(0,y.T)(function(){return new M.K}))}}},90023:(fe,V,S)=>{S.d(V,{l:()=>r});var M=S(41944),K=S(93945),B=S(99635);function r(){return(0,M.e)(function(y,f){y.subscribe((0,K.x)(f,B.Z))})}},73:(fe,V,S)=>{S.d(V,{h:()=>K});var M=S(50635);function K(B){return(0,M.U)(function(){return B})}},1308:(fe,V,S)=>{S.d(V,{J:()=>B});var M=S(49525),K=S(89173);function B(){return(0,M.z)(K.y,arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0)}},81203:(fe,V,S)=>{S.d(V,{B:()=>y});var M=S(54987),K=S(50253),B=S(5463),r=S(41944);function y(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=g.connector,P=void 0===_?function(){return new K.x}:_,O=g.resetOnError,j=void 0===O||O,v=g.resetOnComplete,b=void 0===v||v,G=g.resetOnRefCountZero,z=void 0===G||G;return function(H){var ee,U,W,Y=0,ae=!1,ve=!1,_e=function(){U?.unsubscribe(),U=void 0},he=function(){_e(),ee=W=void 0,ae=ve=!1},x=function(){var E=ee;he(),E?.unsubscribe()};return(0,r.e)(function(R,E){Y++,!ve&&!ae&&_e();var I=W=W??P();E.add(function(){0==--Y&&!ve&&!ae&&(U=f(x,z))}),I.subscribe(E),!ee&&Y>0&&(ee=new B.Hp({next:function(D){return I.next(D)},error:function(D){ve=!0,_e(),U=f(he,j,D),I.error(D)},complete:function(){ae=!0,_e(),U=f(he,b),I.complete()}}),(0,M.Xf)(R).subscribe(ee))})(H)}}function f(g,_){if(!0!==_){if(!1!==_){for(var P=new B.Hp({next:function(){P.unsubscribe(),g()}}),O=arguments.length,j=new Array(O>2?O-2:0),v=2;v<O;v++)j[v-2]=arguments[v];return _.apply(void 0,j).subscribe(P)}}else g()}},89196:(fe,V,S)=>{S.d(V,{d:()=>B});var M=S(26067),K=S(81203);function B(r,y,f){var g,_=!1;if(r&&"object"==typeof r){var P=r.bufferSize;g=void 0===P?1/0:P;var O=r.windowTime;y=void 0===O?1/0:O;var j=r.refCount;_=void 0!==j&&j,f=r.scheduler}else g=r??1/0;return(0,K.B)({connector:function(){return new M.t(g,y,f)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:_})}},87260:(fe,V,S)=>{S.d(V,{T:()=>K});var M=S(60116);function K(B){return(0,M.h)(function(r,y){return B<=y})}},44874:(fe,V,S)=>{S.d(V,{O:()=>r});var M=S(59319),K=S(10420),B=S(41944);function r(){for(var y=arguments.length,f=new Array(y),g=0;g<y;g++)f[g]=arguments[g];var _=(0,K.yG)(f);return(0,B.e)(function(P,O){(_?(0,M.z)(f,P,_):(0,M.z)(f,P)).subscribe(O)})}},32673:(fe,V,S)=>{S.d(V,{w:()=>r});var M=S(54987),K=S(41944),B=S(93945);function r(y,f){return(0,K.e)(function(g,_){var P=null,O=0,j=!1,v=function(){return j&&!P&&_.complete()};g.subscribe((0,B.x)(_,function(b){P?.unsubscribe();var G=0,z=O++;(0,M.Xf)(y(b,z)).subscribe(P=(0,B.x)(_,function(H){return _.next(f?f(b,H,z,G++):H)},function(){P=null,v()}))},function(){j=!0,v()}))})}},68951:(fe,V,S)=>{S.d(V,{R:()=>y});var M=S(41944),K=S(93945),B=S(54987),r=S(99635);function y(f){return(0,M.e)(function(g,_){(0,B.Xf)(f).subscribe((0,K.x)(_,function(){return _.complete()},r.Z)),!_.closed&&g.subscribe(_)})}},77354:(fe,V,S)=>{S.d(V,{T:()=>r});var M=S(14423),K=S(41944),B=S(93945);function r(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;return(0,K.e)(function(g,_){var P=!1;g.subscribe((0,B.x)(_,function(O){P=!0,_.next(O)},function(){return P?_.complete():_.error(f())}))})}function y(){return new M.K}},87580:(fe,V,S)=>{S.d(V,{V:()=>P});var M=S(96936),K=S(97885),B=S(41944),r=S(54987),y=S(27543),f=S(93945),g=S(1817),_=(0,y.d)(function(j){return function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;j(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=b}});function P(j,v){var b=(0,K.q)(j)?{first:j}:"number"==typeof j?{each:j}:j,G=b.first,z=b.each,H=b.with,ee=void 0===H?O:H,U=b.scheduler,W=void 0===U?v??M.z:U,Y=b.meta,ae=void 0===Y?null:Y;if(null==G&&null==z)throw new TypeError("No timeout provided.");return(0,B.e)(function(ve,_e){var he,x,R=null,E=0,I=function(D){x=(0,g.f)(_e,W,function(){try{he.unsubscribe(),(0,r.Xf)(ee({meta:ae,lastValue:R,seen:E})).subscribe(_e)}catch(Q){_e.error(Q)}},D)};he=ve.subscribe((0,f.x)(_e,function(L){x?.unsubscribe(),E++,_e.next(R=L),z>0&&I(z)},void 0,void 0,function(){x?.closed||x?.unsubscribe(),R=null})),!E&&I(null!=G?"number"==typeof G?G:+G-W.now():z)})}function O(j){throw new _(j)}},10538:(fe,V,S)=>{S.d(V,{M:()=>_});var M=S(86170),K=S(41944),B=S(93945),r=S(54987),y=S(89173),f=S(99635),g=S(10420);function _(){for(var P=arguments.length,O=new Array(P),j=0;j<P;j++)O[j]=arguments[j];var v=(0,g.jO)(O);return(0,K.e)(function(b,G){for(var z=O.length,H=new Array(z),ee=O.map(function(){return!1}),U=!1,W=function(ve){(0,r.Xf)(O[ve]).subscribe((0,B.x)(G,function(_e){H[ve]=_e,!U&&!ee[ve]&&(ee[ve]=!0,(U=ee.every(y.y))&&(ee=null))},f.Z))},Y=0;Y<z;Y++)W(Y);b.subscribe((0,B.x)(G,function(ae){if(U){var ve=[ae].concat(H);G.next(v?v.apply(void 0,(0,M.Z)(ve)):ve)}}))})}},34915:(fe,V,S)=>{S.d(V,{N:()=>j});var M=S(78069),K=S(48047),B=S(4089),r=S(20265),y=S(24582),f=S(28694),_=function(b){(0,y.Z)(z,b);var G=(0,f.Z)(z);function z(H,ee){var U;return(0,M.Z)(this,z),(U=G.call(this,H,ee)).scheduler=H,U.work=ee,U}return(0,K.Z)(z,[{key:"schedule",value:function(ee){var U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U>0?(0,B.Z)((0,r.Z)(z.prototype),"schedule",this).call(this,ee,U):(this.delay=U,this.state=ee,this.scheduler.flush(this),this)}},{key:"execute",value:function(ee,U){return U>0||this.closed?(0,B.Z)((0,r.Z)(z.prototype),"execute",this).call(this,ee,U):this._execute(ee,U)}},{key:"requestAsyncId",value:function(ee,U){var W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!=W&&W>0||null==W&&this.delay>0?(0,B.Z)((0,r.Z)(z.prototype),"requestAsyncId",this).call(this,ee,U,W):(ee.flush(this),0)}}]),z}(S(75417).o),j=new(function(b){(0,y.Z)(z,b);var G=(0,f.Z)(z);function z(){return(0,M.Z)(this,z),G.apply(this,arguments)}return(0,K.Z)(z)}(S(41010).v))(_)},14423:(fe,V,S)=>{S.d(V,{K:()=>K});var K=(0,S(27543).d)(function(B){return function(){B(this),this.name="EmptyError",this.message="no elements in sequence"}})},73774:(fe,V)=>{var S,M,K,B,r;if(typeof window>"u"||"function"!=typeof MessageChannel){var y=null,f=null,g=function Qe(){if(null!==y)try{var vt=V.unstable_now();y(!0,vt),y=null}catch(et){throw setTimeout(Qe,0),et}},_=Date.now();V.unstable_now=function(){return Date.now()-_},S=function(vt){null!==y?setTimeout(S,0,vt):(y=vt,setTimeout(g,0))},M=function(vt,et){f=setTimeout(vt,et)},K=function(){clearTimeout(f)},B=function(){return!1},r=V.unstable_forceFrameRate=function(){}}else{var P=window.performance,O=window.Date,j=window.setTimeout,v=window.clearTimeout;if(typeof console<"u"){var b=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof P&&"function"==typeof P.now)V.unstable_now=function(){return P.now()};else{var G=O.now();V.unstable_now=function(){return O.now()-G}}var z=!1,H=null,ee=-1,U=5,W=0;B=function(){return V.unstable_now()>=W},r=function(){},V.unstable_forceFrameRate=function(Qe){0>Qe||125<Qe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):U=0<Qe?Math.floor(1e3/Qe):5};var Y=new MessageChannel,ae=Y.port2;Y.port1.onmessage=function(){if(null!==H){var Qe=V.unstable_now();W=Qe+U;try{H(!0,Qe)?ae.postMessage(null):(z=!1,H=null)}catch(vt){throw ae.postMessage(null),vt}}else z=!1},S=function(vt){H=vt,z||(z=!0,ae.postMessage(null))},M=function(vt,et){ee=j(function(){vt(V.unstable_now())},et)},K=function(){v(ee),ee=-1}}function ve(Qe,vt){var et=Qe.length;Qe.push(vt);e:for(;;){var je=et-1>>>1,it=Qe[je];if(!(void 0!==it&&0<x(it,vt)))break e;Qe[je]=vt,Qe[et]=it,et=je}}function _e(Qe){return void 0===(Qe=Qe[0])?null:Qe}function he(Qe){var vt=Qe[0];if(void 0!==vt){var et=Qe.pop();if(et!==vt){Qe[0]=et;e:for(var je=0,it=Qe.length;je<it;){var de=2*(je+1)-1,J=Qe[de],oe=de+1,Ae=Qe[oe];if(void 0!==J&&0>x(J,et))void 0!==Ae&&0>x(Ae,J)?(Qe[je]=Ae,Qe[oe]=et,je=oe):(Qe[je]=J,Qe[de]=et,je=de);else{if(!(void 0!==Ae&&0>x(Ae,et)))break e;Qe[je]=Ae,Qe[oe]=et,je=oe}}}return vt}return null}function x(Qe,vt){var et=Qe.sortIndex-vt.sortIndex;return 0!==et?et:Qe.id-vt.id}var R=[],E=[],I=1,L=null,D=3,Q=!1,te=!1,Re=!1;function ne(Qe){for(var vt=_e(E);null!==vt;){if(null===vt.callback)he(E);else{if(!(vt.startTime<=Qe))break;he(E),vt.sortIndex=vt.expirationTime,ve(R,vt)}vt=_e(E)}}function Fe(Qe){if(Re=!1,ne(Qe),!te)if(null!==_e(R))te=!0,S(rt);else{var vt=_e(E);null!==vt&&M(Fe,vt.startTime-Qe)}}function rt(Qe,vt){te=!1,Re&&(Re=!1,K()),Q=!0;var et=D;try{for(ne(vt),L=_e(R);null!==L&&(!(L.expirationTime>vt)||Qe&&!B());){var je=L.callback;if(null!==je){L.callback=null,D=L.priorityLevel;var it=je(L.expirationTime<=vt);vt=V.unstable_now(),"function"==typeof it?L.callback=it:L===_e(R)&&he(R),ne(vt)}else he(R);L=_e(R)}if(null!==L)var de=!0;else{var J=_e(E);null!==J&&M(Fe,J.startTime-vt),de=!1}return de}finally{L=null,D=et,Q=!1}}function Te(Qe){switch(Qe){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var tt=r;V.unstable_IdlePriority=5,V.unstable_ImmediatePriority=1,V.unstable_LowPriority=4,V.unstable_NormalPriority=3,V.unstable_Profiling=null,V.unstable_UserBlockingPriority=2,V.unstable_cancelCallback=function(Qe){Qe.callback=null},V.unstable_continueExecution=function(){te||Q||(te=!0,S(rt))},V.unstable_getCurrentPriorityLevel=function(){return D},V.unstable_getFirstCallbackNode=function(){return _e(R)},V.unstable_next=function(Qe){switch(D){case 1:case 2:case 3:var vt=3;break;default:vt=D}var et=D;D=vt;try{return Qe()}finally{D=et}},V.unstable_pauseExecution=function(){},V.unstable_requestPaint=tt,V.unstable_runWithPriority=function(Qe,vt){switch(Qe){case 1:case 2:case 3:case 4:case 5:break;default:Qe=3}var et=D;D=Qe;try{return vt()}finally{D=et}},V.unstable_scheduleCallback=function(Qe,vt,et){var je=V.unstable_now();if("object"==typeof et&&null!==et){var it=et.delay;it="number"==typeof it&&0<it?je+it:je,et="number"==typeof et.timeout?et.timeout:Te(Qe)}else et=Te(Qe),it=je;return Qe={id:I++,callback:vt,priorityLevel:Qe,startTime:it,expirationTime:et=it+et,sortIndex:-1},it>je?(Qe.sortIndex=it,ve(E,Qe),null===_e(R)&&Qe===_e(E)&&(Re?K():Re=!0,M(Fe,it-je))):(Qe.sortIndex=et,ve(R,Qe),te||Q||(te=!0,S(rt))),Qe},V.unstable_shouldYield=function(){var Qe=V.unstable_now();ne(Qe);var vt=_e(R);return vt!==L&&null!==L&&null!==vt&&null!==vt.callback&&vt.startTime<=Qe&&vt.expirationTime<L.expirationTime||B()},V.unstable_wrapCallback=function(Qe){var vt=D;return function(){var et=D;D=vt;try{return Qe.apply(this,arguments)}finally{D=et}}}},45381:(fe,V,S)=>{fe.exports=S(73774)},87559:(fe,V,S)=>{var M=S(13974),K=S(45051)("selectn"),B=S(75979),r=S(21934),y=Object.prototype.toString;fe.exports=M(function f(g,_){K("arguments:",{path:g,object:_});for(var P=-1,O="[object Array]"===y.call(g)?g:r(B(g)),j=O.length,v=j?_:void 0;++P<j;){if(Object(v)!==v)return;v=v[O[P]]}return K("ref:",v),"function"==typeof v?v():v})},45051:(fe,V,S)=>{function y(){var g;try{g=V.storage.debug}catch{}return!g&&typeof process<"u"&&"env"in process&&(g=process.env.DEBUG),g}(V=fe.exports=S(62133)).log=function B(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},V.formatArgs=function K(g){var _=this.useColors;if(g[0]=(_?"%c":"")+this.namespace+(_?" %c":" ")+g[0]+(_?"%c ":" ")+"+"+V.humanize(this.diff),_){var P="color: "+this.color;g.splice(1,0,P,"color: inherit");var O=0,j=0;g[0].replace(/%[a-zA-Z%]/g,function(v){"%%"!==v&&(O++,"%c"===v&&(j=O))}),g.splice(j,0,P)}},V.save=function r(g){try{null==g?V.storage.removeItem("debug"):V.storage.debug=g}catch{}},V.load=y,V.useColors=function M(){return!!(typeof window<"u"&&window.process&&"renderer"===window.process.type)||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},V.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:function f(){try{return window.localStorage}catch{}}(),V.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],V.formatters.j=function(g){try{return JSON.stringify(g)}catch(_){return"[UnexpectedJSONParseError]: "+_.message}},V.enable(y())},62133:(fe,V,S)=>{var M;function B(_){function P(){if(P.enabled){var O=P,j=+new Date;O.diff=j-(M||j),O.prev=M,O.curr=j,M=j;for(var b=new Array(arguments.length),G=0;G<b.length;G++)b[G]=arguments[G];b[0]=V.coerce(b[0]),"string"!=typeof b[0]&&b.unshift("%O");var z=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,function(ee,U){if("%%"===ee)return ee;z++;var W=V.formatters[U];return"function"==typeof W&&(ee=W.call(O,b[z]),b.splice(z,1),z--),ee}),V.formatArgs.call(O,b),(P.log||V.log||console.log.bind(console)).apply(O,b)}}return P.namespace=_,P.enabled=V.enabled(_),P.useColors=V.useColors(),P.color=function K(_){var O,P=0;for(O in _)P=(P<<5)-P+_.charCodeAt(O),P|=0;return V.colors[Math.abs(P)%V.colors.length]}(_),"function"==typeof V.init&&V.init(P),P}(V=fe.exports=B.debug=B.default=B).coerce=function g(_){return _ instanceof Error?_.stack||_.message:_},V.disable=function y(){V.enable("")},V.enable=function r(_){V.save(_),V.names=[],V.skips=[];for(var P=("string"==typeof _?_:"").split(/[\s,]+/),O=P.length,j=0;j<O;j++)P[j]&&("-"===(_=P[j].replace(/\*/g,".*?"))[0]?V.skips.push(new RegExp("^"+_.substr(1)+"$")):V.names.push(new RegExp("^"+_+"$")))},V.enabled=function f(_){var P,O;for(P=0,O=V.skips.length;P<O;P++)if(V.skips[P].test(_))return!1;for(P=0,O=V.names.length;P<O;P++)if(V.names[P].test(_))return!0;return!1},V.humanize=S(33007),V.names=[],V.skips=[],V.formatters={}},33007:fe=>{var V=1e3,S=60*V,M=60*S,K=24*M;function g(_,P,O){if(!(_<P))return _<1.5*P?Math.floor(_/P)+" "+O:Math.ceil(_/P)+" "+O+"s"}fe.exports=function(_,P){P=P||{};var O=typeof _;if("string"===O&&_.length>0)return function r(_){if(!((_=String(_)).length>100)){var P=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(_);if(P){var O=parseFloat(P[1]);switch((P[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*O;case"days":case"day":case"d":return O*K;case"hours":case"hour":case"hrs":case"hr":case"h":return O*M;case"minutes":case"minute":case"mins":case"min":case"m":return O*S;case"seconds":case"second":case"secs":case"sec":case"s":return O*V;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return O;default:return}}}}(_);if("number"===O&&!1===isNaN(_))return P.long?function f(_){return g(_,K,"day")||g(_,M,"hour")||g(_,S,"minute")||g(_,V,"second")||_+" ms"}(_):function y(_){return _>=K?Math.round(_/K)+"d":_>=M?Math.round(_/M)+"h":_>=S?Math.round(_/S)+"m":_>=V?Math.round(_/V)+"s":_+"ms"}(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))}},98432:(fe,V,S)=>{var M=S(79903),K=S(4263),B=S(28597),r=M("%TypeError%"),y=M("%WeakMap%",!0),f=M("%Map%",!0),g=K("WeakMap.prototype.get",!0),_=K("WeakMap.prototype.set",!0),P=K("WeakMap.prototype.has",!0),O=K("Map.prototype.get",!0),j=K("Map.prototype.set",!0),v=K("Map.prototype.has",!0),b=function(U,W){for(var ae,Y=U;null!==(ae=Y.next);Y=ae)if(ae.key===W)return Y.next=ae.next,ae.next=U.next,U.next=ae,ae};fe.exports=function(){var U,W,Y,ae={assert:function(_e){if(!ae.has(_e))throw new r("Side channel does not contain "+B(_e))},get:function(_e){if(y&&_e&&("object"==typeof _e||"function"==typeof _e)){if(U)return g(U,_e)}else if(f){if(W)return O(W,_e)}else if(Y)return function(U,W){var Y=b(U,W);return Y&&Y.value}(Y,_e)},has:function(_e){if(y&&_e&&("object"==typeof _e||"function"==typeof _e)){if(U)return P(U,_e)}else if(f){if(W)return v(W,_e)}else if(Y)return function(U,W){return!!b(U,W)}(Y,_e);return!1},set:function(_e,he){y&&_e&&("object"==typeof _e||"function"==typeof _e)?(U||(U=new y),_(U,_e,he)):f?(W||(W=new f),j(W,_e,he)):(Y||(Y={key:{},next:null}),function(U,W,Y){var ae=b(U,W);ae?ae.value=Y:U.next={key:W,next:U.next,value:Y}}(Y,_e,he))}};return ae}},70574:(fe,V,S)=>{fe.exports=B;var M=S(83358).EventEmitter;function B(){M.call(this)}S(55035)(B,M),B.Readable=S(21591),B.Writable=S(36480),B.Duplex=S(86124),B.Transform=S(869),B.PassThrough=S(5650),B.finished=S(48938),B.pipeline=S(29719),B.Stream=B,B.prototype.pipe=function(r,y){var f=this;function g(G){r.writable&&!1===r.write(G)&&f.pause&&f.pause()}function _(){f.readable&&f.resume&&f.resume()}f.on("data",g),r.on("drain",_),!r._isStdio&&(!y||!1!==y.end)&&(f.on("end",O),f.on("close",j));var P=!1;function O(){P||(P=!0,r.end())}function j(){P||(P=!0,"function"==typeof r.destroy&&r.destroy())}function v(G){if(b(),0===M.listenerCount(this,"error"))throw G}function b(){f.removeListener("data",g),r.removeListener("drain",_),f.removeListener("end",O),f.removeListener("close",j),f.removeListener("error",v),r.removeListener("error",v),f.removeListener("end",b),f.removeListener("close",b),r.removeListener("close",b)}return f.on("error",v),r.on("error",v),f.on("end",b),f.on("close",b),r.on("close",b),r.emit("pipe",f),r}},23803:fe=>{var S={};function M(f,g,_){_||(_=Error);var O=function(j){function v(b,G,z){return j.call(this,function P(j,v,b){return"string"==typeof g?g:g(j,v,b)}(b,G,z))||this}return function V(f,g){f.prototype=Object.create(g.prototype),f.prototype.constructor=f,f.__proto__=g}(v,j),v}(_);O.prototype.name=_.name,O.prototype.code=f,S[f]=O}function K(f,g){if(Array.isArray(f)){var _=f.length;return f=f.map(function(P){return String(P)}),_>2?"one of ".concat(g," ").concat(f.slice(0,_-1).join(", "),", or ")+f[_-1]:2===_?"one of ".concat(g," ").concat(f[0]," or ").concat(f[1]):"of ".concat(g," ").concat(f[0])}return"of ".concat(g," ").concat(String(f))}M("ERR_INVALID_OPT_VALUE",function(f,g){return'The value "'+g+'" is invalid for option "'+f+'"'},TypeError),M("ERR_INVALID_ARG_TYPE",function(f,g,_){var P,O;if("string"==typeof g&&function B(f,g,_){return f.substr(!_||_<0?0:+_,g.length)===g}(g,"not ")?(P="must not be",g=g.replace(/^not /,"")):P="must be",function r(f,g,_){return(void 0===_||_>f.length)&&(_=f.length),f.substring(_-g.length,_)===g}(f," argument"))O="The ".concat(f," ").concat(P," ").concat(K(g,"type"));else{var j=function y(f,g,_){return"number"!=typeof _&&(_=0),!(_+g.length>f.length)&&-1!==f.indexOf(g,_)}(f,".")?"property":"argument";O='The "'.concat(f,'" ').concat(j," ").concat(P," ").concat(K(g,"type"))}return O+". Received type ".concat(typeof _)},TypeError),M("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),M("ERR_METHOD_NOT_IMPLEMENTED",function(f){return"The "+f+" method is not implemented"}),M("ERR_STREAM_PREMATURE_CLOSE","Premature close"),M("ERR_STREAM_DESTROYED",function(f){return"Cannot call "+f+" after a stream was destroyed"}),M("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),M("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),M("ERR_STREAM_WRITE_AFTER_END","write after end"),M("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),M("ERR_UNKNOWN_ENCODING",function(f){return"Unknown encoding: "+f},TypeError),M("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),fe.exports.q=S},86124:(fe,V,S)=>{var M=Object.keys||function(O){var j=[];for(var v in O)j.push(v);return j};fe.exports=g;var K=S(21591),B=S(36480);S(55035)(g,K);for(var r=M(B.prototype),y=0;y<r.length;y++){var f=r[y];g.prototype[f]||(g.prototype[f]=B.prototype[f])}function g(O){if(!(this instanceof g))return new g(O);K.call(this,O),B.call(this,O),this.allowHalfOpen=!0,O&&(!1===O.readable&&(this.readable=!1),!1===O.writable&&(this.writable=!1),!1===O.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",_)))}function _(){this._writableState.ended||process.nextTick(P,this)}function P(O){O.end()}Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(g.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(g.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(g.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(j){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=j,this._writableState.destroyed=j)}})},5650:(fe,V,S)=>{fe.exports=K;var M=S(869);function K(B){if(!(this instanceof K))return new K(B);M.call(this,B)}S(55035)(K,M),K.prototype._transform=function(B,r,y){y(null,B)}},21591:(fe,V,S)=>{var M;fe.exports=E,E.ReadableState=R,S(83358);var O,B=function(xe,ut){return xe.listeners(ut).length},r=S(55628),y=S(13195).Buffer,f=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},P=S(40964);O=P&&P.debuglog?P.debuglog("stream"):function(){};var Y,ae,ve,j=S(78197),v=S(55767),G=S(8003).getHighWaterMark,z=S(23803).q,H=z.ERR_INVALID_ARG_TYPE,ee=z.ERR_STREAM_PUSH_AFTER_EOF,U=z.ERR_METHOD_NOT_IMPLEMENTED,W=z.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;S(55035)(E,r);var _e=v.errorOrDestroy,he=["error","close","destroy","pause","resume"];function R(pe,xe,ut){M=M||S(86124),"boolean"!=typeof ut&&(ut=xe instanceof M),this.objectMode=!!(pe=pe||{}).objectMode,ut&&(this.objectMode=this.objectMode||!!pe.readableObjectMode),this.highWaterMark=G(this,pe,"readableHighWaterMark",ut),this.buffer=new j,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==pe.emitClose,this.autoDestroy=!!pe.autoDestroy,this.destroyed=!1,this.defaultEncoding=pe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,pe.encoding&&(Y||(Y=S(4547).s),this.decoder=new Y(pe.encoding),this.encoding=pe.encoding)}function E(pe){if(M=M||S(86124),!(this instanceof E))return new E(pe);this._readableState=new R(pe,this,this instanceof M),this.readable=!0,pe&&("function"==typeof pe.read&&(this._read=pe.read),"function"==typeof pe.destroy&&(this._destroy=pe.destroy)),r.call(this)}function I(pe,xe,ut,be,ce){O("readableAddChunk",xe);var Ie,le=pe._readableState;if(null===xe)le.reading=!1,function ne(pe,xe){if(O("onEofChunk"),!xe.ended){if(xe.decoder){var ut=xe.decoder.end();ut&&ut.length&&(xe.buffer.push(ut),xe.length+=xe.objectMode?1:ut.length)}xe.ended=!0,xe.sync?Fe(pe):(xe.needReadable=!1,xe.emittedReadable||(xe.emittedReadable=!0,rt(pe)))}}(pe,le);else if(ce||(Ie=function D(pe,xe){var ut;return!function _(pe){return y.isBuffer(pe)||pe instanceof f}(xe)&&"string"!=typeof xe&&void 0!==xe&&!pe.objectMode&&(ut=new H("chunk",["string","Buffer","Uint8Array"],xe)),ut}(le,xe)),Ie)_e(pe,Ie);else if(le.objectMode||xe&&xe.length>0)if("string"!=typeof xe&&!le.objectMode&&Object.getPrototypeOf(xe)!==y.prototype&&(xe=function g(pe){return y.from(pe)}(xe)),be)le.endEmitted?_e(pe,new W):L(pe,le,xe,!0);else if(le.ended)_e(pe,new ee);else{if(le.destroyed)return!1;le.reading=!1,le.decoder&&!ut?(xe=le.decoder.write(xe),le.objectMode||0!==xe.length?L(pe,le,xe,!1):Te(pe,le)):L(pe,le,xe,!1)}else be||(le.reading=!1,Te(pe,le));return!le.ended&&(le.length<le.highWaterMark||0===le.length)}function L(pe,xe,ut,be){xe.flowing&&0===xe.length&&!xe.sync?(xe.awaitDrain=0,pe.emit("data",ut)):(xe.length+=xe.objectMode?1:ut.length,be?xe.buffer.unshift(ut):xe.buffer.push(ut),xe.needReadable&&Fe(pe)),Te(pe,xe)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(xe){this._readableState&&(this._readableState.destroyed=xe)}}),E.prototype.destroy=v.destroy,E.prototype._undestroy=v.undestroy,E.prototype._destroy=function(pe,xe){xe(pe)},E.prototype.push=function(pe,xe){var be,ut=this._readableState;return ut.objectMode?be=!0:"string"==typeof pe&&((xe=xe||ut.defaultEncoding)!==ut.encoding&&(pe=y.from(pe,xe),xe=""),be=!0),I(this,pe,xe,!1,be)},E.prototype.unshift=function(pe){return I(this,pe,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(pe){Y||(Y=S(4547).s);var xe=new Y(pe);this._readableState.decoder=xe,this._readableState.encoding=this._readableState.decoder.encoding;for(var ut=this._readableState.buffer.head,be="";null!==ut;)be+=xe.write(ut.data),ut=ut.next;return this._readableState.buffer.clear(),""!==be&&this._readableState.buffer.push(be),this._readableState.length=be.length,this};var Q=1073741824;function Re(pe,xe){return pe<=0||0===xe.length&&xe.ended?0:xe.objectMode?1:pe!=pe?xe.flowing&&xe.length?xe.buffer.head.data.length:xe.length:(pe>xe.highWaterMark&&(xe.highWaterMark=function te(pe){return pe>=Q?pe=Q:(pe--,pe|=pe>>>1,pe|=pe>>>2,pe|=pe>>>4,pe|=pe>>>8,pe|=pe>>>16,pe++),pe}(pe)),pe<=xe.length?pe:xe.ended?xe.length:(xe.needReadable=!0,0))}function Fe(pe){var xe=pe._readableState;O("emitReadable",xe.needReadable,xe.emittedReadable),xe.needReadable=!1,xe.emittedReadable||(O("emitReadable",xe.flowing),xe.emittedReadable=!0,process.nextTick(rt,pe))}function rt(pe){var xe=pe._readableState;O("emitReadable_",xe.destroyed,xe.length,xe.ended),!xe.destroyed&&(xe.length||xe.ended)&&(pe.emit("readable"),xe.emittedReadable=!1),xe.needReadable=!xe.flowing&&!xe.ended&&xe.length<=xe.highWaterMark,de(pe)}function Te(pe,xe){xe.readingMore||(xe.readingMore=!0,process.nextTick(tt,pe,xe))}function tt(pe,xe){for(;!xe.reading&&!xe.ended&&(xe.length<xe.highWaterMark||xe.flowing&&0===xe.length);){var ut=xe.length;if(O("maybeReadMore read 0"),pe.read(0),ut===xe.length)break}xe.readingMore=!1}function vt(pe){var xe=pe._readableState;xe.readableListening=pe.listenerCount("readable")>0,xe.resumeScheduled&&!xe.paused?xe.flowing=!0:pe.listenerCount("data")>0&&pe.resume()}function et(pe){O("readable nexttick read 0"),pe.read(0)}function it(pe,xe){O("resume",xe.reading),xe.reading||pe.read(0),xe.resumeScheduled=!1,pe.emit("resume"),de(pe),xe.flowing&&!xe.reading&&pe.read(0)}function de(pe){var xe=pe._readableState;for(O("flow",xe.flowing);xe.flowing&&null!==pe.read(););}function J(pe,xe){return 0===xe.length?null:(xe.objectMode?ut=xe.buffer.shift():!pe||pe>=xe.length?(ut=xe.decoder?xe.buffer.join(""):1===xe.buffer.length?xe.buffer.first():xe.buffer.concat(xe.length),xe.buffer.clear()):ut=xe.buffer.consume(pe,xe.decoder),ut);var ut}function oe(pe){var xe=pe._readableState;O("endReadable",xe.endEmitted),xe.endEmitted||(xe.ended=!0,process.nextTick(Ae,xe,pe))}function Ae(pe,xe){if(O("endReadableNT",pe.endEmitted,pe.length),!pe.endEmitted&&0===pe.length&&(pe.endEmitted=!0,xe.readable=!1,xe.emit("end"),pe.autoDestroy)){var ut=xe._writableState;(!ut||ut.autoDestroy&&ut.finished)&&xe.destroy()}}function Ne(pe,xe){for(var ut=0,be=pe.length;ut<be;ut++)if(pe[ut]===xe)return ut;return-1}E.prototype.read=function(pe){O("read",pe),pe=parseInt(pe,10);var xe=this._readableState,ut=pe;if(0!==pe&&(xe.emittedReadable=!1),0===pe&&xe.needReadable&&((0!==xe.highWaterMark?xe.length>=xe.highWaterMark:xe.length>0)||xe.ended))return O("read: emitReadable",xe.length,xe.ended),0===xe.length&&xe.ended?oe(this):Fe(this),null;if(0===(pe=Re(pe,xe))&&xe.ended)return 0===xe.length&&oe(this),null;var ce,be=xe.needReadable;return O("need readable",be),(0===xe.length||xe.length-pe<xe.highWaterMark)&&O("length less than watermark",be=!0),xe.ended||xe.reading?O("reading or ended",be=!1):be&&(O("do read"),xe.reading=!0,xe.sync=!0,0===xe.length&&(xe.needReadable=!0),this._read(xe.highWaterMark),xe.sync=!1,xe.reading||(pe=Re(ut,xe))),null===(ce=pe>0?J(pe,xe):null)?(xe.needReadable=xe.length<=xe.highWaterMark,pe=0):(xe.length-=pe,xe.awaitDrain=0),0===xe.length&&(xe.ended||(xe.needReadable=!0),ut!==pe&&xe.ended&&oe(this)),null!==ce&&this.emit("data",ce),ce},E.prototype._read=function(pe){_e(this,new U("_read()"))},E.prototype.pipe=function(pe,xe){var ut=this,be=this._readableState;switch(be.pipesCount){case 0:be.pipes=pe;break;case 1:be.pipes=[be.pipes,pe];break;default:be.pipes.push(pe)}be.pipesCount+=1,O("pipe count=%d opts=%j",be.pipesCount,xe);var le=xe&&!1===xe.end||pe===process.stdout||pe===process.stderr?De:at;function at(){O("onend"),pe.end()}be.endEmitted?process.nextTick(le):ut.once("end",le),pe.on("unpipe",function Ie(Br,ar){O("onunpipe"),Br===ut&&ar&&!1===ar.hasUnpiped&&(ar.hasUnpiped=!0,function zt(){O("cleanup"),pe.removeListener("close",Kn),pe.removeListener("finish",Un),pe.removeListener("drain",Tt),pe.removeListener("error",Xt),pe.removeListener("unpipe",Ie),ut.removeListener("end",at),ut.removeListener("end",De),ut.removeListener("data",un),Vt=!0,be.awaitDrain&&(!pe._writableState||pe._writableState.needDrain)&&Tt()}())});var Tt=function Qe(pe){return function(){var ut=pe._readableState;O("pipeOnDrain",ut.awaitDrain),ut.awaitDrain&&ut.awaitDrain--,0===ut.awaitDrain&&B(pe,"data")&&(ut.flowing=!0,de(pe))}}(ut);pe.on("drain",Tt);var Vt=!1;function un(Br){O("ondata");var ar=pe.write(Br);O("dest.write",ar),!1===ar&&((1===be.pipesCount&&be.pipes===pe||be.pipesCount>1&&-1!==Ne(be.pipes,pe))&&!Vt&&(O("false write response, pause",be.awaitDrain),be.awaitDrain++),ut.pause())}function Xt(Br){O("onerror",Br),De(),pe.removeListener("error",Xt),0===B(pe,"error")&&_e(pe,Br)}function Kn(){pe.removeListener("finish",Un),De()}function Un(){O("onfinish"),pe.removeListener("close",Kn),De()}function De(){O("unpipe"),ut.unpipe(pe)}return ut.on("data",un),function x(pe,xe,ut){if("function"==typeof pe.prependListener)return pe.prependListener(xe,ut);pe._events&&pe._events[xe]?Array.isArray(pe._events[xe])?pe._events[xe].unshift(ut):pe._events[xe]=[ut,pe._events[xe]]:pe.on(xe,ut)}(pe,"error",Xt),pe.once("close",Kn),pe.once("finish",Un),pe.emit("pipe",ut),be.flowing||(O("pipe resume"),ut.resume()),pe},E.prototype.unpipe=function(pe){var xe=this._readableState,ut={hasUnpiped:!1};if(0===xe.pipesCount)return this;if(1===xe.pipesCount)return pe&&pe!==xe.pipes||(pe||(pe=xe.pipes),xe.pipes=null,xe.pipesCount=0,xe.flowing=!1,pe&&pe.emit("unpipe",this,ut)),this;if(!pe){var be=xe.pipes,ce=xe.pipesCount;xe.pipes=null,xe.pipesCount=0,xe.flowing=!1;for(var le=0;le<ce;le++)be[le].emit("unpipe",this,{hasUnpiped:!1});return this}var Ie=Ne(xe.pipes,pe);return-1===Ie||(xe.pipes.splice(Ie,1),xe.pipesCount-=1,1===xe.pipesCount&&(xe.pipes=xe.pipes[0]),pe.emit("unpipe",this,ut)),this},E.prototype.addListener=E.prototype.on=function(pe,xe){var ut=r.prototype.on.call(this,pe,xe),be=this._readableState;return"data"===pe?(be.readableListening=this.listenerCount("readable")>0,!1!==be.flowing&&this.resume()):"readable"===pe&&!be.endEmitted&&!be.readableListening&&(be.readableListening=be.needReadable=!0,be.flowing=!1,be.emittedReadable=!1,O("on readable",be.length,be.reading),be.length?Fe(this):be.reading||process.nextTick(et,this)),ut},E.prototype.removeListener=function(pe,xe){var ut=r.prototype.removeListener.call(this,pe,xe);return"readable"===pe&&process.nextTick(vt,this),ut},E.prototype.removeAllListeners=function(pe){var xe=r.prototype.removeAllListeners.apply(this,arguments);return("readable"===pe||void 0===pe)&&process.nextTick(vt,this),xe},E.prototype.resume=function(){var pe=this._readableState;return pe.flowing||(O("resume"),pe.flowing=!pe.readableListening,function je(pe,xe){xe.resumeScheduled||(xe.resumeScheduled=!0,process.nextTick(it,pe,xe))}(this,pe)),pe.paused=!1,this},E.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(pe){var xe=this,ut=this._readableState,be=!1;for(var ce in pe.on("end",function(){if(O("wrapped end"),ut.decoder&&!ut.ended){var Ie=ut.decoder.end();Ie&&Ie.length&&xe.push(Ie)}xe.push(null)}),pe.on("data",function(Ie){O("wrapped data"),ut.decoder&&(Ie=ut.decoder.write(Ie)),ut.objectMode&&null==Ie||!(ut.objectMode||Ie&&Ie.length)||xe.push(Ie)||(be=!0,pe.pause())}),pe)void 0===this[ce]&&"function"==typeof pe[ce]&&(this[ce]=function(at){return function(){return pe[at].apply(pe,arguments)}}(ce));for(var le=0;le<he.length;le++)pe.on(he[le],this.emit.bind(this,he[le]));return this._read=function(Ie){O("wrapped _read",Ie),be&&(be=!1,pe.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===ae&&(ae=S(78878)),ae(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(xe){this._readableState&&(this._readableState.flowing=xe)}}),E._fromList=J,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(pe,xe){return void 0===ve&&(ve=S(39586)),ve(E,pe,xe)})},869:(fe,V,S)=>{fe.exports=_;var M=S(23803).q,K=M.ERR_METHOD_NOT_IMPLEMENTED,B=M.ERR_MULTIPLE_CALLBACK,r=M.ERR_TRANSFORM_ALREADY_TRANSFORMING,y=M.ERR_TRANSFORM_WITH_LENGTH_0,f=S(86124);function g(j,v){var b=this._transformState;b.transforming=!1;var G=b.writecb;if(null===G)return this.emit("error",new B);b.writechunk=null,b.writecb=null,null!=v&&this.push(v),G(j);var z=this._readableState;z.reading=!1,(z.needReadable||z.length<z.highWaterMark)&&this._read(z.highWaterMark)}function _(j){if(!(this instanceof _))return new _(j);f.call(this,j),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,j&&("function"==typeof j.transform&&(this._transform=j.transform),"function"==typeof j.flush&&(this._flush=j.flush)),this.on("prefinish",P)}function P(){var j=this;"function"!=typeof this._flush||this._readableState.destroyed?O(this,null,null):this._flush(function(v,b){O(j,v,b)})}function O(j,v,b){if(v)return j.emit("error",v);if(null!=b&&j.push(b),j._writableState.length)throw new y;if(j._transformState.transforming)throw new r;return j.push(null)}S(55035)(_,f),_.prototype.push=function(j,v){return this._transformState.needTransform=!1,f.prototype.push.call(this,j,v)},_.prototype._transform=function(j,v,b){b(new K("_transform()"))},_.prototype._write=function(j,v,b){var G=this._transformState;if(G.writecb=b,G.writechunk=j,G.writeencoding=v,!G.transforming){var z=this._readableState;(G.needTransform||z.needReadable||z.length<z.highWaterMark)&&this._read(z.highWaterMark)}},_.prototype._read=function(j){var v=this._transformState;null===v.writechunk||v.transforming?v.needTransform=!0:(v.transforming=!0,this._transform(v.writechunk,v.writeencoding,v.afterTransform))},_.prototype._destroy=function(j,v){f.prototype._destroy.call(this,j,function(b){v(b)})}},36480:(fe,V,S)=>{function K(de){var J=this;this.next=null,this.entry=null,this.finish=function(){!function it(de,J,oe){var Ae=de.entry;for(de.entry=null;Ae;){var Ne=Ae.callback;J.pendingcb--,Ne(oe),Ae=Ae.next}J.corkedRequestsFree.next=de}(J,de)}}var B;fe.exports=R,R.WritableState=he;var x,r={deprecate:S(38059)},y=S(55628),f=S(13195).Buffer,g=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},O=S(55767),v=S(8003).getHighWaterMark,b=S(23803).q,G=b.ERR_INVALID_ARG_TYPE,z=b.ERR_METHOD_NOT_IMPLEMENTED,H=b.ERR_MULTIPLE_CALLBACK,ee=b.ERR_STREAM_CANNOT_PIPE,U=b.ERR_STREAM_DESTROYED,W=b.ERR_STREAM_NULL_VALUES,Y=b.ERR_STREAM_WRITE_AFTER_END,ae=b.ERR_UNKNOWN_ENCODING,ve=O.errorOrDestroy;function _e(){}function he(de,J,oe){B=B||S(86124),"boolean"!=typeof oe&&(oe=J instanceof B),this.objectMode=!!(de=de||{}).objectMode,oe&&(this.objectMode=this.objectMode||!!de.writableObjectMode),this.highWaterMark=v(this,de,"writableHighWaterMark",oe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===de.decodeStrings),this.defaultEncoding=de.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ne){!function ne(de,J){var oe=de._writableState,Ae=oe.sync,Ne=oe.writecb;if("function"!=typeof Ne)throw new H;if(function Re(de){de.writing=!1,de.writecb=null,de.length-=de.writelen,de.writelen=0}(oe),J)!function te(de,J,oe,Ae,Ne){--J.pendingcb,oe?(process.nextTick(Ne,Ae),process.nextTick(et,de,J),de._writableState.errorEmitted=!0,ve(de,Ae)):(Ne(Ae),de._writableState.errorEmitted=!0,ve(de,Ae),et(de,J))}(de,oe,Ae,J,Ne);else{var pe=tt(oe)||de.destroyed;!pe&&!oe.corked&&!oe.bufferProcessing&&oe.bufferedRequest&&Te(de,oe),Ae?process.nextTick(Fe,de,oe,pe,Ne):Fe(de,oe,pe,Ne)}}(J,Ne)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==de.emitClose,this.autoDestroy=!!de.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new K(this)}function R(de){var J=this instanceof(B=B||S(86124));if(!J&&!x.call(R,this))return new R(de);this._writableState=new he(de,this,J),this.writable=!0,de&&("function"==typeof de.write&&(this._write=de.write),"function"==typeof de.writev&&(this._writev=de.writev),"function"==typeof de.destroy&&(this._destroy=de.destroy),"function"==typeof de.final&&(this._final=de.final)),y.call(this)}function Q(de,J,oe,Ae,Ne,pe,xe){J.writelen=Ae,J.writecb=xe,J.writing=!0,J.sync=!0,J.destroyed?J.onwrite(new U("write")):oe?de._writev(Ne,J.onwrite):de._write(Ne,pe,J.onwrite),J.sync=!1}function Fe(de,J,oe,Ae){oe||function rt(de,J){0===J.length&&J.needDrain&&(J.needDrain=!1,de.emit("drain"))}(de,J),J.pendingcb--,Ae(),et(de,J)}function Te(de,J){J.bufferProcessing=!0;var oe=J.bufferedRequest;if(de._writev&&oe&&oe.next){var Ne=new Array(J.bufferedRequestCount),pe=J.corkedRequestsFree;pe.entry=oe;for(var xe=0,ut=!0;oe;)Ne[xe]=oe,oe.isBuf||(ut=!1),oe=oe.next,xe+=1;Ne.allBuffers=ut,Q(de,J,!0,J.length,Ne,"",pe.finish),J.pendingcb++,J.lastBufferedRequest=null,pe.next?(J.corkedRequestsFree=pe.next,pe.next=null):J.corkedRequestsFree=new K(J),J.bufferedRequestCount=0}else{for(;oe;){var be=oe.chunk;if(Q(de,J,!1,J.objectMode?1:be.length,be,oe.encoding,oe.callback),oe=oe.next,J.bufferedRequestCount--,J.writing)break}null===oe&&(J.lastBufferedRequest=null)}J.bufferedRequest=oe,J.bufferProcessing=!1}function tt(de){return de.ending&&0===de.length&&null===de.bufferedRequest&&!de.finished&&!de.writing}function Qe(de,J){de._final(function(oe){J.pendingcb--,oe&&ve(de,oe),J.prefinished=!0,de.emit("prefinish"),et(de,J)})}function et(de,J){var oe=tt(J);if(oe&&(function vt(de,J){!J.prefinished&&!J.finalCalled&&("function"!=typeof de._final||J.destroyed?(J.prefinished=!0,de.emit("prefinish")):(J.pendingcb++,J.finalCalled=!0,process.nextTick(Qe,de,J)))}(de,J),0===J.pendingcb&&(J.finished=!0,de.emit("finish"),J.autoDestroy))){var Ae=de._readableState;(!Ae||Ae.autoDestroy&&Ae.endEmitted)&&de.destroy()}return oe}S(55035)(R,y),he.prototype.getBuffer=function(){for(var J=this.bufferedRequest,oe=[];J;)oe.push(J),J=J.next;return oe},function(){try{Object.defineProperty(he.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(J){return!!x.call(this,J)||this===R&&J&&J._writableState instanceof he}})):x=function(J){return J instanceof this},R.prototype.pipe=function(){ve(this,new ee)},R.prototype.write=function(de,J,oe){var Ae=this._writableState,Ne=!1,pe=!Ae.objectMode&&function P(de){return f.isBuffer(de)||de instanceof g}(de);return pe&&!f.isBuffer(de)&&(de=function _(de){return f.from(de)}(de)),"function"==typeof J&&(oe=J,J=null),pe?J="buffer":J||(J=Ae.defaultEncoding),"function"!=typeof oe&&(oe=_e),Ae.ending?function E(de,J){var oe=new Y;ve(de,oe),process.nextTick(J,oe)}(this,oe):(pe||function I(de,J,oe,Ae){var Ne;return null===oe?Ne=new W:"string"!=typeof oe&&!J.objectMode&&(Ne=new G("chunk",["string","Buffer"],oe)),!Ne||(ve(de,Ne),process.nextTick(Ae,Ne),!1)}(this,Ae,de,oe))&&(Ae.pendingcb++,Ne=function D(de,J,oe,Ae,Ne,pe){if(!oe){var xe=function L(de,J,oe){return!de.objectMode&&!1!==de.decodeStrings&&"string"==typeof J&&(J=f.from(J,oe)),J}(J,Ae,Ne);Ae!==xe&&(oe=!0,Ne="buffer",Ae=xe)}var ut=J.objectMode?1:Ae.length;J.length+=ut;var be=J.length<J.highWaterMark;if(be||(J.needDrain=!0),J.writing||J.corked){var ce=J.lastBufferedRequest;J.lastBufferedRequest={chunk:Ae,encoding:Ne,isBuf:oe,callback:pe,next:null},ce?ce.next=J.lastBufferedRequest:J.bufferedRequest=J.lastBufferedRequest,J.bufferedRequestCount+=1}else Q(de,J,!1,ut,Ae,Ne,pe);return be}(this,Ae,pe,de,J,oe)),Ne},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var de=this._writableState;de.corked&&(de.corked--,!de.writing&&!de.corked&&!de.bufferProcessing&&de.bufferedRequest&&Te(this,de))},R.prototype.setDefaultEncoding=function(J){if("string"==typeof J&&(J=J.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((J+"").toLowerCase())>-1))throw new ae(J);return this._writableState.defaultEncoding=J,this},Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(de,J,oe){oe(new z("_write()"))},R.prototype._writev=null,R.prototype.end=function(de,J,oe){var Ae=this._writableState;return"function"==typeof de?(oe=de,de=null,J=null):"function"==typeof J&&(oe=J,J=null),null!=de&&this.write(de,J),Ae.corked&&(Ae.corked=1,this.uncork()),Ae.ending||function je(de,J,oe){J.ending=!0,et(de,J),oe&&(J.finished?process.nextTick(oe):de.once("finish",oe)),J.ended=!0,de.writable=!1}(this,Ae,oe),this},Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(J){this._writableState&&(this._writableState.destroyed=J)}}),R.prototype.destroy=O.destroy,R.prototype._undestroy=O.undestroy,R.prototype._destroy=function(de,J){J(de)}},78878:(fe,V,S)=>{var M;function K(Y,ae,ve){return ae=function B(Y){var ae=function r(Y,ae){if("object"!=typeof Y||null===Y)return Y;var ve=Y[Symbol.toPrimitive];if(void 0!==ve){var _e=ve.call(Y,ae||"default");if("object"!=typeof _e)return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ae?String:Number)(Y)}(Y,"string");return"symbol"==typeof ae?ae:String(ae)}(ae),ae in Y?Object.defineProperty(Y,ae,{value:ve,enumerable:!0,configurable:!0,writable:!0}):Y[ae]=ve,Y}var y=S(48938),f=Symbol("lastResolve"),g=Symbol("lastReject"),_=Symbol("error"),P=Symbol("ended"),O=Symbol("lastPromise"),j=Symbol("handlePromise"),v=Symbol("stream");function b(Y,ae){return{value:Y,done:ae}}function G(Y){var ae=Y[f];if(null!==ae){var ve=Y[v].read();null!==ve&&(Y[O]=null,Y[f]=null,Y[g]=null,ae(b(ve,!1)))}}function z(Y){process.nextTick(G,Y)}var ee=Object.getPrototypeOf(function(){}),U=Object.setPrototypeOf((K(M={get stream(){return this[v]},next:function(){var ae=this,ve=this[_];if(null!==ve)return Promise.reject(ve);if(this[P])return Promise.resolve(b(void 0,!0));if(this[v].destroyed)return new Promise(function(R,E){process.nextTick(function(){ae[_]?E(ae[_]):R(b(void 0,!0))})});var he,_e=this[O];if(_e)he=new Promise(function H(Y,ae){return function(ve,_e){Y.then(function(){ae[P]?ve(b(void 0,!0)):ae[j](ve,_e)},_e)}}(_e,this));else{var x=this[v].read();if(null!==x)return Promise.resolve(b(x,!1));he=new Promise(this[j])}return this[O]=he,he}},Symbol.asyncIterator,function(){return this}),K(M,"return",function(){var ae=this;return new Promise(function(ve,_e){ae[v].destroy(null,function(he){he?_e(he):ve(b(void 0,!0))})})}),M),ee);fe.exports=function(ae){var ve,_e=Object.create(U,(K(ve={},v,{value:ae,writable:!0}),K(ve,f,{value:null,writable:!0}),K(ve,g,{value:null,writable:!0}),K(ve,_,{value:null,writable:!0}),K(ve,P,{value:ae._readableState.endEmitted,writable:!0}),K(ve,j,{value:function(x,R){var E=_e[v].read();E?(_e[O]=null,_e[f]=null,_e[g]=null,x(b(E,!1))):(_e[f]=x,_e[g]=R)},writable:!0}),ve));return _e[O]=null,y(ae,function(he){if(he&&"ERR_STREAM_PREMATURE_CLOSE"!==he.code){var x=_e[g];return null!==x&&(_e[O]=null,_e[f]=null,_e[g]=null,x(he)),void(_e[_]=he)}var R=_e[f];null!==R&&(_e[O]=null,_e[f]=null,_e[g]=null,R(b(void 0,!0))),_e[P]=!0}),ae.on("readable",z.bind(null,_e)),_e}},78197:(fe,V,S)=>{function M(z,H){var ee=Object.keys(z);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(z);H&&(U=U.filter(function(W){return Object.getOwnPropertyDescriptor(z,W).enumerable})),ee.push.apply(ee,U)}return ee}function K(z){for(var H=1;H<arguments.length;H++){var ee=null!=arguments[H]?arguments[H]:{};H%2?M(Object(ee),!0).forEach(function(U){B(z,U,ee[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(ee)):M(Object(ee)).forEach(function(U){Object.defineProperty(z,U,Object.getOwnPropertyDescriptor(ee,U))})}return z}function B(z,H,ee){return(H=g(H))in z?Object.defineProperty(z,H,{value:ee,enumerable:!0,configurable:!0,writable:!0}):z[H]=ee,z}function y(z,H){for(var ee=0;ee<H.length;ee++){var U=H[ee];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(z,g(U.key),U)}}function g(z){var H=function _(z,H){if("object"!=typeof z||null===z)return z;var ee=z[Symbol.toPrimitive];if(void 0!==ee){var U=ee.call(z,H||"default");if("object"!=typeof U)return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===H?String:Number)(z)}(z,"string");return"symbol"==typeof H?H:String(H)}var O=S(13195).Buffer,v=S(69862).inspect,b=v&&v.custom||"inspect";function G(z,H,ee){O.prototype.copy.call(z,H,ee)}fe.exports=function(){function z(){(function r(z,H){if(!(z instanceof H))throw new TypeError("Cannot call a class as a function")})(this,z),this.head=null,this.tail=null,this.length=0}return function f(z,H,ee){H&&y(z.prototype,H),ee&&y(z,ee),Object.defineProperty(z,"prototype",{writable:!1})}(z,[{key:"push",value:function(ee){var U={data:ee,next:null};this.length>0?this.tail.next=U:this.head=U,this.tail=U,++this.length}},{key:"unshift",value:function(ee){var U={data:ee,next:this.head};0===this.length&&(this.tail=U),this.head=U,++this.length}},{key:"shift",value:function(){if(0!==this.length){var ee=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,ee}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(ee){if(0===this.length)return"";for(var U=this.head,W=""+U.data;U=U.next;)W+=ee+U.data;return W}},{key:"concat",value:function(ee){if(0===this.length)return O.alloc(0);for(var U=O.allocUnsafe(ee>>>0),W=this.head,Y=0;W;)G(W.data,U,Y),Y+=W.data.length,W=W.next;return U}},{key:"consume",value:function(ee,U){var W;return ee<this.head.data.length?(W=this.head.data.slice(0,ee),this.head.data=this.head.data.slice(ee)):W=ee===this.head.data.length?this.shift():U?this._getString(ee):this._getBuffer(ee),W}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(ee){var U=this.head,W=1,Y=U.data;for(ee-=Y.length;U=U.next;){var ae=U.data,ve=ee>ae.length?ae.length:ee;if(Y+=ve===ae.length?ae:ae.slice(0,ee),0==(ee-=ve)){ve===ae.length?(++W,this.head=U.next?U.next:this.tail=null):(this.head=U,U.data=ae.slice(ve));break}++W}return this.length-=W,Y}},{key:"_getBuffer",value:function(ee){var U=O.allocUnsafe(ee),W=this.head,Y=1;for(W.data.copy(U),ee-=W.data.length;W=W.next;){var ae=W.data,ve=ee>ae.length?ae.length:ee;if(ae.copy(U,U.length-ee,0,ve),0==(ee-=ve)){ve===ae.length?(++Y,this.head=W.next?W.next:this.tail=null):(this.head=W,W.data=ae.slice(ve));break}++Y}return this.length-=Y,U}},{key:b,value:function(ee,U){return v(this,K(K({},U),{},{depth:0,customInspect:!1}))}}]),z}()},55767:fe=>{function S(y,f){B(y,f),M(y)}function M(y){y._writableState&&!y._writableState.emitClose||y._readableState&&!y._readableState.emitClose||y.emit("close")}function B(y,f){y.emit("error",f)}fe.exports={destroy:function V(y,f){var g=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(f?f(y):y&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(B,this,y)):process.nextTick(B,this,y)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(y||null,function(O){!f&&O?g._writableState?g._writableState.errorEmitted?process.nextTick(M,g):(g._writableState.errorEmitted=!0,process.nextTick(S,g,O)):process.nextTick(S,g,O):f?(process.nextTick(M,g),f(O)):process.nextTick(M,g)}),this)},undestroy:function K(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function r(y,f){var g=y._readableState,_=y._writableState;g&&g.autoDestroy||_&&_.autoDestroy?y.destroy(f):y.emit("error",f)}}},48938:(fe,V,S)=>{var M=S(23803).q.ERR_STREAM_PREMATURE_CLOSE;function B(){}fe.exports=function y(f,g,_){if("function"==typeof g)return y(f,null,g);g||(g={}),_=function K(f){var g=!1;return function(){if(!g){g=!0;for(var _=arguments.length,P=new Array(_),O=0;O<_;O++)P[O]=arguments[O];f.apply(this,P)}}}(_||B);var P=g.readable||!1!==g.readable&&f.readable,O=g.writable||!1!==g.writable&&f.writable,j=function(){f.writable||b()},v=f._writableState&&f._writableState.finished,b=function(){O=!1,v=!0,P||_.call(f)},G=f._readableState&&f._readableState.endEmitted,z=function(){P=!1,G=!0,O||_.call(f)},H=function(Y){_.call(f,Y)},ee=function(){var Y;return P&&!G?((!f._readableState||!f._readableState.ended)&&(Y=new M),_.call(f,Y)):O&&!v?((!f._writableState||!f._writableState.ended)&&(Y=new M),_.call(f,Y)):void 0},U=function(){f.req.on("finish",b)};return function r(f){return f.setHeader&&"function"==typeof f.abort}(f)?(f.on("complete",b),f.on("abort",ee),f.req?U():f.on("request",U)):O&&!f._writableState&&(f.on("end",j),f.on("close",j)),f.on("end",z),f.on("finish",b),!1!==g.error&&f.on("error",H),f.on("close",ee),function(){f.removeListener("complete",b),f.removeListener("abort",ee),f.removeListener("request",U),f.req&&f.req.removeListener("finish",b),f.removeListener("end",j),f.removeListener("close",j),f.removeListener("finish",b),f.removeListener("end",z),f.removeListener("error",H),f.removeListener("close",ee)}}},39586:fe=>{fe.exports=function(){throw new Error("Readable.from is not available in the browser")}},29719:(fe,V,S)=>{var M,B=S(23803).q,r=B.ERR_MISSING_ARGS,y=B.ERR_STREAM_DESTROYED;function f(b){if(b)throw b}function P(b){b()}function O(b,G){return b.pipe(G)}fe.exports=function v(){for(var b=arguments.length,G=new Array(b),z=0;z<b;z++)G[z]=arguments[z];var H=function j(b){return b.length&&"function"==typeof b[b.length-1]?b.pop():f}(G);if(Array.isArray(G[0])&&(G=G[0]),G.length<2)throw new r("streams");var ee,U=G.map(function(W,Y){var ae=Y<G.length-1;return function _(b,G,z,H){H=function K(b){var G=!1;return function(){G||(G=!0,b.apply(void 0,arguments))}}(H);var ee=!1;b.on("close",function(){ee=!0}),void 0===M&&(M=S(48938)),M(b,{readable:G,writable:z},function(W){if(W)return H(W);ee=!0,H()});var U=!1;return function(W){if(!ee&&!U){if(U=!0,function g(b){return b.setHeader&&"function"==typeof b.abort}(b))return b.abort();if("function"==typeof b.destroy)return b.destroy();H(W||new y("pipe"))}}}(W,ae,Y>0,function(_e){ee||(ee=_e),_e&&U.forEach(P),!ae&&(U.forEach(P),H(ee))})});return G.reduce(O)}},8003:(fe,V,S)=>{var M=S(23803).q.ERR_INVALID_OPT_VALUE;fe.exports={getHighWaterMark:function B(r,y,f,g){var _=function K(r,y,f){return null!=r.highWaterMark?r.highWaterMark:y?r[f]:null}(y,g,f);if(null!=_){if(!isFinite(_)||Math.floor(_)!==_||_<0)throw new M(g?f:"highWaterMark",_);return Math.floor(_)}return r.objectMode?16:16384}}},55628:(fe,V,S)=>{fe.exports=S(83358).EventEmitter},4547:(fe,V,S)=>{var M=S(57475).Buffer,K=M.isEncoding||function(U){switch((U=""+U)&&U.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function y(U){var W;switch(this.encoding=function r(U){var W=function B(U){if(!U)return"utf8";for(var W;;)switch(U){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return U;default:if(W)return;U=(""+U).toLowerCase(),W=!0}}(U);if("string"!=typeof W&&(M.isEncoding===K||!K(U)))throw new Error("Unknown encoding: "+U);return W||U}(U),this.encoding){case"utf16le":this.text=v,this.end=b,W=4;break;case"utf8":this.fillLast=P,W=4;break;case"base64":this.text=G,this.end=z,W=3;break;default:return this.write=H,void(this.end=ee)}this.lastNeed=0,this.lastTotal=0,this.lastChar=M.allocUnsafe(W)}function f(U){return U<=127?0:U>>5==6?2:U>>4==14?3:U>>3==30?4:U>>6==2?-1:-2}function P(U){var W=this.lastTotal-this.lastNeed,Y=function _(U,W,Y){if(128!=(192&W[0]))return U.lastNeed=0,"\ufffd";if(U.lastNeed>1&&W.length>1){if(128!=(192&W[1]))return U.lastNeed=1,"\ufffd";if(U.lastNeed>2&&W.length>2&&128!=(192&W[2]))return U.lastNeed=2,"\ufffd"}}(this,U);return void 0!==Y?Y:this.lastNeed<=U.length?(U.copy(this.lastChar,W,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(U.copy(this.lastChar,W,0,U.length),void(this.lastNeed-=U.length))}function v(U,W){if((U.length-W)%2==0){var Y=U.toString("utf16le",W);if(Y){var ae=Y.charCodeAt(Y.length-1);if(ae>=55296&&ae<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=U[U.length-2],this.lastChar[1]=U[U.length-1],Y.slice(0,-1)}return Y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=U[U.length-1],U.toString("utf16le",W,U.length-1)}function b(U){var W=U&&U.length?this.write(U):"";return this.lastNeed?W+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):W}function G(U,W){var Y=(U.length-W)%3;return 0===Y?U.toString("base64",W):(this.lastNeed=3-Y,this.lastTotal=3,1===Y?this.lastChar[0]=U[U.length-1]:(this.lastChar[0]=U[U.length-2],this.lastChar[1]=U[U.length-1]),U.toString("base64",W,U.length-Y))}function z(U){var W=U&&U.length?this.write(U):"";return this.lastNeed?W+this.lastChar.toString("base64",0,3-this.lastNeed):W}function H(U){return U.toString(this.encoding)}function ee(U){return U&&U.length?this.write(U):""}V.s=y,y.prototype.write=function(U){if(0===U.length)return"";var W,Y;if(this.lastNeed){if(void 0===(W=this.fillLast(U)))return"";Y=this.lastNeed,this.lastNeed=0}else Y=0;return Y<U.length?W?W+this.text(U,Y):this.text(U,Y):W||""},y.prototype.end=function j(U){var W=U&&U.length?this.write(U):"";return this.lastNeed?W+"\ufffd":W},y.prototype.text=function O(U,W){var Y=function g(U,W,Y){var ae=W.length-1;if(ae<Y)return 0;var ve=f(W[ae]);return ve>=0?(ve>0&&(U.lastNeed=ve-1),ve):--ae<Y||-2===ve?0:(ve=f(W[ae]))>=0?(ve>0&&(U.lastNeed=ve-2),ve):--ae<Y||-2===ve?0:(ve=f(W[ae]))>=0?(ve>0&&(2===ve?ve=0:U.lastNeed=ve-3),ve):0}(this,U,W);if(!this.lastNeed)return U.toString("utf8",W);this.lastTotal=Y;var ae=U.length-(Y-this.lastNeed);return U.copy(this.lastChar,0,ae),U.toString("utf8",W,ae)},y.prototype.fillLast=function(U){if(this.lastNeed<=U.length)return U.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);U.copy(this.lastChar,this.lastTotal-this.lastNeed,0,U.length),this.lastNeed-=U.length}},57475:(fe,V,S)=>{var M=S(13195),K=M.Buffer;function B(y,f){for(var g in y)f[g]=y[g]}function r(y,f,g){return K(y,f,g)}K.from&&K.alloc&&K.allocUnsafe&&K.allocUnsafeSlow?fe.exports=M:(B(M,V),V.Buffer=r),B(K,r),r.from=function(y,f,g){if("number"==typeof y)throw new TypeError("Argument must not be a number");return K(y,f,g)},r.alloc=function(y,f,g){if("number"!=typeof y)throw new TypeError("Argument must be a number");var _=K(y);return void 0!==f?"string"==typeof g?_.fill(f,g):_.fill(f):_.fill(0),_},r.allocUnsafe=function(y){if("number"!=typeof y)throw new TypeError("Argument must be a number");return K(y)},r.allocUnsafeSlow=function(y){if("number"!=typeof y)throw new TypeError("Argument must be a number");return M.SlowBuffer(y)}},48372:fe=>{var V=/^[-+]?0x[a-fA-F0-9]+$/,S=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var M={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};fe.exports=function K(r){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y=Object.assign({},M,y),!r||"string"!=typeof r)return r;var f=r.trim();if(void 0!==y.skipLike&&y.skipLike.test(f))return r;if(y.hex&&V.test(f))return Number.parseInt(f,16);var g=S.exec(f);if(g){var _=g[1],P=g[2],O=function B(r){return r&&-1!==r.indexOf(".")&&("."===(r=r.replace(/0+$/,""))?r="0":"."===r[0]?r="0"+r:"."===r[r.length-1]&&(r=r.substr(0,r.length-1))),r}(g[3]),j=g[4]||g[6];if(!y.leadingZeros&&P.length>0&&_&&"."!==f[2])return r;if(!y.leadingZeros&&P.length>0&&!_&&"."!==f[1])return r;var v=Number(f),b=""+v;return-1!==b.search(/[eE]/)||j?y.eNotation?v:r:-1!==f.indexOf(".")?"0"===b&&""===O||b===O||_&&b==="-"+O?v:r:P?O===b||_+O===b?v:r:f===b||f===_+b?v:r}return r}},38059:fe=>{function S(M){try{if(!global.localStorage)return!1}catch{return!1}var K=global.localStorage[M];return null!=K&&"true"===String(K).toLowerCase()}fe.exports=function V(M,K){if(S("noDeprecation"))return M;var B=!1;return function r(){if(!B){if(S("throwDeprecation"))throw new Error(K);S("traceDeprecation")?console.trace(K):console.warn(K),B=!0}return M.apply(this,arguments)}}},92361:(fe,V,S)=>{S.r(V),S.d(V,{__assign:()=>B,__asyncDelegator:()=>U,__asyncGenerator:()=>ee,__asyncValues:()=>W,__await:()=>H,__awaiter:()=>_,__classPrivateFieldGet:()=>_e,__classPrivateFieldSet:()=>he,__createBinding:()=>O,__decorate:()=>y,__exportStar:()=>j,__extends:()=>K,__generator:()=>P,__importDefault:()=>ve,__importStar:()=>ae,__makeTemplateObject:()=>Y,__metadata:()=>g,__param:()=>f,__read:()=>b,__rest:()=>r,__spread:()=>G,__spreadArrays:()=>z,__values:()=>v});var M=function(x,R){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var L in I)I.hasOwnProperty(L)&&(E[L]=I[L])})(x,R)};function K(x,R){function E(){this.constructor=x}M(x,R),x.prototype=null===R?Object.create(R):(E.prototype=R.prototype,new E)}var B=function(){return B=Object.assign||function(R){for(var E,I=1,L=arguments.length;I<L;I++)for(var D in E=arguments[I])Object.prototype.hasOwnProperty.call(E,D)&&(R[D]=E[D]);return R},B.apply(this,arguments)};function r(x,R){var E={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&R.indexOf(I)<0&&(E[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(I=Object.getOwnPropertySymbols(x);L<I.length;L++)R.indexOf(I[L])<0&&Object.prototype.propertyIsEnumerable.call(x,I[L])&&(E[I[L]]=x[I[L]])}return E}function y(x,R,E,I){var Q,L=arguments.length,D=L<3?R:null===I?I=Object.getOwnPropertyDescriptor(R,E):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(x,R,E,I);else for(var te=x.length-1;te>=0;te--)(Q=x[te])&&(D=(L<3?Q(D):L>3?Q(R,E,D):Q(R,E))||D);return L>3&&D&&Object.defineProperty(R,E,D),D}function f(x,R){return function(E,I){R(E,I,x)}}function g(x,R){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,R)}function _(x,R,E,I){return new(E||(E=Promise))(function(D,Q){function te(Fe){try{ne(I.next(Fe))}catch(rt){Q(rt)}}function Re(Fe){try{ne(I.throw(Fe))}catch(rt){Q(rt)}}function ne(Fe){Fe.done?D(Fe.value):function L(D){return D instanceof E?D:new E(function(Q){Q(D)})}(Fe.value).then(te,Re)}ne((I=I.apply(x,R||[])).next())})}function P(x,R){var I,L,D,Q,E={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return Q={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(Q[Symbol.iterator]=function(){return this}),Q;function te(ne){return function(Fe){return function Re(ne){if(I)throw new TypeError("Generator is already executing.");for(;E;)try{if(I=1,L&&(D=2&ne[0]?L.return:ne[0]?L.throw||((D=L.return)&&D.call(L),0):L.next)&&!(D=D.call(L,ne[1])).done)return D;switch(L=0,D&&(ne=[2&ne[0],D.value]),ne[0]){case 0:case 1:D=ne;break;case 4:return E.label++,{value:ne[1],done:!1};case 5:E.label++,L=ne[1],ne=[0];continue;case 7:ne=E.ops.pop(),E.trys.pop();continue;default:if(!(D=(D=E.trys).length>0&&D[D.length-1])&&(6===ne[0]||2===ne[0])){E=0;continue}if(3===ne[0]&&(!D||ne[1]>D[0]&&ne[1]<D[3])){E.label=ne[1];break}if(6===ne[0]&&E.label<D[1]){E.label=D[1],D=ne;break}if(D&&E.label<D[2]){E.label=D[2],E.ops.push(ne);break}D[2]&&E.ops.pop(),E.trys.pop();continue}ne=R.call(x,E)}catch(Fe){ne=[6,Fe],L=0}finally{I=D=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ne,Fe])}}}function O(x,R,E,I){void 0===I&&(I=E),x[I]=R[E]}function j(x,R){for(var E in x)"default"!==E&&!R.hasOwnProperty(E)&&(R[E]=x[E])}function v(x){var R="function"==typeof Symbol&&Symbol.iterator,E=R&&x[R],I=0;if(E)return E.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(x,R){var E="function"==typeof Symbol&&x[Symbol.iterator];if(!E)return x;var L,Q,I=E.call(x),D=[];try{for(;(void 0===R||R-- >0)&&!(L=I.next()).done;)D.push(L.value)}catch(te){Q={error:te}}finally{try{L&&!L.done&&(E=I.return)&&E.call(I)}finally{if(Q)throw Q.error}}return D}function G(){for(var x=[],R=0;R<arguments.length;R++)x=x.concat(b(arguments[R]));return x}function z(){for(var x=0,R=0,E=arguments.length;R<E;R++)x+=arguments[R].length;var I=Array(x),L=0;for(R=0;R<E;R++)for(var D=arguments[R],Q=0,te=D.length;Q<te;Q++,L++)I[L]=D[Q];return I}function H(x){return this instanceof H?(this.v=x,this):new H(x)}function ee(x,R,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,I=E.apply(x,R||[]),D=[];return L={},Q("next"),Q("throw"),Q("return"),L[Symbol.asyncIterator]=function(){return this},L;function Q(Te){I[Te]&&(L[Te]=function(tt){return new Promise(function(Qe,vt){D.push([Te,tt,Qe,vt])>1||te(Te,tt)})})}function te(Te,tt){try{!function Re(Te){Te.value instanceof H?Promise.resolve(Te.value.v).then(ne,Fe):rt(D[0][2],Te)}(I[Te](tt))}catch(Qe){rt(D[0][3],Qe)}}function ne(Te){te("next",Te)}function Fe(Te){te("throw",Te)}function rt(Te,tt){Te(tt),D.shift(),D.length&&te(D[0][0],D[0][1])}}function U(x){var R,E;return R={},I("next"),I("throw",function(L){throw L}),I("return"),R[Symbol.iterator]=function(){return this},R;function I(L,D){R[L]=x[L]?function(Q){return(E=!E)?{value:H(x[L](Q)),done:"return"===L}:D?D(Q):Q}:D}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E,R=x[Symbol.asyncIterator];return R?R.call(x):(x=v(x),E={},I("next"),I("throw"),I("return"),E[Symbol.asyncIterator]=function(){return this},E);function I(D){E[D]=x[D]&&function(Q){return new Promise(function(te,Re){!function L(D,Q,te,Re){Promise.resolve(Re).then(function(ne){D({value:ne,done:te})},Q)}(te,Re,(Q=x[D](Q)).done,Q.value)})}}}function Y(x,R){return Object.defineProperty?Object.defineProperty(x,"raw",{value:R}):x.raw=R,x}function ae(x){if(x&&x.__esModule)return x;var R={};if(null!=x)for(var E in x)Object.hasOwnProperty.call(x,E)&&(R[E]=x[E]);return R.default=x,R}function ve(x){return x&&x.__esModule?x:{default:x}}function _e(x,R){if(!R.has(x))throw new TypeError("attempted to get private field on non-instance");return R.get(x)}function he(x,R,E){if(!R.has(x))throw new TypeError("attempted to set private field on non-instance");return R.set(x,E),E}},30070:(fe,V,S)=>{S.r(V),S.d(V,{__assign:()=>B,__asyncDelegator:()=>U,__asyncGenerator:()=>ee,__asyncValues:()=>W,__await:()=>H,__awaiter:()=>_,__classPrivateFieldGet:()=>_e,__classPrivateFieldSet:()=>he,__createBinding:()=>O,__decorate:()=>y,__exportStar:()=>j,__extends:()=>K,__generator:()=>P,__importDefault:()=>ve,__importStar:()=>ae,__makeTemplateObject:()=>Y,__metadata:()=>g,__param:()=>f,__read:()=>b,__rest:()=>r,__spread:()=>G,__spreadArrays:()=>z,__values:()=>v});var M=function(x,R){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var L in I)I.hasOwnProperty(L)&&(E[L]=I[L])})(x,R)};function K(x,R){function E(){this.constructor=x}M(x,R),x.prototype=null===R?Object.create(R):(E.prototype=R.prototype,new E)}var B=function(){return B=Object.assign||function(R){for(var E,I=1,L=arguments.length;I<L;I++)for(var D in E=arguments[I])Object.prototype.hasOwnProperty.call(E,D)&&(R[D]=E[D]);return R},B.apply(this,arguments)};function r(x,R){var E={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&R.indexOf(I)<0&&(E[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(I=Object.getOwnPropertySymbols(x);L<I.length;L++)R.indexOf(I[L])<0&&Object.prototype.propertyIsEnumerable.call(x,I[L])&&(E[I[L]]=x[I[L]])}return E}function y(x,R,E,I){var Q,L=arguments.length,D=L<3?R:null===I?I=Object.getOwnPropertyDescriptor(R,E):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(x,R,E,I);else for(var te=x.length-1;te>=0;te--)(Q=x[te])&&(D=(L<3?Q(D):L>3?Q(R,E,D):Q(R,E))||D);return L>3&&D&&Object.defineProperty(R,E,D),D}function f(x,R){return function(E,I){R(E,I,x)}}function g(x,R){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,R)}function _(x,R,E,I){return new(E||(E=Promise))(function(D,Q){function te(Fe){try{ne(I.next(Fe))}catch(rt){Q(rt)}}function Re(Fe){try{ne(I.throw(Fe))}catch(rt){Q(rt)}}function ne(Fe){Fe.done?D(Fe.value):function L(D){return D instanceof E?D:new E(function(Q){Q(D)})}(Fe.value).then(te,Re)}ne((I=I.apply(x,R||[])).next())})}function P(x,R){var I,L,D,Q,E={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return Q={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(Q[Symbol.iterator]=function(){return this}),Q;function te(ne){return function(Fe){return function Re(ne){if(I)throw new TypeError("Generator is already executing.");for(;E;)try{if(I=1,L&&(D=2&ne[0]?L.return:ne[0]?L.throw||((D=L.return)&&D.call(L),0):L.next)&&!(D=D.call(L,ne[1])).done)return D;switch(L=0,D&&(ne=[2&ne[0],D.value]),ne[0]){case 0:case 1:D=ne;break;case 4:return E.label++,{value:ne[1],done:!1};case 5:E.label++,L=ne[1],ne=[0];continue;case 7:ne=E.ops.pop(),E.trys.pop();continue;default:if(!(D=(D=E.trys).length>0&&D[D.length-1])&&(6===ne[0]||2===ne[0])){E=0;continue}if(3===ne[0]&&(!D||ne[1]>D[0]&&ne[1]<D[3])){E.label=ne[1];break}if(6===ne[0]&&E.label<D[1]){E.label=D[1],D=ne;break}if(D&&E.label<D[2]){E.label=D[2],E.ops.push(ne);break}D[2]&&E.ops.pop(),E.trys.pop();continue}ne=R.call(x,E)}catch(Fe){ne=[6,Fe],L=0}finally{I=D=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ne,Fe])}}}function O(x,R,E,I){void 0===I&&(I=E),x[I]=R[E]}function j(x,R){for(var E in x)"default"!==E&&!R.hasOwnProperty(E)&&(R[E]=x[E])}function v(x){var R="function"==typeof Symbol&&Symbol.iterator,E=R&&x[R],I=0;if(E)return E.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(x,R){var E="function"==typeof Symbol&&x[Symbol.iterator];if(!E)return x;var L,Q,I=E.call(x),D=[];try{for(;(void 0===R||R-- >0)&&!(L=I.next()).done;)D.push(L.value)}catch(te){Q={error:te}}finally{try{L&&!L.done&&(E=I.return)&&E.call(I)}finally{if(Q)throw Q.error}}return D}function G(){for(var x=[],R=0;R<arguments.length;R++)x=x.concat(b(arguments[R]));return x}function z(){for(var x=0,R=0,E=arguments.length;R<E;R++)x+=arguments[R].length;var I=Array(x),L=0;for(R=0;R<E;R++)for(var D=arguments[R],Q=0,te=D.length;Q<te;Q++,L++)I[L]=D[Q];return I}function H(x){return this instanceof H?(this.v=x,this):new H(x)}function ee(x,R,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,I=E.apply(x,R||[]),D=[];return L={},Q("next"),Q("throw"),Q("return"),L[Symbol.asyncIterator]=function(){return this},L;function Q(Te){I[Te]&&(L[Te]=function(tt){return new Promise(function(Qe,vt){D.push([Te,tt,Qe,vt])>1||te(Te,tt)})})}function te(Te,tt){try{!function Re(Te){Te.value instanceof H?Promise.resolve(Te.value.v).then(ne,Fe):rt(D[0][2],Te)}(I[Te](tt))}catch(Qe){rt(D[0][3],Qe)}}function ne(Te){te("next",Te)}function Fe(Te){te("throw",Te)}function rt(Te,tt){Te(tt),D.shift(),D.length&&te(D[0][0],D[0][1])}}function U(x){var R,E;return R={},I("next"),I("throw",function(L){throw L}),I("return"),R[Symbol.iterator]=function(){return this},R;function I(L,D){R[L]=x[L]?function(Q){return(E=!E)?{value:H(x[L](Q)),done:"return"===L}:D?D(Q):Q}:D}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E,R=x[Symbol.asyncIterator];return R?R.call(x):(x=v(x),E={},I("next"),I("throw"),I("return"),E[Symbol.asyncIterator]=function(){return this},E);function I(D){E[D]=x[D]&&function(Q){return new Promise(function(te,Re){!function L(D,Q,te,Re){Promise.resolve(Re).then(function(ne){D({value:ne,done:te})},Q)}(te,Re,(Q=x[D](Q)).done,Q.value)})}}}function Y(x,R){return Object.defineProperty?Object.defineProperty(x,"raw",{value:R}):x.raw=R,x}function ae(x){if(x&&x.__esModule)return x;var R={};if(null!=x)for(var E in x)Object.hasOwnProperty.call(x,E)&&(R[E]=x[E]);return R.default=x,R}function ve(x){return x&&x.__esModule?x:{default:x}}function _e(x,R){if(!R.has(x))throw new TypeError("attempted to get private field on non-instance");return R.get(x)}function he(x,R,E){if(!R.has(x))throw new TypeError("attempted to set private field on non-instance");return R.set(x,E),E}},99055:(fe,V,S)=>{S.r(V),S.d(V,{__assign:()=>B,__asyncDelegator:()=>U,__asyncGenerator:()=>ee,__asyncValues:()=>W,__await:()=>H,__awaiter:()=>_,__classPrivateFieldGet:()=>_e,__classPrivateFieldSet:()=>he,__createBinding:()=>O,__decorate:()=>y,__exportStar:()=>j,__extends:()=>K,__generator:()=>P,__importDefault:()=>ve,__importStar:()=>ae,__makeTemplateObject:()=>Y,__metadata:()=>g,__param:()=>f,__read:()=>b,__rest:()=>r,__spread:()=>G,__spreadArrays:()=>z,__values:()=>v});var M=function(x,R){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var L in I)I.hasOwnProperty(L)&&(E[L]=I[L])})(x,R)};function K(x,R){function E(){this.constructor=x}M(x,R),x.prototype=null===R?Object.create(R):(E.prototype=R.prototype,new E)}var B=function(){return B=Object.assign||function(R){for(var E,I=1,L=arguments.length;I<L;I++)for(var D in E=arguments[I])Object.prototype.hasOwnProperty.call(E,D)&&(R[D]=E[D]);return R},B.apply(this,arguments)};function r(x,R){var E={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&R.indexOf(I)<0&&(E[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(I=Object.getOwnPropertySymbols(x);L<I.length;L++)R.indexOf(I[L])<0&&Object.prototype.propertyIsEnumerable.call(x,I[L])&&(E[I[L]]=x[I[L]])}return E}function y(x,R,E,I){var Q,L=arguments.length,D=L<3?R:null===I?I=Object.getOwnPropertyDescriptor(R,E):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(x,R,E,I);else for(var te=x.length-1;te>=0;te--)(Q=x[te])&&(D=(L<3?Q(D):L>3?Q(R,E,D):Q(R,E))||D);return L>3&&D&&Object.defineProperty(R,E,D),D}function f(x,R){return function(E,I){R(E,I,x)}}function g(x,R){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,R)}function _(x,R,E,I){return new(E||(E=Promise))(function(D,Q){function te(Fe){try{ne(I.next(Fe))}catch(rt){Q(rt)}}function Re(Fe){try{ne(I.throw(Fe))}catch(rt){Q(rt)}}function ne(Fe){Fe.done?D(Fe.value):function L(D){return D instanceof E?D:new E(function(Q){Q(D)})}(Fe.value).then(te,Re)}ne((I=I.apply(x,R||[])).next())})}function P(x,R){var I,L,D,Q,E={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return Q={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(Q[Symbol.iterator]=function(){return this}),Q;function te(ne){return function(Fe){return function Re(ne){if(I)throw new TypeError("Generator is already executing.");for(;E;)try{if(I=1,L&&(D=2&ne[0]?L.return:ne[0]?L.throw||((D=L.return)&&D.call(L),0):L.next)&&!(D=D.call(L,ne[1])).done)return D;switch(L=0,D&&(ne=[2&ne[0],D.value]),ne[0]){case 0:case 1:D=ne;break;case 4:return E.label++,{value:ne[1],done:!1};case 5:E.label++,L=ne[1],ne=[0];continue;case 7:ne=E.ops.pop(),E.trys.pop();continue;default:if(!(D=(D=E.trys).length>0&&D[D.length-1])&&(6===ne[0]||2===ne[0])){E=0;continue}if(3===ne[0]&&(!D||ne[1]>D[0]&&ne[1]<D[3])){E.label=ne[1];break}if(6===ne[0]&&E.label<D[1]){E.label=D[1],D=ne;break}if(D&&E.label<D[2]){E.label=D[2],E.ops.push(ne);break}D[2]&&E.ops.pop(),E.trys.pop();continue}ne=R.call(x,E)}catch(Fe){ne=[6,Fe],L=0}finally{I=D=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ne,Fe])}}}function O(x,R,E,I){void 0===I&&(I=E),x[I]=R[E]}function j(x,R){for(var E in x)"default"!==E&&!R.hasOwnProperty(E)&&(R[E]=x[E])}function v(x){var R="function"==typeof Symbol&&Symbol.iterator,E=R&&x[R],I=0;if(E)return E.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(x,R){var E="function"==typeof Symbol&&x[Symbol.iterator];if(!E)return x;var L,Q,I=E.call(x),D=[];try{for(;(void 0===R||R-- >0)&&!(L=I.next()).done;)D.push(L.value)}catch(te){Q={error:te}}finally{try{L&&!L.done&&(E=I.return)&&E.call(I)}finally{if(Q)throw Q.error}}return D}function G(){for(var x=[],R=0;R<arguments.length;R++)x=x.concat(b(arguments[R]));return x}function z(){for(var x=0,R=0,E=arguments.length;R<E;R++)x+=arguments[R].length;var I=Array(x),L=0;for(R=0;R<E;R++)for(var D=arguments[R],Q=0,te=D.length;Q<te;Q++,L++)I[L]=D[Q];return I}function H(x){return this instanceof H?(this.v=x,this):new H(x)}function ee(x,R,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,I=E.apply(x,R||[]),D=[];return L={},Q("next"),Q("throw"),Q("return"),L[Symbol.asyncIterator]=function(){return this},L;function Q(Te){I[Te]&&(L[Te]=function(tt){return new Promise(function(Qe,vt){D.push([Te,tt,Qe,vt])>1||te(Te,tt)})})}function te(Te,tt){try{!function Re(Te){Te.value instanceof H?Promise.resolve(Te.value.v).then(ne,Fe):rt(D[0][2],Te)}(I[Te](tt))}catch(Qe){rt(D[0][3],Qe)}}function ne(Te){te("next",Te)}function Fe(Te){te("throw",Te)}function rt(Te,tt){Te(tt),D.shift(),D.length&&te(D[0][0],D[0][1])}}function U(x){var R,E;return R={},I("next"),I("throw",function(L){throw L}),I("return"),R[Symbol.iterator]=function(){return this},R;function I(L,D){R[L]=x[L]?function(Q){return(E=!E)?{value:H(x[L](Q)),done:"return"===L}:D?D(Q):Q}:D}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E,R=x[Symbol.asyncIterator];return R?R.call(x):(x=v(x),E={},I("next"),I("throw"),I("return"),E[Symbol.asyncIterator]=function(){return this},E);function I(D){E[D]=x[D]&&function(Q){return new Promise(function(te,Re){!function L(D,Q,te,Re){Promise.resolve(Re).then(function(ne){D({value:ne,done:te})},Q)}(te,Re,(Q=x[D](Q)).done,Q.value)})}}}function Y(x,R){return Object.defineProperty?Object.defineProperty(x,"raw",{value:R}):x.raw=R,x}function ae(x){if(x&&x.__esModule)return x;var R={};if(null!=x)for(var E in x)Object.hasOwnProperty.call(x,E)&&(R[E]=x[E]);return R.default=x,R}function ve(x){return x&&x.__esModule?x:{default:x}}function _e(x,R){if(!R.has(x))throw new TypeError("attempted to get private field on non-instance");return R.get(x)}function he(x,R,E){if(!R.has(x))throw new TypeError("attempted to set private field on non-instance");return R.set(x,E),E}},37994:(fe,V,S)=>{S.r(V),S.d(V,{__assign:()=>B,__asyncDelegator:()=>U,__asyncGenerator:()=>ee,__asyncValues:()=>W,__await:()=>H,__awaiter:()=>_,__classPrivateFieldGet:()=>_e,__classPrivateFieldSet:()=>he,__createBinding:()=>O,__decorate:()=>y,__exportStar:()=>j,__extends:()=>K,__generator:()=>P,__importDefault:()=>ve,__importStar:()=>ae,__makeTemplateObject:()=>Y,__metadata:()=>g,__param:()=>f,__read:()=>b,__rest:()=>r,__spread:()=>G,__spreadArrays:()=>z,__values:()=>v});var M=function(x,R){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var L in I)I.hasOwnProperty(L)&&(E[L]=I[L])})(x,R)};function K(x,R){function E(){this.constructor=x}M(x,R),x.prototype=null===R?Object.create(R):(E.prototype=R.prototype,new E)}var B=function(){return B=Object.assign||function(R){for(var E,I=1,L=arguments.length;I<L;I++)for(var D in E=arguments[I])Object.prototype.hasOwnProperty.call(E,D)&&(R[D]=E[D]);return R},B.apply(this,arguments)};function r(x,R){var E={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&R.indexOf(I)<0&&(E[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(I=Object.getOwnPropertySymbols(x);L<I.length;L++)R.indexOf(I[L])<0&&Object.prototype.propertyIsEnumerable.call(x,I[L])&&(E[I[L]]=x[I[L]])}return E}function y(x,R,E,I){var Q,L=arguments.length,D=L<3?R:null===I?I=Object.getOwnPropertyDescriptor(R,E):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(x,R,E,I);else for(var te=x.length-1;te>=0;te--)(Q=x[te])&&(D=(L<3?Q(D):L>3?Q(R,E,D):Q(R,E))||D);return L>3&&D&&Object.defineProperty(R,E,D),D}function f(x,R){return function(E,I){R(E,I,x)}}function g(x,R){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,R)}function _(x,R,E,I){return new(E||(E=Promise))(function(D,Q){function te(Fe){try{ne(I.next(Fe))}catch(rt){Q(rt)}}function Re(Fe){try{ne(I.throw(Fe))}catch(rt){Q(rt)}}function ne(Fe){Fe.done?D(Fe.value):function L(D){return D instanceof E?D:new E(function(Q){Q(D)})}(Fe.value).then(te,Re)}ne((I=I.apply(x,R||[])).next())})}function P(x,R){var I,L,D,Q,E={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return Q={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(Q[Symbol.iterator]=function(){return this}),Q;function te(ne){return function(Fe){return function Re(ne){if(I)throw new TypeError("Generator is already executing.");for(;E;)try{if(I=1,L&&(D=2&ne[0]?L.return:ne[0]?L.throw||((D=L.return)&&D.call(L),0):L.next)&&!(D=D.call(L,ne[1])).done)return D;switch(L=0,D&&(ne=[2&ne[0],D.value]),ne[0]){case 0:case 1:D=ne;break;case 4:return E.label++,{value:ne[1],done:!1};case 5:E.label++,L=ne[1],ne=[0];continue;case 7:ne=E.ops.pop(),E.trys.pop();continue;default:if(!(D=(D=E.trys).length>0&&D[D.length-1])&&(6===ne[0]||2===ne[0])){E=0;continue}if(3===ne[0]&&(!D||ne[1]>D[0]&&ne[1]<D[3])){E.label=ne[1];break}if(6===ne[0]&&E.label<D[1]){E.label=D[1],D=ne;break}if(D&&E.label<D[2]){E.label=D[2],E.ops.push(ne);break}D[2]&&E.ops.pop(),E.trys.pop();continue}ne=R.call(x,E)}catch(Fe){ne=[6,Fe],L=0}finally{I=D=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ne,Fe])}}}function O(x,R,E,I){void 0===I&&(I=E),x[I]=R[E]}function j(x,R){for(var E in x)"default"!==E&&!R.hasOwnProperty(E)&&(R[E]=x[E])}function v(x){var R="function"==typeof Symbol&&Symbol.iterator,E=R&&x[R],I=0;if(E)return E.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(x,R){var E="function"==typeof Symbol&&x[Symbol.iterator];if(!E)return x;var L,Q,I=E.call(x),D=[];try{for(;(void 0===R||R-- >0)&&!(L=I.next()).done;)D.push(L.value)}catch(te){Q={error:te}}finally{try{L&&!L.done&&(E=I.return)&&E.call(I)}finally{if(Q)throw Q.error}}return D}function G(){for(var x=[],R=0;R<arguments.length;R++)x=x.concat(b(arguments[R]));return x}function z(){for(var x=0,R=0,E=arguments.length;R<E;R++)x+=arguments[R].length;var I=Array(x),L=0;for(R=0;R<E;R++)for(var D=arguments[R],Q=0,te=D.length;Q<te;Q++,L++)I[L]=D[Q];return I}function H(x){return this instanceof H?(this.v=x,this):new H(x)}function ee(x,R,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,I=E.apply(x,R||[]),D=[];return L={},Q("next"),Q("throw"),Q("return"),L[Symbol.asyncIterator]=function(){return this},L;function Q(Te){I[Te]&&(L[Te]=function(tt){return new Promise(function(Qe,vt){D.push([Te,tt,Qe,vt])>1||te(Te,tt)})})}function te(Te,tt){try{!function Re(Te){Te.value instanceof H?Promise.resolve(Te.value.v).then(ne,Fe):rt(D[0][2],Te)}(I[Te](tt))}catch(Qe){rt(D[0][3],Qe)}}function ne(Te){te("next",Te)}function Fe(Te){te("throw",Te)}function rt(Te,tt){Te(tt),D.shift(),D.length&&te(D[0][0],D[0][1])}}function U(x){var R,E;return R={},I("next"),I("throw",function(L){throw L}),I("return"),R[Symbol.iterator]=function(){return this},R;function I(L,D){R[L]=x[L]?function(Q){return(E=!E)?{value:H(x[L](Q)),done:"return"===L}:D?D(Q):Q}:D}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E,R=x[Symbol.asyncIterator];return R?R.call(x):(x=v(x),E={},I("next"),I("throw"),I("return"),E[Symbol.asyncIterator]=function(){return this},E);function I(D){E[D]=x[D]&&function(Q){return new Promise(function(te,Re){!function L(D,Q,te,Re){Promise.resolve(Re).then(function(ne){D({value:ne,done:te})},Q)}(te,Re,(Q=x[D](Q)).done,Q.value)})}}}function Y(x,R){return Object.defineProperty?Object.defineProperty(x,"raw",{value:R}):x.raw=R,x}function ae(x){if(x&&x.__esModule)return x;var R={};if(null!=x)for(var E in x)Object.hasOwnProperty.call(x,E)&&(R[E]=x[E]);return R.default=x,R}function ve(x){return x&&x.__esModule?x:{default:x}}function _e(x,R){if(!R.has(x))throw new TypeError("attempted to get private field on non-instance");return R.get(x)}function he(x,R,E){if(!R.has(x))throw new TypeError("attempted to set private field on non-instance");return R.set(x,E),E}},68952:(fe,V,S)=>{S.r(V),S.d(V,{__assign:()=>B,__asyncDelegator:()=>U,__asyncGenerator:()=>ee,__asyncValues:()=>W,__await:()=>H,__awaiter:()=>_,__classPrivateFieldGet:()=>_e,__classPrivateFieldSet:()=>he,__createBinding:()=>O,__decorate:()=>y,__exportStar:()=>j,__extends:()=>K,__generator:()=>P,__importDefault:()=>ve,__importStar:()=>ae,__makeTemplateObject:()=>Y,__metadata:()=>g,__param:()=>f,__read:()=>b,__rest:()=>r,__spread:()=>G,__spreadArrays:()=>z,__values:()=>v});var M=function(x,R){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var L in I)I.hasOwnProperty(L)&&(E[L]=I[L])})(x,R)};function K(x,R){function E(){this.constructor=x}M(x,R),x.prototype=null===R?Object.create(R):(E.prototype=R.prototype,new E)}var B=function(){return B=Object.assign||function(R){for(var E,I=1,L=arguments.length;I<L;I++)for(var D in E=arguments[I])Object.prototype.hasOwnProperty.call(E,D)&&(R[D]=E[D]);return R},B.apply(this,arguments)};function r(x,R){var E={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&R.indexOf(I)<0&&(E[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(I=Object.getOwnPropertySymbols(x);L<I.length;L++)R.indexOf(I[L])<0&&Object.prototype.propertyIsEnumerable.call(x,I[L])&&(E[I[L]]=x[I[L]])}return E}function y(x,R,E,I){var Q,L=arguments.length,D=L<3?R:null===I?I=Object.getOwnPropertyDescriptor(R,E):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(x,R,E,I);else for(var te=x.length-1;te>=0;te--)(Q=x[te])&&(D=(L<3?Q(D):L>3?Q(R,E,D):Q(R,E))||D);return L>3&&D&&Object.defineProperty(R,E,D),D}function f(x,R){return function(E,I){R(E,I,x)}}function g(x,R){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,R)}function _(x,R,E,I){return new(E||(E=Promise))(function(D,Q){function te(Fe){try{ne(I.next(Fe))}catch(rt){Q(rt)}}function Re(Fe){try{ne(I.throw(Fe))}catch(rt){Q(rt)}}function ne(Fe){Fe.done?D(Fe.value):function L(D){return D instanceof E?D:new E(function(Q){Q(D)})}(Fe.value).then(te,Re)}ne((I=I.apply(x,R||[])).next())})}function P(x,R){var I,L,D,Q,E={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return Q={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(Q[Symbol.iterator]=function(){return this}),Q;function te(ne){return function(Fe){return function Re(ne){if(I)throw new TypeError("Generator is already executing.");for(;E;)try{if(I=1,L&&(D=2&ne[0]?L.return:ne[0]?L.throw||((D=L.return)&&D.call(L),0):L.next)&&!(D=D.call(L,ne[1])).done)return D;switch(L=0,D&&(ne=[2&ne[0],D.value]),ne[0]){case 0:case 1:D=ne;break;case 4:return E.label++,{value:ne[1],done:!1};case 5:E.label++,L=ne[1],ne=[0];continue;case 7:ne=E.ops.pop(),E.trys.pop();continue;default:if(!(D=(D=E.trys).length>0&&D[D.length-1])&&(6===ne[0]||2===ne[0])){E=0;continue}if(3===ne[0]&&(!D||ne[1]>D[0]&&ne[1]<D[3])){E.label=ne[1];break}if(6===ne[0]&&E.label<D[1]){E.label=D[1],D=ne;break}if(D&&E.label<D[2]){E.label=D[2],E.ops.push(ne);break}D[2]&&E.ops.pop(),E.trys.pop();continue}ne=R.call(x,E)}catch(Fe){ne=[6,Fe],L=0}finally{I=D=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ne,Fe])}}}function O(x,R,E,I){void 0===I&&(I=E),x[I]=R[E]}function j(x,R){for(var E in x)"default"!==E&&!R.hasOwnProperty(E)&&(R[E]=x[E])}function v(x){var R="function"==typeof Symbol&&Symbol.iterator,E=R&&x[R],I=0;if(E)return E.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(x,R){var E="function"==typeof Symbol&&x[Symbol.iterator];if(!E)return x;var L,Q,I=E.call(x),D=[];try{for(;(void 0===R||R-- >0)&&!(L=I.next()).done;)D.push(L.value)}catch(te){Q={error:te}}finally{try{L&&!L.done&&(E=I.return)&&E.call(I)}finally{if(Q)throw Q.error}}return D}function G(){for(var x=[],R=0;R<arguments.length;R++)x=x.concat(b(arguments[R]));return x}function z(){for(var x=0,R=0,E=arguments.length;R<E;R++)x+=arguments[R].length;var I=Array(x),L=0;for(R=0;R<E;R++)for(var D=arguments[R],Q=0,te=D.length;Q<te;Q++,L++)I[L]=D[Q];return I}function H(x){return this instanceof H?(this.v=x,this):new H(x)}function ee(x,R,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,I=E.apply(x,R||[]),D=[];return L={},Q("next"),Q("throw"),Q("return"),L[Symbol.asyncIterator]=function(){return this},L;function Q(Te){I[Te]&&(L[Te]=function(tt){return new Promise(function(Qe,vt){D.push([Te,tt,Qe,vt])>1||te(Te,tt)})})}function te(Te,tt){try{!function Re(Te){Te.value instanceof H?Promise.resolve(Te.value.v).then(ne,Fe):rt(D[0][2],Te)}(I[Te](tt))}catch(Qe){rt(D[0][3],Qe)}}function ne(Te){te("next",Te)}function Fe(Te){te("throw",Te)}function rt(Te,tt){Te(tt),D.shift(),D.length&&te(D[0][0],D[0][1])}}function U(x){var R,E;return R={},I("next"),I("throw",function(L){throw L}),I("return"),R[Symbol.iterator]=function(){return this},R;function I(L,D){R[L]=x[L]?function(Q){return(E=!E)?{value:H(x[L](Q)),done:"return"===L}:D?D(Q):Q}:D}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E,R=x[Symbol.asyncIterator];return R?R.call(x):(x=v(x),E={},I("next"),I("throw"),I("return"),E[Symbol.asyncIterator]=function(){return this},E);function I(D){E[D]=x[D]&&function(Q){return new Promise(function(te,Re){!function L(D,Q,te,Re){Promise.resolve(Re).then(function(ne){D({value:ne,done:te})},Q)}(te,Re,(Q=x[D](Q)).done,Q.value)})}}}function Y(x,R){return Object.defineProperty?Object.defineProperty(x,"raw",{value:R}):x.raw=R,x}function ae(x){if(x&&x.__esModule)return x;var R={};if(null!=x)for(var E in x)Object.hasOwnProperty.call(x,E)&&(R[E]=x[E]);return R.default=x,R}function ve(x){return x&&x.__esModule?x:{default:x}}function _e(x,R){if(!R.has(x))throw new TypeError("attempted to get private field on non-instance");return R.get(x)}function he(x,R,E){if(!R.has(x))throw new TypeError("attempted to set private field on non-instance");return R.set(x,E),E}},1707:(fe,V,S)=>{S.r(V),S.d(V,{__assign:()=>B,__asyncDelegator:()=>U,__asyncGenerator:()=>ee,__asyncValues:()=>W,__await:()=>H,__awaiter:()=>_,__classPrivateFieldGet:()=>_e,__classPrivateFieldSet:()=>he,__createBinding:()=>O,__decorate:()=>y,__exportStar:()=>j,__extends:()=>K,__generator:()=>P,__importDefault:()=>ve,__importStar:()=>ae,__makeTemplateObject:()=>Y,__metadata:()=>g,__param:()=>f,__read:()=>b,__rest:()=>r,__spread:()=>G,__spreadArrays:()=>z,__values:()=>v});var M=function(x,R){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var L in I)I.hasOwnProperty(L)&&(E[L]=I[L])})(x,R)};function K(x,R){function E(){this.constructor=x}M(x,R),x.prototype=null===R?Object.create(R):(E.prototype=R.prototype,new E)}var B=function(){return B=Object.assign||function(R){for(var E,I=1,L=arguments.length;I<L;I++)for(var D in E=arguments[I])Object.prototype.hasOwnProperty.call(E,D)&&(R[D]=E[D]);return R},B.apply(this,arguments)};function r(x,R){var E={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&R.indexOf(I)<0&&(E[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(I=Object.getOwnPropertySymbols(x);L<I.length;L++)R.indexOf(I[L])<0&&Object.prototype.propertyIsEnumerable.call(x,I[L])&&(E[I[L]]=x[I[L]])}return E}function y(x,R,E,I){var Q,L=arguments.length,D=L<3?R:null===I?I=Object.getOwnPropertyDescriptor(R,E):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(x,R,E,I);else for(var te=x.length-1;te>=0;te--)(Q=x[te])&&(D=(L<3?Q(D):L>3?Q(R,E,D):Q(R,E))||D);return L>3&&D&&Object.defineProperty(R,E,D),D}function f(x,R){return function(E,I){R(E,I,x)}}function g(x,R){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,R)}function _(x,R,E,I){return new(E||(E=Promise))(function(D,Q){function te(Fe){try{ne(I.next(Fe))}catch(rt){Q(rt)}}function Re(Fe){try{ne(I.throw(Fe))}catch(rt){Q(rt)}}function ne(Fe){Fe.done?D(Fe.value):function L(D){return D instanceof E?D:new E(function(Q){Q(D)})}(Fe.value).then(te,Re)}ne((I=I.apply(x,R||[])).next())})}function P(x,R){var I,L,D,Q,E={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return Q={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(Q[Symbol.iterator]=function(){return this}),Q;function te(ne){return function(Fe){return function Re(ne){if(I)throw new TypeError("Generator is already executing.");for(;E;)try{if(I=1,L&&(D=2&ne[0]?L.return:ne[0]?L.throw||((D=L.return)&&D.call(L),0):L.next)&&!(D=D.call(L,ne[1])).done)return D;switch(L=0,D&&(ne=[2&ne[0],D.value]),ne[0]){case 0:case 1:D=ne;break;case 4:return E.label++,{value:ne[1],done:!1};case 5:E.label++,L=ne[1],ne=[0];continue;case 7:ne=E.ops.pop(),E.trys.pop();continue;default:if(!(D=(D=E.trys).length>0&&D[D.length-1])&&(6===ne[0]||2===ne[0])){E=0;continue}if(3===ne[0]&&(!D||ne[1]>D[0]&&ne[1]<D[3])){E.label=ne[1];break}if(6===ne[0]&&E.label<D[1]){E.label=D[1],D=ne;break}if(D&&E.label<D[2]){E.label=D[2],E.ops.push(ne);break}D[2]&&E.ops.pop(),E.trys.pop();continue}ne=R.call(x,E)}catch(Fe){ne=[6,Fe],L=0}finally{I=D=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ne,Fe])}}}function O(x,R,E,I){void 0===I&&(I=E),x[I]=R[E]}function j(x,R){for(var E in x)"default"!==E&&!R.hasOwnProperty(E)&&(R[E]=x[E])}function v(x){var R="function"==typeof Symbol&&Symbol.iterator,E=R&&x[R],I=0;if(E)return E.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(x,R){var E="function"==typeof Symbol&&x[Symbol.iterator];if(!E)return x;var L,Q,I=E.call(x),D=[];try{for(;(void 0===R||R-- >0)&&!(L=I.next()).done;)D.push(L.value)}catch(te){Q={error:te}}finally{try{L&&!L.done&&(E=I.return)&&E.call(I)}finally{if(Q)throw Q.error}}return D}function G(){for(var x=[],R=0;R<arguments.length;R++)x=x.concat(b(arguments[R]));return x}function z(){for(var x=0,R=0,E=arguments.length;R<E;R++)x+=arguments[R].length;var I=Array(x),L=0;for(R=0;R<E;R++)for(var D=arguments[R],Q=0,te=D.length;Q<te;Q++,L++)I[L]=D[Q];return I}function H(x){return this instanceof H?(this.v=x,this):new H(x)}function ee(x,R,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,I=E.apply(x,R||[]),D=[];return L={},Q("next"),Q("throw"),Q("return"),L[Symbol.asyncIterator]=function(){return this},L;function Q(Te){I[Te]&&(L[Te]=function(tt){return new Promise(function(Qe,vt){D.push([Te,tt,Qe,vt])>1||te(Te,tt)})})}function te(Te,tt){try{!function Re(Te){Te.value instanceof H?Promise.resolve(Te.value.v).then(ne,Fe):rt(D[0][2],Te)}(I[Te](tt))}catch(Qe){rt(D[0][3],Qe)}}function ne(Te){te("next",Te)}function Fe(Te){te("throw",Te)}function rt(Te,tt){Te(tt),D.shift(),D.length&&te(D[0][0],D[0][1])}}function U(x){var R,E;return R={},I("next"),I("throw",function(L){throw L}),I("return"),R[Symbol.iterator]=function(){return this},R;function I(L,D){R[L]=x[L]?function(Q){return(E=!E)?{value:H(x[L](Q)),done:"return"===L}:D?D(Q):Q}:D}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E,R=x[Symbol.asyncIterator];return R?R.call(x):(x=v(x),E={},I("next"),I("throw"),I("return"),E[Symbol.asyncIterator]=function(){return this},E);function I(D){E[D]=x[D]&&function(Q){return new Promise(function(te,Re){!function L(D,Q,te,Re){Promise.resolve(Re).then(function(ne){D({value:ne,done:te})},Q)}(te,Re,(Q=x[D](Q)).done,Q.value)})}}}function Y(x,R){return Object.defineProperty?Object.defineProperty(x,"raw",{value:R}):x.raw=R,x}function ae(x){if(x&&x.__esModule)return x;var R={};if(null!=x)for(var E in x)Object.hasOwnProperty.call(x,E)&&(R[E]=x[E]);return R.default=x,R}function ve(x){return x&&x.__esModule?x:{default:x}}function _e(x,R){if(!R.has(x))throw new TypeError("attempted to get private field on non-instance");return R.get(x)}function he(x,R,E){if(!R.has(x))throw new TypeError("attempted to set private field on non-instance");return R.set(x,E),E}},59106:(fe,V,S)=>{S.r(V),S.d(V,{__assign:()=>B,__asyncDelegator:()=>U,__asyncGenerator:()=>ee,__asyncValues:()=>W,__await:()=>H,__awaiter:()=>_,__classPrivateFieldGet:()=>_e,__classPrivateFieldSet:()=>he,__createBinding:()=>O,__decorate:()=>y,__exportStar:()=>j,__extends:()=>K,__generator:()=>P,__importDefault:()=>ve,__importStar:()=>ae,__makeTemplateObject:()=>Y,__metadata:()=>g,__param:()=>f,__read:()=>b,__rest:()=>r,__spread:()=>G,__spreadArrays:()=>z,__values:()=>v});var M=function(x,R){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var L in I)I.hasOwnProperty(L)&&(E[L]=I[L])})(x,R)};function K(x,R){function E(){this.constructor=x}M(x,R),x.prototype=null===R?Object.create(R):(E.prototype=R.prototype,new E)}var B=function(){return B=Object.assign||function(R){for(var E,I=1,L=arguments.length;I<L;I++)for(var D in E=arguments[I])Object.prototype.hasOwnProperty.call(E,D)&&(R[D]=E[D]);return R},B.apply(this,arguments)};function r(x,R){var E={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&R.indexOf(I)<0&&(E[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(I=Object.getOwnPropertySymbols(x);L<I.length;L++)R.indexOf(I[L])<0&&Object.prototype.propertyIsEnumerable.call(x,I[L])&&(E[I[L]]=x[I[L]])}return E}function y(x,R,E,I){var Q,L=arguments.length,D=L<3?R:null===I?I=Object.getOwnPropertyDescriptor(R,E):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(x,R,E,I);else for(var te=x.length-1;te>=0;te--)(Q=x[te])&&(D=(L<3?Q(D):L>3?Q(R,E,D):Q(R,E))||D);return L>3&&D&&Object.defineProperty(R,E,D),D}function f(x,R){return function(E,I){R(E,I,x)}}function g(x,R){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,R)}function _(x,R,E,I){return new(E||(E=Promise))(function(D,Q){function te(Fe){try{ne(I.next(Fe))}catch(rt){Q(rt)}}function Re(Fe){try{ne(I.throw(Fe))}catch(rt){Q(rt)}}function ne(Fe){Fe.done?D(Fe.value):function L(D){return D instanceof E?D:new E(function(Q){Q(D)})}(Fe.value).then(te,Re)}ne((I=I.apply(x,R||[])).next())})}function P(x,R){var I,L,D,Q,E={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return Q={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(Q[Symbol.iterator]=function(){return this}),Q;function te(ne){return function(Fe){return function Re(ne){if(I)throw new TypeError("Generator is already executing.");for(;E;)try{if(I=1,L&&(D=2&ne[0]?L.return:ne[0]?L.throw||((D=L.return)&&D.call(L),0):L.next)&&!(D=D.call(L,ne[1])).done)return D;switch(L=0,D&&(ne=[2&ne[0],D.value]),ne[0]){case 0:case 1:D=ne;break;case 4:return E.label++,{value:ne[1],done:!1};case 5:E.label++,L=ne[1],ne=[0];continue;case 7:ne=E.ops.pop(),E.trys.pop();continue;default:if(!(D=(D=E.trys).length>0&&D[D.length-1])&&(6===ne[0]||2===ne[0])){E=0;continue}if(3===ne[0]&&(!D||ne[1]>D[0]&&ne[1]<D[3])){E.label=ne[1];break}if(6===ne[0]&&E.label<D[1]){E.label=D[1],D=ne;break}if(D&&E.label<D[2]){E.label=D[2],E.ops.push(ne);break}D[2]&&E.ops.pop(),E.trys.pop();continue}ne=R.call(x,E)}catch(Fe){ne=[6,Fe],L=0}finally{I=D=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ne,Fe])}}}function O(x,R,E,I){void 0===I&&(I=E),x[I]=R[E]}function j(x,R){for(var E in x)"default"!==E&&!R.hasOwnProperty(E)&&(R[E]=x[E])}function v(x){var R="function"==typeof Symbol&&Symbol.iterator,E=R&&x[R],I=0;if(E)return E.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(x,R){var E="function"==typeof Symbol&&x[Symbol.iterator];if(!E)return x;var L,Q,I=E.call(x),D=[];try{for(;(void 0===R||R-- >0)&&!(L=I.next()).done;)D.push(L.value)}catch(te){Q={error:te}}finally{try{L&&!L.done&&(E=I.return)&&E.call(I)}finally{if(Q)throw Q.error}}return D}function G(){for(var x=[],R=0;R<arguments.length;R++)x=x.concat(b(arguments[R]));return x}function z(){for(var x=0,R=0,E=arguments.length;R<E;R++)x+=arguments[R].length;var I=Array(x),L=0;for(R=0;R<E;R++)for(var D=arguments[R],Q=0,te=D.length;Q<te;Q++,L++)I[L]=D[Q];return I}function H(x){return this instanceof H?(this.v=x,this):new H(x)}function ee(x,R,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,I=E.apply(x,R||[]),D=[];return L={},Q("next"),Q("throw"),Q("return"),L[Symbol.asyncIterator]=function(){return this},L;function Q(Te){I[Te]&&(L[Te]=function(tt){return new Promise(function(Qe,vt){D.push([Te,tt,Qe,vt])>1||te(Te,tt)})})}function te(Te,tt){try{!function Re(Te){Te.value instanceof H?Promise.resolve(Te.value.v).then(ne,Fe):rt(D[0][2],Te)}(I[Te](tt))}catch(Qe){rt(D[0][3],Qe)}}function ne(Te){te("next",Te)}function Fe(Te){te("throw",Te)}function rt(Te,tt){Te(tt),D.shift(),D.length&&te(D[0][0],D[0][1])}}function U(x){var R,E;return R={},I("next"),I("throw",function(L){throw L}),I("return"),R[Symbol.iterator]=function(){return this},R;function I(L,D){R[L]=x[L]?function(Q){return(E=!E)?{value:H(x[L](Q)),done:"return"===L}:D?D(Q):Q}:D}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E,R=x[Symbol.asyncIterator];return R?R.call(x):(x=v(x),E={},I("next"),I("throw"),I("return"),E[Symbol.asyncIterator]=function(){return this},E);function I(D){E[D]=x[D]&&function(Q){return new Promise(function(te,Re){!function L(D,Q,te,Re){Promise.resolve(Re).then(function(ne){D({value:ne,done:te})},Q)}(te,Re,(Q=x[D](Q)).done,Q.value)})}}}function Y(x,R){return Object.defineProperty?Object.defineProperty(x,"raw",{value:R}):x.raw=R,x}function ae(x){if(x&&x.__esModule)return x;var R={};if(null!=x)for(var E in x)Object.hasOwnProperty.call(x,E)&&(R[E]=x[E]);return R.default=x,R}function ve(x){return x&&x.__esModule?x:{default:x}}function _e(x,R){if(!R.has(x))throw new TypeError("attempted to get private field on non-instance");return R.get(x)}function he(x,R,E){if(!R.has(x))throw new TypeError("attempted to set private field on non-instance");return R.set(x,E),E}},55298:(fe,V,S)=>{S.r(V),S.d(V,{__assign:()=>B,__asyncDelegator:()=>U,__asyncGenerator:()=>ee,__asyncValues:()=>W,__await:()=>H,__awaiter:()=>_,__classPrivateFieldGet:()=>_e,__classPrivateFieldSet:()=>he,__createBinding:()=>O,__decorate:()=>y,__exportStar:()=>j,__extends:()=>K,__generator:()=>P,__importDefault:()=>ve,__importStar:()=>ae,__makeTemplateObject:()=>Y,__metadata:()=>g,__param:()=>f,__read:()=>b,__rest:()=>r,__spread:()=>G,__spreadArrays:()=>z,__values:()=>v});var M=function(x,R){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var L in I)I.hasOwnProperty(L)&&(E[L]=I[L])})(x,R)};function K(x,R){function E(){this.constructor=x}M(x,R),x.prototype=null===R?Object.create(R):(E.prototype=R.prototype,new E)}var B=function(){return B=Object.assign||function(R){for(var E,I=1,L=arguments.length;I<L;I++)for(var D in E=arguments[I])Object.prototype.hasOwnProperty.call(E,D)&&(R[D]=E[D]);return R},B.apply(this,arguments)};function r(x,R){var E={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&R.indexOf(I)<0&&(E[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(I=Object.getOwnPropertySymbols(x);L<I.length;L++)R.indexOf(I[L])<0&&Object.prototype.propertyIsEnumerable.call(x,I[L])&&(E[I[L]]=x[I[L]])}return E}function y(x,R,E,I){var Q,L=arguments.length,D=L<3?R:null===I?I=Object.getOwnPropertyDescriptor(R,E):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(x,R,E,I);else for(var te=x.length-1;te>=0;te--)(Q=x[te])&&(D=(L<3?Q(D):L>3?Q(R,E,D):Q(R,E))||D);return L>3&&D&&Object.defineProperty(R,E,D),D}function f(x,R){return function(E,I){R(E,I,x)}}function g(x,R){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,R)}function _(x,R,E,I){return new(E||(E=Promise))(function(D,Q){function te(Fe){try{ne(I.next(Fe))}catch(rt){Q(rt)}}function Re(Fe){try{ne(I.throw(Fe))}catch(rt){Q(rt)}}function ne(Fe){Fe.done?D(Fe.value):function L(D){return D instanceof E?D:new E(function(Q){Q(D)})}(Fe.value).then(te,Re)}ne((I=I.apply(x,R||[])).next())})}function P(x,R){var I,L,D,Q,E={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return Q={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(Q[Symbol.iterator]=function(){return this}),Q;function te(ne){return function(Fe){return function Re(ne){if(I)throw new TypeError("Generator is already executing.");for(;E;)try{if(I=1,L&&(D=2&ne[0]?L.return:ne[0]?L.throw||((D=L.return)&&D.call(L),0):L.next)&&!(D=D.call(L,ne[1])).done)return D;switch(L=0,D&&(ne=[2&ne[0],D.value]),ne[0]){case 0:case 1:D=ne;break;case 4:return E.label++,{value:ne[1],done:!1};case 5:E.label++,L=ne[1],ne=[0];continue;case 7:ne=E.ops.pop(),E.trys.pop();continue;default:if(!(D=(D=E.trys).length>0&&D[D.length-1])&&(6===ne[0]||2===ne[0])){E=0;continue}if(3===ne[0]&&(!D||ne[1]>D[0]&&ne[1]<D[3])){E.label=ne[1];break}if(6===ne[0]&&E.label<D[1]){E.label=D[1],D=ne;break}if(D&&E.label<D[2]){E.label=D[2],E.ops.push(ne);break}D[2]&&E.ops.pop(),E.trys.pop();continue}ne=R.call(x,E)}catch(Fe){ne=[6,Fe],L=0}finally{I=D=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ne,Fe])}}}function O(x,R,E,I){void 0===I&&(I=E),x[I]=R[E]}function j(x,R){for(var E in x)"default"!==E&&!R.hasOwnProperty(E)&&(R[E]=x[E])}function v(x){var R="function"==typeof Symbol&&Symbol.iterator,E=R&&x[R],I=0;if(E)return E.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(x,R){var E="function"==typeof Symbol&&x[Symbol.iterator];if(!E)return x;var L,Q,I=E.call(x),D=[];try{for(;(void 0===R||R-- >0)&&!(L=I.next()).done;)D.push(L.value)}catch(te){Q={error:te}}finally{try{L&&!L.done&&(E=I.return)&&E.call(I)}finally{if(Q)throw Q.error}}return D}function G(){for(var x=[],R=0;R<arguments.length;R++)x=x.concat(b(arguments[R]));return x}function z(){for(var x=0,R=0,E=arguments.length;R<E;R++)x+=arguments[R].length;var I=Array(x),L=0;for(R=0;R<E;R++)for(var D=arguments[R],Q=0,te=D.length;Q<te;Q++,L++)I[L]=D[Q];return I}function H(x){return this instanceof H?(this.v=x,this):new H(x)}function ee(x,R,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,I=E.apply(x,R||[]),D=[];return L={},Q("next"),Q("throw"),Q("return"),L[Symbol.asyncIterator]=function(){return this},L;function Q(Te){I[Te]&&(L[Te]=function(tt){return new Promise(function(Qe,vt){D.push([Te,tt,Qe,vt])>1||te(Te,tt)})})}function te(Te,tt){try{!function Re(Te){Te.value instanceof H?Promise.resolve(Te.value.v).then(ne,Fe):rt(D[0][2],Te)}(I[Te](tt))}catch(Qe){rt(D[0][3],Qe)}}function ne(Te){te("next",Te)}function Fe(Te){te("throw",Te)}function rt(Te,tt){Te(tt),D.shift(),D.length&&te(D[0][0],D[0][1])}}function U(x){var R,E;return R={},I("next"),I("throw",function(L){throw L}),I("return"),R[Symbol.iterator]=function(){return this},R;function I(L,D){R[L]=x[L]?function(Q){return(E=!E)?{value:H(x[L](Q)),done:"return"===L}:D?D(Q):Q}:D}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E,R=x[Symbol.asyncIterator];return R?R.call(x):(x=v(x),E={},I("next"),I("throw"),I("return"),E[Symbol.asyncIterator]=function(){return this},E);function I(D){E[D]=x[D]&&function(Q){return new Promise(function(te,Re){!function L(D,Q,te,Re){Promise.resolve(Re).then(function(ne){D({value:ne,done:te})},Q)}(te,Re,(Q=x[D](Q)).done,Q.value)})}}}function Y(x,R){return Object.defineProperty?Object.defineProperty(x,"raw",{value:R}):x.raw=R,x}function ae(x){if(x&&x.__esModule)return x;var R={};if(null!=x)for(var E in x)Object.hasOwnProperty.call(x,E)&&(R[E]=x[E]);return R.default=x,R}function ve(x){return x&&x.__esModule?x:{default:x}}function _e(x,R){if(!R.has(x))throw new TypeError("attempted to get private field on non-instance");return R.get(x)}function he(x,R,E){if(!R.has(x))throw new TypeError("attempted to set private field on non-instance");return R.set(x,E),E}},59904:(fe,V,S)=>{S.r(V),S.d(V,{__assign:()=>B,__asyncDelegator:()=>U,__asyncGenerator:()=>ee,__asyncValues:()=>W,__await:()=>H,__awaiter:()=>_,__classPrivateFieldGet:()=>_e,__classPrivateFieldSet:()=>he,__createBinding:()=>O,__decorate:()=>y,__exportStar:()=>j,__extends:()=>K,__generator:()=>P,__importDefault:()=>ve,__importStar:()=>ae,__makeTemplateObject:()=>Y,__metadata:()=>g,__param:()=>f,__read:()=>b,__rest:()=>r,__spread:()=>G,__spreadArrays:()=>z,__values:()=>v});var M=function(x,R){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var L in I)I.hasOwnProperty(L)&&(E[L]=I[L])})(x,R)};function K(x,R){function E(){this.constructor=x}M(x,R),x.prototype=null===R?Object.create(R):(E.prototype=R.prototype,new E)}var B=function(){return B=Object.assign||function(R){for(var E,I=1,L=arguments.length;I<L;I++)for(var D in E=arguments[I])Object.prototype.hasOwnProperty.call(E,D)&&(R[D]=E[D]);return R},B.apply(this,arguments)};function r(x,R){var E={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&R.indexOf(I)<0&&(E[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(I=Object.getOwnPropertySymbols(x);L<I.length;L++)R.indexOf(I[L])<0&&Object.prototype.propertyIsEnumerable.call(x,I[L])&&(E[I[L]]=x[I[L]])}return E}function y(x,R,E,I){var Q,L=arguments.length,D=L<3?R:null===I?I=Object.getOwnPropertyDescriptor(R,E):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(x,R,E,I);else for(var te=x.length-1;te>=0;te--)(Q=x[te])&&(D=(L<3?Q(D):L>3?Q(R,E,D):Q(R,E))||D);return L>3&&D&&Object.defineProperty(R,E,D),D}function f(x,R){return function(E,I){R(E,I,x)}}function g(x,R){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,R)}function _(x,R,E,I){return new(E||(E=Promise))(function(D,Q){function te(Fe){try{ne(I.next(Fe))}catch(rt){Q(rt)}}function Re(Fe){try{ne(I.throw(Fe))}catch(rt){Q(rt)}}function ne(Fe){Fe.done?D(Fe.value):function L(D){return D instanceof E?D:new E(function(Q){Q(D)})}(Fe.value).then(te,Re)}ne((I=I.apply(x,R||[])).next())})}function P(x,R){var I,L,D,Q,E={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return Q={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(Q[Symbol.iterator]=function(){return this}),Q;function te(ne){return function(Fe){return function Re(ne){if(I)throw new TypeError("Generator is already executing.");for(;E;)try{if(I=1,L&&(D=2&ne[0]?L.return:ne[0]?L.throw||((D=L.return)&&D.call(L),0):L.next)&&!(D=D.call(L,ne[1])).done)return D;switch(L=0,D&&(ne=[2&ne[0],D.value]),ne[0]){case 0:case 1:D=ne;break;case 4:return E.label++,{value:ne[1],done:!1};case 5:E.label++,L=ne[1],ne=[0];continue;case 7:ne=E.ops.pop(),E.trys.pop();continue;default:if(!(D=(D=E.trys).length>0&&D[D.length-1])&&(6===ne[0]||2===ne[0])){E=0;continue}if(3===ne[0]&&(!D||ne[1]>D[0]&&ne[1]<D[3])){E.label=ne[1];break}if(6===ne[0]&&E.label<D[1]){E.label=D[1],D=ne;break}if(D&&E.label<D[2]){E.label=D[2],E.ops.push(ne);break}D[2]&&E.ops.pop(),E.trys.pop();continue}ne=R.call(x,E)}catch(Fe){ne=[6,Fe],L=0}finally{I=D=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ne,Fe])}}}function O(x,R,E,I){void 0===I&&(I=E),x[I]=R[E]}function j(x,R){for(var E in x)"default"!==E&&!R.hasOwnProperty(E)&&(R[E]=x[E])}function v(x){var R="function"==typeof Symbol&&Symbol.iterator,E=R&&x[R],I=0;if(E)return E.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(x,R){var E="function"==typeof Symbol&&x[Symbol.iterator];if(!E)return x;var L,Q,I=E.call(x),D=[];try{for(;(void 0===R||R-- >0)&&!(L=I.next()).done;)D.push(L.value)}catch(te){Q={error:te}}finally{try{L&&!L.done&&(E=I.return)&&E.call(I)}finally{if(Q)throw Q.error}}return D}function G(){for(var x=[],R=0;R<arguments.length;R++)x=x.concat(b(arguments[R]));return x}function z(){for(var x=0,R=0,E=arguments.length;R<E;R++)x+=arguments[R].length;var I=Array(x),L=0;for(R=0;R<E;R++)for(var D=arguments[R],Q=0,te=D.length;Q<te;Q++,L++)I[L]=D[Q];return I}function H(x){return this instanceof H?(this.v=x,this):new H(x)}function ee(x,R,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,I=E.apply(x,R||[]),D=[];return L={},Q("next"),Q("throw"),Q("return"),L[Symbol.asyncIterator]=function(){return this},L;function Q(Te){I[Te]&&(L[Te]=function(tt){return new Promise(function(Qe,vt){D.push([Te,tt,Qe,vt])>1||te(Te,tt)})})}function te(Te,tt){try{!function Re(Te){Te.value instanceof H?Promise.resolve(Te.value.v).then(ne,Fe):rt(D[0][2],Te)}(I[Te](tt))}catch(Qe){rt(D[0][3],Qe)}}function ne(Te){te("next",Te)}function Fe(Te){te("throw",Te)}function rt(Te,tt){Te(tt),D.shift(),D.length&&te(D[0][0],D[0][1])}}function U(x){var R,E;return R={},I("next"),I("throw",function(L){throw L}),I("return"),R[Symbol.iterator]=function(){return this},R;function I(L,D){R[L]=x[L]?function(Q){return(E=!E)?{value:H(x[L](Q)),done:"return"===L}:D?D(Q):Q}:D}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E,R=x[Symbol.asyncIterator];return R?R.call(x):(x=v(x),E={},I("next"),I("throw"),I("return"),E[Symbol.asyncIterator]=function(){return this},E);function I(D){E[D]=x[D]&&function(Q){return new Promise(function(te,Re){!function L(D,Q,te,Re){Promise.resolve(Re).then(function(ne){D({value:ne,done:te})},Q)}(te,Re,(Q=x[D](Q)).done,Q.value)})}}}function Y(x,R){return Object.defineProperty?Object.defineProperty(x,"raw",{value:R}):x.raw=R,x}function ae(x){if(x&&x.__esModule)return x;var R={};if(null!=x)for(var E in x)Object.hasOwnProperty.call(x,E)&&(R[E]=x[E]);return R.default=x,R}function ve(x){return x&&x.__esModule?x:{default:x}}function _e(x,R){if(!R.has(x))throw new TypeError("attempted to get private field on non-instance");return R.get(x)}function he(x,R,E){if(!R.has(x))throw new TypeError("attempted to set private field on non-instance");return R.set(x,E),E}},97716:(fe,V,S)=>{S.r(V),S.d(V,{__assign:()=>B,__asyncDelegator:()=>U,__asyncGenerator:()=>ee,__asyncValues:()=>W,__await:()=>H,__awaiter:()=>_,__classPrivateFieldGet:()=>_e,__classPrivateFieldSet:()=>he,__createBinding:()=>O,__decorate:()=>y,__exportStar:()=>j,__extends:()=>K,__generator:()=>P,__importDefault:()=>ve,__importStar:()=>ae,__makeTemplateObject:()=>Y,__metadata:()=>g,__param:()=>f,__read:()=>b,__rest:()=>r,__spread:()=>G,__spreadArrays:()=>z,__values:()=>v});var M=function(x,R){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var L in I)I.hasOwnProperty(L)&&(E[L]=I[L])})(x,R)};function K(x,R){function E(){this.constructor=x}M(x,R),x.prototype=null===R?Object.create(R):(E.prototype=R.prototype,new E)}var B=function(){return B=Object.assign||function(R){for(var E,I=1,L=arguments.length;I<L;I++)for(var D in E=arguments[I])Object.prototype.hasOwnProperty.call(E,D)&&(R[D]=E[D]);return R},B.apply(this,arguments)};function r(x,R){var E={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&R.indexOf(I)<0&&(E[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(I=Object.getOwnPropertySymbols(x);L<I.length;L++)R.indexOf(I[L])<0&&Object.prototype.propertyIsEnumerable.call(x,I[L])&&(E[I[L]]=x[I[L]])}return E}function y(x,R,E,I){var Q,L=arguments.length,D=L<3?R:null===I?I=Object.getOwnPropertyDescriptor(R,E):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(x,R,E,I);else for(var te=x.length-1;te>=0;te--)(Q=x[te])&&(D=(L<3?Q(D):L>3?Q(R,E,D):Q(R,E))||D);return L>3&&D&&Object.defineProperty(R,E,D),D}function f(x,R){return function(E,I){R(E,I,x)}}function g(x,R){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,R)}function _(x,R,E,I){return new(E||(E=Promise))(function(D,Q){function te(Fe){try{ne(I.next(Fe))}catch(rt){Q(rt)}}function Re(Fe){try{ne(I.throw(Fe))}catch(rt){Q(rt)}}function ne(Fe){Fe.done?D(Fe.value):function L(D){return D instanceof E?D:new E(function(Q){Q(D)})}(Fe.value).then(te,Re)}ne((I=I.apply(x,R||[])).next())})}function P(x,R){var I,L,D,Q,E={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return Q={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(Q[Symbol.iterator]=function(){return this}),Q;function te(ne){return function(Fe){return function Re(ne){if(I)throw new TypeError("Generator is already executing.");for(;E;)try{if(I=1,L&&(D=2&ne[0]?L.return:ne[0]?L.throw||((D=L.return)&&D.call(L),0):L.next)&&!(D=D.call(L,ne[1])).done)return D;switch(L=0,D&&(ne=[2&ne[0],D.value]),ne[0]){case 0:case 1:D=ne;break;case 4:return E.label++,{value:ne[1],done:!1};case 5:E.label++,L=ne[1],ne=[0];continue;case 7:ne=E.ops.pop(),E.trys.pop();continue;default:if(!(D=(D=E.trys).length>0&&D[D.length-1])&&(6===ne[0]||2===ne[0])){E=0;continue}if(3===ne[0]&&(!D||ne[1]>D[0]&&ne[1]<D[3])){E.label=ne[1];break}if(6===ne[0]&&E.label<D[1]){E.label=D[1],D=ne;break}if(D&&E.label<D[2]){E.label=D[2],E.ops.push(ne);break}D[2]&&E.ops.pop(),E.trys.pop();continue}ne=R.call(x,E)}catch(Fe){ne=[6,Fe],L=0}finally{I=D=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ne,Fe])}}}function O(x,R,E,I){void 0===I&&(I=E),x[I]=R[E]}function j(x,R){for(var E in x)"default"!==E&&!R.hasOwnProperty(E)&&(R[E]=x[E])}function v(x){var R="function"==typeof Symbol&&Symbol.iterator,E=R&&x[R],I=0;if(E)return E.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(x,R){var E="function"==typeof Symbol&&x[Symbol.iterator];if(!E)return x;var L,Q,I=E.call(x),D=[];try{for(;(void 0===R||R-- >0)&&!(L=I.next()).done;)D.push(L.value)}catch(te){Q={error:te}}finally{try{L&&!L.done&&(E=I.return)&&E.call(I)}finally{if(Q)throw Q.error}}return D}function G(){for(var x=[],R=0;R<arguments.length;R++)x=x.concat(b(arguments[R]));return x}function z(){for(var x=0,R=0,E=arguments.length;R<E;R++)x+=arguments[R].length;var I=Array(x),L=0;for(R=0;R<E;R++)for(var D=arguments[R],Q=0,te=D.length;Q<te;Q++,L++)I[L]=D[Q];return I}function H(x){return this instanceof H?(this.v=x,this):new H(x)}function ee(x,R,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,I=E.apply(x,R||[]),D=[];return L={},Q("next"),Q("throw"),Q("return"),L[Symbol.asyncIterator]=function(){return this},L;function Q(Te){I[Te]&&(L[Te]=function(tt){return new Promise(function(Qe,vt){D.push([Te,tt,Qe,vt])>1||te(Te,tt)})})}function te(Te,tt){try{!function Re(Te){Te.value instanceof H?Promise.resolve(Te.value.v).then(ne,Fe):rt(D[0][2],Te)}(I[Te](tt))}catch(Qe){rt(D[0][3],Qe)}}function ne(Te){te("next",Te)}function Fe(Te){te("throw",Te)}function rt(Te,tt){Te(tt),D.shift(),D.length&&te(D[0][0],D[0][1])}}function U(x){var R,E;return R={},I("next"),I("throw",function(L){throw L}),I("return"),R[Symbol.iterator]=function(){return this},R;function I(L,D){R[L]=x[L]?function(Q){return(E=!E)?{value:H(x[L](Q)),done:"return"===L}:D?D(Q):Q}:D}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E,R=x[Symbol.asyncIterator];return R?R.call(x):(x=v(x),E={},I("next"),I("throw"),I("return"),E[Symbol.asyncIterator]=function(){return this},E);function I(D){E[D]=x[D]&&function(Q){return new Promise(function(te,Re){!function L(D,Q,te,Re){Promise.resolve(Re).then(function(ne){D({value:ne,done:te})},Q)}(te,Re,(Q=x[D](Q)).done,Q.value)})}}}function Y(x,R){return Object.defineProperty?Object.defineProperty(x,"raw",{value:R}):x.raw=R,x}function ae(x){if(x&&x.__esModule)return x;var R={};if(null!=x)for(var E in x)Object.hasOwnProperty.call(x,E)&&(R[E]=x[E]);return R.default=x,R}function ve(x){return x&&x.__esModule?x:{default:x}}function _e(x,R){if(!R.has(x))throw new TypeError("attempted to get private field on non-instance");return R.get(x)}function he(x,R,E){if(!R.has(x))throw new TypeError("attempted to set private field on non-instance");return R.set(x,E),E}},76187:(fe,V,S)=>{S.r(V),S.d(V,{__assign:()=>B,__asyncDelegator:()=>U,__asyncGenerator:()=>ee,__asyncValues:()=>W,__await:()=>H,__awaiter:()=>_,__classPrivateFieldGet:()=>_e,__classPrivateFieldSet:()=>he,__createBinding:()=>O,__decorate:()=>y,__exportStar:()=>j,__extends:()=>K,__generator:()=>P,__importDefault:()=>ve,__importStar:()=>ae,__makeTemplateObject:()=>Y,__metadata:()=>g,__param:()=>f,__read:()=>b,__rest:()=>r,__spread:()=>G,__spreadArrays:()=>z,__values:()=>v});var M=function(x,R){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var L in I)I.hasOwnProperty(L)&&(E[L]=I[L])})(x,R)};function K(x,R){function E(){this.constructor=x}M(x,R),x.prototype=null===R?Object.create(R):(E.prototype=R.prototype,new E)}var B=function(){return B=Object.assign||function(R){for(var E,I=1,L=arguments.length;I<L;I++)for(var D in E=arguments[I])Object.prototype.hasOwnProperty.call(E,D)&&(R[D]=E[D]);return R},B.apply(this,arguments)};function r(x,R){var E={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&R.indexOf(I)<0&&(E[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(I=Object.getOwnPropertySymbols(x);L<I.length;L++)R.indexOf(I[L])<0&&Object.prototype.propertyIsEnumerable.call(x,I[L])&&(E[I[L]]=x[I[L]])}return E}function y(x,R,E,I){var Q,L=arguments.length,D=L<3?R:null===I?I=Object.getOwnPropertyDescriptor(R,E):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(x,R,E,I);else for(var te=x.length-1;te>=0;te--)(Q=x[te])&&(D=(L<3?Q(D):L>3?Q(R,E,D):Q(R,E))||D);return L>3&&D&&Object.defineProperty(R,E,D),D}function f(x,R){return function(E,I){R(E,I,x)}}function g(x,R){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,R)}function _(x,R,E,I){return new(E||(E=Promise))(function(D,Q){function te(Fe){try{ne(I.next(Fe))}catch(rt){Q(rt)}}function Re(Fe){try{ne(I.throw(Fe))}catch(rt){Q(rt)}}function ne(Fe){Fe.done?D(Fe.value):function L(D){return D instanceof E?D:new E(function(Q){Q(D)})}(Fe.value).then(te,Re)}ne((I=I.apply(x,R||[])).next())})}function P(x,R){var I,L,D,Q,E={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return Q={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(Q[Symbol.iterator]=function(){return this}),Q;function te(ne){return function(Fe){return function Re(ne){if(I)throw new TypeError("Generator is already executing.");for(;E;)try{if(I=1,L&&(D=2&ne[0]?L.return:ne[0]?L.throw||((D=L.return)&&D.call(L),0):L.next)&&!(D=D.call(L,ne[1])).done)return D;switch(L=0,D&&(ne=[2&ne[0],D.value]),ne[0]){case 0:case 1:D=ne;break;case 4:return E.label++,{value:ne[1],done:!1};case 5:E.label++,L=ne[1],ne=[0];continue;case 7:ne=E.ops.pop(),E.trys.pop();continue;default:if(!(D=(D=E.trys).length>0&&D[D.length-1])&&(6===ne[0]||2===ne[0])){E=0;continue}if(3===ne[0]&&(!D||ne[1]>D[0]&&ne[1]<D[3])){E.label=ne[1];break}if(6===ne[0]&&E.label<D[1]){E.label=D[1],D=ne;break}if(D&&E.label<D[2]){E.label=D[2],E.ops.push(ne);break}D[2]&&E.ops.pop(),E.trys.pop();continue}ne=R.call(x,E)}catch(Fe){ne=[6,Fe],L=0}finally{I=D=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ne,Fe])}}}function O(x,R,E,I){void 0===I&&(I=E),x[I]=R[E]}function j(x,R){for(var E in x)"default"!==E&&!R.hasOwnProperty(E)&&(R[E]=x[E])}function v(x){var R="function"==typeof Symbol&&Symbol.iterator,E=R&&x[R],I=0;if(E)return E.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(x,R){var E="function"==typeof Symbol&&x[Symbol.iterator];if(!E)return x;var L,Q,I=E.call(x),D=[];try{for(;(void 0===R||R-- >0)&&!(L=I.next()).done;)D.push(L.value)}catch(te){Q={error:te}}finally{try{L&&!L.done&&(E=I.return)&&E.call(I)}finally{if(Q)throw Q.error}}return D}function G(){for(var x=[],R=0;R<arguments.length;R++)x=x.concat(b(arguments[R]));return x}function z(){for(var x=0,R=0,E=arguments.length;R<E;R++)x+=arguments[R].length;var I=Array(x),L=0;for(R=0;R<E;R++)for(var D=arguments[R],Q=0,te=D.length;Q<te;Q++,L++)I[L]=D[Q];return I}function H(x){return this instanceof H?(this.v=x,this):new H(x)}function ee(x,R,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,I=E.apply(x,R||[]),D=[];return L={},Q("next"),Q("throw"),Q("return"),L[Symbol.asyncIterator]=function(){return this},L;function Q(Te){I[Te]&&(L[Te]=function(tt){return new Promise(function(Qe,vt){D.push([Te,tt,Qe,vt])>1||te(Te,tt)})})}function te(Te,tt){try{!function Re(Te){Te.value instanceof H?Promise.resolve(Te.value.v).then(ne,Fe):rt(D[0][2],Te)}(I[Te](tt))}catch(Qe){rt(D[0][3],Qe)}}function ne(Te){te("next",Te)}function Fe(Te){te("throw",Te)}function rt(Te,tt){Te(tt),D.shift(),D.length&&te(D[0][0],D[0][1])}}function U(x){var R,E;return R={},I("next"),I("throw",function(L){throw L}),I("return"),R[Symbol.iterator]=function(){return this},R;function I(L,D){R[L]=x[L]?function(Q){return(E=!E)?{value:H(x[L](Q)),done:"return"===L}:D?D(Q):Q}:D}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E,R=x[Symbol.asyncIterator];return R?R.call(x):(x=v(x),E={},I("next"),I("throw"),I("return"),E[Symbol.asyncIterator]=function(){return this},E);function I(D){E[D]=x[D]&&function(Q){return new Promise(function(te,Re){!function L(D,Q,te,Re){Promise.resolve(Re).then(function(ne){D({value:ne,done:te})},Q)}(te,Re,(Q=x[D](Q)).done,Q.value)})}}}function Y(x,R){return Object.defineProperty?Object.defineProperty(x,"raw",{value:R}):x.raw=R,x}function ae(x){if(x&&x.__esModule)return x;var R={};if(null!=x)for(var E in x)Object.hasOwnProperty.call(x,E)&&(R[E]=x[E]);return R.default=x,R}function ve(x){return x&&x.__esModule?x:{default:x}}function _e(x,R){if(!R.has(x))throw new TypeError("attempted to get private field on non-instance");return R.get(x)}function he(x,R,E){if(!R.has(x))throw new TypeError("attempted to set private field on non-instance");return R.set(x,E),E}},48798:(fe,V,S)=>{S.r(V),S.d(V,{__assign:()=>B,__asyncDelegator:()=>U,__asyncGenerator:()=>ee,__asyncValues:()=>W,__await:()=>H,__awaiter:()=>_,__classPrivateFieldGet:()=>_e,__classPrivateFieldSet:()=>he,__createBinding:()=>O,__decorate:()=>y,__exportStar:()=>j,__extends:()=>K,__generator:()=>P,__importDefault:()=>ve,__importStar:()=>ae,__makeTemplateObject:()=>Y,__metadata:()=>g,__param:()=>f,__read:()=>b,__rest:()=>r,__spread:()=>G,__spreadArrays:()=>z,__values:()=>v});var M=function(x,R){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var L in I)I.hasOwnProperty(L)&&(E[L]=I[L])})(x,R)};function K(x,R){function E(){this.constructor=x}M(x,R),x.prototype=null===R?Object.create(R):(E.prototype=R.prototype,new E)}var B=function(){return B=Object.assign||function(R){for(var E,I=1,L=arguments.length;I<L;I++)for(var D in E=arguments[I])Object.prototype.hasOwnProperty.call(E,D)&&(R[D]=E[D]);return R},B.apply(this,arguments)};function r(x,R){var E={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&R.indexOf(I)<0&&(E[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(I=Object.getOwnPropertySymbols(x);L<I.length;L++)R.indexOf(I[L])<0&&Object.prototype.propertyIsEnumerable.call(x,I[L])&&(E[I[L]]=x[I[L]])}return E}function y(x,R,E,I){var Q,L=arguments.length,D=L<3?R:null===I?I=Object.getOwnPropertyDescriptor(R,E):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(x,R,E,I);else for(var te=x.length-1;te>=0;te--)(Q=x[te])&&(D=(L<3?Q(D):L>3?Q(R,E,D):Q(R,E))||D);return L>3&&D&&Object.defineProperty(R,E,D),D}function f(x,R){return function(E,I){R(E,I,x)}}function g(x,R){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,R)}function _(x,R,E,I){return new(E||(E=Promise))(function(D,Q){function te(Fe){try{ne(I.next(Fe))}catch(rt){Q(rt)}}function Re(Fe){try{ne(I.throw(Fe))}catch(rt){Q(rt)}}function ne(Fe){Fe.done?D(Fe.value):function L(D){return D instanceof E?D:new E(function(Q){Q(D)})}(Fe.value).then(te,Re)}ne((I=I.apply(x,R||[])).next())})}function P(x,R){var I,L,D,Q,E={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return Q={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(Q[Symbol.iterator]=function(){return this}),Q;function te(ne){return function(Fe){return function Re(ne){if(I)throw new TypeError("Generator is already executing.");for(;E;)try{if(I=1,L&&(D=2&ne[0]?L.return:ne[0]?L.throw||((D=L.return)&&D.call(L),0):L.next)&&!(D=D.call(L,ne[1])).done)return D;switch(L=0,D&&(ne=[2&ne[0],D.value]),ne[0]){case 0:case 1:D=ne;break;case 4:return E.label++,{value:ne[1],done:!1};case 5:E.label++,L=ne[1],ne=[0];continue;case 7:ne=E.ops.pop(),E.trys.pop();continue;default:if(!(D=(D=E.trys).length>0&&D[D.length-1])&&(6===ne[0]||2===ne[0])){E=0;continue}if(3===ne[0]&&(!D||ne[1]>D[0]&&ne[1]<D[3])){E.label=ne[1];break}if(6===ne[0]&&E.label<D[1]){E.label=D[1],D=ne;break}if(D&&E.label<D[2]){E.label=D[2],E.ops.push(ne);break}D[2]&&E.ops.pop(),E.trys.pop();continue}ne=R.call(x,E)}catch(Fe){ne=[6,Fe],L=0}finally{I=D=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ne,Fe])}}}function O(x,R,E,I){void 0===I&&(I=E),x[I]=R[E]}function j(x,R){for(var E in x)"default"!==E&&!R.hasOwnProperty(E)&&(R[E]=x[E])}function v(x){var R="function"==typeof Symbol&&Symbol.iterator,E=R&&x[R],I=0;if(E)return E.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(x,R){var E="function"==typeof Symbol&&x[Symbol.iterator];if(!E)return x;var L,Q,I=E.call(x),D=[];try{for(;(void 0===R||R-- >0)&&!(L=I.next()).done;)D.push(L.value)}catch(te){Q={error:te}}finally{try{L&&!L.done&&(E=I.return)&&E.call(I)}finally{if(Q)throw Q.error}}return D}function G(){for(var x=[],R=0;R<arguments.length;R++)x=x.concat(b(arguments[R]));return x}function z(){for(var x=0,R=0,E=arguments.length;R<E;R++)x+=arguments[R].length;var I=Array(x),L=0;for(R=0;R<E;R++)for(var D=arguments[R],Q=0,te=D.length;Q<te;Q++,L++)I[L]=D[Q];return I}function H(x){return this instanceof H?(this.v=x,this):new H(x)}function ee(x,R,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,I=E.apply(x,R||[]),D=[];return L={},Q("next"),Q("throw"),Q("return"),L[Symbol.asyncIterator]=function(){return this},L;function Q(Te){I[Te]&&(L[Te]=function(tt){return new Promise(function(Qe,vt){D.push([Te,tt,Qe,vt])>1||te(Te,tt)})})}function te(Te,tt){try{!function Re(Te){Te.value instanceof H?Promise.resolve(Te.value.v).then(ne,Fe):rt(D[0][2],Te)}(I[Te](tt))}catch(Qe){rt(D[0][3],Qe)}}function ne(Te){te("next",Te)}function Fe(Te){te("throw",Te)}function rt(Te,tt){Te(tt),D.shift(),D.length&&te(D[0][0],D[0][1])}}function U(x){var R,E;return R={},I("next"),I("throw",function(L){throw L}),I("return"),R[Symbol.iterator]=function(){return this},R;function I(L,D){R[L]=x[L]?function(Q){return(E=!E)?{value:H(x[L](Q)),done:"return"===L}:D?D(Q):Q}:D}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E,R=x[Symbol.asyncIterator];return R?R.call(x):(x=v(x),E={},I("next"),I("throw"),I("return"),E[Symbol.asyncIterator]=function(){return this},E);function I(D){E[D]=x[D]&&function(Q){return new Promise(function(te,Re){!function L(D,Q,te,Re){Promise.resolve(Re).then(function(ne){D({value:ne,done:te})},Q)}(te,Re,(Q=x[D](Q)).done,Q.value)})}}}function Y(x,R){return Object.defineProperty?Object.defineProperty(x,"raw",{value:R}):x.raw=R,x}function ae(x){if(x&&x.__esModule)return x;var R={};if(null!=x)for(var E in x)Object.hasOwnProperty.call(x,E)&&(R[E]=x[E]);return R.default=x,R}function ve(x){return x&&x.__esModule?x:{default:x}}function _e(x,R){if(!R.has(x))throw new TypeError("attempted to get private field on non-instance");return R.get(x)}function he(x,R,E){if(!R.has(x))throw new TypeError("attempted to set private field on non-instance");return R.set(x,E),E}},62220:(fe,V,S)=>{S.r(V),S.d(V,{__assign:()=>B,__asyncDelegator:()=>U,__asyncGenerator:()=>ee,__asyncValues:()=>W,__await:()=>H,__awaiter:()=>_,__classPrivateFieldGet:()=>_e,__classPrivateFieldSet:()=>he,__createBinding:()=>O,__decorate:()=>y,__exportStar:()=>j,__extends:()=>K,__generator:()=>P,__importDefault:()=>ve,__importStar:()=>ae,__makeTemplateObject:()=>Y,__metadata:()=>g,__param:()=>f,__read:()=>b,__rest:()=>r,__spread:()=>G,__spreadArrays:()=>z,__values:()=>v});var M=function(x,R){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var L in I)I.hasOwnProperty(L)&&(E[L]=I[L])})(x,R)};function K(x,R){function E(){this.constructor=x}M(x,R),x.prototype=null===R?Object.create(R):(E.prototype=R.prototype,new E)}var B=function(){return B=Object.assign||function(R){for(var E,I=1,L=arguments.length;I<L;I++)for(var D in E=arguments[I])Object.prototype.hasOwnProperty.call(E,D)&&(R[D]=E[D]);return R},B.apply(this,arguments)};function r(x,R){var E={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&R.indexOf(I)<0&&(E[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(I=Object.getOwnPropertySymbols(x);L<I.length;L++)R.indexOf(I[L])<0&&Object.prototype.propertyIsEnumerable.call(x,I[L])&&(E[I[L]]=x[I[L]])}return E}function y(x,R,E,I){var Q,L=arguments.length,D=L<3?R:null===I?I=Object.getOwnPropertyDescriptor(R,E):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(x,R,E,I);else for(var te=x.length-1;te>=0;te--)(Q=x[te])&&(D=(L<3?Q(D):L>3?Q(R,E,D):Q(R,E))||D);return L>3&&D&&Object.defineProperty(R,E,D),D}function f(x,R){return function(E,I){R(E,I,x)}}function g(x,R){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,R)}function _(x,R,E,I){return new(E||(E=Promise))(function(D,Q){function te(Fe){try{ne(I.next(Fe))}catch(rt){Q(rt)}}function Re(Fe){try{ne(I.throw(Fe))}catch(rt){Q(rt)}}function ne(Fe){Fe.done?D(Fe.value):function L(D){return D instanceof E?D:new E(function(Q){Q(D)})}(Fe.value).then(te,Re)}ne((I=I.apply(x,R||[])).next())})}function P(x,R){var I,L,D,Q,E={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return Q={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(Q[Symbol.iterator]=function(){return this}),Q;function te(ne){return function(Fe){return function Re(ne){if(I)throw new TypeError("Generator is already executing.");for(;E;)try{if(I=1,L&&(D=2&ne[0]?L.return:ne[0]?L.throw||((D=L.return)&&D.call(L),0):L.next)&&!(D=D.call(L,ne[1])).done)return D;switch(L=0,D&&(ne=[2&ne[0],D.value]),ne[0]){case 0:case 1:D=ne;break;case 4:return E.label++,{value:ne[1],done:!1};case 5:E.label++,L=ne[1],ne=[0];continue;case 7:ne=E.ops.pop(),E.trys.pop();continue;default:if(!(D=(D=E.trys).length>0&&D[D.length-1])&&(6===ne[0]||2===ne[0])){E=0;continue}if(3===ne[0]&&(!D||ne[1]>D[0]&&ne[1]<D[3])){E.label=ne[1];break}if(6===ne[0]&&E.label<D[1]){E.label=D[1],D=ne;break}if(D&&E.label<D[2]){E.label=D[2],E.ops.push(ne);break}D[2]&&E.ops.pop(),E.trys.pop();continue}ne=R.call(x,E)}catch(Fe){ne=[6,Fe],L=0}finally{I=D=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ne,Fe])}}}function O(x,R,E,I){void 0===I&&(I=E),x[I]=R[E]}function j(x,R){for(var E in x)"default"!==E&&!R.hasOwnProperty(E)&&(R[E]=x[E])}function v(x){var R="function"==typeof Symbol&&Symbol.iterator,E=R&&x[R],I=0;if(E)return E.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(x,R){var E="function"==typeof Symbol&&x[Symbol.iterator];if(!E)return x;var L,Q,I=E.call(x),D=[];try{for(;(void 0===R||R-- >0)&&!(L=I.next()).done;)D.push(L.value)}catch(te){Q={error:te}}finally{try{L&&!L.done&&(E=I.return)&&E.call(I)}finally{if(Q)throw Q.error}}return D}function G(){for(var x=[],R=0;R<arguments.length;R++)x=x.concat(b(arguments[R]));return x}function z(){for(var x=0,R=0,E=arguments.length;R<E;R++)x+=arguments[R].length;var I=Array(x),L=0;for(R=0;R<E;R++)for(var D=arguments[R],Q=0,te=D.length;Q<te;Q++,L++)I[L]=D[Q];return I}function H(x){return this instanceof H?(this.v=x,this):new H(x)}function ee(x,R,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,I=E.apply(x,R||[]),D=[];return L={},Q("next"),Q("throw"),Q("return"),L[Symbol.asyncIterator]=function(){return this},L;function Q(Te){I[Te]&&(L[Te]=function(tt){return new Promise(function(Qe,vt){D.push([Te,tt,Qe,vt])>1||te(Te,tt)})})}function te(Te,tt){try{!function Re(Te){Te.value instanceof H?Promise.resolve(Te.value.v).then(ne,Fe):rt(D[0][2],Te)}(I[Te](tt))}catch(Qe){rt(D[0][3],Qe)}}function ne(Te){te("next",Te)}function Fe(Te){te("throw",Te)}function rt(Te,tt){Te(tt),D.shift(),D.length&&te(D[0][0],D[0][1])}}function U(x){var R,E;return R={},I("next"),I("throw",function(L){throw L}),I("return"),R[Symbol.iterator]=function(){return this},R;function I(L,D){R[L]=x[L]?function(Q){return(E=!E)?{value:H(x[L](Q)),done:"return"===L}:D?D(Q):Q}:D}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E,R=x[Symbol.asyncIterator];return R?R.call(x):(x=v(x),E={},I("next"),I("throw"),I("return"),E[Symbol.asyncIterator]=function(){return this},E);function I(D){E[D]=x[D]&&function(Q){return new Promise(function(te,Re){!function L(D,Q,te,Re){Promise.resolve(Re).then(function(ne){D({value:ne,done:te})},Q)}(te,Re,(Q=x[D](Q)).done,Q.value)})}}}function Y(x,R){return Object.defineProperty?Object.defineProperty(x,"raw",{value:R}):x.raw=R,x}function ae(x){if(x&&x.__esModule)return x;var R={};if(null!=x)for(var E in x)Object.hasOwnProperty.call(x,E)&&(R[E]=x[E]);return R.default=x,R}function ve(x){return x&&x.__esModule?x:{default:x}}function _e(x,R){if(!R.has(x))throw new TypeError("attempted to get private field on non-instance");return R.get(x)}function he(x,R,E){if(!R.has(x))throw new TypeError("attempted to set private field on non-instance");return R.set(x,E),E}},54287:()=>{},56989:()=>{},24654:()=>{},69862:()=>{},40964:()=>{},62195:fe=>{fe.exports=function V(S,M){(null==M||M>S.length)&&(M=S.length);for(var K=0,B=new Array(M);K<M;K++)B[K]=S[K];return B},fe.exports.__esModule=!0,fe.exports.default=fe.exports},14156:fe=>{fe.exports=function V(S){if(Array.isArray(S))return S},fe.exports.__esModule=!0,fe.exports.default=fe.exports},45664:fe=>{fe.exports=function V(S,M){if(!(S instanceof M))throw new TypeError("Cannot call a class as a function")},fe.exports.__esModule=!0,fe.exports.default=fe.exports},16996:(fe,V,S)=>{var M=S(7588);function K(r,y){for(var f=0;f<y.length;f++){var g=y[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(r,M(g.key),g)}}fe.exports=function B(r,y,f){return y&&K(r.prototype,y),f&&K(r,f),Object.defineProperty(r,"prototype",{writable:!1}),r},fe.exports.__esModule=!0,fe.exports.default=fe.exports},9482:(fe,V,S)=>{var M=S(7588);fe.exports=function K(B,r,y){return(r=M(r))in B?Object.defineProperty(B,r,{value:y,enumerable:!0,configurable:!0,writable:!0}):B[r]=y,B},fe.exports.__esModule=!0,fe.exports.default=fe.exports},82956:fe=>{fe.exports=function V(S,M){var K=null==S?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(null!=K){var B,r,y,f,g=[],_=!0,P=!1;try{if(y=(K=K.call(S)).next,0===M){if(Object(K)!==K)return;_=!1}else for(;!(_=(B=y.call(K)).done)&&(g.push(B.value),g.length!==M);_=!0);}catch(O){P=!0,r=O}finally{try{if(!_&&null!=K.return&&(f=K.return(),Object(f)!==f))return}finally{if(P)throw r}}return g}},fe.exports.__esModule=!0,fe.exports.default=fe.exports},8110:fe=>{fe.exports=function V(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},fe.exports.__esModule=!0,fe.exports.default=fe.exports},3667:(fe,V,S)=>{var M=S(14156),K=S(82956),B=S(46780),r=S(8110);fe.exports=function y(f,g){return M(f)||K(f,g)||B(f,g)||r()},fe.exports.__esModule=!0,fe.exports.default=fe.exports},86977:(fe,V,S)=>{var M=S(23881).default;fe.exports=function K(B,r){if("object"!==M(B)||null===B)return B;var y=B[Symbol.toPrimitive];if(void 0!==y){var f=y.call(B,r||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(B)},fe.exports.__esModule=!0,fe.exports.default=fe.exports},7588:(fe,V,S)=>{var M=S(23881).default,K=S(86977);fe.exports=function B(r){var y=K(r,"string");return"symbol"===M(y)?y:String(y)},fe.exports.__esModule=!0,fe.exports.default=fe.exports},23881:fe=>{function V(S){return fe.exports=V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},fe.exports.__esModule=!0,fe.exports.default=fe.exports,V(S)}fe.exports=V,fe.exports.__esModule=!0,fe.exports.default=fe.exports},46780:(fe,V,S)=>{var M=S(62195);fe.exports=function K(B,r){if(B){if("string"==typeof B)return M(B,r);var y=Object.prototype.toString.call(B).slice(8,-1);if("Object"===y&&B.constructor&&(y=B.constructor.name),"Map"===y||"Set"===y)return Array.from(B);if("Arguments"===y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return M(B,r)}},fe.exports.__esModule=!0,fe.exports.default=fe.exports},10203:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(32090),_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(86170),_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(24582),_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(28694),_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(35603),_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(48047),_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(78069),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56718),_ngrx_store__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(93896),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(20591),rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(90833),rxjs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(10745),rxjs__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(36646),rxjs__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(34915),rxjs__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(26067),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(81203),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(60116),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(50635),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(63853),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(87580),rxjs_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(71989),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(53158),rxjs_operators__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(59295),rxjs_operators__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(68951),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(32673),rxjs_operators__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(87260),rxjs_operators__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(8728),rxjs_operators__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(10538),rxjs_operators__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(24503),_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(64610),PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING",PerformAction=(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function fe(V,S){if((0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,fe),this.action=V,this.timestamp=S,this.type=PERFORM_ACTION,typeof V.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}),Refresh=(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function fe(){(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,fe),this.type=REFRESH}),Reset=(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function fe(V){(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,fe),this.timestamp=V,this.type=RESET}),Rollback=(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function fe(V){(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,fe),this.timestamp=V,this.type=ROLLBACK}),Commit=(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function fe(V){(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,fe),this.timestamp=V,this.type=COMMIT}),Sweep=(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function fe(){(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,fe),this.type=SWEEP}),ToggleAction=(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function fe(V){(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,fe),this.id=V,this.type=TOGGLE_ACTION}),SetActionsActive=null,JumpToState=(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function fe(V){(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,fe),this.index=V,this.type=JUMP_TO_STATE}),JumpToAction=(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function fe(V){(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,fe),this.actionId=V,this.type=JUMP_TO_ACTION}),ImportState=(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function fe(V){(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,fe),this.nextLiftedState=V,this.type=IMPORT_STATE}),LockChanges=(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function fe(V){(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,fe),this.status=V,this.type=LOCK_CHANGES}),PauseRecording=(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function fe(V){(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,fe),this.status=V,this.type=PAUSE_RECORDING}),StoreDevtoolsConfig=(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function fe(){(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,fe),this.maxAge=!1}),STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("@ngrx/store-devtools Initial Config");function noMonitor(){return null}var DEFAULT_NAME="NgRx Store DevTools";function createConfig(fe){var V={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},S="function"==typeof fe?fe():fe,K=S.features||!!S.logOnly&&{pause:!0,export:!0,test:!0}||V.features;!0===K.import&&(K.import="custom");var B=Object.assign({},V,{features:K},S);if(B.maxAge&&B.maxAge<2)throw new Error("Devtools 'maxAge' cannot be less than 2, got ".concat(B.maxAge));return B}function difference(fe,V){return fe.filter(function(S){return V.indexOf(S)<0})}function unliftState(fe){var V=fe.computedStates,S=fe.currentStateIndex;return S>=V.length?V[V.length-1].state:V[S].state}function unliftAction(fe){return fe.actionsById[fe.nextActionId-1]}function liftAction(fe){return new PerformAction(fe,+Date.now())}function sanitizeActions(fe,V){return Object.keys(V).reduce(function(S,M){var K=Number(M);return S[K]=sanitizeAction(fe,V[K],K),S},{})}function sanitizeAction(fe,V,S){return(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)({},V),{},{action:fe(V.action,S)})}function sanitizeStates(fe,V){return V.map(function(S,M){return{state:sanitizeState(fe,S.state,M),error:S.error}})}function sanitizeState(fe,V,S){return fe(V,S)}function shouldFilterActions(fe){return fe.predicate||fe.actionsSafelist||fe.actionsBlocklist}function filterLiftedState(fe,V,S,M){var K=[],B={},r=[];return fe.stagedActionIds.forEach(function(y,f){var g=fe.actionsById[y];g&&(f&&isActionFiltered(fe.computedStates[f],g,V,S,M)||(B[y]=g,K.push(y),r.push(fe.computedStates[f])))}),(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)({},fe),{},{stagedActionIds:K,actionsById:B,computedStates:r})}function isActionFiltered(fe,V,S,M,K){var B=S&&!S(fe,V.action),r=M&&!V.action.type.match(M.map(function(f){return escapeRegExp(f)}).join("|")),y=K&&V.action.type.match(K.map(function(f){return escapeRegExp(f)}).join("|"));return B||r||y}function escapeRegExp(fe){return fe.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var DevtoolsDispatcher=function(){var fe=function(V){(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_5__.Z)(M,V);var S=(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_6__.Z)(M);function M(){return(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,M),S.apply(this,arguments)}return(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(M)}(_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.UO);return fe.\u0275fac=function(){var V;return function(M){return(V||(V=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275getInheritedFactory(fe)))(M||fe)}}(),fe.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineInjectable({token:fe,factory:fe.\u0275fac}),fe}(),ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("@ngrx/store-devtools Redux Devtools Extension"),DevtoolsExtension=function(){var DevtoolsExtension=function(){function DevtoolsExtension(fe,V,S){(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,DevtoolsExtension),this.config=V,this.dispatcher=S,this.devtoolsExtension=fe,this.createActionStreams()}return(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(DevtoolsExtension,[{key:"notify",value:function(V,S){var M=this;if(this.devtoolsExtension)if(V.type===PERFORM_ACTION){if(S.isLocked||S.isPaused)return;var K=unliftState(S);if(shouldFilterActions(this.config)&&isActionFiltered(K,V,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;var B=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,K,S.currentStateIndex):K,r=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,V,S.nextActionId):V;this.sendToReduxDevtools(function(){return M.extensionConnection.send(r,B)})}else{var y=(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)({},S),{},{stagedActionIds:S.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,S.actionsById):S.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,S.computedStates):S.computedStates});this.sendToReduxDevtools(function(){return M.devtoolsExtension.send(null,y,M.getExtensionConfig(M.config))})}}},{key:"createChangesObservable",value:function(){var V=this;return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_9__.y(function(S){var M=V.devtoolsExtension.connect(V.getExtensionConfig(V.config));return V.extensionConnection=M,M.init(),M.subscribe(function(K){return S.next(K)}),M.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_8__.E}},{key:"createActionStreams",value:function(){var V=this,S=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.B)()),M=S.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.h)(function(g){return g.type===ExtensionActionTypes.START})),K=S.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.h)(function(g){return g.type===ExtensionActionTypes.STOP})),B=S.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.h)(function(g){return g.type===ExtensionActionTypes.DISPATCH}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(function(g){return V.unwrapAction(g.payload)}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.b)(function(g){return g.type===IMPORT_STATE?V.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.h)(function(_){return _.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.wb}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(function(){return g}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.K)(function(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.of)(g)}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.of)(g)})),y=S.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.h)(function(g){return g.type===ExtensionActionTypes.ACTION}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(function(g){return V.unwrapAction(g.payload)})).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.R)(K)),f=B.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.R)(K));this.start$=M.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.R)(K)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.w)(function(){return y})),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.w)(function(){return f}))}},{key:"unwrapAction",value:function unwrapAction(action){return"string"==typeof action?eval("(".concat(action,")")):action}},{key:"getExtensionConfig",value:function fe(V){var S,M,K,B={name:V.name,features:V.features,serialize:V.serialize,autoPause:null!==(S=V.autoPause)&&void 0!==S&&S,trace:null!==(M=V.trace)&&void 0!==M&&M,traceLimit:null!==(K=V.traceLimit)&&void 0!==K?K:75};return!1!==V.maxAge&&(B.maxAge=V.maxAge),B}},{key:"sendToReduxDevtools",value:function fe(V){try{V()}catch(S){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",S)}}}]),DevtoolsExtension}();return DevtoolsExtension.\u0275fac=function fe(V){return new(V||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineInjectable({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension}(),INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(fe,V,S,M,K){if(M)return{state:S,error:"Interrupted by an error up the chain"};var r,B=S;try{B=fe(S,V)}catch(y){r=y.toString(),K.handleError(y)}return{state:B,error:r}}function recomputeStates(fe,V,S,M,K,B,r,y,f){if(V>=fe.length&&fe.length===B.length)return fe;for(var g=fe.slice(0,V),_=B.length-(f?1:0),P=V;P<_;P++){var O=B[P],j=K[O].action,v=g[P-1],b=v?v.state:M,G=v?v.error:void 0,H=r.indexOf(O)>-1?v:computeNextEntry(S,j,b,G,y);g.push(H)}return f&&g.push(fe[fe.length-1]),g}function liftInitialState(fe,V){return{monitorState:V(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:fe,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(fe,V,S,M){var K=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return function(B){return function(r,y){var f=r||V,g=f.monitorState,_=f.actionsById,P=f.nextActionId,O=f.stagedActionIds,j=f.skippedActionIds,v=f.committedState,b=f.currentStateIndex,G=f.computedStates,z=f.isLocked,H=f.isPaused;function ee(Re){for(var ne=Re,Fe=O.slice(1,ne+1),rt=0;rt<Fe.length;rt++){if(G[rt+1].error){Fe=O.slice(1,(ne=rt)+1);break}delete _[Fe[rt]]}j=j.filter(function(Te){return-1===Fe.indexOf(Te)}),O=[0].concat((0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_21__.Z)(O.slice(ne+1))),v=G[ne].state,G=G.slice(ne),b=b>ne?b-ne:0}function U(){_={0:liftAction(INIT_ACTION)},P=1,O=[0],j=[],v=G[b].state,b=0,G=[]}r||(_=Object.create(_));var W=0;switch(y.type){case LOCK_CHANGES:z=y.status,W=1/0;break;case PAUSE_RECORDING:(H=y.status)?(O=[].concat((0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_21__.Z)(O),[P]),_[P]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),P++,W=O.length-1,G=G.concat(G[G.length-1]),b===O.length-2&&b++,W=1/0):U();break;case RESET:_={0:liftAction(INIT_ACTION)},P=1,O=[0],j=[],v=fe,b=0,G=[];break;case COMMIT:U();break;case ROLLBACK:_={0:liftAction(INIT_ACTION)},P=1,O=[0],j=[],b=0,G=[];break;case TOGGLE_ACTION:var Y=y.id,ae=j.indexOf(Y);j=-1===ae?[Y].concat((0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_21__.Z)(j)):j.filter(function(Re){return Re!==Y}),W=O.indexOf(Y);break;case SET_ACTIONS_ACTIVE:for(var ve=y.start,_e=y.end,he=y.active,x=[],R=ve;R<_e;R++)x.push(R);j=he?difference(j,x):[].concat((0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_21__.Z)(j),x),W=O.indexOf(ve);break;case JUMP_TO_STATE:b=y.index,W=1/0;break;case JUMP_TO_ACTION:var E=O.indexOf(y.actionId);-1!==E&&(b=E),W=1/0;break;case SWEEP:O=difference(O,j),j=[],b=Math.min(b,O.length-1);break;case PERFORM_ACTION:if(z)return r||V;if(H||r&&isActionFiltered(r.computedStates[b],y,K.predicate,K.actionsSafelist,K.actionsBlocklist)){var I=G[G.length-1];G=[].concat((0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_21__.Z)(G.slice(0,-1)),[computeNextEntry(B,y.action,I.state,I.error,S)]),W=1/0;break}K.maxAge&&O.length===K.maxAge&&ee(1),b===O.length-1&&b++;var L=P++;_[L]=y,W=(O=[].concat((0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_21__.Z)(O),[L])).length-1;break;case IMPORT_STATE:var D=y.nextLiftedState;g=D.monitorState,_=D.actionsById,P=D.nextActionId,O=D.stagedActionIds,j=D.skippedActionIds,v=D.committedState,b=D.currentStateIndex,G=D.computedStates,z=D.isLocked,H=D.isPaused;break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_7__.qg:W=0,K.maxAge&&O.length>K.maxAge&&(G=recomputeStates(G,W,B,v,_,O,j,S,H),ee(O.length-K.maxAge),W=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_7__.wb:if(G.filter(function(Re){return Re.error}).length>0)W=0,K.maxAge&&O.length>K.maxAge&&(G=recomputeStates(G,W,B,v,_,O,j,S,H),ee(O.length-K.maxAge),W=1/0);else{if(!H&&!z){b===O.length-1&&b++;var te=P++;_[te]=new PerformAction(y,+Date.now()),O=[].concat((0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_21__.Z)(O),[te]),G=recomputeStates(G,W=O.length-1,B,v,_,O,j,S,H)}G=G.map(function(Re){return(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)({},Re),{},{state:B(Re.state,RECOMPUTE_ACTION)})}),b=O.length-1,K.maxAge&&O.length>K.maxAge&&ee(O.length-K.maxAge),W=1/0}break;default:W=1/0}return G=recomputeStates(G,W,B,v,_,O,j,S,H),{monitorState:g=M(g,y),actionsById:_,nextActionId:P,stagedActionIds:O,skippedActionIds:j,committedState:v,currentStateIndex:b,computedStates:G,isLocked:z,isPaused:H}}}}var StoreDevtools=function(){var fe=function(){function V(S,M,K,B,r,y,f,g){var _=this;(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,V);var P=liftInitialState(f,g.monitor),O=liftReducerWith(f,P,y,g.monitor,g),j=(0,rxjs__WEBPACK_IMPORTED_MODULE_22__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_22__.T)(M.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_23__.T)(1)),B.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(liftAction)),S,B.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_25__.N)),v=K.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(O)),b=new rxjs__WEBPACK_IMPORTED_MODULE_26__.t(1),G=j.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.M)(v),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_28__.R)(function(U,W){var Y=U.state,ae=(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_29__.Z)(W,2),ve=ae[0],he=(0,ae[1])(Y,ve);return ve.type!==PERFORM_ACTION&&shouldFilterActions(g)&&(he=filterLiftedState(he,g.predicate,g.actionsSafelist,g.actionsBlocklist)),B.notify(ve,he),{state:he,action:ve}},{state:P,action:null})).subscribe(function(U){var Y=U.action;b.next(U.state),Y.type===PERFORM_ACTION&&r.next(Y.action)}),z=B.start$.subscribe(function(){_.refresh()}),H=b.asObservable(),ee=H.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(unliftState));Object.defineProperty(ee,"state",{value:(0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_1__.toSignal)(ee,{manualCleanup:!0,requireSync:!0})}),this.extensionStartSubscription=z,this.stateSubscription=G,this.dispatcher=S,this.liftedState=H,this.state=ee}return(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(V,[{key:"dispatch",value:function(M){this.dispatcher.next(M)}},{key:"next",value:function(M){this.dispatcher.next(M)}},{key:"error",value:function(M){}},{key:"complete",value:function(){}},{key:"performAction",value:function(M){this.dispatch(new PerformAction(M,+Date.now()))}},{key:"refresh",value:function(){this.dispatch(new Refresh)}},{key:"reset",value:function(){this.dispatch(new Reset(+Date.now()))}},{key:"rollback",value:function(){this.dispatch(new Rollback(+Date.now()))}},{key:"commit",value:function(){this.dispatch(new Commit(+Date.now()))}},{key:"sweep",value:function(){this.dispatch(new Sweep)}},{key:"toggleAction",value:function(M){this.dispatch(new ToggleAction(M))}},{key:"jumpToAction",value:function(M){this.dispatch(new JumpToAction(M))}},{key:"jumpToState",value:function(M){this.dispatch(new JumpToState(M))}},{key:"importState",value:function(M){this.dispatch(new ImportState(M))}},{key:"lockChanges",value:function(M){this.dispatch(new LockChanges(M))}},{key:"pauseRecording",value:function(M){this.dispatch(new PauseRecording(M))}}]),V}();return fe.\u0275fac=function(S){return new(S||fe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ErrorHandler),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(STORE_DEVTOOLS_CONFIG))},fe.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineInjectable({token:fe,factory:fe.\u0275fac}),fe}(),IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(fe,V){return!!fe||V.monitor!==noMonitor}function createReduxDevtoolsExtension(){var fe="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[fe]<"u"?window[fe]:null}function provideStoreDevtools(){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.makeEnvironmentProviders)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(fe){return fe.state}var StoreDevtoolsModule=function(){var fe=function(){function V(){(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,V)}return(0,_home_runner_work_test_automation111_test_automation111_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(V,null,[{key:"instrument",value:function(){return{ngModule:V,providers:[provideStoreDevtools(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})]}}}]),V}();return fe.\u0275fac=function(S){return new(S||fe)},fe.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineNgModule({type:fe}),fe.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineInjector({}),fe}()},93896:(fe,V,S)=>{S.d(V,{hg:()=>un,UO:()=>Qe,qg:()=>tt,Y6:()=>it,PB:()=>Pn,mK:()=>_t,n$:()=>ki,Y$:()=>Cn,FR:()=>Fr,yh:()=>Qn,CK:()=>gr,Aw:()=>ii,cr:()=>hr,wb:()=>Pt,UY:()=>De,qC:()=>ar,PH:()=>I,ZF:()=>ls,Lq:()=>jr,P1:()=>To,rM:()=>wa,on:()=>Yr,Ky:()=>L,Ys:()=>Xr});var M=S(95106),K=S(60609),B=S(32090),r=S(35488),y=S(86170),f=S(78069),g=S(48047),_=S(4089),P=S(20265),O=S(24582),j=S(28694),v=S(77797),b=S(35603),G=S(56718),z=S(76317),H=S(90833),ee=S(50253),U=S(34915),W=S(8728),Y=S(10538),ae=S(24503),ve=S(50635);function _e(){for(var Ze=arguments.length,lt=new Array(Ze),ct=0;ct<Ze;ct++)lt[ct]=arguments[ct];var wt=lt.length;if(0===wt)throw new Error("list of properties cannot be empty.");return(0,ve.U)(function(Ft){for(var Rt=Ft,Jt=0;Jt<wt;Jt++){var vn=Rt?.[lt[Jt]];if(!(typeof vn<"u"))return;Rt=vn}return Rt})}var he=S(98977),x=S(64610),R={};function I(Ze,lt){if(R[Ze]=(R[Ze]||0)+1,"function"==typeof lt)return Q(Ze,function(){return(0,b.Z)((0,b.Z)({},lt.apply(void 0,arguments)),{},{type:Ze})});switch(lt?lt._as:"empty"){case"empty":return Q(Ze,function(){return{type:Ze}});case"props":return Q(Ze,function(wt){return(0,b.Z)((0,b.Z)({},wt),{},{type:Ze})});default:throw new Error("Unexpected config.")}}function L(){return{_as:"props",_p:void 0}}function Q(Ze,lt){return Object.defineProperty(lt,"type",{value:Ze,writable:!1})}var tt="@ngrx/store/init",Qe=function(){var Ze=function(lt){(0,O.Z)(wt,lt);var ct=(0,j.Z)(wt);function wt(){return(0,f.Z)(this,wt),ct.call(this,{type:tt})}return(0,g.Z)(wt,[{key:"next",value:function(Rt){if("function"==typeof Rt)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Rt>"u")throw new TypeError("Actions must be objects");if(typeof Rt.type>"u")throw new TypeError("Actions must have a type property");(0,_.Z)((0,P.Z)(wt.prototype),"next",this).call(this,Rt)}},{key:"complete",value:function(){}},{key:"ngOnDestroy",value:function(){(0,_.Z)((0,P.Z)(wt.prototype),"complete",this).call(this)}}]),wt}(z.X);return Ze.\u0275fac=function(ct){return new(ct||Ze)},Ze.\u0275prov=G.\u0275\u0275defineInjectable({token:Ze,factory:Ze.\u0275fac}),Ze}(),vt=[Qe],et=new G.InjectionToken("@ngrx/store Internal Root Guard"),je=new G.InjectionToken("@ngrx/store Internal Initial State"),it=new G.InjectionToken("@ngrx/store Initial State"),de=new G.InjectionToken("@ngrx/store Reducer Factory"),J=new G.InjectionToken("@ngrx/store Internal Reducer Factory Provider"),oe=new G.InjectionToken("@ngrx/store Initial Reducers"),Ae=new G.InjectionToken("@ngrx/store Internal Initial Reducers"),Ne=new G.InjectionToken("@ngrx/store Store Features"),pe=new G.InjectionToken("@ngrx/store Internal Store Reducers"),xe=new G.InjectionToken("@ngrx/store Internal Feature Reducers"),ut=new G.InjectionToken("@ngrx/store Internal Feature Configs"),be=new G.InjectionToken("@ngrx/store Internal Store Features"),ce=new G.InjectionToken("@ngrx/store Internal Feature Reducers Token"),le=new G.InjectionToken("@ngrx/store Feature Reducers"),Ie=new G.InjectionToken("@ngrx/store User Provided Meta Reducers"),at=new G.InjectionToken("@ngrx/store Meta Reducers"),Tt=new G.InjectionToken("@ngrx/store Internal Resolved Meta Reducers"),Vt=new G.InjectionToken("@ngrx/store User Runtime Checks Config"),zt=new G.InjectionToken("@ngrx/store Internal User Runtime Checks Config"),un=new G.InjectionToken("@ngrx/store Internal Runtime Checks"),Xt=new G.InjectionToken("@ngrx/store Check if Action types are unique");function De(Ze){for(var lt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ct=Object.keys(Ze),wt={},Ft=0;Ft<ct.length;Ft++){var Rt=ct[Ft];"function"==typeof Ze[Rt]&&(wt[Rt]=Ze[Rt])}var Jt=Object.keys(wt);return function(Sn,Yn){Sn=void 0===Sn?lt:Sn;for(var In=!1,cr={},ai=0;ai<Jt.length;ai++){var Mr=Jt[ai],Ci=Sn[Mr],$r=(0,wt[Mr])(Ci,Yn);cr[Mr]=$r,In=In||$r!==Ci}return In?cr:Sn}}function ar(){for(var Ze=arguments.length,lt=new Array(Ze),ct=0;ct<Ze;ct++)lt[ct]=arguments[ct];return function(wt){if(0===lt.length)return wt;var Ft=lt[lt.length-1];return lt.slice(0,-1).reduceRight(function(Jt,vn){return vn(Jt)},Ft(wt))}}function Qt(Ze,lt){return Array.isArray(lt)&&lt.length>0&&(Ze=ar.apply(null,[].concat((0,y.Z)(lt),[Ze]))),function(ct,wt){var Ft=Ze(ct);return function(Rt,Jt){return Ft(Rt=void 0===Rt?wt:Rt,Jt)}}}new G.InjectionToken("@ngrx/store Root Store Provider"),new G.InjectionToken("@ngrx/store Feature State Provider");var ki=function(Ze){(0,O.Z)(ct,Ze);var lt=(0,j.Z)(ct);function ct(){return(0,f.Z)(this,ct),lt.apply(this,arguments)}return(0,g.Z)(ct)}(H.y),_t=function(Ze){(0,O.Z)(ct,Ze);var lt=(0,j.Z)(ct);function ct(){return(0,f.Z)(this,ct),lt.apply(this,arguments)}return(0,g.Z)(ct)}(Qe),Pt="@ngrx/store/update-reducers",Pn=function(){var Ze=function(lt){(0,O.Z)(wt,lt);var ct=(0,j.Z)(wt);function wt(Ft,Rt,Jt,vn){var Sn;return(0,f.Z)(this,wt),(Sn=ct.call(this,vn(Jt,Rt))).dispatcher=Ft,Sn.initialState=Rt,Sn.reducers=Jt,Sn.reducerFactory=vn,Sn}return(0,g.Z)(wt,[{key:"currentReducers",get:function(){return this.reducers}},{key:"addFeature",value:function(Rt){this.addFeatures([Rt])}},{key:"addFeatures",value:function(Rt){var Jt=Rt.reduce(function(vn,Sn){var Yn=Sn.reducers,In=Sn.reducerFactory,cr=Sn.metaReducers,ai=Sn.initialState,Mr=Sn.key,Jr="function"==typeof Yn?function ba(Ze){var lt=Array.isArray(Ze)&&Ze.length>0?ar.apply(void 0,(0,y.Z)(Ze)):function(ct){return ct};return function(ct,wt){return ct=lt(ct),function(Ft,Rt){return ct(Ft=void 0===Ft?wt:Ft,Rt)}}}(cr)(Yn,ai):Qt(In,cr)(Yn,ai);return vn[Mr]=Jr,vn},{});this.addReducers(Jt)}},{key:"removeFeature",value:function(Rt){this.removeFeatures([Rt])}},{key:"removeFeatures",value:function(Rt){this.removeReducers(Rt.map(function(Jt){return Jt.key}))}},{key:"addReducer",value:function(Rt,Jt){this.addReducers((0,v.Z)({},Rt,Jt))}},{key:"addReducers",value:function(Rt){this.reducers=(0,b.Z)((0,b.Z)({},this.reducers),Rt),this.updateReducers(Object.keys(Rt))}},{key:"removeReducer",value:function(Rt){this.removeReducers([Rt])}},{key:"removeReducers",value:function(Rt){var Jt=this;Rt.forEach(function(vn){Jt.reducers=function Br(Ze,lt){return Object.keys(Ze).filter(function(ct){return ct!==lt}).reduce(function(ct,wt){return Object.assign(ct,(0,v.Z)({},wt,Ze[wt]))},{})}(Jt.reducers,vn)}),this.updateReducers(Rt)}},{key:"updateReducers",value:function(Rt){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Pt,features:Rt})}},{key:"ngOnDestroy",value:function(){this.complete()}}]),wt}(z.X);return Ze.\u0275fac=function(ct){return new(ct||Ze)(G.\u0275\u0275inject(_t),G.\u0275\u0275inject(it),G.\u0275\u0275inject(oe),G.\u0275\u0275inject(de))},Ze.\u0275prov=G.\u0275\u0275defineInjectable({token:Ze,factory:Ze.\u0275fac}),Ze}(),zn=[Pn,{provide:ki,useExisting:Pn},{provide:_t,useExisting:Qe}],Cn=function(){var Ze=function(lt){(0,O.Z)(wt,lt);var ct=(0,j.Z)(wt);function wt(){return(0,f.Z)(this,wt),ct.apply(this,arguments)}return(0,g.Z)(wt,[{key:"ngOnDestroy",value:function(){this.complete()}}]),wt}(ee.x);return Ze.\u0275fac=function(){var lt;return function(wt){return(lt||(lt=G.\u0275\u0275getInheritedFactory(Ze)))(wt||Ze)}}(),Ze.\u0275prov=G.\u0275\u0275defineInjectable({token:Ze,factory:Ze.\u0275fac}),Ze}(),cn=[Cn],Fr=function(Ze){(0,O.Z)(ct,Ze);var lt=(0,j.Z)(ct);function ct(){return(0,f.Z)(this,ct),lt.apply(this,arguments)}return(0,g.Z)(ct)}(H.y),lr=function(){var Ze=function(lt){(0,O.Z)(wt,lt);var ct=(0,j.Z)(wt);function wt(Ft,Rt,Jt,vn){var Sn;(0,f.Z)(this,wt),Sn=ct.call(this,vn);var ai=Ft.pipe((0,W.Q)(U.N)).pipe((0,Y.M)(Rt)).pipe((0,ae.R)(wn,{state:vn}));return Sn.stateSubscription=ai.subscribe(function(Mr){var Ci=Mr.action;Sn.next(Mr.state),Jt.next(Ci)}),Sn.state=(0,x.toSignal)((0,r.Z)(Sn),{manualCleanup:!0,requireSync:!0}),Sn}return(0,g.Z)(wt,[{key:"ngOnDestroy",value:function(){this.stateSubscription.unsubscribe(),this.complete()}}]),wt}(z.X);return Ze.INIT=tt,Ze.\u0275fac=function(ct){return new(ct||Ze)(G.\u0275\u0275inject(Qe),G.\u0275\u0275inject(ki),G.\u0275\u0275inject(Cn),G.\u0275\u0275inject(it))},Ze.\u0275prov=G.\u0275\u0275defineInjectable({token:Ze,factory:Ze.\u0275fac}),Ze}();function wn(){var Ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:void 0},ct=(0,B.Z)(arguments.length>1?arguments[1]:void 0,2),wt=ct[0];return{state:(0,ct[1])(Ze.state,wt),action:wt}}var kr=[lr,{provide:Fr,useExisting:lr}],Qn=function(){var Ze=function(lt){(0,O.Z)(wt,lt);var ct=(0,j.Z)(wt);function wt(Ft,Rt,Jt){var vn;return(0,f.Z)(this,wt),(vn=ct.call(this)).actionsObserver=Rt,vn.reducerManager=Jt,vn.source=Ft,vn.state=Ft.state,vn}return(0,g.Z)(wt,[{key:"select",value:function(Rt){for(var Jt=arguments.length,vn=new Array(Jt>1?Jt-1:0),Sn=1;Sn<Jt;Sn++)vn[Sn-1]=arguments[Sn];return Xr.call.apply(Xr,[null,Rt].concat(vn))(this)}},{key:"selectSignal",value:function(Rt,Jt){var vn=this;return(0,G.computed)(function(){return Rt(vn.state())},{equal:Jt?.equal||function(Sn,Yn){return Sn===Yn}})}},{key:"lift",value:function(Rt){var Jt=new wt(this,this.actionsObserver,this.reducerManager);return Jt.operator=Rt,Jt}},{key:"dispatch",value:function(Rt){this.actionsObserver.next(Rt)}},{key:"next",value:function(Rt){this.actionsObserver.next(Rt)}},{key:"error",value:function(Rt){this.actionsObserver.error(Rt)}},{key:"complete",value:function(){this.actionsObserver.complete()}},{key:"addReducer",value:function(Rt,Jt){this.reducerManager.addReducer(Rt,Jt)}},{key:"removeReducer",value:function(Rt){this.reducerManager.removeReducer(Rt)}}]),wt}(H.y);return Ze.\u0275fac=function(ct){return new(ct||Ze)(G.\u0275\u0275inject(Fr),G.\u0275\u0275inject(Qe),G.\u0275\u0275inject(Pn))},Ze.\u0275prov=G.\u0275\u0275defineInjectable({token:Ze,factory:Ze.\u0275fac}),Ze}(),Vi=[Qn];function Xr(Ze,lt){for(var ct=arguments.length,wt=new Array(ct>2?ct-2:0),Ft=2;Ft<ct;Ft++)wt[Ft-2]=arguments[Ft];return function(Jt){var vn;if("string"==typeof Ze){var Sn=[lt].concat(wt).filter(Boolean);vn=Jt.pipe(_e.apply(void 0,[Ze].concat((0,y.Z)(Sn))))}else{if("function"!=typeof Ze)throw new TypeError("Unexpected type '".concat(typeof Ze,"' in select operator,")+" expected 'string' or 'function'");vn=Jt.pipe((0,ve.U)(function(Yn){return Ze(Yn,lt)}))}return vn.pipe((0,he.x)())}}var Lr="https://ngrx.io/guide/store/configuration/runtime-checks";function ci(Ze){return void 0===Ze}function Ba(Ze){return null===Ze}function zi(Ze){return Array.isArray(Ze)}function Hi(Ze){return"object"==typeof Ze&&null!==Ze}function Ti(Ze){return"function"==typeof Ze}var fr=!1;function wa(){return fr}function di(Ze,lt){return Ze===lt}function Sa(Ze){var Rt,lt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:di,ct=arguments.length>2&&void 0!==arguments[2]?arguments[2]:di,wt=null,Ft=null;return{memoized:function Yn(){if(void 0!==Rt)return Rt.result;if(!wt)return Ft=Ze.apply(null,arguments),wt=arguments,Ft;if(!function da(Ze,lt,ct){for(var wt=0;wt<Ze.length;wt++)if(!ct(Ze[wt],lt[wt]))return!0;return!1}(arguments,wt,lt))return Ft;var In=Ze.apply(null,arguments);return wt=arguments,ct(Ft,In)?Ft:(Ft=In,In)},reset:function Jt(){wt=null,Ft=null},setResult:function vn(){Rt={result:arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0}},clearResult:function Sn(){Rt=void 0}}}function To(){return function Io(Ze){var lt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stateFn:us};return function(){for(var ct=arguments.length,wt=new Array(ct),Ft=0;Ft<ct;Ft++)wt[Ft]=arguments[Ft];var Rt=wt;if(Array.isArray(Rt[0])){var vn=(0,K.Z)(Rt),Sn=vn[0],Yn=vn.slice(1);Rt=[].concat((0,y.Z)(Sn),(0,y.Z)(Yn))}else 1===Rt.length&&function $s(Ze){return!!Ze&&"object"==typeof Ze&&Object.values(Ze).every(function(lt){return"function"==typeof lt})}(Rt[0])&&(Rt=function Oo(Ze){var lt=Object.values(Ze),ct=Object.keys(Ze);return[].concat(lt,[function(){for(var Rt=arguments.length,Jt=new Array(Rt),vn=0;vn<Rt;vn++)Jt[vn]=arguments[vn];return ct.reduce(function(Sn,Yn,In){return(0,b.Z)((0,b.Z)({},Sn),{},(0,v.Z)({},Yn,Jt[In]))},{})}])}(Rt[0]));var In=Rt.slice(0,Rt.length-1),cr=Rt[Rt.length-1],ai=In.filter(function($r){return $r.release&&"function"==typeof $r.release}),Mr=Ze(function(){for(var $r=arguments.length,tr=new Array($r),Zr=0;Zr<$r;Zr++)tr[Zr]=arguments[Zr];return cr.apply(null,tr)}),Jr=Sa(function($r,tr){return lt.stateFn.apply(null,[$r,In,tr,Mr])});return Object.assign(Jr.memoized,{release:function Ci(){Jr.reset(),Mr.reset(),ai.forEach(function($r){return $r.release()})},projector:Mr.memoized,setResult:Jr.setResult,clearResult:Jr.clearResult})}}(Sa).apply(void 0,arguments)}function us(Ze,lt,ct,wt){if(void 0===ct){var Ft=lt.map(function(Jt){return Jt(Ze)});return wt.memoized.apply(null,Ft)}var Rt=lt.map(function(Jt){return Jt(Ze,ct)});return wt.memoized.apply(null,[].concat((0,y.Z)(Rt),[ct]))}function ls(Ze){return To(function(lt){var ct=lt[Ze];return!wa()&&(0,G.isDevMode)()&&!(Ze in lt)&&console.warn('@ngrx/store: The feature name "'.concat(Ze,'" does ')+"not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module "+"using StoreModule.forRoot('".concat(Ze,"', ...) or ")+"StoreModule.forFeature('".concat(Ze,"', ...).  If the default ")+"state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored."),ct},function(lt){return lt})}function k(Ze){return Ze instanceof G.InjectionToken?(0,G.inject)(Ze):Ze}function A(Ze,lt){return lt.map(function(ct,wt){if(Ze[wt]instanceof G.InjectionToken){var Ft=(0,G.inject)(Ze[wt]);return{key:ct.key,reducerFactory:Ft.reducerFactory?Ft.reducerFactory:De,metaReducers:Ft.metaReducers?Ft.metaReducers:[],initialState:Ft.initialState}}return ct})}function Z(Ze){return Ze.map(function(lt){return lt instanceof G.InjectionToken?(0,G.inject)(lt):lt})}function X(Ze){return"function"==typeof Ze?Ze():Ze}function ie(Ze,lt){return Ze.concat(lt)}function me(){if((0,G.inject)(Qn,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Ve(Ze){Object.freeze(Ze);var lt=Ti(Ze);return Object.getOwnPropertyNames(Ze).forEach(function(ct){if(!ct.startsWith("\u0275")&&function Qr(Ze,lt){return Object.prototype.hasOwnProperty.call(Ze,lt)}(Ze,ct)&&(!lt||"caller"!==ct&&"callee"!==ct&&"arguments"!==ct)){var wt=Ze[ct];(Hi(wt)||Ti(wt))&&!Object.isFrozen(wt)&&Ve(wt)}}),Ze}function Be(Ze){var lt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(ci(Ze)||Ba(Ze))&&0===lt.length?{path:["root"],value:Ze}:Object.keys(Ze).reduce(function(wt,Ft){if(wt)return wt;var Rt=Ze[Ft];return function hi(Ze){return Ti(Ze)&&Ze.hasOwnProperty("\u0275cmp")}(Rt)?wt:!(ci(Rt)||Ba(Rt)||function Ri(Ze){return"number"==typeof Ze}(Rt)||function Gi(Ze){return"boolean"==typeof Ze}(Rt)||function Za(Ze){return"string"==typeof Ze}(Rt)||zi(Rt))&&(function Di(Ze){if(!function Ca(Ze){return Hi(Ze)&&!zi(Ze)}(Ze))return!1;var lt=Object.getPrototypeOf(Ze);return lt===Object.prototype||null===lt}(Rt)?Be(Rt,[].concat((0,y.Z)(lt),[Ft])):{path:[].concat((0,y.Z)(lt),[Ft]),value:Rt})},!1)}function $e(Ze,lt){if(!1!==Ze){var ct=Ze.path.join("."),wt=new Error("Detected unserializable ".concat(lt,' at "').concat(ct,'". ').concat(Lr,"#strict").concat(lt,"serializability"));throw wt.value=Ze.value,wt.unserializablePath=ct,wt}}function We(Ze){return(0,G.isDevMode)()?(0,b.Z)({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},Ze):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function nt(Ze){var lt=Ze.strictActionSerializability,ct=Ze.strictStateSerializability;return function(wt){return lt||ct?function Me(Ze,lt){return function(ct,wt){lt.action(wt)&&$e(Be(wt),"action");var Rt=Ze(ct,wt);return lt.state()&&$e(Be(Rt),"state"),Rt}}(wt,{action:function(Rt){return lt&&!gt(Rt)},state:function(){return ct}}):wt}}function d(Ze){var lt=Ze.strictActionImmutability,ct=Ze.strictStateImmutability;return function(wt){return lt||ct?function Pe(Ze,lt){return function(ct,wt){var Ft=lt.action(wt)?Ve(wt):wt,Rt=Ze(ct,Ft);return lt.state()?Ve(Rt):Rt}}(wt,{action:function(Rt){return lt&&!gt(Rt)},state:function(){return ct}}):wt}}function gt(Ze){return Ze.type.startsWith("@ngrx")}function Et(Ze){var lt=Ze.strictActionWithinNgZone;return function(ct){return lt?function Ge(Ze,lt){return function(ct,wt){if(lt.action(wt)&&!G.NgZone.isInAngularZone())throw new Error("Action '".concat(wt.type,"' running outside NgZone. ").concat(Lr,"#strictactionwithinngzone"));return Ze(ct,wt)}}(ct,{action:function(Ft){return lt&&!gt(Ft)}}):ct}}function Ee(Ze){return[{provide:zt,useValue:Ze},{provide:Vt,useFactory:Ke,deps:[zt]},{provide:un,deps:[Vt],useFactory:We},{provide:at,multi:!0,deps:[un],useFactory:d},{provide:at,multi:!0,deps:[un],useFactory:nt},{provide:at,multi:!0,deps:[un],useFactory:Et}]}function ze(){return[{provide:Xt,multi:!0,deps:[un],useFactory:Xe}]}function Ke(Ze){return Ze}function Xe(Ze){if(Ze.strictActionTypeUniqueness){var lt=Object.entries(R).filter(function(ct){return(0,B.Z)(ct,2)[1]>1}).map(function(ct){return(0,B.Z)(ct,1)[0]});if(lt.length)throw new Error("Action types are registered more than once, ".concat(lt.map(function(ct){return'"'.concat(ct,'"')}).join(", "),". ").concat(Lr,"#strictactiontypeuniqueness"))}}function At(){var Ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},lt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[{provide:et,useFactory:me},{provide:je,useValue:lt.initialState},{provide:it,useFactory:X,deps:[je]},{provide:Ae,useValue:Ze},{provide:pe,useExisting:Ze instanceof G.InjectionToken?Ze:Ae},{provide:oe,deps:[Ae,[new G.Inject(pe)]],useFactory:k},{provide:Ie,useValue:lt.metaReducers?lt.metaReducers:[]},{provide:Tt,deps:[at,Ie],useFactory:ie},{provide:J,useValue:lt.reducerFactory?lt.reducerFactory:De},{provide:de,deps:[J,Tt],useFactory:Qt},vt,zn,cn,kr,Vi,Ee(lt.runtimeChecks),ze()]}function or(Ze,lt){var ct=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return[{provide:ut,multi:!0,useValue:Ze instanceof Object?{}:ct},{provide:Ne,multi:!0,useValue:{key:Ze instanceof Object?Ze.name:Ze,reducerFactory:ct instanceof G.InjectionToken||!ct.reducerFactory?De:ct.reducerFactory,metaReducers:ct instanceof G.InjectionToken||!ct.metaReducers?[]:ct.metaReducers,initialState:ct instanceof G.InjectionToken||!ct.initialState?void 0:ct.initialState}},{provide:be,deps:[ut,Ne],useFactory:A},{provide:xe,multi:!0,useValue:Ze instanceof Object?Ze.reducer:lt},{provide:ce,multi:!0,useExisting:lt instanceof G.InjectionToken?lt:xe},{provide:le,multi:!0,deps:[xe,[new G.Inject(ce)]],useFactory:Z},ze()]}var hr=function(){var Ze=(0,g.Z)(function lt(ct,wt,Ft,Rt,Jt,vn){(0,f.Z)(this,lt)});return Ze.\u0275fac=function(ct){return new(ct||Ze)(G.\u0275\u0275inject(Qe),G.\u0275\u0275inject(ki),G.\u0275\u0275inject(Cn),G.\u0275\u0275inject(Qn),G.\u0275\u0275inject(et,8),G.\u0275\u0275inject(Xt,8))},Ze.\u0275mod=G.\u0275\u0275defineNgModule({type:Ze}),Ze.\u0275inj=G.\u0275\u0275defineInjector({}),Ze}(),gr=function(){var Ze=function(){function lt(ct,wt,Ft,Rt,Jt){(0,f.Z)(this,lt),this.features=ct,this.featureReducers=wt,this.reducerManager=Ft;var vn=ct.map(function(Sn,Yn){var cr=wt.shift()[Yn];return(0,b.Z)((0,b.Z)({},Sn),{},{reducers:cr,initialState:X(Sn.initialState)})});Ft.addFeatures(vn)}return(0,g.Z)(lt,[{key:"ngOnDestroy",value:function(){this.reducerManager.removeFeatures(this.features)}}]),lt}();return Ze.\u0275fac=function(ct){return new(ct||Ze)(G.\u0275\u0275inject(be),G.\u0275\u0275inject(le),G.\u0275\u0275inject(Pn),G.\u0275\u0275inject(hr),G.\u0275\u0275inject(Xt,8))},Ze.\u0275mod=G.\u0275\u0275defineNgModule({type:Ze}),Ze.\u0275inj=G.\u0275\u0275defineInjector({}),Ze}(),ii=function(){var Ze=function(){function lt(){(0,f.Z)(this,lt)}return(0,g.Z)(lt,null,[{key:"forRoot",value:function(wt,Ft){return{ngModule:hr,providers:(0,y.Z)(At(wt,Ft))}}},{key:"forFeature",value:function(wt,Ft){return{ngModule:gr,providers:(0,y.Z)(or(wt,Ft,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))}}}]),lt}();return Ze.\u0275fac=function(ct){return new(ct||Ze)},Ze.\u0275mod=G.\u0275\u0275defineNgModule({type:Ze}),Ze.\u0275inj=G.\u0275\u0275defineInjector({}),Ze}();function Yr(){for(var Ze=arguments.length,lt=new Array(Ze),ct=0;ct<Ze;ct++)lt[ct]=arguments[ct];return{reducer:lt.pop(),types:lt.map(function(Rt){return Rt.type})}}function jr(Ze){for(var lt=new Map,ct=arguments.length,wt=new Array(ct>1?ct-1:0),Ft=1;Ft<ct;Ft++)wt[Ft-1]=arguments[Ft];for(var Rt=function(){var cr,Yn=vn[Jt],In=(0,M.Z)(Yn.types);try{var ai=function(){var Jr=cr.value,Ci=lt.get(Jr);lt.set(Jr,Ci?function(Zr,Ea){return Yn.reducer(Ci(Zr,Ea),Ea)}:Yn.reducer)};for(In.s();!(cr=In.n()).done;)ai()}catch(Mr){In.e(Mr)}finally{In.f()}},Jt=0,vn=wt;Jt<vn.length;Jt++)Rt();return function(){var Sn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,Yn=arguments.length>1?arguments[1]:void 0,In=lt.get(Yn.type);return In?In(Sn,Yn):Sn}}},77797:(fe,V,S)=>{S.d(V,{Z:()=>K});var M=S(51299);function K(B,r,y){return(r=(0,M.Z)(r))in B?Object.defineProperty(B,r,{value:y,enumerable:!0,configurable:!0,writable:!0}):B[r]=y,B}},35603:(fe,V,S)=>{S.d(V,{Z:()=>B});var M=S(77797);function K(r,y){var f=Object.keys(r);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(r);y&&(g=g.filter(function(_){return Object.getOwnPropertyDescriptor(r,_).enumerable})),f.push.apply(f,g)}return f}function B(r){for(var y=1;y<arguments.length;y++){var f=null!=arguments[y]?arguments[y]:{};y%2?K(Object(f),!0).forEach(function(g){(0,M.Z)(r,g,f[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(f)):K(Object(f)).forEach(function(g){Object.defineProperty(r,g,Object.getOwnPropertyDescriptor(f,g))})}return r}}}]);
//# sourceMappingURL=8013.3b1c44aba4739b5f.js.map